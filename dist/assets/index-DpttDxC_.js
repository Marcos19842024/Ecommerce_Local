var ex=t=>{throw TypeError(t)};var Ep=(t,e,r)=>e.has(t)||ex("Cannot "+r);var k=(t,e,r)=>(Ep(t,e,"read from private field"),r?r.call(t):e.get(t)),ae=(t,e,r)=>e.has(t)?ex("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),q=(t,e,r,n)=>(Ep(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),ye=(t,e,r)=>(Ep(t,e,"access private method"),r);var xd=(t,e,r,n)=>({set _(s){q(t,e,s,r)},get _(){return k(t,e,n)}});function uS(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var un=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function t0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function PN(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var dS={exports:{}},Mh={},fS={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bu=Symbol.for("react.element"),MN=Symbol.for("react.portal"),AN=Symbol.for("react.fragment"),IN=Symbol.for("react.strict_mode"),RN=Symbol.for("react.profiler"),DN=Symbol.for("react.provider"),LN=Symbol.for("react.context"),FN=Symbol.for("react.forward_ref"),$N=Symbol.for("react.suspense"),zN=Symbol.for("react.memo"),BN=Symbol.for("react.lazy"),tx=Symbol.iterator;function VN(t){return t===null||typeof t!="object"?null:(t=tx&&t[tx]||t["@@iterator"],typeof t=="function"?t:null)}var hS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pS=Object.assign,mS={};function Tl(t,e,r){this.props=t,this.context=e,this.refs=mS,this.updater=r||hS}Tl.prototype.isReactComponent={};Tl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Tl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function gS(){}gS.prototype=Tl.prototype;function r0(t,e,r){this.props=t,this.context=e,this.refs=mS,this.updater=r||hS}var n0=r0.prototype=new gS;n0.constructor=r0;pS(n0,Tl.prototype);n0.isPureReactComponent=!0;var rx=Array.isArray,yS=Object.prototype.hasOwnProperty,s0={current:null},vS={key:!0,ref:!0,__self:!0,__source:!0};function xS(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)yS.call(e,n)&&!vS.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Bu,type:t,key:i,ref:o,props:s,_owner:s0.current}}function UN(t,e){return{$$typeof:Bu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function i0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Bu}function HN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var nx=/\/+/g;function Cp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?HN(""+t.key):e.toString(36)}function ef(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Bu:case MN:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+Cp(o,0):n,rx(s)?(r="",t!=null&&(r=t.replace(nx,"$&/")+"/"),ef(s,e,r,"",function(c){return c})):s!=null&&(i0(s)&&(s=UN(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(nx,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",rx(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+Cp(i,a);o+=ef(i,e,r,l,s)}else if(l=VN(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+Cp(i,a++),o+=ef(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function bd(t,e,r){if(t==null)return t;var n=[],s=0;return ef(t,n,"","",function(i){return e.call(r,i,s++)}),n}function qN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vr={current:null},tf={transition:null},WN={ReactCurrentDispatcher:vr,ReactCurrentBatchConfig:tf,ReactCurrentOwner:s0};function bS(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:bd,forEach:function(t,e,r){bd(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return bd(t,function(){e++}),e},toArray:function(t){return bd(t,function(e){return e})||[]},only:function(t){if(!i0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pe.Component=Tl;Pe.Fragment=AN;Pe.Profiler=RN;Pe.PureComponent=r0;Pe.StrictMode=IN;Pe.Suspense=$N;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WN;Pe.act=bS;Pe.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=pS({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=s0.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)yS.call(e,l)&&!vS.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Bu,type:t.type,key:s,ref:i,props:n,_owner:o}};Pe.createContext=function(t){return t={$$typeof:LN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:DN,_context:t},t.Consumer=t};Pe.createElement=xS;Pe.createFactory=function(t){var e=xS.bind(null,t);return e.type=t,e};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(t){return{$$typeof:FN,render:t}};Pe.isValidElement=i0;Pe.lazy=function(t){return{$$typeof:BN,_payload:{_status:-1,_result:t},_init:qN}};Pe.memo=function(t,e){return{$$typeof:zN,type:t,compare:e===void 0?null:e}};Pe.startTransition=function(t){var e=tf.transition;tf.transition={};try{t()}finally{tf.transition=e}};Pe.unstable_act=bS;Pe.useCallback=function(t,e){return vr.current.useCallback(t,e)};Pe.useContext=function(t){return vr.current.useContext(t)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(t){return vr.current.useDeferredValue(t)};Pe.useEffect=function(t,e){return vr.current.useEffect(t,e)};Pe.useId=function(){return vr.current.useId()};Pe.useImperativeHandle=function(t,e,r){return vr.current.useImperativeHandle(t,e,r)};Pe.useInsertionEffect=function(t,e){return vr.current.useInsertionEffect(t,e)};Pe.useLayoutEffect=function(t,e){return vr.current.useLayoutEffect(t,e)};Pe.useMemo=function(t,e){return vr.current.useMemo(t,e)};Pe.useReducer=function(t,e,r){return vr.current.useReducer(t,e,r)};Pe.useRef=function(t){return vr.current.useRef(t)};Pe.useState=function(t){return vr.current.useState(t)};Pe.useSyncExternalStore=function(t,e,r){return vr.current.useSyncExternalStore(t,e,r)};Pe.useTransition=function(){return vr.current.useTransition()};Pe.version="18.3.1";fS.exports=Pe;var C=fS.exports;const de=t0(C),KN=uS({__proto__:null,default:de},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JN=C,QN=Symbol.for("react.element"),ZN=Symbol.for("react.fragment"),GN=Object.prototype.hasOwnProperty,YN=JN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,XN={key:!0,ref:!0,__self:!0,__source:!0};function wS(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)GN.call(e,n)&&!XN.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:QN,type:t,key:i,ref:o,props:s,_owner:YN.current}}Mh.Fragment=ZN;Mh.jsx=wS;Mh.jsxs=wS;dS.exports=Mh;var f=dS.exports,SS={exports:{}},Jr={},kS={exports:{}},_S={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,K){var se=V.length;V.push(K);e:for(;0<se;){var Te=se-1>>>1,Ne=V[Te];if(0<s(Ne,K))V[Te]=K,V[se]=Ne,se=Te;else break e}}function r(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var K=V[0],se=V.pop();if(se!==K){V[0]=se;e:for(var Te=0,Ne=V.length,vt=Ne>>>1;Te<vt;){var St=2*(Te+1)-1,ar=V[St],ct=St+1,At=V[ct];if(0>s(ar,se))ct<Ne&&0>s(At,ar)?(V[Te]=At,V[ct]=se,Te=ct):(V[Te]=ar,V[St]=se,Te=St);else if(ct<Ne&&0>s(At,se))V[Te]=At,V[ct]=se,Te=ct;else break e}}return K}function s(V,K){var se=V.sortIndex-K.sortIndex;return se!==0?se:V.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,m=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(V){for(var K=r(c);K!==null;){if(K.callback===null)n(c);else if(K.startTime<=V)n(c),K.sortIndex=K.expirationTime,e(l,K);else break;K=r(c)}}function S(V){if(y=!1,b(V),!m)if(r(l)!==null)m=!0,we(j);else{var K=r(c);K!==null&&$e(S,K.startTime-V)}}function j(V,K){m=!1,y&&(y=!1,v(w),w=-1),p=!0;var se=h;try{for(b(K),d=r(l);d!==null&&(!(d.expirationTime>K)||V&&!R());){var Te=d.callback;if(typeof Te=="function"){d.callback=null,h=d.priorityLevel;var Ne=Te(d.expirationTime<=K);K=t.unstable_now(),typeof Ne=="function"?d.callback=Ne:d===r(l)&&n(l),b(K)}else n(l);d=r(l)}if(d!==null)var vt=!0;else{var St=r(c);St!==null&&$e(S,St.startTime-K),vt=!1}return vt}finally{d=null,h=se,p=!1}}var N=!1,T=null,w=-1,P=5,L=-1;function R(){return!(t.unstable_now()-L<P)}function H(){if(T!==null){var V=t.unstable_now();L=V;var K=!0;try{K=T(!0,V)}finally{K?J():(N=!1,T=null)}}else N=!1}var J;if(typeof g=="function")J=function(){g(H)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,ve=le.port2;le.port1.onmessage=H,J=function(){ve.postMessage(null)}}else J=function(){x(H,0)};function we(V){T=V,N||(N=!0,J())}function $e(V,K){w=x(function(){V(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,we(j))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var K=3;break;default:K=h}var se=h;h=K;try{return V()}finally{h=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,K){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var se=h;h=V;try{return K()}finally{h=se}},t.unstable_scheduleCallback=function(V,K,se){var Te=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Te+se:Te):se=Te,V){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=se+Ne,V={id:u++,callback:K,priorityLevel:V,startTime:se,expirationTime:Ne,sortIndex:-1},se>Te?(V.sortIndex=se,e(c,V),r(l)===null&&V===r(c)&&(y?(v(w),w=-1):y=!0,$e(S,se-Te))):(V.sortIndex=Ne,e(l,V),m||p||(m=!0,we(j))),V},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(V){var K=h;return function(){var se=h;h=K;try{return V.apply(this,arguments)}finally{h=se}}}})(_S);kS.exports=_S;var eO=kS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tO=C,qr=eO;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ES=new Set,Fc={};function Wo(t,e){al(t,e),al(t+"Capture",e)}function al(t,e){for(Fc[t]=e,t=0;t<e.length;t++)ES.add(e[t])}var Ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zm=Object.prototype.hasOwnProperty,rO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sx={},ix={};function nO(t){return Zm.call(ix,t)?!0:Zm.call(sx,t)?!1:rO.test(t)?ix[t]=!0:(sx[t]=!0,!1)}function sO(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function iO(t,e,r,n){if(e===null||typeof e>"u"||sO(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xr(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Qt[t]=new xr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Qt[e]=new xr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Qt[t]=new xr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Qt[t]=new xr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Qt[t]=new xr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Qt[t]=new xr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Qt[t]=new xr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Qt[t]=new xr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Qt[t]=new xr(t,5,!1,t.toLowerCase(),null,!1,!1)});var o0=/[\-:]([a-z])/g;function a0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(o0,a0);Qt[e]=new xr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(o0,a0);Qt[e]=new xr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(o0,a0);Qt[e]=new xr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Qt[t]=new xr(t,1,!1,t.toLowerCase(),null,!1,!1)});Qt.xlinkHref=new xr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Qt[t]=new xr(t,1,!1,t.toLowerCase(),null,!0,!0)});function l0(t,e,r,n){var s=Qt.hasOwnProperty(e)?Qt[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(iO(e,r,s,n)&&(r=null),n||s===null?nO(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Fs=tO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wd=Symbol.for("react.element"),ga=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),c0=Symbol.for("react.strict_mode"),Gm=Symbol.for("react.profiler"),CS=Symbol.for("react.provider"),NS=Symbol.for("react.context"),u0=Symbol.for("react.forward_ref"),Ym=Symbol.for("react.suspense"),Xm=Symbol.for("react.suspense_list"),d0=Symbol.for("react.memo"),Gs=Symbol.for("react.lazy"),OS=Symbol.for("react.offscreen"),ox=Symbol.iterator;function ql(t){return t===null||typeof t!="object"?null:(t=ox&&t[ox]||t["@@iterator"],typeof t=="function"?t:null)}var lt=Object.assign,Np;function cc(t){if(Np===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Np=e&&e[1]||""}return`
`+Np+t}var Op=!1;function jp(t,e){if(!t||Op)return"";Op=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Op=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?cc(t):""}function oO(t){switch(t.tag){case 5:return cc(t.type);case 16:return cc("Lazy");case 13:return cc("Suspense");case 19:return cc("SuspenseList");case 0:case 2:case 15:return t=jp(t.type,!1),t;case 11:return t=jp(t.type.render,!1),t;case 1:return t=jp(t.type,!0),t;default:return""}}function eg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ya:return"Fragment";case ga:return"Portal";case Gm:return"Profiler";case c0:return"StrictMode";case Ym:return"Suspense";case Xm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case NS:return(t.displayName||"Context")+".Consumer";case CS:return(t._context.displayName||"Context")+".Provider";case u0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case d0:return e=t.displayName||null,e!==null?e:eg(t.type)||"Memo";case Gs:e=t._payload,t=t._init;try{return eg(t(e))}catch{}}return null}function aO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return eg(e);case 8:return e===c0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ii(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lO(t){var e=jS(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Sd(t){t._valueTracker||(t._valueTracker=lO(t))}function TS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=jS(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Ef(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function tg(t,e){var r=e.checked;return lt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function ax(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Ii(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function PS(t,e){e=e.checked,e!=null&&l0(t,"checked",e,!1)}function rg(t,e){PS(t,e);var r=Ii(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ng(t,e.type,r):e.hasOwnProperty("defaultValue")&&ng(t,e.type,Ii(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function lx(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function ng(t,e,r){(e!=="number"||Ef(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var uc=Array.isArray;function Aa(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Ii(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function sg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return lt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function cx(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error($(92));if(uc(r)){if(1<r.length)throw Error($(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Ii(r)}}function MS(t,e){var r=Ii(e.value),n=Ii(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function ux(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function AS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ig(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?AS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var kd,IS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(kd=kd||document.createElement("div"),kd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=kd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $c(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var wc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cO=["Webkit","ms","Moz","O"];Object.keys(wc).forEach(function(t){cO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wc[e]=wc[t]})});function RS(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||wc.hasOwnProperty(t)&&wc[t]?(""+e).trim():e+"px"}function DS(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=RS(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var uO=lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function og(t,e){if(e){if(uO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function ag(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lg=null;function f0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cg=null,Ia=null,Ra=null;function dx(t){if(t=Hu(t)){if(typeof cg!="function")throw Error($(280));var e=t.stateNode;e&&(e=Lh(e),cg(t.stateNode,t.type,e))}}function LS(t){Ia?Ra?Ra.push(t):Ra=[t]:Ia=t}function FS(){if(Ia){var t=Ia,e=Ra;if(Ra=Ia=null,dx(t),e)for(t=0;t<e.length;t++)dx(e[t])}}function $S(t,e){return t(e)}function zS(){}var Tp=!1;function BS(t,e,r){if(Tp)return t(e,r);Tp=!0;try{return $S(t,e,r)}finally{Tp=!1,(Ia!==null||Ra!==null)&&(zS(),FS())}}function zc(t,e){var r=t.stateNode;if(r===null)return null;var n=Lh(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error($(231,e,typeof r));return r}var ug=!1;if(Ts)try{var Wl={};Object.defineProperty(Wl,"passive",{get:function(){ug=!0}}),window.addEventListener("test",Wl,Wl),window.removeEventListener("test",Wl,Wl)}catch{ug=!1}function dO(t,e,r,n,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var Sc=!1,Cf=null,Nf=!1,dg=null,fO={onError:function(t){Sc=!0,Cf=t}};function hO(t,e,r,n,s,i,o,a,l){Sc=!1,Cf=null,dO.apply(fO,arguments)}function pO(t,e,r,n,s,i,o,a,l){if(hO.apply(this,arguments),Sc){if(Sc){var c=Cf;Sc=!1,Cf=null}else throw Error($(198));Nf||(Nf=!0,dg=c)}}function Ko(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function VS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fx(t){if(Ko(t)!==t)throw Error($(188))}function mO(t){var e=t.alternate;if(!e){if(e=Ko(t),e===null)throw Error($(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return fx(s),t;if(i===n)return fx(s),e;i=i.sibling}throw Error($(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error($(189))}}if(r.alternate!==n)throw Error($(190))}if(r.tag!==3)throw Error($(188));return r.stateNode.current===r?t:e}function US(t){return t=mO(t),t!==null?HS(t):null}function HS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=HS(t);if(e!==null)return e;t=t.sibling}return null}var qS=qr.unstable_scheduleCallback,hx=qr.unstable_cancelCallback,gO=qr.unstable_shouldYield,yO=qr.unstable_requestPaint,bt=qr.unstable_now,vO=qr.unstable_getCurrentPriorityLevel,h0=qr.unstable_ImmediatePriority,WS=qr.unstable_UserBlockingPriority,Of=qr.unstable_NormalPriority,xO=qr.unstable_LowPriority,KS=qr.unstable_IdlePriority,Ah=null,Yn=null;function bO(t){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(Ah,t,void 0,(t.current.flags&128)===128)}catch{}}var Mn=Math.clz32?Math.clz32:kO,wO=Math.log,SO=Math.LN2;function kO(t){return t>>>=0,t===0?32:31-(wO(t)/SO|0)|0}var _d=64,Ed=4194304;function dc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jf(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=dc(a):(i&=o,i!==0&&(n=dc(i)))}else o=r&~s,o!==0?n=dc(o):i!==0&&(n=dc(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Mn(e),s=1<<r,n|=t[r],e&=~s;return n}function _O(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function EO(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Mn(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=_O(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function fg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function JS(){var t=_d;return _d<<=1,!(_d&4194240)&&(_d=64),t}function Pp(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Vu(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Mn(e),t[e]=r}function CO(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Mn(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function p0(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Mn(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var qe=0;function QS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ZS,m0,GS,YS,XS,hg=!1,Cd=[],ki=null,_i=null,Ei=null,Bc=new Map,Vc=new Map,ri=[],NO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function px(t,e){switch(t){case"focusin":case"focusout":ki=null;break;case"dragenter":case"dragleave":_i=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":Bc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vc.delete(e.pointerId)}}function Kl(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Hu(e),e!==null&&m0(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function OO(t,e,r,n,s){switch(e){case"focusin":return ki=Kl(ki,t,e,r,n,s),!0;case"dragenter":return _i=Kl(_i,t,e,r,n,s),!0;case"mouseover":return Ei=Kl(Ei,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Bc.set(i,Kl(Bc.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Vc.set(i,Kl(Vc.get(i)||null,t,e,r,n,s)),!0}return!1}function ek(t){var e=io(t.target);if(e!==null){var r=Ko(e);if(r!==null){if(e=r.tag,e===13){if(e=VS(r),e!==null){t.blockedOn=e,XS(t.priority,function(){GS(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=pg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);lg=n,r.target.dispatchEvent(n),lg=null}else return e=Hu(r),e!==null&&m0(e),t.blockedOn=r,!1;e.shift()}return!0}function mx(t,e,r){rf(t)&&r.delete(e)}function jO(){hg=!1,ki!==null&&rf(ki)&&(ki=null),_i!==null&&rf(_i)&&(_i=null),Ei!==null&&rf(Ei)&&(Ei=null),Bc.forEach(mx),Vc.forEach(mx)}function Jl(t,e){t.blockedOn===e&&(t.blockedOn=null,hg||(hg=!0,qr.unstable_scheduleCallback(qr.unstable_NormalPriority,jO)))}function Uc(t){function e(s){return Jl(s,t)}if(0<Cd.length){Jl(Cd[0],t);for(var r=1;r<Cd.length;r++){var n=Cd[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ki!==null&&Jl(ki,t),_i!==null&&Jl(_i,t),Ei!==null&&Jl(Ei,t),Bc.forEach(e),Vc.forEach(e),r=0;r<ri.length;r++)n=ri[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<ri.length&&(r=ri[0],r.blockedOn===null);)ek(r),r.blockedOn===null&&ri.shift()}var Da=Fs.ReactCurrentBatchConfig,Tf=!0;function TO(t,e,r,n){var s=qe,i=Da.transition;Da.transition=null;try{qe=1,g0(t,e,r,n)}finally{qe=s,Da.transition=i}}function PO(t,e,r,n){var s=qe,i=Da.transition;Da.transition=null;try{qe=4,g0(t,e,r,n)}finally{qe=s,Da.transition=i}}function g0(t,e,r,n){if(Tf){var s=pg(t,e,r,n);if(s===null)Bp(t,e,n,Pf,r),px(t,n);else if(OO(s,t,e,r,n))n.stopPropagation();else if(px(t,n),e&4&&-1<NO.indexOf(t)){for(;s!==null;){var i=Hu(s);if(i!==null&&ZS(i),i=pg(t,e,r,n),i===null&&Bp(t,e,n,Pf,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Bp(t,e,n,null,r)}}var Pf=null;function pg(t,e,r,n){if(Pf=null,t=f0(n),t=io(t),t!==null)if(e=Ko(t),e===null)t=null;else if(r=e.tag,r===13){if(t=VS(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Pf=t,null}function tk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vO()){case h0:return 1;case WS:return 4;case Of:case xO:return 16;case KS:return 536870912;default:return 16}default:return 16}}var yi=null,y0=null,nf=null;function rk(){if(nf)return nf;var t,e=y0,r=e.length,n,s="value"in yi?yi.value:yi.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return nf=s.slice(t,1<n?1-n:void 0)}function sf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Nd(){return!0}function gx(){return!1}function Qr(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Nd:gx,this.isPropagationStopped=gx,this}return lt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Nd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Nd)},persist:function(){},isPersistent:Nd}),e}var Pl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},v0=Qr(Pl),Uu=lt({},Pl,{view:0,detail:0}),MO=Qr(Uu),Mp,Ap,Ql,Ih=lt({},Uu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:x0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ql&&(Ql&&t.type==="mousemove"?(Mp=t.screenX-Ql.screenX,Ap=t.screenY-Ql.screenY):Ap=Mp=0,Ql=t),Mp)},movementY:function(t){return"movementY"in t?t.movementY:Ap}}),yx=Qr(Ih),AO=lt({},Ih,{dataTransfer:0}),IO=Qr(AO),RO=lt({},Uu,{relatedTarget:0}),Ip=Qr(RO),DO=lt({},Pl,{animationName:0,elapsedTime:0,pseudoElement:0}),LO=Qr(DO),FO=lt({},Pl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$O=Qr(FO),zO=lt({},Pl,{data:0}),vx=Qr(zO),BO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=UO[t])?!!e[t]:!1}function x0(){return HO}var qO=lt({},Uu,{key:function(t){if(t.key){var e=BO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=sf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?VO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:x0,charCode:function(t){return t.type==="keypress"?sf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),WO=Qr(qO),KO=lt({},Ih,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xx=Qr(KO),JO=lt({},Uu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:x0}),QO=Qr(JO),ZO=lt({},Pl,{propertyName:0,elapsedTime:0,pseudoElement:0}),GO=Qr(ZO),YO=lt({},Ih,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),XO=Qr(YO),ej=[9,13,27,32],b0=Ts&&"CompositionEvent"in window,kc=null;Ts&&"documentMode"in document&&(kc=document.documentMode);var tj=Ts&&"TextEvent"in window&&!kc,nk=Ts&&(!b0||kc&&8<kc&&11>=kc),bx=" ",wx=!1;function sk(t,e){switch(t){case"keyup":return ej.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ik(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var va=!1;function rj(t,e){switch(t){case"compositionend":return ik(e);case"keypress":return e.which!==32?null:(wx=!0,bx);case"textInput":return t=e.data,t===bx&&wx?null:t;default:return null}}function nj(t,e){if(va)return t==="compositionend"||!b0&&sk(t,e)?(t=rk(),nf=y0=yi=null,va=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return nk&&e.locale!=="ko"?null:e.data;default:return null}}var sj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!sj[t.type]:e==="textarea"}function ok(t,e,r,n){LS(n),e=Mf(e,"onChange"),0<e.length&&(r=new v0("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var _c=null,Hc=null;function ij(t){yk(t,0)}function Rh(t){var e=wa(t);if(TS(e))return t}function oj(t,e){if(t==="change")return e}var ak=!1;if(Ts){var Rp;if(Ts){var Dp="oninput"in document;if(!Dp){var kx=document.createElement("div");kx.setAttribute("oninput","return;"),Dp=typeof kx.oninput=="function"}Rp=Dp}else Rp=!1;ak=Rp&&(!document.documentMode||9<document.documentMode)}function _x(){_c&&(_c.detachEvent("onpropertychange",lk),Hc=_c=null)}function lk(t){if(t.propertyName==="value"&&Rh(Hc)){var e=[];ok(e,Hc,t,f0(t)),BS(ij,e)}}function aj(t,e,r){t==="focusin"?(_x(),_c=e,Hc=r,_c.attachEvent("onpropertychange",lk)):t==="focusout"&&_x()}function lj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Rh(Hc)}function cj(t,e){if(t==="click")return Rh(e)}function uj(t,e){if(t==="input"||t==="change")return Rh(e)}function dj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dn=typeof Object.is=="function"?Object.is:dj;function qc(t,e){if(Dn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Zm.call(e,s)||!Dn(t[s],e[s]))return!1}return!0}function Ex(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Cx(t,e){var r=Ex(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ex(r)}}function ck(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ck(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function uk(){for(var t=window,e=Ef();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Ef(t.document)}return e}function w0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function fj(t){var e=uk(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&ck(r.ownerDocument.documentElement,r)){if(n!==null&&w0(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Cx(r,i);var o=Cx(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var hj=Ts&&"documentMode"in document&&11>=document.documentMode,xa=null,mg=null,Ec=null,gg=!1;function Nx(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;gg||xa==null||xa!==Ef(n)||(n=xa,"selectionStart"in n&&w0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ec&&qc(Ec,n)||(Ec=n,n=Mf(mg,"onSelect"),0<n.length&&(e=new v0("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=xa)))}function Od(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ba={animationend:Od("Animation","AnimationEnd"),animationiteration:Od("Animation","AnimationIteration"),animationstart:Od("Animation","AnimationStart"),transitionend:Od("Transition","TransitionEnd")},Lp={},dk={};Ts&&(dk=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function Dh(t){if(Lp[t])return Lp[t];if(!ba[t])return t;var e=ba[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in dk)return Lp[t]=e[r];return t}var fk=Dh("animationend"),hk=Dh("animationiteration"),pk=Dh("animationstart"),mk=Dh("transitionend"),gk=new Map,Ox="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bi(t,e){gk.set(t,e),Wo(e,[t])}for(var Fp=0;Fp<Ox.length;Fp++){var $p=Ox[Fp],pj=$p.toLowerCase(),mj=$p[0].toUpperCase()+$p.slice(1);Bi(pj,"on"+mj)}Bi(fk,"onAnimationEnd");Bi(hk,"onAnimationIteration");Bi(pk,"onAnimationStart");Bi("dblclick","onDoubleClick");Bi("focusin","onFocus");Bi("focusout","onBlur");Bi(mk,"onTransitionEnd");al("onMouseEnter",["mouseout","mouseover"]);al("onMouseLeave",["mouseout","mouseover"]);al("onPointerEnter",["pointerout","pointerover"]);al("onPointerLeave",["pointerout","pointerover"]);Wo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gj=new Set("cancel close invalid load scroll toggle".split(" ").concat(fc));function jx(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,pO(n,e,void 0,t),t.currentTarget=null}function yk(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;jx(s,a,c),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;jx(s,a,c),i=l}}}if(Nf)throw t=dg,Nf=!1,dg=null,t}function Xe(t,e){var r=e[wg];r===void 0&&(r=e[wg]=new Set);var n=t+"__bubble";r.has(n)||(vk(e,t,2,!1),r.add(n))}function zp(t,e,r){var n=0;e&&(n|=4),vk(r,t,n,e)}var jd="_reactListening"+Math.random().toString(36).slice(2);function Wc(t){if(!t[jd]){t[jd]=!0,ES.forEach(function(r){r!=="selectionchange"&&(gj.has(r)||zp(r,!1,t),zp(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[jd]||(e[jd]=!0,zp("selectionchange",!1,e))}}function vk(t,e,r,n){switch(tk(e)){case 1:var s=TO;break;case 4:s=PO;break;default:s=g0}r=s.bind(null,e,r,t),s=void 0,!ug||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Bp(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=io(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}BS(function(){var c=i,u=f0(r),d=[];e:{var h=gk.get(t);if(h!==void 0){var p=v0,m=t;switch(t){case"keypress":if(sf(r)===0)break e;case"keydown":case"keyup":p=WO;break;case"focusin":m="focus",p=Ip;break;case"focusout":m="blur",p=Ip;break;case"beforeblur":case"afterblur":p=Ip;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=yx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=IO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=QO;break;case fk:case hk:case pk:p=LO;break;case mk:p=GO;break;case"scroll":p=MO;break;case"wheel":p=XO;break;case"copy":case"cut":case"paste":p=$O;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=xx}var y=(e&4)!==0,x=!y&&t==="scroll",v=y?h!==null?h+"Capture":null:h;y=[];for(var g=c,b;g!==null;){b=g;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,v!==null&&(S=zc(g,v),S!=null&&y.push(Kc(g,S,b)))),x)break;g=g.return}0<y.length&&(h=new p(h,m,null,r,u),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==lg&&(m=r.relatedTarget||r.fromElement)&&(io(m)||m[Ps]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?io(m):null,m!==null&&(x=Ko(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(y=yx,S="onMouseLeave",v="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(y=xx,S="onPointerLeave",v="onPointerEnter",g="pointer"),x=p==null?h:wa(p),b=m==null?h:wa(m),h=new y(S,g+"leave",p,r,u),h.target=x,h.relatedTarget=b,S=null,io(u)===c&&(y=new y(v,g+"enter",m,r,u),y.target=b,y.relatedTarget=x,S=y),x=S,p&&m)t:{for(y=p,v=m,g=0,b=y;b;b=na(b))g++;for(b=0,S=v;S;S=na(S))b++;for(;0<g-b;)y=na(y),g--;for(;0<b-g;)v=na(v),b--;for(;g--;){if(y===v||v!==null&&y===v.alternate)break t;y=na(y),v=na(v)}y=null}else y=null;p!==null&&Tx(d,h,p,y,!1),m!==null&&x!==null&&Tx(d,x,m,y,!0)}}e:{if(h=c?wa(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var j=oj;else if(Sx(h))if(ak)j=uj;else{j=lj;var N=aj}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=cj);if(j&&(j=j(t,c))){ok(d,j,r,u);break e}N&&N(t,h,c),t==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&ng(h,"number",h.value)}switch(N=c?wa(c):window,t){case"focusin":(Sx(N)||N.contentEditable==="true")&&(xa=N,mg=c,Ec=null);break;case"focusout":Ec=mg=xa=null;break;case"mousedown":gg=!0;break;case"contextmenu":case"mouseup":case"dragend":gg=!1,Nx(d,r,u);break;case"selectionchange":if(hj)break;case"keydown":case"keyup":Nx(d,r,u)}var T;if(b0)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else va?sk(t,r)&&(w="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(w="onCompositionStart");w&&(nk&&r.locale!=="ko"&&(va||w!=="onCompositionStart"?w==="onCompositionEnd"&&va&&(T=rk()):(yi=u,y0="value"in yi?yi.value:yi.textContent,va=!0)),N=Mf(c,w),0<N.length&&(w=new vx(w,t,null,r,u),d.push({event:w,listeners:N}),T?w.data=T:(T=ik(r),T!==null&&(w.data=T)))),(T=tj?rj(t,r):nj(t,r))&&(c=Mf(c,"onBeforeInput"),0<c.length&&(u=new vx("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:c}),u.data=T))}yk(d,e)})}function Kc(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Mf(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=zc(t,r),i!=null&&n.unshift(Kc(t,i,s)),i=zc(t,e),i!=null&&n.push(Kc(t,i,s))),t=t.return}return n}function na(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Tx(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,s?(l=zc(r,i),l!=null&&o.unshift(Kc(r,l,a))):s||(l=zc(r,i),l!=null&&o.push(Kc(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var yj=/\r\n?/g,vj=/\u0000|\uFFFD/g;function Px(t){return(typeof t=="string"?t:""+t).replace(yj,`
`).replace(vj,"")}function Td(t,e,r){if(e=Px(e),Px(t)!==e&&r)throw Error($(425))}function Af(){}var yg=null,vg=null;function xg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var bg=typeof setTimeout=="function"?setTimeout:void 0,xj=typeof clearTimeout=="function"?clearTimeout:void 0,Mx=typeof Promise=="function"?Promise:void 0,bj=typeof queueMicrotask=="function"?queueMicrotask:typeof Mx<"u"?function(t){return Mx.resolve(null).then(t).catch(wj)}:bg;function wj(t){setTimeout(function(){throw t})}function Vp(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Uc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Uc(e)}function Ci(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ax(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ml=Math.random().toString(36).slice(2),Jn="__reactFiber$"+Ml,Jc="__reactProps$"+Ml,Ps="__reactContainer$"+Ml,wg="__reactEvents$"+Ml,Sj="__reactListeners$"+Ml,kj="__reactHandles$"+Ml;function io(t){var e=t[Jn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ps]||r[Jn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Ax(t);t!==null;){if(r=t[Jn])return r;t=Ax(t)}return e}t=r,r=t.parentNode}return null}function Hu(t){return t=t[Jn]||t[Ps],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function wa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function Lh(t){return t[Jc]||null}var Sg=[],Sa=-1;function Vi(t){return{current:t}}function tt(t){0>Sa||(t.current=Sg[Sa],Sg[Sa]=null,Sa--)}function Ge(t,e){Sa++,Sg[Sa]=t.current,t.current=e}var Ri={},nr=Vi(Ri),Nr=Vi(!1),Ao=Ri;function ll(t,e){var r=t.type.contextTypes;if(!r)return Ri;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Or(t){return t=t.childContextTypes,t!=null}function If(){tt(Nr),tt(nr)}function Ix(t,e,r){if(nr.current!==Ri)throw Error($(168));Ge(nr,e),Ge(Nr,r)}function xk(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error($(108,aO(t)||"Unknown",s));return lt({},r,n)}function Rf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ri,Ao=nr.current,Ge(nr,t),Ge(Nr,Nr.current),!0}function Rx(t,e,r){var n=t.stateNode;if(!n)throw Error($(169));r?(t=xk(t,e,Ao),n.__reactInternalMemoizedMergedChildContext=t,tt(Nr),tt(nr),Ge(nr,t)):tt(Nr),Ge(Nr,r)}var Ss=null,Fh=!1,Up=!1;function bk(t){Ss===null?Ss=[t]:Ss.push(t)}function _j(t){Fh=!0,bk(t)}function Ui(){if(!Up&&Ss!==null){Up=!0;var t=0,e=qe;try{var r=Ss;for(qe=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ss=null,Fh=!1}catch(s){throw Ss!==null&&(Ss=Ss.slice(t+1)),qS(h0,Ui),s}finally{qe=e,Up=!1}}return null}var ka=[],_a=0,Df=null,Lf=0,en=[],tn=0,Io=null,_s=1,Es="";function Yi(t,e){ka[_a++]=Lf,ka[_a++]=Df,Df=t,Lf=e}function wk(t,e,r){en[tn++]=_s,en[tn++]=Es,en[tn++]=Io,Io=t;var n=_s;t=Es;var s=32-Mn(n)-1;n&=~(1<<s),r+=1;var i=32-Mn(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,_s=1<<32-Mn(e)+s|r<<s|n,Es=i+t}else _s=1<<i|r<<s|n,Es=t}function S0(t){t.return!==null&&(Yi(t,1),wk(t,1,0))}function k0(t){for(;t===Df;)Df=ka[--_a],ka[_a]=null,Lf=ka[--_a],ka[_a]=null;for(;t===Io;)Io=en[--tn],en[tn]=null,Es=en[--tn],en[tn]=null,_s=en[--tn],en[tn]=null}var Vr=null,zr=null,nt=!1,En=null;function Sk(t,e){var r=on(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Dx(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Vr=t,zr=Ci(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Vr=t,zr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Io!==null?{id:_s,overflow:Es}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=on(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Vr=t,zr=null,!0):!1;default:return!1}}function kg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _g(t){if(nt){var e=zr;if(e){var r=e;if(!Dx(t,e)){if(kg(t))throw Error($(418));e=Ci(r.nextSibling);var n=Vr;e&&Dx(t,e)?Sk(n,r):(t.flags=t.flags&-4097|2,nt=!1,Vr=t)}}else{if(kg(t))throw Error($(418));t.flags=t.flags&-4097|2,nt=!1,Vr=t}}}function Lx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vr=t}function Pd(t){if(t!==Vr)return!1;if(!nt)return Lx(t),nt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!xg(t.type,t.memoizedProps)),e&&(e=zr)){if(kg(t))throw kk(),Error($(418));for(;e;)Sk(t,e),e=Ci(e.nextSibling)}if(Lx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){zr=Ci(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}zr=null}}else zr=Vr?Ci(t.stateNode.nextSibling):null;return!0}function kk(){for(var t=zr;t;)t=Ci(t.nextSibling)}function cl(){zr=Vr=null,nt=!1}function _0(t){En===null?En=[t]:En.push(t)}var Ej=Fs.ReactCurrentBatchConfig;function Zl(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error($(309));var n=r.stateNode}if(!n)throw Error($(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error($(284));if(!r._owner)throw Error($(290,t))}return t}function Md(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Fx(t){var e=t._init;return e(t._payload)}function _k(t){function e(v,g){if(t){var b=v.deletions;b===null?(v.deletions=[g],v.flags|=16):b.push(g)}}function r(v,g){if(!t)return null;for(;g!==null;)e(v,g),g=g.sibling;return null}function n(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function s(v,g){return v=Ti(v,g),v.index=0,v.sibling=null,v}function i(v,g,b){return v.index=b,t?(b=v.alternate,b!==null?(b=b.index,b<g?(v.flags|=2,g):b):(v.flags|=2,g)):(v.flags|=1048576,g)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,g,b,S){return g===null||g.tag!==6?(g=Zp(b,v.mode,S),g.return=v,g):(g=s(g,b),g.return=v,g)}function l(v,g,b,S){var j=b.type;return j===ya?u(v,g,b.props.children,S,b.key):g!==null&&(g.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Gs&&Fx(j)===g.type)?(S=s(g,b.props),S.ref=Zl(v,g,b),S.return=v,S):(S=ff(b.type,b.key,b.props,null,v.mode,S),S.ref=Zl(v,g,b),S.return=v,S)}function c(v,g,b,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=Gp(b,v.mode,S),g.return=v,g):(g=s(g,b.children||[]),g.return=v,g)}function u(v,g,b,S,j){return g===null||g.tag!==7?(g=Eo(b,v.mode,S,j),g.return=v,g):(g=s(g,b),g.return=v,g)}function d(v,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Zp(""+g,v.mode,b),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case wd:return b=ff(g.type,g.key,g.props,null,v.mode,b),b.ref=Zl(v,null,g),b.return=v,b;case ga:return g=Gp(g,v.mode,b),g.return=v,g;case Gs:var S=g._init;return d(v,S(g._payload),b)}if(uc(g)||ql(g))return g=Eo(g,v.mode,b,null),g.return=v,g;Md(v,g)}return null}function h(v,g,b,S){var j=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return j!==null?null:a(v,g,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case wd:return b.key===j?l(v,g,b,S):null;case ga:return b.key===j?c(v,g,b,S):null;case Gs:return j=b._init,h(v,g,j(b._payload),S)}if(uc(b)||ql(b))return j!==null?null:u(v,g,b,S,null);Md(v,b)}return null}function p(v,g,b,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(b)||null,a(g,v,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case wd:return v=v.get(S.key===null?b:S.key)||null,l(g,v,S,j);case ga:return v=v.get(S.key===null?b:S.key)||null,c(g,v,S,j);case Gs:var N=S._init;return p(v,g,b,N(S._payload),j)}if(uc(S)||ql(S))return v=v.get(b)||null,u(g,v,S,j,null);Md(g,S)}return null}function m(v,g,b,S){for(var j=null,N=null,T=g,w=g=0,P=null;T!==null&&w<b.length;w++){T.index>w?(P=T,T=null):P=T.sibling;var L=h(v,T,b[w],S);if(L===null){T===null&&(T=P);break}t&&T&&L.alternate===null&&e(v,T),g=i(L,g,w),N===null?j=L:N.sibling=L,N=L,T=P}if(w===b.length)return r(v,T),nt&&Yi(v,w),j;if(T===null){for(;w<b.length;w++)T=d(v,b[w],S),T!==null&&(g=i(T,g,w),N===null?j=T:N.sibling=T,N=T);return nt&&Yi(v,w),j}for(T=n(v,T);w<b.length;w++)P=p(T,v,w,b[w],S),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?w:P.key),g=i(P,g,w),N===null?j=P:N.sibling=P,N=P);return t&&T.forEach(function(R){return e(v,R)}),nt&&Yi(v,w),j}function y(v,g,b,S){var j=ql(b);if(typeof j!="function")throw Error($(150));if(b=j.call(b),b==null)throw Error($(151));for(var N=j=null,T=g,w=g=0,P=null,L=b.next();T!==null&&!L.done;w++,L=b.next()){T.index>w?(P=T,T=null):P=T.sibling;var R=h(v,T,L.value,S);if(R===null){T===null&&(T=P);break}t&&T&&R.alternate===null&&e(v,T),g=i(R,g,w),N===null?j=R:N.sibling=R,N=R,T=P}if(L.done)return r(v,T),nt&&Yi(v,w),j;if(T===null){for(;!L.done;w++,L=b.next())L=d(v,L.value,S),L!==null&&(g=i(L,g,w),N===null?j=L:N.sibling=L,N=L);return nt&&Yi(v,w),j}for(T=n(v,T);!L.done;w++,L=b.next())L=p(T,v,w,L.value,S),L!==null&&(t&&L.alternate!==null&&T.delete(L.key===null?w:L.key),g=i(L,g,w),N===null?j=L:N.sibling=L,N=L);return t&&T.forEach(function(H){return e(v,H)}),nt&&Yi(v,w),j}function x(v,g,b,S){if(typeof b=="object"&&b!==null&&b.type===ya&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case wd:e:{for(var j=b.key,N=g;N!==null;){if(N.key===j){if(j=b.type,j===ya){if(N.tag===7){r(v,N.sibling),g=s(N,b.props.children),g.return=v,v=g;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Gs&&Fx(j)===N.type){r(v,N.sibling),g=s(N,b.props),g.ref=Zl(v,N,b),g.return=v,v=g;break e}r(v,N);break}else e(v,N);N=N.sibling}b.type===ya?(g=Eo(b.props.children,v.mode,S,b.key),g.return=v,v=g):(S=ff(b.type,b.key,b.props,null,v.mode,S),S.ref=Zl(v,g,b),S.return=v,v=S)}return o(v);case ga:e:{for(N=b.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){r(v,g.sibling),g=s(g,b.children||[]),g.return=v,v=g;break e}else{r(v,g);break}else e(v,g);g=g.sibling}g=Gp(b,v.mode,S),g.return=v,v=g}return o(v);case Gs:return N=b._init,x(v,g,N(b._payload),S)}if(uc(b))return m(v,g,b,S);if(ql(b))return y(v,g,b,S);Md(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(r(v,g.sibling),g=s(g,b),g.return=v,v=g):(r(v,g),g=Zp(b,v.mode,S),g.return=v,v=g),o(v)):r(v,g)}return x}var ul=_k(!0),Ek=_k(!1),Ff=Vi(null),$f=null,Ea=null,E0=null;function C0(){E0=Ea=$f=null}function N0(t){var e=Ff.current;tt(Ff),t._currentValue=e}function Eg(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function La(t,e){$f=t,E0=Ea=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Er=!0),t.firstContext=null)}function dn(t){var e=t._currentValue;if(E0!==t)if(t={context:t,memoizedValue:e,next:null},Ea===null){if($f===null)throw Error($(308));Ea=t,$f.dependencies={lanes:0,firstContext:t}}else Ea=Ea.next=t;return e}var oo=null;function O0(t){oo===null?oo=[t]:oo.push(t)}function Ck(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,O0(e)):(r.next=s.next,s.next=r),e.interleaved=r,Ms(t,n)}function Ms(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ys=!1;function j0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Cs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ni(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Le&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Ms(t,r)}return s=n.interleaved,s===null?(e.next=e,O0(n)):(e.next=s.next,s.next=e),n.interleaved=e,Ms(t,r)}function of(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,p0(t,r)}}function $x(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function zf(t,e,r,n){var s=t.updateQueue;Ys=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,u=c=l=null,a=i;do{var h=a.lane,p=a.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,y=a;switch(h=e,p=r,y.tag){case 1:if(m=y.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=lt({},d,h);break e;case 2:Ys=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Do|=o,t.lanes=o,t.memoizedState=d}}function zx(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error($(191,s));s.call(n)}}}var qu={},Xn=Vi(qu),Qc=Vi(qu),Zc=Vi(qu);function ao(t){if(t===qu)throw Error($(174));return t}function T0(t,e){switch(Ge(Zc,e),Ge(Qc,t),Ge(Xn,qu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ig(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ig(e,t)}tt(Xn),Ge(Xn,e)}function dl(){tt(Xn),tt(Qc),tt(Zc)}function Ok(t){ao(Zc.current);var e=ao(Xn.current),r=ig(e,t.type);e!==r&&(Ge(Qc,t),Ge(Xn,r))}function P0(t){Qc.current===t&&(tt(Xn),tt(Qc))}var ot=Vi(0);function Bf(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hp=[];function M0(){for(var t=0;t<Hp.length;t++)Hp[t]._workInProgressVersionPrimary=null;Hp.length=0}var af=Fs.ReactCurrentDispatcher,qp=Fs.ReactCurrentBatchConfig,Ro=0,at=null,Ot=null,Lt=null,Vf=!1,Cc=!1,Gc=0,Cj=0;function Zt(){throw Error($(321))}function A0(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Dn(t[r],e[r]))return!1;return!0}function I0(t,e,r,n,s,i){if(Ro=i,at=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,af.current=t===null||t.memoizedState===null?Tj:Pj,t=r(n,s),Cc){i=0;do{if(Cc=!1,Gc=0,25<=i)throw Error($(301));i+=1,Lt=Ot=null,e.updateQueue=null,af.current=Mj,t=r(n,s)}while(Cc)}if(af.current=Uf,e=Ot!==null&&Ot.next!==null,Ro=0,Lt=Ot=at=null,Vf=!1,e)throw Error($(300));return t}function R0(){var t=Gc!==0;return Gc=0,t}function Bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?at.memoizedState=Lt=t:Lt=Lt.next=t,Lt}function fn(){if(Ot===null){var t=at.alternate;t=t!==null?t.memoizedState:null}else t=Ot.next;var e=Lt===null?at.memoizedState:Lt.next;if(e!==null)Lt=e,Ot=t;else{if(t===null)throw Error($(310));Ot=t,t={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Lt===null?at.memoizedState=Lt=t:Lt=Lt.next=t}return Lt}function Yc(t,e){return typeof e=="function"?e(t):e}function Wp(t){var e=fn(),r=e.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=t;var n=Ot,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((Ro&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=n):l=l.next=d,at.lanes|=u,Do|=u}c=c.next}while(c!==null&&c!==i);l===null?o=n:l.next=a,Dn(n,e.memoizedState)||(Er=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,at.lanes|=i,Do|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Kp(t){var e=fn(),r=e.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Dn(i,e.memoizedState)||(Er=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function jk(){}function Tk(t,e){var r=at,n=fn(),s=e(),i=!Dn(n.memoizedState,s);if(i&&(n.memoizedState=s,Er=!0),n=n.queue,D0(Ak.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Lt!==null&&Lt.memoizedState.tag&1){if(r.flags|=2048,Xc(9,Mk.bind(null,r,n,s,e),void 0,null),$t===null)throw Error($(349));Ro&30||Pk(r,e,s)}return s}function Pk(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Mk(t,e,r,n){e.value=r,e.getSnapshot=n,Ik(e)&&Rk(t)}function Ak(t,e,r){return r(function(){Ik(e)&&Rk(t)})}function Ik(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Dn(t,r)}catch{return!0}}function Rk(t){var e=Ms(t,1);e!==null&&An(e,t,1,-1)}function Bx(t){var e=Bn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yc,lastRenderedState:t},e.queue=t,t=t.dispatch=jj.bind(null,at,t),[e.memoizedState,t]}function Xc(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Dk(){return fn().memoizedState}function lf(t,e,r,n){var s=Bn();at.flags|=t,s.memoizedState=Xc(1|e,r,void 0,n===void 0?null:n)}function $h(t,e,r,n){var s=fn();n=n===void 0?null:n;var i=void 0;if(Ot!==null){var o=Ot.memoizedState;if(i=o.destroy,n!==null&&A0(n,o.deps)){s.memoizedState=Xc(e,r,i,n);return}}at.flags|=t,s.memoizedState=Xc(1|e,r,i,n)}function Vx(t,e){return lf(8390656,8,t,e)}function D0(t,e){return $h(2048,8,t,e)}function Lk(t,e){return $h(4,2,t,e)}function Fk(t,e){return $h(4,4,t,e)}function $k(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function zk(t,e,r){return r=r!=null?r.concat([t]):null,$h(4,4,$k.bind(null,e,t),r)}function L0(){}function Bk(t,e){var r=fn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&A0(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Vk(t,e){var r=fn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&A0(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Uk(t,e,r){return Ro&21?(Dn(r,e)||(r=JS(),at.lanes|=r,Do|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Er=!0),t.memoizedState=r)}function Nj(t,e){var r=qe;qe=r!==0&&4>r?r:4,t(!0);var n=qp.transition;qp.transition={};try{t(!1),e()}finally{qe=r,qp.transition=n}}function Hk(){return fn().memoizedState}function Oj(t,e,r){var n=ji(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},qk(t))Wk(e,r);else if(r=Ck(t,e,r,n),r!==null){var s=hr();An(r,t,n,s),Kk(r,e,n)}}function jj(t,e,r){var n=ji(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(qk(t))Wk(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,Dn(a,o)){var l=e.interleaved;l===null?(s.next=s,O0(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=Ck(t,e,s,n),r!==null&&(s=hr(),An(r,t,n,s),Kk(r,e,n))}}function qk(t){var e=t.alternate;return t===at||e!==null&&e===at}function Wk(t,e){Cc=Vf=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Kk(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,p0(t,r)}}var Uf={readContext:dn,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},Tj={readContext:dn,useCallback:function(t,e){return Bn().memoizedState=[t,e===void 0?null:e],t},useContext:dn,useEffect:Vx,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,lf(4194308,4,$k.bind(null,e,t),r)},useLayoutEffect:function(t,e){return lf(4194308,4,t,e)},useInsertionEffect:function(t,e){return lf(4,2,t,e)},useMemo:function(t,e){var r=Bn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Bn();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Oj.bind(null,at,t),[n.memoizedState,t]},useRef:function(t){var e=Bn();return t={current:t},e.memoizedState=t},useState:Bx,useDebugValue:L0,useDeferredValue:function(t){return Bn().memoizedState=t},useTransition:function(){var t=Bx(!1),e=t[0];return t=Nj.bind(null,t[1]),Bn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=at,s=Bn();if(nt){if(r===void 0)throw Error($(407));r=r()}else{if(r=e(),$t===null)throw Error($(349));Ro&30||Pk(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,Vx(Ak.bind(null,n,i,t),[t]),n.flags|=2048,Xc(9,Mk.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Bn(),e=$t.identifierPrefix;if(nt){var r=Es,n=_s;r=(n&~(1<<32-Mn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Gc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Cj++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Pj={readContext:dn,useCallback:Bk,useContext:dn,useEffect:D0,useImperativeHandle:zk,useInsertionEffect:Lk,useLayoutEffect:Fk,useMemo:Vk,useReducer:Wp,useRef:Dk,useState:function(){return Wp(Yc)},useDebugValue:L0,useDeferredValue:function(t){var e=fn();return Uk(e,Ot.memoizedState,t)},useTransition:function(){var t=Wp(Yc)[0],e=fn().memoizedState;return[t,e]},useMutableSource:jk,useSyncExternalStore:Tk,useId:Hk,unstable_isNewReconciler:!1},Mj={readContext:dn,useCallback:Bk,useContext:dn,useEffect:D0,useImperativeHandle:zk,useInsertionEffect:Lk,useLayoutEffect:Fk,useMemo:Vk,useReducer:Kp,useRef:Dk,useState:function(){return Kp(Yc)},useDebugValue:L0,useDeferredValue:function(t){var e=fn();return Ot===null?e.memoizedState=t:Uk(e,Ot.memoizedState,t)},useTransition:function(){var t=Kp(Yc)[0],e=fn().memoizedState;return[t,e]},useMutableSource:jk,useSyncExternalStore:Tk,useId:Hk,unstable_isNewReconciler:!1};function vn(t,e){if(t&&t.defaultProps){e=lt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Cg(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:lt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var zh={isMounted:function(t){return(t=t._reactInternals)?Ko(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=hr(),s=ji(t),i=Cs(n,s);i.payload=e,r!=null&&(i.callback=r),e=Ni(t,i,s),e!==null&&(An(e,t,s,n),of(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=hr(),s=ji(t),i=Cs(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Ni(t,i,s),e!==null&&(An(e,t,s,n),of(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=hr(),n=ji(t),s=Cs(r,n);s.tag=2,e!=null&&(s.callback=e),e=Ni(t,s,n),e!==null&&(An(e,t,n,r),of(e,t,n))}};function Ux(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!qc(r,n)||!qc(s,i):!0}function Jk(t,e,r){var n=!1,s=Ri,i=e.contextType;return typeof i=="object"&&i!==null?i=dn(i):(s=Or(e)?Ao:nr.current,n=e.contextTypes,i=(n=n!=null)?ll(t,s):Ri),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zh,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Hx(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&zh.enqueueReplaceState(e,e.state,null)}function Ng(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},j0(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=dn(i):(i=Or(e)?Ao:nr.current,s.context=ll(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Cg(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&zh.enqueueReplaceState(s,s.state,null),zf(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function fl(t,e){try{var r="",n=e;do r+=oO(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Jp(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Og(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Aj=typeof WeakMap=="function"?WeakMap:Map;function Qk(t,e,r){r=Cs(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){qf||(qf=!0,Fg=n),Og(t,e)},r}function Zk(t,e,r){r=Cs(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Og(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Og(t,e),typeof n!="function"&&(Oi===null?Oi=new Set([this]):Oi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function qx(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Aj;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=Kj.bind(null,t,e,r),e.then(t,t))}function Wx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Kx(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Cs(-1,1),e.tag=2,Ni(r,e,1))),r.lanes|=1),t)}var Ij=Fs.ReactCurrentOwner,Er=!1;function dr(t,e,r,n){e.child=t===null?Ek(e,null,r,n):ul(e,t.child,r,n)}function Jx(t,e,r,n,s){r=r.render;var i=e.ref;return La(e,s),n=I0(t,e,r,n,i,s),r=R0(),t!==null&&!Er?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,As(t,e,s)):(nt&&r&&S0(e),e.flags|=1,dr(t,e,n,s),e.child)}function Qx(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!q0(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Gk(t,e,i,n,s)):(t=ff(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:qc,r(o,n)&&t.ref===e.ref)return As(t,e,s)}return e.flags|=1,t=Ti(i,n),t.ref=e.ref,t.return=e,e.child=t}function Gk(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(qc(i,n)&&t.ref===e.ref)if(Er=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Er=!0);else return e.lanes=t.lanes,As(t,e,s)}return jg(t,e,r,n,s)}function Yk(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(Na,Rr),Rr|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ge(Na,Rr),Rr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Ge(Na,Rr),Rr|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,Ge(Na,Rr),Rr|=n;return dr(t,e,s,r),e.child}function Xk(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function jg(t,e,r,n,s){var i=Or(r)?Ao:nr.current;return i=ll(e,i),La(e,s),r=I0(t,e,r,n,i,s),n=R0(),t!==null&&!Er?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,As(t,e,s)):(nt&&n&&S0(e),e.flags|=1,dr(t,e,r,s),e.child)}function Zx(t,e,r,n,s){if(Or(r)){var i=!0;Rf(e)}else i=!1;if(La(e,s),e.stateNode===null)cf(t,e),Jk(e,r,n),Ng(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=dn(c):(c=Or(r)?Ao:nr.current,c=ll(e,c));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&Hx(e,o,n,c),Ys=!1;var h=e.memoizedState;o.state=h,zf(e,n,o,s),l=e.memoizedState,a!==n||h!==l||Nr.current||Ys?(typeof u=="function"&&(Cg(e,r,u,n),l=e.memoizedState),(a=Ys||Ux(e,r,a,n,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Nk(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:vn(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=dn(l):(l=Or(r)?Ao:nr.current,l=ll(e,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Hx(e,o,n,l),Ys=!1,h=e.memoizedState,o.state=h,zf(e,n,o,s);var m=e.memoizedState;a!==d||h!==m||Nr.current||Ys?(typeof p=="function"&&(Cg(e,r,p,n),m=e.memoizedState),(c=Ys||Ux(e,r,c,n,h,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),o.props=n,o.state=m,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Tg(t,e,r,n,i,s)}function Tg(t,e,r,n,s,i){Xk(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&Rx(e,r,!1),As(t,e,i);n=e.stateNode,Ij.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=ul(e,t.child,null,i),e.child=ul(e,null,a,i)):dr(t,e,a,i),e.memoizedState=n.state,s&&Rx(e,r,!0),e.child}function e_(t){var e=t.stateNode;e.pendingContext?Ix(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ix(t,e.context,!1),T0(t,e.containerInfo)}function Gx(t,e,r,n,s){return cl(),_0(s),e.flags|=256,dr(t,e,r,n),e.child}var Pg={dehydrated:null,treeContext:null,retryLane:0};function Mg(t){return{baseLanes:t,cachePool:null,transitions:null}}function t_(t,e,r){var n=e.pendingProps,s=ot.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ge(ot,s&1),t===null)return _g(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Uh(o,n,0,null),t=Eo(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Mg(r),e.memoizedState=Pg,t):F0(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Rj(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Ti(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ti(a,i):(i=Eo(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?Mg(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Pg,n}return i=t.child,t=i.sibling,n=Ti(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function F0(t,e){return e=Uh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ad(t,e,r,n){return n!==null&&_0(n),ul(e,t.child,null,r),t=F0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Rj(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=Jp(Error($(422))),Ad(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Uh({mode:"visible",children:n.children},s,0,null),i=Eo(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&ul(e,t.child,null,o),e.child.memoizedState=Mg(o),e.memoizedState=Pg,i);if(!(e.mode&1))return Ad(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error($(419)),n=Jp(i,n,void 0),Ad(t,e,o,n)}if(a=(o&t.childLanes)!==0,Er||a){if(n=$t,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ms(t,s),An(n,t,s,-1))}return H0(),n=Jp(Error($(421))),Ad(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Jj.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,zr=Ci(s.nextSibling),Vr=e,nt=!0,En=null,t!==null&&(en[tn++]=_s,en[tn++]=Es,en[tn++]=Io,_s=t.id,Es=t.overflow,Io=e),e=F0(e,n.children),e.flags|=4096,e)}function Yx(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Eg(t.return,e,r)}function Qp(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function r_(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(dr(t,e,n.children,r),n=ot.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yx(t,r,e);else if(t.tag===19)Yx(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ge(ot,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Bf(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Qp(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Bf(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Qp(e,!0,r,null,i);break;case"together":Qp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function cf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function As(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Do|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,r=Ti(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ti(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Dj(t,e,r){switch(e.tag){case 3:e_(e),cl();break;case 5:Ok(e);break;case 1:Or(e.type)&&Rf(e);break;case 4:T0(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Ge(Ff,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ge(ot,ot.current&1),e.flags|=128,null):r&e.child.childLanes?t_(t,e,r):(Ge(ot,ot.current&1),t=As(t,e,r),t!==null?t.sibling:null);Ge(ot,ot.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return r_(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ge(ot,ot.current),n)break;return null;case 22:case 23:return e.lanes=0,Yk(t,e,r)}return As(t,e,r)}var n_,Ag,s_,i_;n_=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ag=function(){};s_=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,ao(Xn.current);var i=null;switch(r){case"input":s=tg(t,s),n=tg(t,n),i=[];break;case"select":s=lt({},s,{value:void 0}),n=lt({},n,{value:void 0}),i=[];break;case"textarea":s=sg(t,s),n=sg(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Af)}og(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Fc.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Fc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Xe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};i_=function(t,e,r,n){r!==n&&(e.flags|=4)};function Gl(t,e){if(!nt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Gt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Lj(t,e,r){var n=e.pendingProps;switch(k0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(e),null;case 1:return Or(e.type)&&If(),Gt(e),null;case 3:return n=e.stateNode,dl(),tt(Nr),tt(nr),M0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Pd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,En!==null&&(Bg(En),En=null))),Ag(t,e),Gt(e),null;case 5:P0(e);var s=ao(Zc.current);if(r=e.type,t!==null&&e.stateNode!=null)s_(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error($(166));return Gt(e),null}if(t=ao(Xn.current),Pd(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Jn]=e,n[Jc]=i,t=(e.mode&1)!==0,r){case"dialog":Xe("cancel",n),Xe("close",n);break;case"iframe":case"object":case"embed":Xe("load",n);break;case"video":case"audio":for(s=0;s<fc.length;s++)Xe(fc[s],n);break;case"source":Xe("error",n);break;case"img":case"image":case"link":Xe("error",n),Xe("load",n);break;case"details":Xe("toggle",n);break;case"input":ax(n,i),Xe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Xe("invalid",n);break;case"textarea":cx(n,i),Xe("invalid",n)}og(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Td(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Td(n.textContent,a,t),s=["children",""+a]):Fc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Xe("scroll",n)}switch(r){case"input":Sd(n),lx(n,i,!0);break;case"textarea":Sd(n),ux(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Af)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=AS(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Jn]=e,t[Jc]=n,n_(t,e,!1,!1),e.stateNode=t;e:{switch(o=ag(r,n),r){case"dialog":Xe("cancel",t),Xe("close",t),s=n;break;case"iframe":case"object":case"embed":Xe("load",t),s=n;break;case"video":case"audio":for(s=0;s<fc.length;s++)Xe(fc[s],t);s=n;break;case"source":Xe("error",t),s=n;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),s=n;break;case"details":Xe("toggle",t),s=n;break;case"input":ax(t,n),s=tg(t,n),Xe("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=lt({},n,{value:void 0}),Xe("invalid",t);break;case"textarea":cx(t,n),s=sg(t,n),Xe("invalid",t);break;default:s=n}og(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?DS(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&IS(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&$c(t,l):typeof l=="number"&&$c(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Fc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Xe("scroll",t):l!=null&&l0(t,i,l,o))}switch(r){case"input":Sd(t),lx(t,n,!1);break;case"textarea":Sd(t),ux(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Ii(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Aa(t,!!n.multiple,i,!1):n.defaultValue!=null&&Aa(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Af)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gt(e),null;case 6:if(t&&e.stateNode!=null)i_(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error($(166));if(r=ao(Zc.current),ao(Xn.current),Pd(e)){if(n=e.stateNode,r=e.memoizedProps,n[Jn]=e,(i=n.nodeValue!==r)&&(t=Vr,t!==null))switch(t.tag){case 3:Td(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Td(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Jn]=e,e.stateNode=n}return Gt(e),null;case 13:if(tt(ot),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(nt&&zr!==null&&e.mode&1&&!(e.flags&128))kk(),cl(),e.flags|=98560,i=!1;else if(i=Pd(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error($(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[Jn]=e}else cl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gt(e),i=!1}else En!==null&&(Bg(En),En=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ot.current&1?Tt===0&&(Tt=3):H0())),e.updateQueue!==null&&(e.flags|=4),Gt(e),null);case 4:return dl(),Ag(t,e),t===null&&Wc(e.stateNode.containerInfo),Gt(e),null;case 10:return N0(e.type._context),Gt(e),null;case 17:return Or(e.type)&&If(),Gt(e),null;case 19:if(tt(ot),i=e.memoizedState,i===null)return Gt(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)Gl(i,!1);else{if(Tt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Bf(t),o!==null){for(e.flags|=128,Gl(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ge(ot,ot.current&1|2),e.child}t=t.sibling}i.tail!==null&&bt()>hl&&(e.flags|=128,n=!0,Gl(i,!1),e.lanes=4194304)}else{if(!n)if(t=Bf(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Gl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!nt)return Gt(e),null}else 2*bt()-i.renderingStartTime>hl&&r!==1073741824&&(e.flags|=128,n=!0,Gl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=bt(),e.sibling=null,r=ot.current,Ge(ot,n?r&1|2:r&1),e):(Gt(e),null);case 22:case 23:return U0(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Rr&1073741824&&(Gt(e),e.subtreeFlags&6&&(e.flags|=8192)):Gt(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function Fj(t,e){switch(k0(e),e.tag){case 1:return Or(e.type)&&If(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return dl(),tt(Nr),tt(nr),M0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return P0(e),null;case 13:if(tt(ot),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));cl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return tt(ot),null;case 4:return dl(),null;case 10:return N0(e.type._context),null;case 22:case 23:return U0(),null;case 24:return null;default:return null}}var Id=!1,tr=!1,$j=typeof WeakSet=="function"?WeakSet:Set,te=null;function Ca(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){pt(t,e,n)}else r.current=null}function Ig(t,e,r){try{r()}catch(n){pt(t,e,n)}}var Xx=!1;function zj(t,e){if(yg=Tf,t=uk(),w0(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var p;d!==r||s!==0&&d.nodeType!==3||(a=o+s),d!==i||n!==0&&d.nodeType!==3||(l=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===r&&++c===s&&(a=o),h===i&&++u===n&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(vg={focusedElem:t,selectionRange:r},Tf=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,x=m.memoizedState,v=e.stateNode,g=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:vn(e.type,y),x);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(S){pt(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return m=Xx,Xx=!1,m}function Nc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ig(e,r,i)}s=s.next}while(s!==n)}}function Bh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Rg(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function o_(t){var e=t.alternate;e!==null&&(t.alternate=null,o_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Jn],delete e[Jc],delete e[wg],delete e[Sj],delete e[kj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function a_(t){return t.tag===5||t.tag===3||t.tag===4}function e1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||a_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dg(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Af));else if(n!==4&&(t=t.child,t!==null))for(Dg(t,e,r),t=t.sibling;t!==null;)Dg(t,e,r),t=t.sibling}function Lg(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Lg(t,e,r),t=t.sibling;t!==null;)Lg(t,e,r),t=t.sibling}var Ht=null,wn=!1;function Us(t,e,r){for(r=r.child;r!==null;)l_(t,e,r),r=r.sibling}function l_(t,e,r){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(Ah,r)}catch{}switch(r.tag){case 5:tr||Ca(r,e);case 6:var n=Ht,s=wn;Ht=null,Us(t,e,r),Ht=n,wn=s,Ht!==null&&(wn?(t=Ht,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ht.removeChild(r.stateNode));break;case 18:Ht!==null&&(wn?(t=Ht,r=r.stateNode,t.nodeType===8?Vp(t.parentNode,r):t.nodeType===1&&Vp(t,r),Uc(t)):Vp(Ht,r.stateNode));break;case 4:n=Ht,s=wn,Ht=r.stateNode.containerInfo,wn=!0,Us(t,e,r),Ht=n,wn=s;break;case 0:case 11:case 14:case 15:if(!tr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ig(r,e,o),s=s.next}while(s!==n)}Us(t,e,r);break;case 1:if(!tr&&(Ca(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){pt(r,e,a)}Us(t,e,r);break;case 21:Us(t,e,r);break;case 22:r.mode&1?(tr=(n=tr)||r.memoizedState!==null,Us(t,e,r),tr=n):Us(t,e,r);break;default:Us(t,e,r)}}function t1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new $j),e.forEach(function(n){var s=Qj.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function mn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ht=a.stateNode,wn=!1;break e;case 3:Ht=a.stateNode.containerInfo,wn=!0;break e;case 4:Ht=a.stateNode.containerInfo,wn=!0;break e}a=a.return}if(Ht===null)throw Error($(160));l_(i,o,s),Ht=null,wn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){pt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)c_(e,t),e=e.sibling}function c_(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mn(e,t),zn(t),n&4){try{Nc(3,t,t.return),Bh(3,t)}catch(y){pt(t,t.return,y)}try{Nc(5,t,t.return)}catch(y){pt(t,t.return,y)}}break;case 1:mn(e,t),zn(t),n&512&&r!==null&&Ca(r,r.return);break;case 5:if(mn(e,t),zn(t),n&512&&r!==null&&Ca(r,r.return),t.flags&32){var s=t.stateNode;try{$c(s,"")}catch(y){pt(t,t.return,y)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&PS(s,i),ag(a,o);var c=ag(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?DS(s,d):u==="dangerouslySetInnerHTML"?IS(s,d):u==="children"?$c(s,d):l0(s,u,d,c)}switch(a){case"input":rg(s,i);break;case"textarea":MS(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Aa(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Aa(s,!!i.multiple,i.defaultValue,!0):Aa(s,!!i.multiple,i.multiple?[]:"",!1))}s[Jc]=i}catch(y){pt(t,t.return,y)}}break;case 6:if(mn(e,t),zn(t),n&4){if(t.stateNode===null)throw Error($(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){pt(t,t.return,y)}}break;case 3:if(mn(e,t),zn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Uc(e.containerInfo)}catch(y){pt(t,t.return,y)}break;case 4:mn(e,t),zn(t);break;case 13:mn(e,t),zn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(B0=bt())),n&4&&t1(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(tr=(c=tr)||u,mn(e,t),tr=c):mn(e,t),zn(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(te=t,u=t.child;u!==null;){for(d=te=u;te!==null;){switch(h=te,p=h.child,h.tag){case 0:case 11:case 14:case 15:Nc(4,h,h.return);break;case 1:Ca(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){pt(n,r,y)}}break;case 5:Ca(h,h.return);break;case 22:if(h.memoizedState!==null){n1(d);continue}}p!==null?(p.return=h,te=p):n1(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=RS("display",o))}catch(y){pt(t,t.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){pt(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:mn(e,t),zn(t),n&4&&t1(t);break;case 21:break;default:mn(e,t),zn(t)}}function zn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(a_(r)){var n=r;break e}r=r.return}throw Error($(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&($c(s,""),n.flags&=-33);var i=e1(t);Lg(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=e1(t);Dg(t,a,o);break;default:throw Error($(161))}}catch(l){pt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Bj(t,e,r){te=t,u_(t)}function u_(t,e,r){for(var n=(t.mode&1)!==0;te!==null;){var s=te,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Id;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||tr;a=Id;var c=tr;if(Id=o,(tr=l)&&!c)for(te=s;te!==null;)o=te,l=o.child,o.tag===22&&o.memoizedState!==null?s1(s):l!==null?(l.return=o,te=l):s1(s);for(;i!==null;)te=i,u_(i),i=i.sibling;te=s,Id=a,tr=c}r1(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,te=i):r1(t)}}function r1(t){for(;te!==null;){var e=te;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:tr||Bh(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!tr)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:vn(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&zx(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}zx(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Uc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}tr||e.flags&512&&Rg(e)}catch(h){pt(e,e.return,h)}}if(e===t){te=null;break}if(r=e.sibling,r!==null){r.return=e.return,te=r;break}te=e.return}}function n1(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var r=e.sibling;if(r!==null){r.return=e.return,te=r;break}te=e.return}}function s1(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Bh(4,e)}catch(l){pt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){pt(e,s,l)}}var i=e.return;try{Rg(e)}catch(l){pt(e,i,l)}break;case 5:var o=e.return;try{Rg(e)}catch(l){pt(e,o,l)}}}catch(l){pt(e,e.return,l)}if(e===t){te=null;break}var a=e.sibling;if(a!==null){a.return=e.return,te=a;break}te=e.return}}var Vj=Math.ceil,Hf=Fs.ReactCurrentDispatcher,$0=Fs.ReactCurrentOwner,ln=Fs.ReactCurrentBatchConfig,Le=0,$t=null,Ct=null,Jt=0,Rr=0,Na=Vi(0),Tt=0,eu=null,Do=0,Vh=0,z0=0,Oc=null,_r=null,B0=0,hl=1/0,bs=null,qf=!1,Fg=null,Oi=null,Rd=!1,vi=null,Wf=0,jc=0,$g=null,uf=-1,df=0;function hr(){return Le&6?bt():uf!==-1?uf:uf=bt()}function ji(t){return t.mode&1?Le&2&&Jt!==0?Jt&-Jt:Ej.transition!==null?(df===0&&(df=JS()),df):(t=qe,t!==0||(t=window.event,t=t===void 0?16:tk(t.type)),t):1}function An(t,e,r,n){if(50<jc)throw jc=0,$g=null,Error($(185));Vu(t,r,n),(!(Le&2)||t!==$t)&&(t===$t&&(!(Le&2)&&(Vh|=r),Tt===4&&ni(t,Jt)),jr(t,n),r===1&&Le===0&&!(e.mode&1)&&(hl=bt()+500,Fh&&Ui()))}function jr(t,e){var r=t.callbackNode;EO(t,e);var n=jf(t,t===$t?Jt:0);if(n===0)r!==null&&hx(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&hx(r),e===1)t.tag===0?_j(i1.bind(null,t)):bk(i1.bind(null,t)),bj(function(){!(Le&6)&&Ui()}),r=null;else{switch(QS(n)){case 1:r=h0;break;case 4:r=WS;break;case 16:r=Of;break;case 536870912:r=KS;break;default:r=Of}r=v_(r,d_.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function d_(t,e){if(uf=-1,df=0,Le&6)throw Error($(327));var r=t.callbackNode;if(Fa()&&t.callbackNode!==r)return null;var n=jf(t,t===$t?Jt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Kf(t,n);else{e=n;var s=Le;Le|=2;var i=h_();($t!==t||Jt!==e)&&(bs=null,hl=bt()+500,_o(t,e));do try{qj();break}catch(a){f_(t,a)}while(!0);C0(),Hf.current=i,Le=s,Ct!==null?e=0:($t=null,Jt=0,e=Tt)}if(e!==0){if(e===2&&(s=fg(t),s!==0&&(n=s,e=zg(t,s))),e===1)throw r=eu,_o(t,0),ni(t,n),jr(t,bt()),r;if(e===6)ni(t,n);else{if(s=t.current.alternate,!(n&30)&&!Uj(s)&&(e=Kf(t,n),e===2&&(i=fg(t),i!==0&&(n=i,e=zg(t,i))),e===1))throw r=eu,_o(t,0),ni(t,n),jr(t,bt()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error($(345));case 2:Xi(t,_r,bs);break;case 3:if(ni(t,n),(n&130023424)===n&&(e=B0+500-bt(),10<e)){if(jf(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){hr(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=bg(Xi.bind(null,t,_r,bs),e);break}Xi(t,_r,bs);break;case 4:if(ni(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-Mn(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=bt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Vj(n/1960))-n,10<n){t.timeoutHandle=bg(Xi.bind(null,t,_r,bs),n);break}Xi(t,_r,bs);break;case 5:Xi(t,_r,bs);break;default:throw Error($(329))}}}return jr(t,bt()),t.callbackNode===r?d_.bind(null,t):null}function zg(t,e){var r=Oc;return t.current.memoizedState.isDehydrated&&(_o(t,e).flags|=256),t=Kf(t,e),t!==2&&(e=_r,_r=r,e!==null&&Bg(e)),t}function Bg(t){_r===null?_r=t:_r.push.apply(_r,t)}function Uj(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Dn(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ni(t,e){for(e&=~z0,e&=~Vh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Mn(e),n=1<<r;t[r]=-1,e&=~n}}function i1(t){if(Le&6)throw Error($(327));Fa();var e=jf(t,0);if(!(e&1))return jr(t,bt()),null;var r=Kf(t,e);if(t.tag!==0&&r===2){var n=fg(t);n!==0&&(e=n,r=zg(t,n))}if(r===1)throw r=eu,_o(t,0),ni(t,e),jr(t,bt()),r;if(r===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xi(t,_r,bs),jr(t,bt()),null}function V0(t,e){var r=Le;Le|=1;try{return t(e)}finally{Le=r,Le===0&&(hl=bt()+500,Fh&&Ui())}}function Lo(t){vi!==null&&vi.tag===0&&!(Le&6)&&Fa();var e=Le;Le|=1;var r=ln.transition,n=qe;try{if(ln.transition=null,qe=1,t)return t()}finally{qe=n,ln.transition=r,Le=e,!(Le&6)&&Ui()}}function U0(){Rr=Na.current,tt(Na)}function _o(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,xj(r)),Ct!==null)for(r=Ct.return;r!==null;){var n=r;switch(k0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&If();break;case 3:dl(),tt(Nr),tt(nr),M0();break;case 5:P0(n);break;case 4:dl();break;case 13:tt(ot);break;case 19:tt(ot);break;case 10:N0(n.type._context);break;case 22:case 23:U0()}r=r.return}if($t=t,Ct=t=Ti(t.current,null),Jt=Rr=e,Tt=0,eu=null,z0=Vh=Do=0,_r=Oc=null,oo!==null){for(e=0;e<oo.length;e++)if(r=oo[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}oo=null}return t}function f_(t,e){do{var r=Ct;try{if(C0(),af.current=Uf,Vf){for(var n=at.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Vf=!1}if(Ro=0,Lt=Ot=at=null,Cc=!1,Gc=0,$0.current=null,r===null||r.return===null){Tt=1,eu=e,Ct=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=Jt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Wx(o);if(p!==null){p.flags&=-257,Kx(p,o,a,i,e),p.mode&1&&qx(i,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){qx(i,c,e),H0();break e}l=Error($(426))}}else if(nt&&a.mode&1){var x=Wx(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Kx(x,o,a,i,e),_0(fl(l,a));break e}}i=l=fl(l,a),Tt!==4&&(Tt=2),Oc===null?Oc=[i]:Oc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=Qk(i,l,e);$x(i,v);break e;case 1:a=l;var g=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Oi===null||!Oi.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=Zk(i,a,e);$x(i,S);break e}}i=i.return}while(i!==null)}m_(r)}catch(j){e=j,Ct===r&&r!==null&&(Ct=r=r.return);continue}break}while(!0)}function h_(){var t=Hf.current;return Hf.current=Uf,t===null?Uf:t}function H0(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),$t===null||!(Do&268435455)&&!(Vh&268435455)||ni($t,Jt)}function Kf(t,e){var r=Le;Le|=2;var n=h_();($t!==t||Jt!==e)&&(bs=null,_o(t,e));do try{Hj();break}catch(s){f_(t,s)}while(!0);if(C0(),Le=r,Hf.current=n,Ct!==null)throw Error($(261));return $t=null,Jt=0,Tt}function Hj(){for(;Ct!==null;)p_(Ct)}function qj(){for(;Ct!==null&&!gO();)p_(Ct)}function p_(t){var e=y_(t.alternate,t,Rr);t.memoizedProps=t.pendingProps,e===null?m_(t):Ct=e,$0.current=null}function m_(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Fj(r,e),r!==null){r.flags&=32767,Ct=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Tt=6,Ct=null;return}}else if(r=Lj(r,e,Rr),r!==null){Ct=r;return}if(e=e.sibling,e!==null){Ct=e;return}Ct=e=t}while(e!==null);Tt===0&&(Tt=5)}function Xi(t,e,r){var n=qe,s=ln.transition;try{ln.transition=null,qe=1,Wj(t,e,r,n)}finally{ln.transition=s,qe=n}return null}function Wj(t,e,r,n){do Fa();while(vi!==null);if(Le&6)throw Error($(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(CO(t,i),t===$t&&(Ct=$t=null,Jt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Rd||(Rd=!0,v_(Of,function(){return Fa(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ln.transition,ln.transition=null;var o=qe;qe=1;var a=Le;Le|=4,$0.current=null,zj(t,r),c_(r,t),fj(vg),Tf=!!yg,vg=yg=null,t.current=r,Bj(r),yO(),Le=a,qe=o,ln.transition=i}else t.current=r;if(Rd&&(Rd=!1,vi=t,Wf=s),i=t.pendingLanes,i===0&&(Oi=null),bO(r.stateNode),jr(t,bt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(qf)throw qf=!1,t=Fg,Fg=null,t;return Wf&1&&t.tag!==0&&Fa(),i=t.pendingLanes,i&1?t===$g?jc++:(jc=0,$g=t):jc=0,Ui(),null}function Fa(){if(vi!==null){var t=QS(Wf),e=ln.transition,r=qe;try{if(ln.transition=null,qe=16>t?16:t,vi===null)var n=!1;else{if(t=vi,vi=null,Wf=0,Le&6)throw Error($(331));var s=Le;for(Le|=4,te=t.current;te!==null;){var i=te,o=i.child;if(te.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(te=c;te!==null;){var u=te;switch(u.tag){case 0:case 11:case 15:Nc(8,u,i)}var d=u.child;if(d!==null)d.return=u,te=d;else for(;te!==null;){u=te;var h=u.sibling,p=u.return;if(o_(u),u===c){te=null;break}if(h!==null){h.return=p,te=h;break}te=p}}}var m=i.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}te=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,te=o;else e:for(;te!==null;){if(i=te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Nc(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,te=v;break e}te=i.return}}var g=t.current;for(te=g;te!==null;){o=te;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,te=b;else e:for(o=g;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Bh(9,a)}}catch(j){pt(a,a.return,j)}if(a===o){te=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,te=S;break e}te=a.return}}if(Le=s,Ui(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(Ah,t)}catch{}n=!0}return n}finally{qe=r,ln.transition=e}}return!1}function o1(t,e,r){e=fl(r,e),e=Qk(t,e,1),t=Ni(t,e,1),e=hr(),t!==null&&(Vu(t,1,e),jr(t,e))}function pt(t,e,r){if(t.tag===3)o1(t,t,r);else for(;e!==null;){if(e.tag===3){o1(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Oi===null||!Oi.has(n))){t=fl(r,t),t=Zk(e,t,1),e=Ni(e,t,1),t=hr(),e!==null&&(Vu(e,1,t),jr(e,t));break}}e=e.return}}function Kj(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=hr(),t.pingedLanes|=t.suspendedLanes&r,$t===t&&(Jt&r)===r&&(Tt===4||Tt===3&&(Jt&130023424)===Jt&&500>bt()-B0?_o(t,0):z0|=r),jr(t,e)}function g_(t,e){e===0&&(t.mode&1?(e=Ed,Ed<<=1,!(Ed&130023424)&&(Ed=4194304)):e=1);var r=hr();t=Ms(t,e),t!==null&&(Vu(t,e,r),jr(t,r))}function Jj(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),g_(t,r)}function Qj(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error($(314))}n!==null&&n.delete(e),g_(t,r)}var y_;y_=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Nr.current)Er=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Er=!1,Dj(t,e,r);Er=!!(t.flags&131072)}else Er=!1,nt&&e.flags&1048576&&wk(e,Lf,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;cf(t,e),t=e.pendingProps;var s=ll(e,nr.current);La(e,r),s=I0(null,e,n,t,s,r);var i=R0();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Or(n)?(i=!0,Rf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,j0(e),s.updater=zh,e.stateNode=s,s._reactInternals=e,Ng(e,n,t,r),e=Tg(null,e,n,!0,i,r)):(e.tag=0,nt&&i&&S0(e),dr(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(cf(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Gj(n),t=vn(n,t),s){case 0:e=jg(null,e,n,t,r);break e;case 1:e=Zx(null,e,n,t,r);break e;case 11:e=Jx(null,e,n,t,r);break e;case 14:e=Qx(null,e,n,vn(n.type,t),r);break e}throw Error($(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:vn(n,s),jg(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:vn(n,s),Zx(t,e,n,s,r);case 3:e:{if(e_(e),t===null)throw Error($(387));n=e.pendingProps,i=e.memoizedState,s=i.element,Nk(t,e),zf(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=fl(Error($(423)),e),e=Gx(t,e,n,r,s);break e}else if(n!==s){s=fl(Error($(424)),e),e=Gx(t,e,n,r,s);break e}else for(zr=Ci(e.stateNode.containerInfo.firstChild),Vr=e,nt=!0,En=null,r=Ek(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(cl(),n===s){e=As(t,e,r);break e}dr(t,e,n,r)}e=e.child}return e;case 5:return Ok(e),t===null&&_g(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,xg(n,s)?o=null:i!==null&&xg(n,i)&&(e.flags|=32),Xk(t,e),dr(t,e,o,r),e.child;case 6:return t===null&&_g(e),null;case 13:return t_(t,e,r);case 4:return T0(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ul(e,null,n,r):dr(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:vn(n,s),Jx(t,e,n,s,r);case 7:return dr(t,e,e.pendingProps,r),e.child;case 8:return dr(t,e,e.pendingProps.children,r),e.child;case 12:return dr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ge(Ff,n._currentValue),n._currentValue=o,i!==null)if(Dn(i.value,o)){if(i.children===s.children&&!Nr.current){e=As(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Cs(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Eg(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error($(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Eg(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}dr(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,La(e,r),s=dn(s),n=n(s),e.flags|=1,dr(t,e,n,r),e.child;case 14:return n=e.type,s=vn(n,e.pendingProps),s=vn(n.type,s),Qx(t,e,n,s,r);case 15:return Gk(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:vn(n,s),cf(t,e),e.tag=1,Or(n)?(t=!0,Rf(e)):t=!1,La(e,r),Jk(e,n,s),Ng(e,n,s,r),Tg(null,e,n,!0,t,r);case 19:return r_(t,e,r);case 22:return Yk(t,e,r)}throw Error($(156,e.tag))};function v_(t,e){return qS(t,e)}function Zj(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,e,r,n){return new Zj(t,e,r,n)}function q0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gj(t){if(typeof t=="function")return q0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===u0)return 11;if(t===d0)return 14}return 2}function Ti(t,e){var r=t.alternate;return r===null?(r=on(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ff(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")q0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ya:return Eo(r.children,s,i,e);case c0:o=8,s|=8;break;case Gm:return t=on(12,r,e,s|2),t.elementType=Gm,t.lanes=i,t;case Ym:return t=on(13,r,e,s),t.elementType=Ym,t.lanes=i,t;case Xm:return t=on(19,r,e,s),t.elementType=Xm,t.lanes=i,t;case OS:return Uh(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case CS:o=10;break e;case NS:o=9;break e;case u0:o=11;break e;case d0:o=14;break e;case Gs:o=16,n=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=on(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Eo(t,e,r,n){return t=on(7,t,n,e),t.lanes=r,t}function Uh(t,e,r,n){return t=on(22,t,n,e),t.elementType=OS,t.lanes=r,t.stateNode={isHidden:!1},t}function Zp(t,e,r){return t=on(6,t,null,e),t.lanes=r,t}function Gp(t,e,r){return e=on(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Yj(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pp(0),this.expirationTimes=Pp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pp(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function W0(t,e,r,n,s,i,o,a,l){return t=new Yj(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=on(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},j0(i),t}function Xj(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ga,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function x_(t){if(!t)return Ri;t=t._reactInternals;e:{if(Ko(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Or(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var r=t.type;if(Or(r))return xk(t,r,e)}return e}function b_(t,e,r,n,s,i,o,a,l){return t=W0(r,n,!0,t,s,i,o,a,l),t.context=x_(null),r=t.current,n=hr(),s=ji(r),i=Cs(n,s),i.callback=e??null,Ni(r,i,s),t.current.lanes=s,Vu(t,s,n),jr(t,n),t}function Hh(t,e,r,n){var s=e.current,i=hr(),o=ji(s);return r=x_(r),e.context===null?e.context=r:e.pendingContext=r,e=Cs(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ni(s,e,o),t!==null&&(An(t,s,o,i),of(t,s,o)),o}function Jf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function a1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function K0(t,e){a1(t,e),(t=t.alternate)&&a1(t,e)}function eT(){return null}var w_=typeof reportError=="function"?reportError:function(t){console.error(t)};function J0(t){this._internalRoot=t}qh.prototype.render=J0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));Hh(t,e,null,null)};qh.prototype.unmount=J0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Lo(function(){Hh(null,t,null,null)}),e[Ps]=null}};function qh(t){this._internalRoot=t}qh.prototype.unstable_scheduleHydration=function(t){if(t){var e=YS();t={blockedOn:null,target:t,priority:e};for(var r=0;r<ri.length&&e!==0&&e<ri[r].priority;r++);ri.splice(r,0,t),r===0&&ek(t)}};function Q0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function l1(){}function tT(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Jf(o);i.call(c)}}var o=b_(e,n,t,0,null,!1,!1,"",l1);return t._reactRootContainer=o,t[Ps]=o.current,Wc(t.nodeType===8?t.parentNode:t),Lo(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=Jf(l);a.call(c)}}var l=W0(t,0,!1,null,null,!1,!1,"",l1);return t._reactRootContainer=l,t[Ps]=l.current,Wc(t.nodeType===8?t.parentNode:t),Lo(function(){Hh(e,l,r,n)}),l}function Kh(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Jf(o);a.call(l)}}Hh(e,o,t,s)}else o=tT(r,e,t,s,n);return Jf(o)}ZS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=dc(e.pendingLanes);r!==0&&(p0(e,r|1),jr(e,bt()),!(Le&6)&&(hl=bt()+500,Ui()))}break;case 13:Lo(function(){var n=Ms(t,1);if(n!==null){var s=hr();An(n,t,1,s)}}),K0(t,1)}};m0=function(t){if(t.tag===13){var e=Ms(t,134217728);if(e!==null){var r=hr();An(e,t,134217728,r)}K0(t,134217728)}};GS=function(t){if(t.tag===13){var e=ji(t),r=Ms(t,e);if(r!==null){var n=hr();An(r,t,e,n)}K0(t,e)}};YS=function(){return qe};XS=function(t,e){var r=qe;try{return qe=t,e()}finally{qe=r}};cg=function(t,e,r){switch(e){case"input":if(rg(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Lh(n);if(!s)throw Error($(90));TS(n),rg(n,s)}}}break;case"textarea":MS(t,r);break;case"select":e=r.value,e!=null&&Aa(t,!!r.multiple,e,!1)}};$S=V0;zS=Lo;var rT={usingClientEntryPoint:!1,Events:[Hu,wa,Lh,LS,FS,V0]},Yl={findFiberByHostInstance:io,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nT={bundleType:Yl.bundleType,version:Yl.version,rendererPackageName:Yl.rendererPackageName,rendererConfig:Yl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=US(t),t===null?null:t.stateNode},findFiberByHostInstance:Yl.findFiberByHostInstance||eT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dd.isDisabled&&Dd.supportsFiber)try{Ah=Dd.inject(nT),Yn=Dd}catch{}}Jr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rT;Jr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Q0(e))throw Error($(200));return Xj(t,e,null,r)};Jr.createRoot=function(t,e){if(!Q0(t))throw Error($(299));var r=!1,n="",s=w_;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=W0(t,1,!1,null,null,r,!1,n,s),t[Ps]=e.current,Wc(t.nodeType===8?t.parentNode:t),new J0(e)};Jr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=US(e),t=t===null?null:t.stateNode,t};Jr.flushSync=function(t){return Lo(t)};Jr.hydrate=function(t,e,r){if(!Wh(e))throw Error($(200));return Kh(null,t,e,!0,r)};Jr.hydrateRoot=function(t,e,r){if(!Q0(t))throw Error($(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=w_;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=b_(e,null,t,1,r??null,s,!1,i,o),t[Ps]=e.current,Wc(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new qh(e)};Jr.render=function(t,e,r){if(!Wh(e))throw Error($(200));return Kh(null,t,e,!1,r)};Jr.unmountComponentAtNode=function(t){if(!Wh(t))throw Error($(40));return t._reactRootContainer?(Lo(function(){Kh(null,null,t,!1,function(){t._reactRootContainer=null,t[Ps]=null})}),!0):!1};Jr.unstable_batchedUpdates=V0;Jr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Wh(r))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return Kh(t,e,r,!1,n)};Jr.version="18.3.1-next-f1338f8080-20240426";function S_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(S_)}catch(t){console.error(t)}}S_(),SS.exports=Jr;var Z0=SS.exports;const k_=t0(Z0),sT=uS({__proto__:null,default:k_},[Z0]);var __,c1=Z0;__=c1.createRoot,c1.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function it(){return it=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},it.apply(this,arguments)}var Et;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Et||(Et={}));const u1="popstate";function iT(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:o,hash:a}=n.location;return tu("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Fo(s)}return aT(e,r,null,t)}function Ee(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pl(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oT(){return Math.random().toString(36).substr(2,8)}function d1(t,e){return{usr:t.state,key:t.key,idx:e}}function tu(t,e,r,n){return r===void 0&&(r=null),it({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Hi(e):e,{state:r,key:e&&e.key||n||oT()})}function Fo(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Hi(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function aT(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=Et.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(it({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Et.Pop;let x=u(),v=x==null?null:x-c;c=x,l&&l({action:a,location:y.location,delta:v})}function h(x,v){a=Et.Push;let g=tu(y.location,x,v);c=u()+1;let b=d1(g,c),S=y.createHref(g);try{o.pushState(b,"",S)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(S)}i&&l&&l({action:a,location:y.location,delta:1})}function p(x,v){a=Et.Replace;let g=tu(y.location,x,v);c=u();let b=d1(g,c),S=y.createHref(g);o.replaceState(b,"",S),i&&l&&l({action:a,location:y.location,delta:0})}function m(x){let v=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof x=="string"?x:Fo(x);return g=g.replace(/ $/,"%20"),Ee(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let y={get action(){return a},get location(){return t(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(u1,d),l=x,()=>{s.removeEventListener(u1,d),l=null}},createHref(x){return e(s,x)},createURL:m,encodeLocation(x){let v=m(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(x){return o.go(x)}};return y}var We;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(We||(We={}));const lT=new Set(["lazy","caseSensitive","path","id","index","children"]);function cT(t){return t.index===!0}function ru(t,e,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),t.map((s,i)=>{let o=[...r,String(i)],a=typeof s.id=="string"?s.id:o.join("-");if(Ee(s.index!==!0||!s.children,"Cannot specify children on an index route"),Ee(!n[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),cT(s)){let l=it({},s,e(s),{id:a});return n[a]=l,l}else{let l=it({},s,e(s),{id:a,children:void 0});return n[a]=l,s.children&&(l.children=ru(s.children,e,o,n)),l}})}function to(t,e,r){return r===void 0&&(r="/"),hf(t,e,r,!1)}function hf(t,e,r,n){let s=typeof e=="string"?Hi(e):e,i=Is(s.pathname||"/",r);if(i==null)return null;let o=E_(t);dT(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=ST(i);a=bT(o[l],c,n)}return a}function uT(t,e){let{route:r,pathname:n,params:s}=t;return{id:r.id,pathname:n,params:s,data:e[r.id],handle:r.handle}}function E_(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Ee(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Ns([n,l.relativePath]),u=r.concat(l);i.children&&i.children.length>0&&(Ee(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),E_(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:vT(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of C_(i.path))s(i,o,l)}),e}function C_(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=C_(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function dT(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:xT(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const fT=/^:[\w-]+$/,hT=3,pT=2,mT=1,gT=10,yT=-2,f1=t=>t==="*";function vT(t,e){let r=t.split("/"),n=r.length;return r.some(f1)&&(n+=yT),e&&(n+=pT),r.filter(s=>!f1(s)).reduce((s,i)=>s+(fT.test(i)?hT:i===""?mT:gT),n)}function xT(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function bT(t,e,r){r===void 0&&(r=!1);let{routesMeta:n}=t,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=Qf({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&r&&!n[n.length-1].route.index&&(d=Qf({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Ns([i,d.pathname]),pathnameBase:ET(Ns([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Ns([i,d.pathnameBase]))}return o}function Qf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=wT(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((c,u,d)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let y=a[d]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[d];return p&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function wT(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),pl(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function ST(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pl(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Is(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function kT(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Hi(t):t;return{pathname:r?r.startsWith("/")?r:_T(r,e):e,search:CT(n),hash:NT(s)}}function _T(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Yp(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function N_(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Jh(t,e){let r=N_(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Qh(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=Hi(t):(s=it({},t),Ee(!s.pathname||!s.pathname.includes("?"),Yp("?","pathname","search",s)),Ee(!s.pathname||!s.pathname.includes("#"),Yp("#","pathname","hash",s)),Ee(!s.search||!s.search.includes("#"),Yp("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let d=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=kT(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Ns=t=>t.join("/").replace(/\/\/+/g,"/"),ET=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),CT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,NT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Zf{constructor(e,r,n,s){s===void 0&&(s=!1),this.status=e,this.statusText=r||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function Zh(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const O_=["post","put","patch","delete"],OT=new Set(O_),jT=["get",...O_],TT=new Set(jT),PT=new Set([301,302,303,307,308]),MT=new Set([307,308]),Xp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},AT={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Xl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},G0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,IT=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),j_="remix-router-transitions";function RT(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!r;Ee(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(t.mapRouteProperties)s=t.mapRouteProperties;else if(t.detectErrorBoundary){let _=t.detectErrorBoundary;s=O=>({hasErrorBoundary:_(O)})}else s=IT;let i={},o=ru(t.routes,s,void 0,i),a,l=t.basename||"/",c=t.unstable_dataStrategy||BT,u=t.unstable_patchRoutesOnNavigation,d=it({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),h=null,p=new Set,m=1e3,y=new Set,x=null,v=null,g=null,b=t.hydrationData!=null,S=to(o,t.history.location,l),j=null;if(S==null&&!u){let _=ur(404,{pathname:t.history.location.pathname}),{matches:O,route:A}=w1(o);S=O,j={[A.id]:_}}S&&!t.hydrationData&&hd(S,o,t.history.location.pathname).active&&(S=null);let N;if(S)if(S.some(_=>_.route.lazy))N=!1;else if(!S.some(_=>_.route.loader))N=!0;else if(d.v7_partialHydration){let _=t.hydrationData?t.hydrationData.loaderData:null,O=t.hydrationData?t.hydrationData.errors:null,A=D=>D.route.loader?typeof D.route.loader=="function"&&D.route.loader.hydrate===!0?!1:_&&_[D.route.id]!==void 0||O&&O[D.route.id]!==void 0:!0;if(O){let D=S.findIndex(ee=>O[ee.route.id]!==void 0);N=S.slice(0,D+1).every(A)}else N=S.every(A)}else N=t.hydrationData!=null;else if(N=!1,S=[],d.v7_partialHydration){let _=hd(null,o,t.history.location.pathname);_.active&&_.matches&&(S=_.matches)}let T,w={historyAction:t.history.action,location:t.history.location,matches:S,initialized:N,navigation:Xp,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||j,fetchers:new Map,blockers:new Map},P=Et.Pop,L=!1,R,H=!1,J=new Map,le=null,ve=!1,we=!1,$e=[],V=new Set,K=new Map,se=0,Te=-1,Ne=new Map,vt=new Set,St=new Map,ar=new Map,ct=new Set,At=new Map,Zr=new Map,Ll=new Map,Zi;function Fl(){if(h=t.history.listen(_=>{let{action:O,location:A,delta:D}=_;if(Zi){Zi(),Zi=void 0;return}pl(Zr.size===0||D!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ee=Qv({currentLocation:w.location,nextLocation:A,historyAction:O});if(ee&&D!=null){let ue=new Promise(xe=>{Zi=xe});t.history.go(D*-1),dd(ee,{state:"blocked",location:A,proceed(){dd(ee,{state:"proceeding",proceed:void 0,reset:void 0,location:A}),ue.then(()=>t.history.go(D))},reset(){let xe=new Map(w.blockers);xe.set(ee,Xl),It({blockers:xe})}});return}return ds(O,A)}),r){rP(e,J);let _=()=>nP(e,J);e.addEventListener("pagehide",_),le=()=>e.removeEventListener("pagehide",_)}return w.initialized||ds(Et.Pop,w.location,{initialHydration:!0}),T}function ad(){h&&h(),le&&le(),p.clear(),R&&R.abort(),w.fetchers.forEach((_,O)=>Bs(O)),w.blockers.forEach((_,O)=>Jv(O))}function wp(_){return p.add(_),()=>p.delete(_)}function It(_,O){O===void 0&&(O={}),w=it({},w,_);let A=[],D=[];d.v7_fetcherPersist&&w.fetchers.forEach((ee,ue)=>{ee.state==="idle"&&(ct.has(ue)?D.push(ue):A.push(ue))}),[...p].forEach(ee=>ee(w,{deletedFetchers:D,unstable_viewTransitionOpts:O.viewTransitionOpts,unstable_flushSync:O.flushSync===!0})),d.v7_fetcherPersist&&(A.forEach(ee=>w.fetchers.delete(ee)),D.forEach(ee=>Bs(ee)))}function zs(_,O,A){var D,ee;let{flushSync:ue}=A===void 0?{}:A,xe=w.actionData!=null&&w.navigation.formMethod!=null&&Sn(w.navigation.formMethod)&&w.navigation.state==="loading"&&((D=_.state)==null?void 0:D._isRedirect)!==!0,W;O.actionData?Object.keys(O.actionData).length>0?W=O.actionData:W=null:xe?W=w.actionData:W=null;let pe=O.loaderData?x1(w.loaderData,O.loaderData,O.matches||[],O.errors):w.loaderData,ie=w.blockers;ie.size>0&&(ie=new Map(ie),ie.forEach((He,Ye)=>ie.set(Ye,Xl)));let oe=L===!0||w.navigation.formMethod!=null&&Sn(w.navigation.formMethod)&&((ee=_.state)==null?void 0:ee._isRedirect)!==!0;a&&(o=a,a=void 0),ve||P===Et.Pop||(P===Et.Push?t.history.push(_,_.state):P===Et.Replace&&t.history.replace(_,_.state));let ze;if(P===Et.Pop){let He=J.get(w.location.pathname);He&&He.has(_.pathname)?ze={currentLocation:w.location,nextLocation:_}:J.has(_.pathname)&&(ze={currentLocation:_,nextLocation:w.location})}else if(H){let He=J.get(w.location.pathname);He?He.add(_.pathname):(He=new Set([_.pathname]),J.set(w.location.pathname,He)),ze={currentLocation:w.location,nextLocation:_}}It(it({},O,{actionData:W,loaderData:pe,historyAction:P,location:_,initialized:!0,navigation:Xp,revalidation:"idle",restoreScrollPosition:Gv(_,O.matches||w.matches),preventScrollReset:oe,blockers:ie}),{viewTransitionOpts:ze,flushSync:ue===!0}),P=Et.Pop,L=!1,H=!1,ve=!1,we=!1,$e=[]}async function $l(_,O){if(typeof _=="number"){t.history.go(_);return}let A=Vg(w.location,w.matches,l,d.v7_prependBasename,_,d.v7_relativeSplatPath,O==null?void 0:O.fromRouteId,O==null?void 0:O.relative),{path:D,submission:ee,error:ue}=h1(d.v7_normalizeFormMethod,!1,A,O),xe=w.location,W=tu(w.location,D,O&&O.state);W=it({},W,t.history.encodeLocation(W));let pe=O&&O.replace!=null?O.replace:void 0,ie=Et.Push;pe===!0?ie=Et.Replace:pe===!1||ee!=null&&Sn(ee.formMethod)&&ee.formAction===w.location.pathname+w.location.search&&(ie=Et.Replace);let oe=O&&"preventScrollReset"in O?O.preventScrollReset===!0:void 0,ze=(O&&O.unstable_flushSync)===!0,He=Qv({currentLocation:xe,nextLocation:W,historyAction:ie});if(He){dd(He,{state:"blocked",location:W,proceed(){dd(He,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),$l(_,O)},reset(){let Ye=new Map(w.blockers);Ye.set(He,Xl),It({blockers:Ye})}});return}return await ds(ie,W,{submission:ee,pendingError:ue,preventScrollReset:oe,replace:O&&O.replace,enableViewTransition:O&&O.unstable_viewTransition,flushSync:ze})}function ld(){if(Me(),It({revalidation:"loading"}),w.navigation.state!=="submitting"){if(w.navigation.state==="idle"){ds(w.historyAction,w.location,{startUninterruptedRevalidation:!0});return}ds(P||w.historyAction,w.navigation.location,{overrideNavigation:w.navigation,enableViewTransition:H===!0})}}async function ds(_,O,A){R&&R.abort(),R=null,P=_,ve=(A&&A.startUninterruptedRevalidation)===!0,NN(w.location,w.matches),L=(A&&A.preventScrollReset)===!0,H=(A&&A.enableViewTransition)===!0;let D=a||o,ee=A&&A.overrideNavigation,ue=to(D,O,l),xe=(A&&A.flushSync)===!0,W=hd(ue,D,O.pathname);if(W.active&&W.matches&&(ue=W.matches),!ue){let{error:De,notFoundMatches:Rt,route:kt}=kp(O.pathname);zs(O,{matches:Rt,loaderData:{},errors:{[kt.id]:De}},{flushSync:xe});return}if(w.initialized&&!we&&KT(w.location,O)&&!(A&&A.submission&&Sn(A.submission.formMethod))){zs(O,{matches:ue},{flushSync:xe});return}R=new AbortController;let pe=sa(t.history,O,R.signal,A&&A.submission),ie;if(A&&A.pendingError)ie=[Oa(ue).route.id,{type:We.error,error:A.pendingError}];else if(A&&A.submission&&Sn(A.submission.formMethod)){let De=await Sp(pe,O,A.submission,ue,W.active,{replace:A.replace,flushSync:xe});if(De.shortCircuited)return;if(De.pendingActionResult){let[Rt,kt]=De.pendingActionResult;if(Dr(kt)&&Zh(kt.error)&&kt.error.status===404){R=null,zs(O,{matches:De.matches,loaderData:{},errors:{[Rt]:kt.error}});return}}ue=De.matches||ue,ie=De.pendingActionResult,ee=em(O,A.submission),xe=!1,W.active=!1,pe=sa(t.history,pe.url,pe.signal)}let{shortCircuited:oe,matches:ze,loaderData:He,errors:Ye}=await Kv(pe,O,ue,W.active,ee,A&&A.submission,A&&A.fetcherSubmission,A&&A.replace,A&&A.initialHydration===!0,xe,ie);oe||(R=null,zs(O,it({matches:ze||ue},b1(ie),{loaderData:He,errors:Ye})))}async function Sp(_,O,A,D,ee,ue){ue===void 0&&(ue={}),Me();let xe=eP(O,A);if(It({navigation:xe},{flushSync:ue.flushSync===!0}),ee){let ie=await pd(D,O.pathname,_.signal);if(ie.type==="aborted")return{shortCircuited:!0};if(ie.type==="error"){let{boundaryId:oe,error:ze}=fd(O.pathname,ie);return{matches:ie.partialMatches,pendingActionResult:[oe,{type:We.error,error:ze}]}}else if(ie.matches)D=ie.matches;else{let{notFoundMatches:oe,error:ze,route:He}=kp(O.pathname);return{matches:oe,pendingActionResult:[He.id,{type:We.error,error:ze}]}}}let W,pe=hc(D,O);if(!pe.route.action&&!pe.route.lazy)W={type:We.error,error:ur(405,{method:_.method,pathname:O.pathname,routeId:pe.route.id})};else if(W=(await z("action",w,_,[pe],D,null))[pe.route.id],_.signal.aborted)return{shortCircuited:!0};if(lo(W)){let ie;return ue&&ue.replace!=null?ie=ue.replace:ie=g1(W.response.headers.get("Location"),new URL(_.url),l)===w.location.pathname+w.location.search,await U(_,W,!0,{submission:A,replace:ie}),{shortCircuited:!0}}if(xi(W))throw ur(400,{type:"defer-action"});if(Dr(W)){let ie=Oa(D,pe.route.id);return(ue&&ue.replace)!==!0&&(P=Et.Push),{matches:D,pendingActionResult:[ie.route.id,W]}}return{matches:D,pendingActionResult:[pe.route.id,W]}}async function Kv(_,O,A,D,ee,ue,xe,W,pe,ie,oe){let ze=ee||em(O,ue),He=ue||xe||k1(ze),Ye=!ve&&(!d.v7_partialHydration||!pe);if(D){if(Ye){let ut=zl(oe);It(it({navigation:ze},ut!==void 0?{actionData:ut}:{}),{flushSync:ie})}let _e=await pd(A,O.pathname,_.signal);if(_e.type==="aborted")return{shortCircuited:!0};if(_e.type==="error"){let{boundaryId:ut,error:Pr}=fd(O.pathname,_e);return{matches:_e.partialMatches,loaderData:{},errors:{[ut]:Pr}}}else if(_e.matches)A=_e.matches;else{let{error:ut,notFoundMatches:Pr,route:dt}=kp(O.pathname);return{matches:Pr,loaderData:{},errors:{[dt.id]:ut}}}}let De=a||o,[Rt,kt]=p1(t.history,w,A,He,O,d.v7_partialHydration&&pe===!0,d.v7_skipActionErrorRevalidation,we,$e,V,ct,St,vt,De,l,oe);if(_p(_e=>!(A&&A.some(ut=>ut.route.id===_e))||Rt&&Rt.some(ut=>ut.route.id===_e)),Te=++se,Rt.length===0&&kt.length===0){let _e=ud();return zs(O,it({matches:A,loaderData:{},errors:oe&&Dr(oe[1])?{[oe[0]]:oe[1].error}:null},b1(oe),_e?{fetchers:new Map(w.fetchers)}:{}),{flushSync:ie}),{shortCircuited:!0}}if(Ye){let _e={};if(!D){_e.navigation=ze;let ut=zl(oe);ut!==void 0&&(_e.actionData=ut)}kt.length>0&&(_e.fetchers=E(kt)),It(_e,{flushSync:ie})}kt.forEach(_e=>{K.has(_e.key)&&$n(_e.key),_e.controller&&K.set(_e.key,_e.controller)});let Hl=()=>kt.forEach(_e=>$n(_e.key));R&&R.signal.addEventListener("abort",Hl);let{loaderResults:fs,fetcherResults:ra}=await re(w,A,Rt,kt,_);if(_.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",Hl),kt.forEach(_e=>K.delete(_e.key));let Vs=Ld(fs);if(Vs)return await U(_,Vs.result,!0,{replace:W}),{shortCircuited:!0};if(Vs=Ld(ra),Vs)return vt.add(Vs.key),await U(_,Vs.result,!0,{replace:W}),{shortCircuited:!0};let{loaderData:md,errors:hs}=v1(w,A,Rt,fs,oe,kt,ra,At);At.forEach((_e,ut)=>{_e.subscribe(Pr=>{(Pr||_e.done)&&At.delete(ut)})}),d.v7_partialHydration&&pe&&w.errors&&Object.entries(w.errors).filter(_e=>{let[ut]=_e;return!Rt.some(Pr=>Pr.route.id===ut)}).forEach(_e=>{let[ut,Pr]=_e;hs=Object.assign(hs||{},{[ut]:Pr})});let gd=ud(),yd=Ul(Te),vd=gd||yd||kt.length>0;return it({matches:A,loaderData:md,errors:hs},vd?{fetchers:new Map(w.fetchers)}:{})}function zl(_){if(_&&!Dr(_[1]))return{[_[0]]:_[1].data};if(w.actionData)return Object.keys(w.actionData).length===0?null:w.actionData}function E(_){return _.forEach(O=>{let A=w.fetchers.get(O.key),D=ec(void 0,A?A.data:void 0);w.fetchers.set(O.key,D)}),new Map(w.fetchers)}function M(_,O,A,D){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");K.has(_)&&$n(_);let ee=(D&&D.unstable_flushSync)===!0,ue=a||o,xe=Vg(w.location,w.matches,l,d.v7_prependBasename,A,d.v7_relativeSplatPath,O,D==null?void 0:D.relative),W=to(ue,xe,l),pe=hd(W,ue,xe);if(pe.active&&pe.matches&&(W=pe.matches),!W){Je(_,O,ur(404,{pathname:xe}),{flushSync:ee});return}let{path:ie,submission:oe,error:ze}=h1(d.v7_normalizeFormMethod,!0,xe,D);if(ze){Je(_,O,ze,{flushSync:ee});return}let He=hc(W,ie);if(L=(D&&D.preventScrollReset)===!0,oe&&Sn(oe.formMethod)){I(_,O,ie,He,W,pe.active,ee,oe);return}St.set(_,{routeId:O,path:ie}),Y(_,O,ie,He,W,pe.active,ee,oe)}async function I(_,O,A,D,ee,ue,xe,W){Me(),St.delete(_);function pe(dt){if(!dt.route.action&&!dt.route.lazy){let ps=ur(405,{method:W.formMethod,pathname:A,routeId:O});return Je(_,O,ps,{flushSync:xe}),!0}return!1}if(!ue&&pe(D))return;let ie=w.fetchers.get(_);Ue(_,tP(W,ie),{flushSync:xe});let oe=new AbortController,ze=sa(t.history,A,oe.signal,W);if(ue){let dt=await pd(ee,A,ze.signal);if(dt.type==="aborted")return;if(dt.type==="error"){let{error:ps}=fd(A,dt);Je(_,O,ps,{flushSync:xe});return}else if(dt.matches){if(ee=dt.matches,D=hc(ee,A),pe(D))return}else{Je(_,O,ur(404,{pathname:A}),{flushSync:xe});return}}K.set(_,oe);let He=se,De=(await z("action",w,ze,[D],ee,_))[D.route.id];if(ze.signal.aborted){K.get(_)===oe&&K.delete(_);return}if(d.v7_fetcherPersist&&ct.has(_)){if(lo(De)||Dr(De)){Ue(_,Ws(void 0));return}}else{if(lo(De))if(K.delete(_),Te>He){Ue(_,Ws(void 0));return}else return vt.add(_),Ue(_,ec(W)),U(ze,De,!1,{fetcherSubmission:W});if(Dr(De)){Je(_,O,De.error);return}}if(xi(De))throw ur(400,{type:"defer-action"});let Rt=w.navigation.location||w.location,kt=sa(t.history,Rt,oe.signal),Hl=a||o,fs=w.navigation.state!=="idle"?to(Hl,w.navigation.location,l):w.matches;Ee(fs,"Didn't find any matches after fetcher action");let ra=++se;Ne.set(_,ra);let Vs=ec(W,De.data);w.fetchers.set(_,Vs);let[md,hs]=p1(t.history,w,fs,W,Rt,!1,d.v7_skipActionErrorRevalidation,we,$e,V,ct,St,vt,Hl,l,[D.route.id,De]);hs.filter(dt=>dt.key!==_).forEach(dt=>{let ps=dt.key,Xv=w.fetchers.get(ps),TN=ec(void 0,Xv?Xv.data:void 0);w.fetchers.set(ps,TN),K.has(ps)&&$n(ps),dt.controller&&K.set(ps,dt.controller)}),It({fetchers:new Map(w.fetchers)});let gd=()=>hs.forEach(dt=>$n(dt.key));oe.signal.addEventListener("abort",gd);let{loaderResults:yd,fetcherResults:vd}=await re(w,fs,md,hs,kt);if(oe.signal.aborted)return;oe.signal.removeEventListener("abort",gd),Ne.delete(_),K.delete(_),hs.forEach(dt=>K.delete(dt.key));let _e=Ld(yd);if(_e)return U(kt,_e.result,!1);if(_e=Ld(vd),_e)return vt.add(_e.key),U(kt,_e.result,!1);let{loaderData:ut,errors:Pr}=v1(w,fs,md,yd,void 0,hs,vd,At);if(w.fetchers.has(_)){let dt=Ws(De.data);w.fetchers.set(_,dt)}Ul(ra),w.navigation.state==="loading"&&ra>Te?(Ee(P,"Expected pending action"),R&&R.abort(),zs(w.navigation.location,{matches:fs,loaderData:ut,errors:Pr,fetchers:new Map(w.fetchers)})):(It({errors:Pr,loaderData:x1(w.loaderData,ut,fs,Pr),fetchers:new Map(w.fetchers)}),we=!1)}async function Y(_,O,A,D,ee,ue,xe,W){let pe=w.fetchers.get(_);Ue(_,ec(W,pe?pe.data:void 0),{flushSync:xe});let ie=new AbortController,oe=sa(t.history,A,ie.signal);if(ue){let De=await pd(ee,A,oe.signal);if(De.type==="aborted")return;if(De.type==="error"){let{error:Rt}=fd(A,De);Je(_,O,Rt,{flushSync:xe});return}else if(De.matches)ee=De.matches,D=hc(ee,A);else{Je(_,O,ur(404,{pathname:A}),{flushSync:xe});return}}K.set(_,ie);let ze=se,Ye=(await z("loader",w,oe,[D],ee,_))[D.route.id];if(xi(Ye)&&(Ye=await Y0(Ye,oe.signal,!0)||Ye),K.get(_)===ie&&K.delete(_),!oe.signal.aborted){if(ct.has(_)){Ue(_,Ws(void 0));return}if(lo(Ye))if(Te>ze){Ue(_,Ws(void 0));return}else{vt.add(_),await U(oe,Ye,!1);return}if(Dr(Ye)){Je(_,O,Ye.error);return}Ee(!xi(Ye),"Unhandled fetcher deferred data"),Ue(_,Ws(Ye.data))}}async function U(_,O,A,D){let{submission:ee,fetcherSubmission:ue,replace:xe}=D===void 0?{}:D;O.response.headers.has("X-Remix-Revalidate")&&(we=!0);let W=O.response.headers.get("Location");Ee(W,"Expected a Location header on the redirect Response"),W=g1(W,new URL(_.url),l);let pe=tu(w.location,W,{_isRedirect:!0});if(r){let De=!1;if(O.response.headers.has("X-Remix-Reload-Document"))De=!0;else if(G0.test(W)){const Rt=t.history.createURL(W);De=Rt.origin!==e.location.origin||Is(Rt.pathname,l)==null}if(De){xe?e.location.replace(W):e.location.assign(W);return}}R=null;let ie=xe===!0||O.response.headers.has("X-Remix-Replace")?Et.Replace:Et.Push,{formMethod:oe,formAction:ze,formEncType:He}=w.navigation;!ee&&!ue&&oe&&ze&&He&&(ee=k1(w.navigation));let Ye=ee||ue;if(MT.has(O.response.status)&&Ye&&Sn(Ye.formMethod))await ds(ie,pe,{submission:it({},Ye,{formAction:W}),preventScrollReset:L,enableViewTransition:A?H:void 0});else{let De=em(pe,ee);await ds(ie,pe,{overrideNavigation:De,fetcherSubmission:ue,preventScrollReset:L,enableViewTransition:A?H:void 0})}}async function z(_,O,A,D,ee,ue){let xe,W={};try{xe=await VT(c,_,O,A,D,ee,ue,i,s)}catch(pe){return D.forEach(ie=>{W[ie.route.id]={type:We.error,error:pe}}),W}for(let[pe,ie]of Object.entries(xe))if(QT(ie)){let oe=ie.result;W[pe]={type:We.redirect,response:qT(oe,A,pe,ee,l,d.v7_relativeSplatPath)}}else W[pe]=await HT(ie);return W}async function re(_,O,A,D,ee){let ue=_.matches,xe=z("loader",_,ee,A,O,null),W=Promise.all(D.map(async oe=>{if(oe.matches&&oe.match&&oe.controller){let He=(await z("loader",_,sa(t.history,oe.path,oe.controller.signal),[oe.match],oe.matches,oe.key))[oe.match.route.id];return{[oe.key]:He}}else return Promise.resolve({[oe.key]:{type:We.error,error:ur(404,{pathname:oe.path})}})})),pe=await xe,ie=(await W).reduce((oe,ze)=>Object.assign(oe,ze),{});return await Promise.all([YT(O,pe,ee.signal,ue,_.loaderData),XT(O,ie,D)]),{loaderResults:pe,fetcherResults:ie}}function Me(){we=!0,$e.push(..._p()),St.forEach((_,O)=>{K.has(O)&&(V.add(O),$n(O))})}function Ue(_,O,A){A===void 0&&(A={}),w.fetchers.set(_,O),It({fetchers:new Map(w.fetchers)},{flushSync:(A&&A.flushSync)===!0})}function Je(_,O,A,D){D===void 0&&(D={});let ee=Oa(w.matches,O);Bs(_),It({errors:{[ee.route.id]:A},fetchers:new Map(w.fetchers)},{flushSync:(D&&D.flushSync)===!0})}function cd(_){return d.v7_fetcherPersist&&(ar.set(_,(ar.get(_)||0)+1),ct.has(_)&&ct.delete(_)),w.fetchers.get(_)||AT}function Bs(_){let O=w.fetchers.get(_);K.has(_)&&!(O&&O.state==="loading"&&Ne.has(_))&&$n(_),St.delete(_),Ne.delete(_),vt.delete(_),ct.delete(_),V.delete(_),w.fetchers.delete(_)}function Bl(_){if(d.v7_fetcherPersist){let O=(ar.get(_)||0)-1;O<=0?(ar.delete(_),ct.add(_)):ar.set(_,O)}else Bs(_);It({fetchers:new Map(w.fetchers)})}function $n(_){let O=K.get(_);Ee(O,"Expected fetch controller: "+_),O.abort(),K.delete(_)}function Vl(_){for(let O of _){let A=cd(O),D=Ws(A.data);w.fetchers.set(O,D)}}function ud(){let _=[],O=!1;for(let A of vt){let D=w.fetchers.get(A);Ee(D,"Expected fetcher: "+A),D.state==="loading"&&(vt.delete(A),_.push(A),O=!0)}return Vl(_),O}function Ul(_){let O=[];for(let[A,D]of Ne)if(D<_){let ee=w.fetchers.get(A);Ee(ee,"Expected fetcher: "+A),ee.state==="loading"&&($n(A),Ne.delete(A),O.push(A))}return Vl(O),O.length>0}function EN(_,O){let A=w.blockers.get(_)||Xl;return Zr.get(_)!==O&&Zr.set(_,O),A}function Jv(_){w.blockers.delete(_),Zr.delete(_)}function dd(_,O){let A=w.blockers.get(_)||Xl;Ee(A.state==="unblocked"&&O.state==="blocked"||A.state==="blocked"&&O.state==="blocked"||A.state==="blocked"&&O.state==="proceeding"||A.state==="blocked"&&O.state==="unblocked"||A.state==="proceeding"&&O.state==="unblocked","Invalid blocker state transition: "+A.state+" -> "+O.state);let D=new Map(w.blockers);D.set(_,O),It({blockers:D})}function Qv(_){let{currentLocation:O,nextLocation:A,historyAction:D}=_;if(Zr.size===0)return;Zr.size>1&&pl(!1,"A router only supports one blocker at a time");let ee=Array.from(Zr.entries()),[ue,xe]=ee[ee.length-1],W=w.blockers.get(ue);if(!(W&&W.state==="proceeding")&&xe({currentLocation:O,nextLocation:A,historyAction:D}))return ue}function kp(_){let O=ur(404,{pathname:_}),A=a||o,{matches:D,route:ee}=w1(A);return _p(),{notFoundMatches:D,route:ee,error:O}}function fd(_,O){return{boundaryId:Oa(O.partialMatches).route.id,error:ur(400,{type:"route-discovery",pathname:_,message:O.error!=null&&"message"in O.error?O.error:String(O.error)})}}function _p(_){let O=[];return At.forEach((A,D)=>{(!_||_(D))&&(A.cancel(),O.push(D),At.delete(D))}),O}function CN(_,O,A){if(x=_,g=O,v=A||null,!b&&w.navigation===Xp){b=!0;let D=Gv(w.location,w.matches);D!=null&&It({restoreScrollPosition:D})}return()=>{x=null,g=null,v=null}}function Zv(_,O){return v&&v(_,O.map(D=>uT(D,w.loaderData)))||_.key}function NN(_,O){if(x&&g){let A=Zv(_,O);x[A]=g()}}function Gv(_,O){if(x){let A=Zv(_,O),D=x[A];if(typeof D=="number")return D}return null}function hd(_,O,A){if(u){if(y.has(A))return{active:!1,matches:_};if(_){if(Object.keys(_[0].params).length>0)return{active:!0,matches:hf(O,A,l,!0)}}else return{active:!0,matches:hf(O,A,l,!0)||[]}}return{active:!1,matches:null}}async function pd(_,O,A){let D=_;for(;;){let ee=a==null,ue=a||o;try{await $T(u,O,D,ue,i,s,Ll,A)}catch(pe){return{type:"error",error:pe,partialMatches:D}}finally{ee&&(o=[...o])}if(A.aborted)return{type:"aborted"};let xe=to(ue,O,l);if(xe)return Yv(O,y),{type:"success",matches:xe};let W=hf(ue,O,l,!0);if(!W||D.length===W.length&&D.every((pe,ie)=>pe.route.id===W[ie].route.id))return Yv(O,y),{type:"success",matches:null};D=W}}function Yv(_,O){if(O.size>=m){let A=O.values().next().value;O.delete(A)}O.add(_)}function ON(_){i={},a=ru(_,s,void 0,i)}function jN(_,O){let A=a==null;P_(_,O,a||o,i,s),A&&(o=[...o],It({}))}return T={get basename(){return l},get future(){return d},get state(){return w},get routes(){return o},get window(){return e},initialize:Fl,subscribe:wp,enableScrollRestoration:CN,navigate:$l,fetch:M,revalidate:ld,createHref:_=>t.history.createHref(_),encodeLocation:_=>t.history.encodeLocation(_),getFetcher:cd,deleteFetcher:Bl,dispose:ad,getBlocker:EN,deleteBlocker:Jv,patchRoutes:jN,_internalFetchControllers:K,_internalActiveDeferreds:At,_internalSetRoutes:ON},T}function DT(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Vg(t,e,r,n,s,i,o,a){let l,c;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){c=d;break}}else l=e,c=e[e.length-1];let u=Qh(s||".",Jh(l,i),Is(t.pathname,r)||t.pathname,a==="path");return s==null&&(u.search=t.search,u.hash=t.hash),(s==null||s===""||s===".")&&c&&c.route.index&&!X0(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n&&r!=="/"&&(u.pathname=u.pathname==="/"?r:Ns([r,u.pathname])),Fo(u)}function h1(t,e,r,n){if(!n||!DT(n))return{path:r};if(n.formMethod&&!GT(n.formMethod))return{path:r,error:ur(405,{method:n.formMethod})};let s=()=>({path:r,error:ur(400,{type:"invalid-body"})}),i=n.formMethod||"get",o=t?i.toUpperCase():i.toLowerCase(),a=M_(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Sn(o))return s();let h=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((p,m)=>{let[y,x]=m;return""+p+y+"="+x+`
`},""):String(n.body);return{path:r,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:void 0,text:h}}}else if(n.formEncType==="application/json"){if(!Sn(o))return s();try{let h=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:h,text:void 0}}}catch{return s()}}}Ee(typeof FormData=="function","FormData is not available in this environment");let l,c;if(n.formData)l=Ug(n.formData),c=n.formData;else if(n.body instanceof FormData)l=Ug(n.body),c=n.body;else if(n.body instanceof URLSearchParams)l=n.body,c=y1(l);else if(n.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(n.body),c=y1(l)}catch{return s()}let u={formMethod:o,formAction:a,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Sn(u.formMethod))return{path:r,submission:u};let d=Hi(r);return e&&d.search&&X0(d.search)&&l.append("index",""),d.search="?"+l,{path:Fo(d),submission:u}}function LT(t,e){let r=t;if(e){let n=t.findIndex(s=>s.route.id===e);n>=0&&(r=t.slice(0,n))}return r}function p1(t,e,r,n,s,i,o,a,l,c,u,d,h,p,m,y){let x=y?Dr(y[1])?y[1].error:y[1].data:void 0,v=t.createURL(e.location),g=t.createURL(s),b=y&&Dr(y[1])?y[0]:void 0,S=b?LT(r,b):r,j=y?y[1].statusCode:void 0,N=o&&j&&j>=400,T=S.filter((P,L)=>{let{route:R}=P;if(R.lazy)return!0;if(R.loader==null)return!1;if(i)return typeof R.loader!="function"||R.loader.hydrate?!0:e.loaderData[R.id]===void 0&&(!e.errors||e.errors[R.id]===void 0);if(FT(e.loaderData,e.matches[L],P)||l.some(le=>le===P.route.id))return!0;let H=e.matches[L],J=P;return m1(P,it({currentUrl:v,currentParams:H.params,nextUrl:g,nextParams:J.params},n,{actionResult:x,actionStatus:j,defaultShouldRevalidate:N?!1:a||v.pathname+v.search===g.pathname+g.search||v.search!==g.search||T_(H,J)}))}),w=[];return d.forEach((P,L)=>{if(i||!r.some(ve=>ve.route.id===P.routeId)||u.has(L))return;let R=to(p,P.path,m);if(!R){w.push({key:L,routeId:P.routeId,path:P.path,matches:null,match:null,controller:null});return}let H=e.fetchers.get(L),J=hc(R,P.path),le=!1;h.has(L)?le=!1:c.has(L)?(c.delete(L),le=!0):H&&H.state!=="idle"&&H.data===void 0?le=a:le=m1(J,it({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:g,nextParams:r[r.length-1].params},n,{actionResult:x,actionStatus:j,defaultShouldRevalidate:N?!1:a})),le&&w.push({key:L,routeId:P.routeId,path:P.path,matches:R,match:J,controller:new AbortController})}),[T,w]}function FT(t,e,r){let n=!e||r.route.id!==e.route.id,s=t[r.route.id]===void 0;return n||s}function T_(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function m1(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}async function $T(t,e,r,n,s,i,o,a){let l=[e,...r.map(c=>c.route.id)].join("-");try{let c=o.get(l);c||(c=t({path:e,matches:r,patch:(u,d)=>{a.aborted||P_(u,d,n,s,i)}}),o.set(l,c)),c&&JT(c)&&await c}finally{o.delete(l)}}function P_(t,e,r,n,s){if(t){var i;let o=n[t];Ee(o,"No route found to patch children into: routeId = "+t);let a=ru(e,s,[t,"patch",String(((i=o.children)==null?void 0:i.length)||"0")],n);o.children?o.children.push(...a):o.children=a}else{let o=ru(e,s,["patch",String(r.length||"0")],n);r.push(...o)}}async function zT(t,e,r){if(!t.lazy)return;let n=await t.lazy();if(!t.lazy)return;let s=r[t.id];Ee(s,"No route found in manifest");let i={};for(let o in n){let l=s[o]!==void 0&&o!=="hasErrorBoundary";pl(!l,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!lT.has(o)&&(i[o]=n[o])}Object.assign(s,i),Object.assign(s,it({},e(s),{lazy:void 0}))}async function BT(t){let{matches:e}=t,r=e.filter(s=>s.shouldLoad);return(await Promise.all(r.map(s=>s.resolve()))).reduce((s,i,o)=>Object.assign(s,{[r[o].route.id]:i}),{})}async function VT(t,e,r,n,s,i,o,a,l,c){let u=i.map(p=>p.route.lazy?zT(p.route,l,a):void 0),d=i.map((p,m)=>{let y=u[m],x=s.some(g=>g.route.id===p.route.id);return it({},p,{shouldLoad:x,resolve:async g=>(g&&n.method==="GET"&&(p.route.lazy||p.route.loader)&&(x=!0),x?UT(e,n,p,y,g,c):Promise.resolve({type:We.data,result:void 0}))})}),h=await t({matches:d,request:n,params:i[0].params,fetcherKey:o,context:c});try{await Promise.all(u)}catch{}return h}async function UT(t,e,r,n,s,i){let o,a,l=c=>{let u,d=new Promise((m,y)=>u=y);a=()=>u(),e.signal.addEventListener("abort",a);let h=m=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+r.route.id+"]"))):c({request:e,params:r.params,context:i},...m!==void 0?[m]:[]),p=(async()=>{try{return{type:"data",result:await(s?s(y=>h(y)):h())}}catch(m){return{type:"error",result:m}}})();return Promise.race([p,d])};try{let c=r.route[t];if(n)if(c){let u,[d]=await Promise.all([l(c).catch(h=>{u=h}),n]);if(u!==void 0)throw u;o=d}else if(await n,c=r.route[t],c)o=await l(c);else if(t==="action"){let u=new URL(e.url),d=u.pathname+u.search;throw ur(405,{method:e.method,pathname:d,routeId:r.route.id})}else return{type:We.data,result:void 0};else if(c)o=await l(c);else{let u=new URL(e.url),d=u.pathname+u.search;throw ur(404,{pathname:d})}Ee(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:We.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function HT(t){let{result:e,type:r}=t;if(A_(e)){let c;try{let u=e.headers.get("Content-Type");u&&/\bapplication\/json\b/.test(u)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(u){return{type:We.error,error:u}}return r===We.error?{type:We.error,error:new Zf(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:We.data,data:c,statusCode:e.status,headers:e.headers}}if(r===We.error){if(S1(e)){var n;if(e.data instanceof Error){var s;return{type:We.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status}}e=new Zf(((n=e.init)==null?void 0:n.status)||500,void 0,e.data)}return{type:We.error,error:e,statusCode:Zh(e)?e.status:void 0}}if(ZT(e)){var i,o;return{type:We.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(S1(e)){var a,l;return{type:We.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:We.data,data:e}}function qT(t,e,r,n,s,i){let o=t.headers.get("Location");if(Ee(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!G0.test(o)){let a=n.slice(0,n.findIndex(l=>l.route.id===r)+1);o=Vg(new URL(e.url),a,s,!0,o,i),t.headers.set("Location",o)}return t}function g1(t,e,r){if(G0.test(t)){let n=t,s=n.startsWith("//")?new URL(e.protocol+n):new URL(n),i=Is(s.pathname,r)!=null;if(s.origin===e.origin&&i)return s.pathname+s.search+s.hash}return t}function sa(t,e,r,n){let s=t.createURL(M_(e)).toString(),i={signal:r};if(n&&Sn(n.formMethod)){let{formMethod:o,formEncType:a}=n;i.method=o.toUpperCase(),a==="application/json"?(i.headers=new Headers({"Content-Type":a}),i.body=JSON.stringify(n.json)):a==="text/plain"?i.body=n.text:a==="application/x-www-form-urlencoded"&&n.formData?i.body=Ug(n.formData):i.body=n.formData}return new Request(s,i)}function Ug(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function y1(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function WT(t,e,r,n,s){let i={},o=null,a,l=!1,c={},u=r&&Dr(r[1])?r[1].error:void 0;return t.forEach(d=>{if(!(d.route.id in e))return;let h=d.route.id,p=e[h];if(Ee(!lo(p),"Cannot handle redirect results in processLoaderData"),Dr(p)){let m=p.error;u!==void 0&&(m=u,u=void 0),o=o||{};{let y=Oa(t,h);o[y.route.id]==null&&(o[y.route.id]=m)}i[h]=void 0,l||(l=!0,a=Zh(p.error)?p.error.status:500),p.headers&&(c[h]=p.headers)}else xi(p)?(n.set(h,p.deferredData),i[h]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(c[h]=p.headers)):(i[h]=p.data,p.statusCode&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(c[h]=p.headers))}),u!==void 0&&r&&(o={[r[0]]:u},i[r[0]]=void 0),{loaderData:i,errors:o,statusCode:a||200,loaderHeaders:c}}function v1(t,e,r,n,s,i,o,a){let{loaderData:l,errors:c}=WT(e,n,s,a);return i.forEach(u=>{let{key:d,match:h,controller:p}=u,m=o[d];if(Ee(m,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(Dr(m)){let y=Oa(t.matches,h==null?void 0:h.route.id);c&&c[y.route.id]||(c=it({},c,{[y.route.id]:m.error})),t.fetchers.delete(d)}else if(lo(m))Ee(!1,"Unhandled fetcher revalidation redirect");else if(xi(m))Ee(!1,"Unhandled fetcher deferred data");else{let y=Ws(m.data);t.fetchers.set(d,y)}}),{loaderData:l,errors:c}}function x1(t,e,r,n){let s=it({},e);for(let i of r){let o=i.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(s[o]=e[o]):t[o]!==void 0&&i.route.loader&&(s[o]=t[o]),n&&n.hasOwnProperty(o))break}return s}function b1(t){return t?Dr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Oa(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function w1(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ur(t,e){let{pathname:r,routeId:n,method:s,type:i,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i==="route-discovery"?l='Unable to match URL "'+r+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+o):s&&r&&n?l="You made a "+s+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+n+'" does not match URL "'+r+'"'):t===404?(a="Not Found",l='No route matches URL "'+r+'"'):t===405&&(a="Method Not Allowed",s&&r&&n?l="You made a "+s.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":s&&(l='Invalid request method "'+s.toUpperCase()+'"')),new Zf(t||500,a,new Error(l),!0)}function Ld(t){let e=Object.entries(t);for(let r=e.length-1;r>=0;r--){let[n,s]=e[r];if(lo(s))return{key:n,result:s}}}function M_(t){let e=typeof t=="string"?Hi(t):t;return Fo(it({},e,{hash:""}))}function KT(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function JT(t){return typeof t=="object"&&t!=null&&"then"in t}function QT(t){return A_(t.result)&&PT.has(t.result.status)}function xi(t){return t.type===We.deferred}function Dr(t){return t.type===We.error}function lo(t){return(t&&t.type)===We.redirect}function S1(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function ZT(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function A_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function GT(t){return TT.has(t.toLowerCase())}function Sn(t){return OT.has(t.toLowerCase())}async function YT(t,e,r,n,s){let i=Object.entries(e);for(let o=0;o<i.length;o++){let[a,l]=i[o],c=t.find(h=>(h==null?void 0:h.route.id)===a);if(!c)continue;let u=n.find(h=>h.route.id===c.route.id),d=u!=null&&!T_(u,c)&&(s&&s[c.route.id])!==void 0;xi(l)&&d&&await Y0(l,r,!1).then(h=>{h&&(e[a]=h)})}}async function XT(t,e,r){for(let n=0;n<r.length;n++){let{key:s,routeId:i,controller:o}=r[n],a=e[s];t.find(c=>(c==null?void 0:c.route.id)===i)&&xi(a)&&(Ee(o,"Expected an AbortController for revalidating fetcher deferred result"),await Y0(a,o.signal,!0).then(c=>{c&&(e[s]=c)}))}}async function Y0(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:We.data,data:t.deferredData.unwrappedData}}catch(s){return{type:We.error,error:s}}return{type:We.data,data:t.deferredData.data}}}function X0(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function hc(t,e){let r=typeof e=="string"?Hi(e).search:e.search;if(t[t.length-1].route.index&&X0(r||""))return t[t.length-1];let n=N_(t);return n[n.length-1]}function k1(t){let{formMethod:e,formAction:r,formEncType:n,text:s,formData:i,json:o}=t;if(!(!e||!r||!n)){if(s!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:o,text:void 0}}}function em(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function eP(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ec(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function tP(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Ws(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function rP(t,e){try{let r=t.sessionStorage.getItem(j_);if(r){let n=JSON.parse(r);for(let[s,i]of Object.entries(n||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function nP(t,e){if(e.size>0){let r={};for(let[n,s]of e)r[n]=[...s];try{t.sessionStorage.setItem(j_,JSON.stringify(r))}catch(n){pl(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gf(){return Gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gf.apply(this,arguments)}const Wu=C.createContext(null),ev=C.createContext(null),$s=C.createContext(null),tv=C.createContext(null),ls=C.createContext({outlet:null,matches:[],isDataRoute:!1}),I_=C.createContext(null);function sP(t,e){let{relative:r}=e===void 0?{}:e;Al()||Ee(!1);let{basename:n,navigator:s}=C.useContext($s),{hash:i,pathname:o,search:a}=Gh(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Ns([n,o])),s.createHref({pathname:l,search:a,hash:i})}function Al(){return C.useContext(tv)!=null}function Jo(){return Al()||Ee(!1),C.useContext(tv).location}function R_(t){C.useContext($s).static||C.useLayoutEffect(t)}function Ut(){let{isDataRoute:t}=C.useContext(ls);return t?vP():iP()}function iP(){Al()||Ee(!1);let t=C.useContext(Wu),{basename:e,future:r,navigator:n}=C.useContext($s),{matches:s}=C.useContext(ls),{pathname:i}=Jo(),o=JSON.stringify(Jh(s,r.v7_relativeSplatPath)),a=C.useRef(!1);return R_(()=>{a.current=!0}),C.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let d=Qh(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ns([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,o,i,t])}const oP=C.createContext(null);function aP(t){let e=C.useContext(ls).outlet;return e&&C.createElement(oP.Provider,{value:t},e)}function Ku(){let{matches:t}=C.useContext(ls),e=t[t.length-1];return e?e.params:{}}function Gh(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=C.useContext($s),{matches:s}=C.useContext(ls),{pathname:i}=Jo(),o=JSON.stringify(Jh(s,n.v7_relativeSplatPath));return C.useMemo(()=>Qh(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function lP(t,e,r,n){Al()||Ee(!1);let{navigator:s}=C.useContext($s),{matches:i}=C.useContext(ls),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Jo(),u;u=c;let d=u.pathname||"/",h=d;if(l!=="/"){let y=l.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=to(t,{pathname:h});return hP(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:Ns([l,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Ns([l,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,n)}function cP(){let t=yP(),e=Zh(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),r?C.createElement("pre",{style:s},r):null,null)}const uP=C.createElement(cP,null);class dP extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?C.createElement(ls.Provider,{value:this.props.routeContext},C.createElement(I_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fP(t){let{routeContext:e,match:r,children:n}=t,s=C.useContext(Wu);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),C.createElement(ls.Provider,{value:e},n)}function hP(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=(s=r)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Ee(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:p}=r,m=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let p,m=!1,y=null,x=null;r&&(p=a&&d.route.id?a[d.route.id]:void 0,y=d.route.errorElement||uP,l&&(c<0&&h===0?(xP("route-fallback"),m=!0,x=null):c===h&&(m=!0,x=d.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,h+1)),g=()=>{let b;return p?b=y:m?b=x:d.route.Component?b=C.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=u,C.createElement(fP,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:r!=null},children:b})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?C.createElement(dP,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:g(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):g()},null)}var D_=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(D_||{}),Yf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Yf||{});function pP(t){let e=C.useContext(Wu);return e||Ee(!1),e}function mP(t){let e=C.useContext(ev);return e||Ee(!1),e}function gP(t){let e=C.useContext(ls);return e||Ee(!1),e}function L_(t){let e=gP(),r=e.matches[e.matches.length-1];return r.route.id||Ee(!1),r.route.id}function yP(){var t;let e=C.useContext(I_),r=mP(Yf.UseRouteError),n=L_(Yf.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function vP(){let{router:t}=pP(D_.UseNavigateStable),e=L_(Yf.UseNavigateStable),r=C.useRef(!1);return R_(()=>{r.current=!0}),C.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Gf({fromRouteId:e},i)))},[t,e])}const _1={};function xP(t,e,r){_1[t]||(_1[t]=!0)}function Xf(t){let{to:e,replace:r,state:n,relative:s}=t;Al()||Ee(!1);let{future:i,static:o}=C.useContext($s),{matches:a}=C.useContext(ls),{pathname:l}=Jo(),c=Ut(),u=Qh(e,Jh(a,i.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(u);return C.useEffect(()=>c(JSON.parse(d),{replace:r,state:n,relative:s}),[c,d,s,r,n]),null}function rv(t){return aP(t.context)}function bP(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Et.Pop,navigator:i,static:o=!1,future:a}=t;Al()&&Ee(!1);let l=e.replace(/^\/*/,"/"),c=C.useMemo(()=>({basename:l,navigator:i,static:o,future:Gf({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=Hi(n));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:m="default"}=n,y=C.useMemo(()=>{let x=Is(u,l);return x==null?null:{location:{pathname:x,search:d,hash:h,state:p,key:m},navigationType:s}},[l,u,d,h,p,m,s]);return y==null?null:C.createElement($s.Provider,{value:c},C.createElement(tv.Provider,{children:r,value:y}))}new Promise(()=>{});function wP(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:C.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:C.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:C.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ml(){return ml=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ml.apply(this,arguments)}function F_(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function SP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function kP(t,e){return t.button===0&&(!e||e==="_self")&&!SP(t)}const _P=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],EP=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],CP="6";try{window.__reactRouterVersion=CP}catch{}function NP(t,e){return RT({basename:void 0,future:ml({},void 0,{v7_prependBasename:!0}),history:iT({window:void 0}),hydrationData:OP(),routes:t,mapRouteProperties:wP,unstable_dataStrategy:void 0,unstable_patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function OP(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=ml({},e,{errors:jP(e.errors)})),e}function jP(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,s]of e)if(s&&s.__type==="RouteErrorResponse")r[n]=new Zf(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let o=new i(s.message);o.stack="",r[n]=o}catch{}}if(r[n]==null){let i=new Error(s.message);i.stack="",r[n]=i}}else r[n]=s;return r}const $_=C.createContext({isTransitioning:!1}),TP=C.createContext(new Map),PP="startTransition",E1=KN[PP],MP="flushSync",C1=sT[MP];function AP(t){E1?E1(t):t()}function tc(t){C1?C1(t):t()}let IP=class{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}};function RP(t){let{fallbackElement:e,router:r,future:n}=t,[s,i]=C.useState(r.state),[o,a]=C.useState(),[l,c]=C.useState({isTransitioning:!1}),[u,d]=C.useState(),[h,p]=C.useState(),[m,y]=C.useState(),x=C.useRef(new Map),{v7_startTransition:v}=n||{},g=C.useCallback(w=>{v?AP(w):w()},[v]),b=C.useCallback((w,P)=>{let{deletedFetchers:L,unstable_flushSync:R,unstable_viewTransitionOpts:H}=P;L.forEach(le=>x.current.delete(le)),w.fetchers.forEach((le,ve)=>{le.data!==void 0&&x.current.set(ve,le.data)});let J=r.window==null||r.window.document==null||typeof r.window.document.startViewTransition!="function";if(!H||J){R?tc(()=>i(w)):g(()=>i(w));return}if(R){tc(()=>{h&&(u&&u.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:H.currentLocation,nextLocation:H.nextLocation})});let le=r.window.document.startViewTransition(()=>{tc(()=>i(w))});le.finished.finally(()=>{tc(()=>{d(void 0),p(void 0),a(void 0),c({isTransitioning:!1})})}),tc(()=>p(le));return}h?(u&&u.resolve(),h.skipTransition(),y({state:w,currentLocation:H.currentLocation,nextLocation:H.nextLocation})):(a(w),c({isTransitioning:!0,flushSync:!1,currentLocation:H.currentLocation,nextLocation:H.nextLocation}))},[r.window,h,u,x,g]);C.useLayoutEffect(()=>r.subscribe(b),[r,b]),C.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new IP)},[l]),C.useEffect(()=>{if(u&&o&&r.window){let w=o,P=u.promise,L=r.window.document.startViewTransition(async()=>{g(()=>i(w)),await P});L.finished.finally(()=>{d(void 0),p(void 0),a(void 0),c({isTransitioning:!1})}),p(L)}},[g,o,u,r.window]),C.useEffect(()=>{u&&o&&s.location.key===o.location.key&&u.resolve()},[u,h,s.location,o]),C.useEffect(()=>{!l.isTransitioning&&m&&(a(m.state),c({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),y(void 0))},[l.isTransitioning,m]),C.useEffect(()=>{},[]);let S=C.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:w=>r.navigate(w),push:(w,P,L)=>r.navigate(w,{state:P,preventScrollReset:L==null?void 0:L.preventScrollReset}),replace:(w,P,L)=>r.navigate(w,{replace:!0,state:P,preventScrollReset:L==null?void 0:L.preventScrollReset})}),[r]),j=r.basename||"/",N=C.useMemo(()=>({router:r,navigator:S,static:!1,basename:j}),[r,S,j]),T=C.useMemo(()=>({v7_relativeSplatPath:r.future.v7_relativeSplatPath}),[r.future.v7_relativeSplatPath]);return C.createElement(C.Fragment,null,C.createElement(Wu.Provider,{value:N},C.createElement(ev.Provider,{value:s},C.createElement(TP.Provider,{value:x.current},C.createElement($_.Provider,{value:l},C.createElement(bP,{basename:j,location:s.location,navigationType:s.historyAction,navigator:S,future:T},s.initialized||r.future.v7_partialHydration?C.createElement(DP,{routes:r.routes,future:r.future,state:s}):e))))),null)}const DP=C.memo(LP);function LP(t){let{routes:e,future:r,state:n}=t;return lP(e,void 0,n,r)}const FP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$P=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yt=C.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,h=F_(e,_P),{basename:p}=C.useContext($s),m,y=!1;if(typeof c=="string"&&$P.test(c)&&(m=c,FP))try{let b=new URL(window.location.href),S=c.startsWith("//")?new URL(b.protocol+c):new URL(c),j=Is(S.pathname,p);S.origin===b.origin&&j!=null?c=j+S.search+S.hash:y=!0}catch{}let x=sP(c,{relative:s}),v=BP(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,unstable_viewTransition:d});function g(b){n&&n(b),b.defaultPrevented||v(b)}return C.createElement("a",ml({},h,{href:m||x,onClick:y||i?n:g,ref:r,target:l}))}),nv=C.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:l,unstable_viewTransition:c,children:u}=e,d=F_(e,EP),h=Gh(l,{relative:d.relative}),p=Jo(),m=C.useContext(ev),{navigator:y,basename:x}=C.useContext($s),v=m!=null&&VP(h)&&c===!0,g=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,b=p.pathname,S=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;s||(b=b.toLowerCase(),S=S?S.toLowerCase():null,g=g.toLowerCase()),S&&x&&(S=Is(S,x)||S);const j=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let N=b===g||!o&&b.startsWith(g)&&b.charAt(j)==="/",T=S!=null&&(S===g||!o&&S.startsWith(g)&&S.charAt(g.length)==="/"),w={isActive:N,isPending:T,isTransitioning:v},P=N?n:void 0,L;typeof i=="function"?L=i(w):L=[i,N?"active":null,T?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let R=typeof a=="function"?a(w):a;return C.createElement(yt,ml({},d,{"aria-current":P,className:L,ref:r,style:R,to:l,unstable_viewTransition:c}),typeof u=="function"?u(w):u)});var Hg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Hg||(Hg={}));var N1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(N1||(N1={}));function zP(t){let e=C.useContext(Wu);return e||Ee(!1),e}function BP(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Ut(),c=Jo(),u=Gh(t,{relative:o});return C.useCallback(d=>{if(kP(d,r)){d.preventDefault();let h=n!==void 0?n:Fo(c)===Fo(u);l(t,{replace:h,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a})}},[c,l,u,n,s,r,t,i,o,a])}function VP(t,e){e===void 0&&(e={});let r=C.useContext($_);r==null&&Ee(!1);let{basename:n}=zP(Hg.useViewTransitionState),s=Gh(t,{relative:e.relative});if(!r.isTransitioning)return!1;let i=Is(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Is(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Qf(s.pathname,o)!=null||Qf(s.pathname,i)!=null}var z_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},O1=de.createContext&&de.createContext(z_),UP=["attr","size","title"];function HP(t,e){if(t==null)return{};var r=qP(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qP(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function eh(){return eh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eh.apply(this,arguments)}function j1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function th(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?j1(Object(r),!0).forEach(function(n){WP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WP(t,e,r){return e=KP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KP(t){var e=JP(t,"string");return typeof e=="symbol"?e:e+""}function JP(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B_(t){return t&&t.map((e,r)=>de.createElement(e.tag,th({key:r},e.attr),B_(e.child)))}function Fe(t){return e=>de.createElement(QP,eh({attr:th({},t.attr)},e),B_(t.child))}function QP(t){var e=r=>{var{attr:n,size:s,title:i}=t,o=HP(t,UP),a=s||r.size||"1em",l;return r.className&&(l=r.className),t.className&&(l=(l?l+" ":"")+t.className),de.createElement("svg",eh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:l,style:th(th({color:t.color||r.color},r.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&de.createElement("title",null,i),t.children)};return O1!==void 0?de.createElement(O1.Consumer,null,r=>e(r)):e(z_)}function ZP(t){return Fe({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M80 299.3V512H196V299.3h86.5l18-97.8H196V166.9c0-51.7 20.3-71.5 72.7-71.5c16.3 0 29.4 .4 37 1.2V7.9C291.4 4 256.4 0 236.2 0C129.3 0 80 50.5 80 159.4v42.1H14v97.8H80z"},child:[]}]})(t)}function GP(t){return Fe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function YP(t){return Fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM64 256c0-17.7 14.3-32 32-32H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H96c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"},child:[]}]})(t)}function XP(t){return Fe({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M58.9 42.1c3-6.1 9.6-9.6 16.3-8.7L320 64 564.8 33.4c6.7-.8 13.3 2.7 16.3 8.7l41.7 83.4c9 17.9-.6 39.6-19.8 45.1L439.6 217.3c-13.9 4-28.8-1.9-36.2-14.3L320 64 236.6 203c-7.4 12.4-22.3 18.3-36.2 14.3L37.1 170.6c-19.3-5.5-28.8-27.2-19.8-45.1L58.9 42.1zM321.1 128l54.9 91.4c14.9 24.8 44.6 36.6 72.5 28.6L576 211.6v167c0 22-15 41.2-36.4 46.6l-204.1 51c-10.2 2.6-20.9 2.6-31 0l-204.1-51C79 419.7 64 400.5 64 378.5v-167L191.6 248c27.8 8 57.6-3.8 72.5-28.6L318.9 128h2.2z"},child:[]}]})(t)}function eM(t){return Fe({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 24C0 10.7 10.7 0 24 0H69.5c22 0 41.5 12.8 50.6 32h411c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3H170.7l5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H199.7c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5H24C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"},child:[]}]})(t)}function tM(t){return Fe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M8 256a56 56 0 1 1 112 0A56 56 0 1 1 8 256zm160 0a56 56 0 1 1 112 0 56 56 0 1 1 -112 0zm216-56a56 56 0 1 1 0 112 56 56 0 1 1 0-112z"},child:[]}]})(t)}function rM(t){return Fe({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M368.6 96l76.8 96H288V96h80.6zM224 80V192H64c-17.7 0-32 14.3-32 32v64c-17.7 0-32 14.3-32 32s14.3 32 32 32H65.1c-.7 5.2-1.1 10.6-1.1 16c0 61.9 50.1 112 112 112s112-50.1 112-112c0-5.4-.4-10.8-1.1-16h66.3c-.7 5.2-1.1 10.6-1.1 16c0 61.9 50.1 112 112 112s112-50.1 112-112c0-5.4-.4-10.8-1.1-16H608c17.7 0 32-14.3 32-32s-14.3-32-32-32V224c0-17.7-14.3-32-32-32H527.4L418.6 56c-12.1-15.2-30.5-24-50-24H272c-26.5 0-48 21.5-48 48zm0 288a48 48 0 1 1 -96 0 48 48 0 1 1 96 0zm288 0a48 48 0 1 1 -96 0 48 48 0 1 1 96 0z"},child:[]}]})(t)}function nM(t){return Fe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}function sM(t){return Fe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12.58 19.963a9.906 9.906 0 0 1 -4.88 -.963l-4.7 1l1.3 -3.9c-2.324 -3.437 -1.426 -7.872 2.1 -10.374c3.526 -2.501 8.59 -2.296 11.845 .48c2.13 1.817 3.055 4.368 2.692 6.82"},child:[]},{tag:"path",attr:{d:"M16 22l5 -5"},child:[]},{tag:"path",attr:{d:"M21 21.5v-4.5h-4.5"},child:[]}]})(t)}const V_=[{id:1,title:"Inicio",href:"/"},{id:2,title:"Productos",href:"/products"},{id:3,title:"Sobre Nosotros",href:"/nosotros"}],Il=[{id:1,title:"Facebook",href:"https://www.facebook.com/baalak.cv",icon:f.jsx(ZP,{})},{id:2,title:"Instagram",href:"https://www.instagram.com/baalak.cv",icon:f.jsx(GP,{})},{id:3,title:"WhatsApp",href:"https://wa.me/message/E7HDZJLVTRDML1",icon:f.jsx(nM,{})}],iM=[{id:1,title:"Productos",href:"/dashboard/productos",icon:f.jsx(XP,{size:25})},{id:2,title:"Órdenes",href:"/dashboard/ordenes",icon:f.jsx(eM,{size:25})},{id:3,title:"Recordatorios",href:"/dashboard/recordatorios",icon:f.jsx(sM,{size:25})},{id:4,title:"Transportes",href:"/dashboard/transportes",icon:f.jsx(rM,{size:25})}];function oM(t){return Fe({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"},child:[]}]})(t)}function U_(t){return Fe({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},child:[]}]})(t)}function H_(t){return Fe({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"},child:[]}]})(t)}function aM(t){return Fe({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},child:[]}]})(t)}const lM=({isDashboard:t})=>f.jsxs(yt,{to:"/",className:`text-2xl font-bold tracking-tighter transition-all ${t&&"hover:scale-105"}`,children:[f.jsx("p",{className:"hidden lg:block",children:f.jsx("img",{src:"/img/Baalak-logo-banner.png",alt:"Baalak"})}),f.jsx("p",{className:"flex lg:hidden",children:f.jsx("img",{src:"/img/Baalak-logo-banner-small.png",alt:"Baalak"})})]}),cM={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_PROJECT_URL_SUPABASE:"https://eqguyubrjvbrzhdxrtix.supabase.co",VITE_SUPABASE_API_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVxZ3V5dWJyanZicnpoZHhydGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI0OTk2NjAsImV4cCI6MjA1ODA3NTY2MH0.AjdGB_QnNQKY0lb7ktQouuT5QufahsxGH2BzrGfqCzw"},T1=t=>{let e;const r=new Set,n=(u,d)=>{const h=typeof u=="function"?u(e):u;if(!Object.is(h,e)){const p=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),r.forEach(m=>m(e,p))}},s=()=>e,l={setState:n,getState:s,getInitialState:()=>c,subscribe:u=>(r.add(u),()=>r.delete(u)),destroy:()=>{(cM?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},c=e=t(n,s,l);return l},uM=t=>t?T1(t):T1;var q_={exports:{}},W_={},K_={exports:{}},J_={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gl=C;function dM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fM=typeof Object.is=="function"?Object.is:dM,hM=gl.useState,pM=gl.useEffect,mM=gl.useLayoutEffect,gM=gl.useDebugValue;function yM(t,e){var r=e(),n=hM({inst:{value:r,getSnapshot:e}}),s=n[0].inst,i=n[1];return mM(function(){s.value=r,s.getSnapshot=e,tm(s)&&i({inst:s})},[t,r,e]),pM(function(){return tm(s)&&i({inst:s}),t(function(){tm(s)&&i({inst:s})})},[t]),gM(r),r}function tm(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!fM(t,r)}catch{return!0}}function vM(t,e){return e()}var xM=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?vM:yM;J_.useSyncExternalStore=gl.useSyncExternalStore!==void 0?gl.useSyncExternalStore:xM;K_.exports=J_;var bM=K_.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yh=C,wM=bM;function SM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kM=typeof Object.is=="function"?Object.is:SM,_M=wM.useSyncExternalStore,EM=Yh.useRef,CM=Yh.useEffect,NM=Yh.useMemo,OM=Yh.useDebugValue;W_.useSyncExternalStoreWithSelector=function(t,e,r,n,s){var i=EM(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=NM(function(){function l(p){if(!c){if(c=!0,u=p,p=n(p),s!==void 0&&o.hasValue){var m=o.value;if(s(m,p))return d=m}return d=p}if(m=d,kM(u,p))return m;var y=n(p);return s!==void 0&&s(m,y)?m:(u=p,d=y)}var c=!1,u,d,h=r===void 0?null:r;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,r,n,s]);var a=_M(t,i[0],i[1]);return CM(function(){o.hasValue=!0,o.value=a},[a]),OM(a),a};q_.exports=W_;var jM=q_.exports;const TM=t0(jM),Q_={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_PROJECT_URL_SUPABASE:"https://eqguyubrjvbrzhdxrtix.supabase.co",VITE_SUPABASE_API_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVxZ3V5dWJyanZicnpoZHhydGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI0OTk2NjAsImV4cCI6MjA1ODA3NTY2MH0.AjdGB_QnNQKY0lb7ktQouuT5QufahsxGH2BzrGfqCzw"},{useDebugValue:PM}=de,{useSyncExternalStoreWithSelector:MM}=TM;let P1=!1;const AM=t=>t;function IM(t,e=AM,r){(Q_?"production":void 0)!=="production"&&r&&!P1&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),P1=!0);const n=MM(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return PM(n),n}const RM=t=>{(Q_?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?uM(t):t,r=(n,s)=>IM(e,n,s);return Object.assign(r,e),r},sv=t=>RM,pf={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_PROJECT_URL_SUPABASE:"https://eqguyubrjvbrzhdxrtix.supabase.co",VITE_SUPABASE_API_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVxZ3V5dWJyanZicnpoZHhydGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI0OTk2NjAsImV4cCI6MjA1ODA3NTY2MH0.AjdGB_QnNQKY0lb7ktQouuT5QufahsxGH2BzrGfqCzw"},qg=new Map,Fd=t=>{const e=qg.get(t);return e?Object.fromEntries(Object.entries(e.stores).map(([r,n])=>[r,n.getState()])):{}},DM=(t,e,r)=>{if(t===void 0)return{type:"untracked",connection:e.connect(r)};const n=qg.get(r.name);if(n)return{type:"tracked",store:t,...n};const s={connection:e.connect(r),stores:{}};return qg.set(r.name,s),{type:"tracked",store:t,...s}},LM=(t,e={})=>(r,n,s)=>{const{enabled:i,anonymousActionType:o,store:a,...l}=e;let c;try{c=(i??(pf?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!c)return(pf?"production":void 0)!=="production"&&i&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),t(r,n,s);const{connection:u,...d}=DM(a,c,l);let h=!0;s.setState=(y,x,v)=>{const g=r(y,x);if(!h)return g;const b=v===void 0?{type:o||"anonymous"}:typeof v=="string"?{type:v}:v;return a===void 0?(u==null||u.send(b,n()),g):(u==null||u.send({...b,type:`${a}/${b.type}`},{...Fd(l.name),[a]:s.getState()}),g)};const p=(...y)=>{const x=h;h=!1,r(...y),h=x},m=t(s.setState,n,s);if(d.type==="untracked"?u==null||u.init(m):(d.stores[d.store]=s,u==null||u.init(Object.fromEntries(Object.entries(d.stores).map(([y,x])=>[y,y===d.store?m:x.getState()])))),s.dispatchFromDevtools&&typeof s.dispatch=="function"){let y=!1;const x=s.dispatch;s.dispatch=(...v)=>{(pf?"production":void 0)!=="production"&&v[0].type==="__setState"&&!y&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),y=!0),x(...v)}}return u.subscribe(y=>{var x;switch(y.type){case"ACTION":if(typeof y.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return rm(y.payload,v=>{if(v.type==="__setState"){if(a===void 0){p(v.state);return}Object.keys(v.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const g=v.state[a];if(g==null)return;JSON.stringify(s.getState())!==JSON.stringify(g)&&p(g);return}s.dispatchFromDevtools&&typeof s.dispatch=="function"&&s.dispatch(v)});case"DISPATCH":switch(y.payload.type){case"RESET":return p(m),a===void 0?u==null?void 0:u.init(s.getState()):u==null?void 0:u.init(Fd(l.name));case"COMMIT":if(a===void 0){u==null||u.init(s.getState());return}return u==null?void 0:u.init(Fd(l.name));case"ROLLBACK":return rm(y.state,v=>{if(a===void 0){p(v),u==null||u.init(s.getState());return}p(v[a]),u==null||u.init(Fd(l.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return rm(y.state,v=>{if(a===void 0){p(v);return}JSON.stringify(s.getState())!==JSON.stringify(v[a])&&p(v[a])});case"IMPORT_STATE":{const{nextLiftedState:v}=y.payload,g=(x=v.computedStates.slice(-1)[0])==null?void 0:x.state;if(!g)return;p(a===void 0?g:g[a]),u==null||u.send(null,v);return}case"PAUSE_RECORDING":return h=!h}return}}),m},iv=LM,rm=(t,e)=>{let r;try{r=JSON.parse(t)}catch(n){console.error("[zustand devtools middleware] Could not parse the received json",n)}r!==void 0&&e(r)};function FM(t,e){let r;try{r=t()}catch{return}return{getItem:s=>{var i;const o=l=>l===null?null:JSON.parse(l,void 0),a=(i=r.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>r.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>r.removeItem(s)}}const nu=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return nu(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return nu(n)(r)}}}},$M=(t,e)=>(r,n,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:x=>x,version:0,merge:(x,v)=>({...v,...x}),...e},o=!1;const a=new Set,l=new Set;let c;try{c=i.getStorage()}catch{}if(!c)return t((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...x)},n,s);const u=nu(i.serialize),d=()=>{const x=i.partialize({...n()});let v;const g=u({state:x,version:i.version}).then(b=>c.setItem(i.name,b)).catch(b=>{v=b});if(v)throw v;return g},h=s.setState;s.setState=(x,v)=>{h(x,v),d()};const p=t((...x)=>{r(...x),d()},n,s);let m;const y=()=>{var x;if(!c)return;o=!1,a.forEach(g=>g(n()));const v=((x=i.onRehydrateStorage)==null?void 0:x.call(i,n()))||void 0;return nu(c.getItem.bind(c))(i.name).then(g=>{if(g)return i.deserialize(g)}).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==i.version){if(i.migrate)return i.migrate(g.state,g.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return g.state}).then(g=>{var b;return m=i.merge(g,(b=n())!=null?b:p),r(m,!0),d()}).then(()=>{v==null||v(m,void 0),o=!0,l.forEach(g=>g(m))}).catch(g=>{v==null||v(void 0,g)})};return s.persist={setOptions:x=>{i={...i,...x},x.getStorage&&(c=x.getStorage())},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:x=>(a.add(x),()=>{a.delete(x)}),onFinishHydration:x=>(l.add(x),()=>{l.delete(x)})},y(),m||p},zM=(t,e)=>(r,n,s)=>{let i={storage:FM(()=>localStorage),partialize:y=>y,version:0,merge:(y,x)=>({...x,...y}),...e},o=!1;const a=new Set,l=new Set;let c=i.storage;if(!c)return t((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...y)},n,s);const u=()=>{const y=i.partialize({...n()});return c.setItem(i.name,{state:y,version:i.version})},d=s.setState;s.setState=(y,x)=>{d(y,x),u()};const h=t((...y)=>{r(...y),u()},n,s);s.getInitialState=()=>h;let p;const m=()=>{var y,x;if(!c)return;o=!1,a.forEach(g=>{var b;return g((b=n())!=null?b:h)});const v=((x=i.onRehydrateStorage)==null?void 0:x.call(i,(y=n())!=null?y:h))||void 0;return nu(c.getItem.bind(c))(i.name).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==i.version){if(i.migrate)return[!0,i.migrate(g.state,g.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,g.state];return[!1,void 0]}).then(g=>{var b;const[S,j]=g;if(p=i.merge(j,(b=n())!=null?b:h),r(p,!0),S)return u()}).then(()=>{v==null||v(p,void 0),p=n(),o=!0,l.forEach(g=>g(p))}).catch(g=>{v==null||v(void 0,g)})};return s.persist={setOptions:y=>{i={...i,...y},y.storage&&(c=y.storage)},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:y=>(a.add(y),()=>{a.delete(y)}),onFinishHydration:y=>(l.add(y),()=>{l.delete(y)})},i.skipHydration||m(),p||h},BM=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((pf?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),$M(t,e)):zM(t,e),VM=BM,UM=t=>({isSheetOpen:!1,sheetContent:null,activeNavMobile:!1,openSheet:e=>{t({isSheetOpen:!0,sheetContent:e})},closeSheet:()=>{t({isSheetOpen:!1,sheetContent:null})},setActiveNavMobile:e=>{t({activeNavMobile:e})}}),Rs=sv()(iv(UM)),HM=t=>({items:[],totalItemsInCart:0,totalAmount:0,addItem:e=>{t(r=>{const n=r.items.findIndex(a=>a.variantId===e.variantId);let s;n>=0?s=r.items.map((a,l)=>l===n?{...a,quantity:a.quantity+e.quantity}:a):s=[...r.items,e];const i=s.reduce((a,l)=>a+l.quantity,0),o=s.reduce((a,l)=>a+l.price*l.quantity,0);return{items:s,totalAmount:o,totalItemsInCart:i}})},removeItem:e=>{t(r=>{const n=r.items.filter(o=>o.variantId!==e),s=n.reduce((o,a)=>o+a.quantity,0),i=n.reduce((o,a)=>o+a.price*a.quantity,0);return{items:n,totalAmount:i,totalItemsInCart:s}})},updateQuantity:(e,r)=>{t(n=>{const s=n.items.map(a=>a.variantId===e?{...a,quantity:r}:a),i=s.reduce((a,l)=>a+l.quantity,0),o=s.reduce((a,l)=>a+l.price*l.quantity,0);return{items:s,totalAmount:o,totalItemsInCart:i}})},cleanCart:()=>{t({items:[],totalItemsInCart:0,totalAmount:0})}}),Ur=sv()(iv(VM(HM,{name:"cart-store"})));var Qo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},yl=typeof window>"u"||"Deno"in globalThis;function Yr(){}function qM(t,e){return typeof t=="function"?t(e):t}function Wg(t){return typeof t=="number"&&t>=0&&t!==1/0}function Z_(t,e){return Math.max(t+(e||0)-Date.now(),0)}function $a(t,e){return typeof t=="function"?t(e):t}function Cn(t,e){return typeof t=="function"?t(e):t}function M1(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(n){if(e.queryHash!==ov(o,e.options))return!1}else if(!su(e.queryKey,o))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function A1(t,e){const{exact:r,status:n,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if($o(e.options.mutationKey)!==$o(i))return!1}else if(!su(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function ov(t,e){return((e==null?void 0:e.queryKeyHashFn)||$o)(t)}function $o(t){return JSON.stringify(t,(e,r)=>Kg(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function su(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!su(t[r],e[r])):!1}function av(t,e){if(t===e)return t;const r=I1(t)&&I1(e);if(r||Kg(t)&&Kg(e)){const n=r?t:Object.keys(t),s=n.length,i=r?e:Object.keys(e),o=i.length,a=r?[]:{};let l=0;for(let c=0;c<o;c++){const u=r?c:i[c];(!r&&n.includes(u)||r)&&t[u]===void 0&&e[u]===void 0?(a[u]=void 0,l++):(a[u]=av(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function rh(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function I1(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Kg(t){if(!R1(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!R1(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function R1(t){return Object.prototype.toString.call(t)==="[object Object]"}function WM(t){return new Promise(e=>{setTimeout(e,t)})}function Jg(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?av(t,e):e}function KM(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function JM(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var G_=Symbol();function Y_(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===G_?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var mo,ci,Ka,Xw,QM=(Xw=class extends Qo{constructor(){super();ae(this,mo);ae(this,ci);ae(this,Ka);q(this,Ka,e=>{if(!yl&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){k(this,ci)||this.setEventListener(k(this,Ka))}onUnsubscribe(){var e;this.hasListeners()||((e=k(this,ci))==null||e.call(this),q(this,ci,void 0))}setEventListener(e){var r;q(this,Ka,e),(r=k(this,ci))==null||r.call(this),q(this,ci,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){k(this,mo)!==e&&(q(this,mo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof k(this,mo)=="boolean"?k(this,mo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},mo=new WeakMap,ci=new WeakMap,Ka=new WeakMap,Xw),lv=new QM,Ja,ui,Qa,eS,ZM=(eS=class extends Qo{constructor(){super();ae(this,Ja,!0);ae(this,ui);ae(this,Qa);q(this,Qa,e=>{if(!yl&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){k(this,ui)||this.setEventListener(k(this,Qa))}onUnsubscribe(){var e;this.hasListeners()||((e=k(this,ui))==null||e.call(this),q(this,ui,void 0))}setEventListener(e){var r;q(this,Qa,e),(r=k(this,ui))==null||r.call(this),q(this,ui,e(this.setOnline.bind(this)))}setOnline(e){k(this,Ja)!==e&&(q(this,Ja,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return k(this,Ja)}},Ja=new WeakMap,ui=new WeakMap,Qa=new WeakMap,eS),nh=new ZM;function GM(t){return Math.min(1e3*2**t,3e4)}function X_(t){return(t??"online")==="online"?nh.isOnline():!0}var eE=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function nm(t){return t instanceof eE}function tE(t){let e=!1,r=0,n=!1,s,i,o;const a=new Promise((v,g)=>{i=v,o=g}),l=v=>{var g;n||(m(new eE(v)),(g=t.abort)==null||g.call(t))},c=()=>{e=!0},u=()=>{e=!1},d=()=>lv.isFocused()&&(t.networkMode==="always"||nh.isOnline())&&t.canRun(),h=()=>X_(t.networkMode)&&t.canRun(),p=v=>{var g;n||(n=!0,(g=t.onSuccess)==null||g.call(t,v),s==null||s(),i(v))},m=v=>{var g;n||(n=!0,(g=t.onError)==null||g.call(t,v),s==null||s(),o(v))},y=()=>new Promise(v=>{var g;s=b=>{(n||d())&&v(b)},(g=t.onPause)==null||g.call(t)}).then(()=>{var v;s=void 0,n||(v=t.onContinue)==null||v.call(t)}),x=()=>{if(n)return;let v;const g=r===0?t.initialPromise:void 0;try{v=g??t.fn()}catch(b){v=Promise.reject(b)}Promise.resolve(v).then(p).catch(b=>{var w;if(n)return;const S=t.retry??(yl?0:3),j=t.retryDelay??GM,N=typeof j=="function"?j(r,b):j,T=S===!0||typeof S=="number"&&r<S||typeof S=="function"&&S(r,b);if(e||!T){m(b);return}r++,(w=t.onFail)==null||w.call(t,r,b),WM(N).then(()=>d()?void 0:y()).then(()=>{e?m(b):x()})})};return{promise:a,cancel:l,continue:()=>(s==null||s(),a),cancelRetry:c,continueRetry:u,canStart:h,start:()=>(h()?x():y().then(x),a)}}function YM(){let t=[],e=0,r=a=>{a()},n=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{r(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var gt=YM(),go,tS,rE=(tS=class{constructor(){ae(this,go)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Wg(this.gcTime)&&q(this,go,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(yl?1/0:5*60*1e3))}clearGcTimeout(){k(this,go)&&(clearTimeout(k(this,go)),q(this,go,void 0))}},go=new WeakMap,tS),Za,Ga,Gr,Yt,Ru,yo,xn,vs,rS,XM=(rS=class extends rE{constructor(e){super();ae(this,xn);ae(this,Za);ae(this,Ga);ae(this,Gr);ae(this,Yt);ae(this,Ru);ae(this,yo);q(this,yo,!1),q(this,Ru,e.defaultOptions),this.setOptions(e.options),this.observers=[],q(this,Gr,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,q(this,Za,eA(this.options)),this.state=e.state??k(this,Za),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=k(this,Yt))==null?void 0:e.promise}setOptions(e){this.options={...k(this,Ru),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&k(this,Gr).remove(this)}setData(e,r){const n=Jg(this.state.data,e,this.options);return ye(this,xn,vs).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){ye(this,xn,vs).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=k(this,Yt))==null?void 0:n.promise;return(s=k(this,Yt))==null||s.cancel(e),r?r.then(Yr).catch(Yr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(k(this,Za))}isActive(){return this.observers.some(e=>Cn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Z_(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=k(this,Yt))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=k(this,Yt))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),k(this,Gr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(k(this,Yt)&&(k(this,yo)?k(this,Yt).cancel({revert:!0}):k(this,Yt).cancelRetry()),this.scheduleGc()),k(this,Gr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ye(this,xn,vs).call(this,{type:"invalidate"})}fetch(e,r){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(k(this,Yt))return k(this,Yt).continueRetry(),k(this,Yt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const n=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(q(this,yo,!0),n.signal)})},i=()=>{const d=Y_(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return s(h),q(this,yo,!1),this.options.persister?this.options.persister(d,h,this):d(h)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(l=this.options.behavior)==null||l.onFetch(o,this),q(this,Ga,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&ye(this,xn,vs).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const a=d=>{var h,p,m,y;nm(d)&&d.silent||ye(this,xn,vs).call(this,{type:"error",error:d}),nm(d)||((p=(h=k(this,Gr).config).onError)==null||p.call(h,d,this),(y=(m=k(this,Gr).config).onSettled)==null||y.call(m,this.state.data,d,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return q(this,Yt,tE({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:d=>{var h,p,m,y;if(d===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(x){a(x);return}(p=(h=k(this,Gr).config).onSuccess)==null||p.call(h,d,this),(y=(m=k(this,Gr).config).onSettled)==null||y.call(m,d,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:a,onFail:(d,h)=>{ye(this,xn,vs).call(this,{type:"failed",failureCount:d,error:h})},onPause:()=>{ye(this,xn,vs).call(this,{type:"pause"})},onContinue:()=>{ye(this,xn,vs).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),k(this,Yt).start()}},Za=new WeakMap,Ga=new WeakMap,Gr=new WeakMap,Yt=new WeakMap,Ru=new WeakMap,yo=new WeakMap,xn=new WeakSet,vs=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...nE(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return nm(s)&&s.revert&&k(this,Ga)?{...k(this,Ga),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),gt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),k(this,Gr).notify({query:this,type:"updated",action:e})})},rS);function nE(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:X_(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function eA(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Hn,nS,tA=(nS=class extends Qo{constructor(e={}){super();ae(this,Hn);this.config=e,q(this,Hn,new Map)}build(e,r,n){const s=r.queryKey,i=r.queryHash??ov(s,r);let o=this.get(i);return o||(o=new XM({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){k(this,Hn).has(e.queryHash)||(k(this,Hn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=k(this,Hn).get(e.queryHash);r&&(e.destroy(),r===e&&k(this,Hn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){gt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return k(this,Hn).get(e)}getAll(){return[...k(this,Hn).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>M1(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>M1(e,n)):r}notify(e){gt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){gt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){gt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Hn=new WeakMap,nS),qn,lr,vo,Wn,Ks,sS,rA=(sS=class extends rE{constructor(e){super();ae(this,Wn);ae(this,qn);ae(this,lr);ae(this,vo);this.mutationId=e.mutationId,q(this,lr,e.mutationCache),q(this,qn,[]),this.state=e.state||sE(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){k(this,qn).includes(e)||(k(this,qn).push(e),this.clearGcTimeout(),k(this,lr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){q(this,qn,k(this,qn).filter(r=>r!==e)),this.scheduleGc(),k(this,lr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){k(this,qn).length||(this.state.status==="pending"?this.scheduleGc():k(this,lr).remove(this))}continue(){var e;return((e=k(this,vo))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,a,l,c,u,d,h,p,m,y,x,v,g,b,S,j,N,T;q(this,vo,tE({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(w,P)=>{ye(this,Wn,Ks).call(this,{type:"failed",failureCount:w,error:P})},onPause:()=>{ye(this,Wn,Ks).call(this,{type:"pause"})},onContinue:()=>{ye(this,Wn,Ks).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>k(this,lr).canRun(this)}));const r=this.state.status==="pending",n=!k(this,vo).canStart();try{if(!r){ye(this,Wn,Ks).call(this,{type:"pending",variables:e,isPaused:n}),await((i=(s=k(this,lr).config).onMutate)==null?void 0:i.call(s,e,this));const P=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));P!==this.state.context&&ye(this,Wn,Ks).call(this,{type:"pending",context:P,variables:e,isPaused:n})}const w=await k(this,vo).start();return await((c=(l=k(this,lr).config).onSuccess)==null?void 0:c.call(l,w,e,this.state.context,this)),await((d=(u=this.options).onSuccess)==null?void 0:d.call(u,w,e,this.state.context)),await((p=(h=k(this,lr).config).onSettled)==null?void 0:p.call(h,w,null,this.state.variables,this.state.context,this)),await((y=(m=this.options).onSettled)==null?void 0:y.call(m,w,null,e,this.state.context)),ye(this,Wn,Ks).call(this,{type:"success",data:w}),w}catch(w){try{throw await((v=(x=k(this,lr).config).onError)==null?void 0:v.call(x,w,e,this.state.context,this)),await((b=(g=this.options).onError)==null?void 0:b.call(g,w,e,this.state.context)),await((j=(S=k(this,lr).config).onSettled)==null?void 0:j.call(S,void 0,w,this.state.variables,this.state.context,this)),await((T=(N=this.options).onSettled)==null?void 0:T.call(N,void 0,w,e,this.state.context)),w}finally{ye(this,Wn,Ks).call(this,{type:"error",error:w})}}finally{k(this,lr).runNext(this)}}},qn=new WeakMap,lr=new WeakMap,vo=new WeakMap,Wn=new WeakSet,Ks=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),gt.batch(()=>{k(this,qn).forEach(n=>{n.onMutationUpdate(e)}),k(this,lr).notify({mutation:this,type:"updated",action:e})})},sS);function sE(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ar,Du,iS,nA=(iS=class extends Qo{constructor(e={}){super();ae(this,Ar);ae(this,Du);this.config=e,q(this,Ar,new Map),q(this,Du,Date.now())}build(e,r,n){const s=new rA({mutationCache:this,mutationId:++xd(this,Du)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){const r=$d(e),n=k(this,Ar).get(r)??[];n.push(e),k(this,Ar).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=$d(e);if(k(this,Ar).has(r)){const s=(n=k(this,Ar).get(r))==null?void 0:n.filter(i=>i!==e);s&&(s.length===0?k(this,Ar).delete(r):k(this,Ar).set(r,s))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=k(this,Ar).get($d(e)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=k(this,Ar).get($d(e)))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){gt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...k(this,Ar).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>A1(r,n))}findAll(e={}){return this.getAll().filter(r=>A1(e,r))}notify(e){gt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return gt.batch(()=>Promise.all(e.map(r=>r.continue().catch(Yr))))}},Ar=new WeakMap,Du=new WeakMap,iS);function $d(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function sA(t){return{onFetch:(e,r)=>{const n=async()=>{var m,y,x,v,g;const s=e.options,i=(x=(y=(m=e.fetchOptions)==null?void 0:m.meta)==null?void 0:y.fetchMore)==null?void 0:x.direction,o=((v=e.state.data)==null?void 0:v.pages)||[],a=((g=e.state.data)==null?void 0:g.pageParams)||[],l={pages:[],pageParams:[]};let c=!1;const u=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?c=!0:e.signal.addEventListener("abort",()=>{c=!0}),e.signal)})},d=Y_(e.options,e.fetchOptions),h=async(b,S,j)=>{if(c)return Promise.reject();if(S==null&&b.pages.length)return Promise.resolve(b);const N={queryKey:e.queryKey,pageParam:S,direction:j?"backward":"forward",meta:e.options.meta};u(N);const T=await d(N),{maxPages:w}=e.options,P=j?JM:KM;return{pages:P(b.pages,T,w),pageParams:P(b.pageParams,S,w)}};let p;if(i&&o.length){const b=i==="backward",S=b?iA:D1,j={pages:o,pageParams:a},N=S(s,j);p=await h(j,N,b)}else{p=await h(l,a[0]??s.initialPageParam);const b=t??o.length;for(let S=1;S<b;S++){const j=D1(s,p);if(j==null)break;p=await h(p,j)}}return p};e.options.persister?e.fetchFn=()=>{var s,i;return(i=(s=e.options).persister)==null?void 0:i.call(s,n,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=n}}}function D1(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function iA(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var ft,di,fi,Ya,Xa,hi,el,tl,oS,oA=(oS=class{constructor(t={}){ae(this,ft);ae(this,di);ae(this,fi);ae(this,Ya);ae(this,Xa);ae(this,hi);ae(this,el);ae(this,tl);q(this,ft,t.queryCache||new tA),q(this,di,t.mutationCache||new nA),q(this,fi,t.defaultOptions||{}),q(this,Ya,new Map),q(this,Xa,new Map),q(this,hi,0)}mount(){xd(this,hi)._++,k(this,hi)===1&&(q(this,el,lv.subscribe(async t=>{t&&(await this.resumePausedMutations(),k(this,ft).onFocus())})),q(this,tl,nh.subscribe(async t=>{t&&(await this.resumePausedMutations(),k(this,ft).onOnline())})))}unmount(){var t,e;xd(this,hi)._--,k(this,hi)===0&&((t=k(this,el))==null||t.call(this),q(this,el,void 0),(e=k(this,tl))==null||e.call(this),q(this,tl,void 0))}isFetching(t){return k(this,ft).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return k(this,di).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=k(this,ft).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=k(this,ft).build(this,r);return t.revalidateIfStale&&n.isStaleByTime($a(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return k(this,ft).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=k(this,ft).get(n.queryHash),i=s==null?void 0:s.state.data,o=qM(e,i);if(o!==void 0)return k(this,ft).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return gt.batch(()=>k(this,ft).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=k(this,ft).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=k(this,ft);gt.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=k(this,ft),n={type:"active",...t};return gt.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=gt.batch(()=>k(this,ft).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(Yr).catch(Yr)}invalidateQueries(t={},e={}){return gt.batch(()=>{if(k(this,ft).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=gt.batch(()=>k(this,ft).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Yr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Yr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=k(this,ft).build(this,e);return r.isStaleByTime($a(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Yr).catch(Yr)}fetchInfiniteQuery(t){return t.behavior=sA(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Yr).catch(Yr)}resumePausedMutations(){return nh.isOnline()?k(this,di).resumePausedMutations():Promise.resolve()}getQueryCache(){return k(this,ft)}getMutationCache(){return k(this,di)}getDefaultOptions(){return k(this,fi)}setDefaultOptions(t){q(this,fi,t)}setQueryDefaults(t,e){k(this,Ya).set($o(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...k(this,Ya).values()];let r={};return e.forEach(n=>{su(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){k(this,Xa).set($o(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...k(this,Xa).values()];let r={};return e.forEach(n=>{su(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...k(this,fi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=ov(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===G_&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...k(this,fi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){k(this,ft).clear(),k(this,di).clear()}},ft=new WeakMap,di=new WeakMap,fi=new WeakMap,Ya=new WeakMap,Xa=new WeakMap,hi=new WeakMap,el=new WeakMap,tl=new WeakMap,oS),Sr,Ae,Lu,cr,xo,rl,Kn,Fu,nl,sl,bo,wo,pi,il,Ve,pc,Qg,Zg,Gg,Yg,Xg,ey,ty,iE,aS,cv=(aS=class extends Qo{constructor(e,r){super();ae(this,Ve);ae(this,Sr);ae(this,Ae);ae(this,Lu);ae(this,cr);ae(this,xo);ae(this,rl);ae(this,Kn);ae(this,Fu);ae(this,nl);ae(this,sl);ae(this,bo);ae(this,wo);ae(this,pi);ae(this,il,new Set);this.options=r,q(this,Sr,e),q(this,Kn,null),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(k(this,Ae).addObserver(this),L1(k(this,Ae),this.options)?ye(this,Ve,pc).call(this):this.updateResult(),ye(this,Ve,Yg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ry(k(this,Ae),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ry(k(this,Ae),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ye(this,Ve,Xg).call(this),ye(this,Ve,ey).call(this),k(this,Ae).removeObserver(this)}setOptions(e,r){const n=this.options,s=k(this,Ae);if(this.options=k(this,Sr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Cn(this.options.enabled,k(this,Ae))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ye(this,Ve,ty).call(this),k(this,Ae).setOptions(this.options),n._defaulted&&!rh(this.options,n)&&k(this,Sr).getQueryCache().notify({type:"observerOptionsUpdated",query:k(this,Ae),observer:this});const i=this.hasListeners();i&&F1(k(this,Ae),s,this.options,n)&&ye(this,Ve,pc).call(this),this.updateResult(r),i&&(k(this,Ae)!==s||Cn(this.options.enabled,k(this,Ae))!==Cn(n.enabled,k(this,Ae))||$a(this.options.staleTime,k(this,Ae))!==$a(n.staleTime,k(this,Ae)))&&ye(this,Ve,Qg).call(this);const o=ye(this,Ve,Zg).call(this);i&&(k(this,Ae)!==s||Cn(this.options.enabled,k(this,Ae))!==Cn(n.enabled,k(this,Ae))||o!==k(this,pi))&&ye(this,Ve,Gg).call(this,o)}getOptimisticResult(e){const r=k(this,Sr).getQueryCache().build(k(this,Sr),e),n=this.createResult(r,e);return lA(this,n)&&(q(this,cr,n),q(this,rl,this.options),q(this,xo,k(this,Ae).state)),n}getCurrentResult(){return k(this,cr)}trackResult(e,r){const n={};return Object.keys(e).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),e[s])})}),n}trackProp(e){k(this,il).add(e)}getCurrentQuery(){return k(this,Ae)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=k(this,Sr).defaultQueryOptions(e),n=k(this,Sr).getQueryCache().build(k(this,Sr),r);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,r))}fetch(e){return ye(this,Ve,pc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),k(this,cr)))}createResult(e,r){var T;const n=k(this,Ae),s=this.options,i=k(this,cr),o=k(this,xo),a=k(this,rl),c=e!==n?e.state:k(this,Lu),{state:u}=e;let d={...u},h=!1,p;if(r._optimisticResults){const w=this.hasListeners(),P=!w&&L1(e,r),L=w&&F1(e,n,r,s);(P||L)&&(d={...d,...nE(u.data,e.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:m,errorUpdatedAt:y,status:x}=d;if(r.select&&d.data!==void 0)if(i&&d.data===(o==null?void 0:o.data)&&r.select===k(this,Fu))p=k(this,nl);else try{q(this,Fu,r.select),p=r.select(d.data),p=Jg(i==null?void 0:i.data,p,r),q(this,nl,p),q(this,Kn,null)}catch(w){q(this,Kn,w)}else p=d.data;if(r.placeholderData!==void 0&&p===void 0&&x==="pending"){let w;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData))w=i.data;else if(w=typeof r.placeholderData=="function"?r.placeholderData((T=k(this,sl))==null?void 0:T.state.data,k(this,sl)):r.placeholderData,r.select&&w!==void 0)try{w=r.select(w),q(this,Kn,null)}catch(P){q(this,Kn,P)}w!==void 0&&(x="success",p=Jg(i==null?void 0:i.data,w,r),h=!0)}k(this,Kn)&&(m=k(this,Kn),p=k(this,nl),y=Date.now(),x="error");const v=d.fetchStatus==="fetching",g=x==="pending",b=x==="error",S=g&&v,j=p!==void 0;return{status:x,fetchStatus:d.fetchStatus,isPending:g,isSuccess:x==="success",isError:b,isInitialLoading:S,isLoading:S,data:p,dataUpdatedAt:d.dataUpdatedAt,error:m,errorUpdatedAt:y,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:v,isRefetching:v&&!g,isLoadingError:b&&!j,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:b&&j,isStale:uv(e,r),refetch:this.refetch}}updateResult(e){const r=k(this,cr),n=this.createResult(k(this,Ae),this.options);if(q(this,xo,k(this,Ae).state),q(this,rl,this.options),k(this,xo).data!==void 0&&q(this,sl,k(this,Ae)),rh(n,r))return;q(this,cr,n);const s={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!k(this,il).size)return!0;const l=new Set(a??k(this,il));return this.options.throwOnError&&l.add("error"),Object.keys(k(this,cr)).some(c=>{const u=c;return k(this,cr)[u]!==r[u]&&l.has(u)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),ye(this,Ve,iE).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ye(this,Ve,Yg).call(this)}},Sr=new WeakMap,Ae=new WeakMap,Lu=new WeakMap,cr=new WeakMap,xo=new WeakMap,rl=new WeakMap,Kn=new WeakMap,Fu=new WeakMap,nl=new WeakMap,sl=new WeakMap,bo=new WeakMap,wo=new WeakMap,pi=new WeakMap,il=new WeakMap,Ve=new WeakSet,pc=function(e){ye(this,Ve,ty).call(this);let r=k(this,Ae).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Yr)),r},Qg=function(){ye(this,Ve,Xg).call(this);const e=$a(this.options.staleTime,k(this,Ae));if(yl||k(this,cr).isStale||!Wg(e))return;const n=Z_(k(this,cr).dataUpdatedAt,e)+1;q(this,bo,setTimeout(()=>{k(this,cr).isStale||this.updateResult()},n))},Zg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(k(this,Ae)):this.options.refetchInterval)??!1},Gg=function(e){ye(this,Ve,ey).call(this),q(this,pi,e),!(yl||Cn(this.options.enabled,k(this,Ae))===!1||!Wg(k(this,pi))||k(this,pi)===0)&&q(this,wo,setInterval(()=>{(this.options.refetchIntervalInBackground||lv.isFocused())&&ye(this,Ve,pc).call(this)},k(this,pi)))},Yg=function(){ye(this,Ve,Qg).call(this),ye(this,Ve,Gg).call(this,ye(this,Ve,Zg).call(this))},Xg=function(){k(this,bo)&&(clearTimeout(k(this,bo)),q(this,bo,void 0))},ey=function(){k(this,wo)&&(clearInterval(k(this,wo)),q(this,wo,void 0))},ty=function(){const e=k(this,Sr).getQueryCache().build(k(this,Sr),this.options);if(e===k(this,Ae))return;const r=k(this,Ae);q(this,Ae,e),q(this,Lu,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},iE=function(e){gt.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(k(this,cr))}),k(this,Sr).getQueryCache().notify({query:k(this,Ae),type:"observerResultsUpdated"})})},aS);function aA(t,e){return Cn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function L1(t,e){return aA(t,e)||t.state.data!==void 0&&ry(t,e,e.refetchOnMount)}function ry(t,e,r){if(Cn(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&uv(t,e)}return!1}function F1(t,e,r,n){return(t!==e||Cn(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&uv(t,r)}function uv(t,e){return Cn(e.enabled,t)!==!1&&t.isStaleByTime($a(e.staleTime,t))}function lA(t,e){return!rh(t.getCurrentResult(),e)}function $1(t,e){return t.filter(r=>!e.includes(r))}function cA(t,e,r){const n=t.slice(0);return n[e]=r,n}var So,bn,ol,Ir,ko,$u,zu,Kr,oE,ny,sy,iy,lS,uA=(lS=class extends Qo{constructor(e,r,n){super();ae(this,Kr);ae(this,So);ae(this,bn);ae(this,ol);ae(this,Ir);ae(this,ko);ae(this,$u);ae(this,zu);q(this,So,e),q(this,ol,[]),q(this,Ir,[]),q(this,bn,[]),this.setQueries(r)}onSubscribe(){this.listeners.size===1&&k(this,Ir).forEach(e=>{e.subscribe(r=>{ye(this,Kr,sy).call(this,e,r)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,k(this,Ir).forEach(e=>{e.destroy()})}setQueries(e,r,n){q(this,ol,e),gt.batch(()=>{const s=k(this,Ir),i=ye(this,Kr,ny).call(this,k(this,ol));i.forEach(c=>c.observer.setOptions(c.defaultedQueryOptions,n));const o=i.map(c=>c.observer),a=o.map(c=>c.getCurrentResult()),l=o.some((c,u)=>c!==s[u]);s.length===o.length&&!l||(q(this,Ir,o),q(this,bn,a),this.hasListeners()&&($1(s,o).forEach(c=>{c.destroy()}),$1(o,s).forEach(c=>{c.subscribe(u=>{ye(this,Kr,sy).call(this,c,u)})}),ye(this,Kr,iy).call(this)))})}getCurrentResult(){return k(this,bn)}getQueries(){return k(this,Ir).map(e=>e.getCurrentQuery())}getObservers(){return k(this,Ir)}getOptimisticResult(e,r){const n=ye(this,Kr,ny).call(this,e),s=n.map(i=>i.observer.getOptimisticResult(i.defaultedQueryOptions));return[s,i=>ye(this,Kr,oE).call(this,i??s,r),()=>n.map((i,o)=>{const a=s[o];return i.defaultedQueryOptions.notifyOnChangeProps?a:i.observer.trackResult(a,l=>{n.forEach(c=>{c.observer.trackProp(l)})})})]}},So=new WeakMap,bn=new WeakMap,ol=new WeakMap,Ir=new WeakMap,ko=new WeakMap,$u=new WeakMap,zu=new WeakMap,Kr=new WeakSet,oE=function(e,r){return r?((!k(this,ko)||k(this,bn)!==k(this,zu)||r!==k(this,$u))&&(q(this,$u,r),q(this,zu,k(this,bn)),q(this,ko,av(k(this,ko),r(e)))),k(this,ko)):e},ny=function(e){const r=k(this,Ir),n=new Map(r.map(d=>[d.options.queryHash,d])),s=e.map(d=>k(this,So).defaultQueryOptions(d)),i=s.flatMap(d=>{const h=n.get(d.queryHash);return h!=null?[{defaultedQueryOptions:d,observer:h}]:[]}),o=new Set(i.map(d=>d.defaultedQueryOptions.queryHash)),a=s.filter(d=>!o.has(d.queryHash)),l=d=>{const h=k(this,So).defaultQueryOptions(d);return k(this,Ir).find(m=>m.options.queryHash===h.queryHash)??new cv(k(this,So),h)},c=a.map(d=>({defaultedQueryOptions:d,observer:l(d)})),u=(d,h)=>s.indexOf(d.defaultedQueryOptions)-s.indexOf(h.defaultedQueryOptions);return i.concat(c).sort(u)},sy=function(e,r){const n=k(this,Ir).indexOf(e);n!==-1&&(q(this,bn,cA(k(this,bn),n,r)),ye(this,Kr,iy).call(this))},iy=function(){gt.batch(()=>{this.listeners.forEach(e=>{e(k(this,bn))})})},lS),mi,gi,kr,ks,js,mf,oy,cS,dA=(cS=class extends Qo{constructor(r,n){super();ae(this,js);ae(this,mi);ae(this,gi);ae(this,kr);ae(this,ks);q(this,mi,r),this.setOptions(n),this.bindMethods(),ye(this,js,mf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=k(this,mi).defaultMutationOptions(r),rh(this.options,n)||k(this,mi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:k(this,kr),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&$o(n.mutationKey)!==$o(this.options.mutationKey)?this.reset():((s=k(this,kr))==null?void 0:s.state.status)==="pending"&&k(this,kr).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=k(this,kr))==null||r.removeObserver(this)}onMutationUpdate(r){ye(this,js,mf).call(this),ye(this,js,oy).call(this,r)}getCurrentResult(){return k(this,gi)}reset(){var r;(r=k(this,kr))==null||r.removeObserver(this),q(this,kr,void 0),ye(this,js,mf).call(this),ye(this,js,oy).call(this)}mutate(r,n){var s;return q(this,ks,n),(s=k(this,kr))==null||s.removeObserver(this),q(this,kr,k(this,mi).getMutationCache().build(k(this,mi),this.options)),k(this,kr).addObserver(this),k(this,kr).execute(r)}},mi=new WeakMap,gi=new WeakMap,kr=new WeakMap,ks=new WeakMap,js=new WeakSet,mf=function(){var n;const r=((n=k(this,kr))==null?void 0:n.state)??sE();q(this,gi,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},oy=function(r){gt.batch(()=>{var n,s,i,o,a,l,c,u;if(k(this,ks)&&this.hasListeners()){const d=k(this,gi).variables,h=k(this,gi).context;(r==null?void 0:r.type)==="success"?((s=(n=k(this,ks)).onSuccess)==null||s.call(n,r.data,d,h),(o=(i=k(this,ks)).onSettled)==null||o.call(i,r.data,null,d,h)):(r==null?void 0:r.type)==="error"&&((l=(a=k(this,ks)).onError)==null||l.call(a,r.error,d,h),(u=(c=k(this,ks)).onSettled)==null||u.call(c,void 0,r.error,d,h))}this.listeners.forEach(d=>{d(k(this,gi))})})},cS),aE=C.createContext(void 0),cs=t=>{const e=C.useContext(aE);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},fA=({client:t,children:e})=>(C.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(aE.Provider,{value:t,children:e})),lE=C.createContext(!1),cE=()=>C.useContext(lE);lE.Provider;function hA(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var pA=C.createContext(hA()),uE=()=>C.useContext(pA);function dE(t,e){return typeof t=="function"?t(...e):!!t}function mA(){}var fE=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},hE=t=>{C.useEffect(()=>{t.clearReset()},[t])},pE=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&dE(r,[t.error,n]),mE=t=>{t.suspense&&(typeof t.staleTime!="number"&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},gA=(t,e)=>t.isLoading&&t.isFetching&&!e,ay=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,ly=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function yA({queries:t,...e},r){const n=cs(),s=cE(),i=uE(),o=C.useMemo(()=>t.map(m=>{const y=n.defaultQueryOptions(m);return y._optimisticResults=s?"isRestoring":"optimistic",y}),[t,n,s]);o.forEach(m=>{mE(m),fE(m,i)}),hE(i);const[a]=C.useState(()=>new uA(n,o,e)),[l,c,u]=a.getOptimisticResult(o,e.combine);C.useSyncExternalStore(C.useCallback(m=>s?()=>{}:a.subscribe(gt.batchCalls(m)),[a,s]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),C.useEffect(()=>{a.setQueries(o,e,{listeners:!1})},[o,e,a]);const h=l.some((m,y)=>ay(o[y],m))?l.flatMap((m,y)=>{const x=o[y];if(x){const v=new cv(n,x);if(ay(x,m))return ly(x,v,i);gA(m,s)&&ly(x,v,i)}return[]}):[];if(h.length>0)throw Promise.all(h);const p=l.find((m,y)=>{const x=o[y];return x&&pE({result:m,errorResetBoundary:i,throwOnError:x.throwOnError,query:n.getQueryCache().get(x.queryHash)})});if(p!=null&&p.error)throw p.error;return c(u())}function vA(t,e,r){var c,u,d,h;const n=cs(),s=cE(),i=uE(),o=n.defaultQueryOptions(t);(u=(c=n.getDefaultOptions().queries)==null?void 0:c._experimental_beforeQuery)==null||u.call(c,o),o._optimisticResults=s?"isRestoring":"optimistic",mE(o),fE(o,i),hE(i);const[a]=C.useState(()=>new e(n,o)),l=a.getOptimisticResult(o);if(C.useSyncExternalStore(C.useCallback(p=>{const m=s?()=>{}:a.subscribe(gt.batchCalls(p));return a.updateResult(),m},[a,s]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),C.useEffect(()=>{a.setOptions(o,{listeners:!1})},[o,a]),ay(o,l))throw ly(o,a,i);if(pE({result:l,errorResetBoundary:i,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw l.error;return(h=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_afterQuery)==null||h.call(d,o,l),o.notifyOnChangeProps?l:a.trackResult(l)}function us(t,e){return vA(t,cv)}function Zo(t,e){const r=cs(),[n]=C.useState(()=>new dA(r,t));C.useEffect(()=>{n.setOptions(t)},[n,t]);const s=C.useSyncExternalStore(C.useCallback(o=>n.subscribe(gt.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=C.useCallback((o,a)=>{n.mutate(o,a).catch(mA)},[n]);if(s.error&&dE(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const Pt=t=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"MXN",minimumFractionDigits:2,maximumFractionDigits:2}).format(t),cy=t=>t.map(e=>{const r=e.variants.reduce((s,i)=>{const o=s.find(a=>a.target===i.target);return o?o.price=Math.min(o.price,i.price):s.push({target:i.target,type:i.type,kg:i.kg,price:i.price}),s},[]),n=Math.min(...r.map(s=>s.price));return{...e,price:n,targets:r.map(({target:s,type:i,kg:o})=>({target:s,type:i,kg:o})),variants:e.variants}}),xA=t=>t.reduce((e,r)=>(e.find(s=>s.nombre===r[0])||(e.push({nombre:r[0].toString(),telefono:r[1].toString(),mascotas:[],mensaje:""}),e.find(s=>{s.nombre===r[0]&&!s.mascotas.find(i=>i.nombre===r[2])&&s.mascotas.push({nombre:r[2].toString(),recordatorios:[]}),s.mascotas.find(i=>{i.nombre===r[2]&&!i.recordatorios.find(o=>o.nombre===r[3])&&i.recordatorios.push({nombre:r[3].toString(),tipos:[]}),i.recordatorios.find(o=>{o.nombre===r[3]&&!o.tipos.find(a=>a.nombre===r[4])&&o.tipos.push({nombre:r[4].toString(),fecha:r[5].toString()})})})})),e),[]),Ju=t=>new Date(t).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}),bA=t=>new Date(t).toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"numeric"}),wA=t=>{switch(t){case"Pending":return"Pendiente";case"Paid":return"Pagado";case"Shipped":return"Enviado";case"Delivered":return"Entregado";default:return t}},SA=t=>t.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),kA=t=>{const e=t.split("/storage/v1/object/public/product-images/");if(e.length!==2)throw new Error(`URL de imagen no válida: ${t}`);return e[1]},xt=t=>t===null||t===""?"":t.charAt(0).toUpperCase()+t.slice(1).toLowerCase(),_A=t=>{const e="0123456789";let r="";for(let n=0;n<t.length;n++)for(let s=0;s<e.length;s++)if(t.charAt(n)===e.charAt(s)){r+=t.charAt(n);break}return r},EA="modulepreload",CA=function(t){return"/"+t},z1={},vl=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.all(r.map(a=>{if(a=CA(a),a in z1)return;z1[a]=!0;const l=a.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":EA,l||(u.as="script"),u.crossOrigin="",u.href=a,o&&u.setAttribute("nonce",o),document.head.appendChild(u),l)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})}))}return s.then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},NA=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>vl(async()=>{const{default:n}=await Promise.resolve().then(()=>Rl);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class dv extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class OA extends dv{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class jA extends dv{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class TA extends dv{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var uy;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(uy||(uy={}));var PA=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class MA{constructor(e,{headers:r={},customFetch:n,region:s=uy.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=NA(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return PA(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(m=>{throw new OA(m)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new jA(u);if(!u.ok)throw new TA(u);let h=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield u.json():h==="application/octet-stream"?p=yield u.blob():h==="text/event-stream"?p=u:h==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var rn={},fv={},Xh={},Qu={},ep={},tp={},AA=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},xl=AA();const IA=xl.fetch,gE=xl.fetch.bind(xl),yE=xl.Headers,RA=xl.Request,DA=xl.Response,Rl=Object.freeze(Object.defineProperty({__proto__:null,Headers:yE,Request:RA,Response:DA,default:gE,fetch:IA},Symbol.toStringTag,{value:"Module"})),LA=PN(Rl);var hv={};Object.defineProperty(hv,"__esModule",{value:!0});class FA extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}hv.default=FA;var vE=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(tp,"__esModule",{value:!0});const $A=vE(LA),zA=vE(hv);let BA=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=$A.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,u=null,d=null,h=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=v:u=JSON.parse(v))}const y=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");y&&x&&x.length>1&&(d=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const y=await i.text();try{c=JSON.parse(y),Array.isArray(c)&&i.status===404&&(u=[],c=null,h=200,p="OK")}catch{i.status===404&&y===""?(h=204,p="No Content"):c={message:y}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,p="OK"),c&&this.shouldThrowOnError)throw new zA.default(c)}return{error:c,data:u,count:d,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}};tp.default=BA;var VA=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ep,"__esModule",{value:!0});const UA=VA(tp);let HA=class extends UA.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ep.default=HA;var qA=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qu,"__esModule",{value:!0});const WA=qA(ep);let KA=class extends WA.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Qu.default=KA;var JA=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xh,"__esModule",{value:!0});const rc=JA(Qu);let QA=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new rc.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new rc.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new rc.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new rc.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new rc.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Xh.default=QA;var rp={},np={};Object.defineProperty(np,"__esModule",{value:!0});np.version=void 0;np.version="0.0.0-automated";Object.defineProperty(rp,"__esModule",{value:!0});rp.DEFAULT_HEADERS=void 0;const ZA=np;rp.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${ZA.version}`};var xE=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fv,"__esModule",{value:!0});const GA=xE(Xh),YA=xE(Qu),XA=rp;let eI=class bE{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},XA.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new GA.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new bE(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(o="POST",l=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new YA.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};fv.default=eI;var Zu=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rn,"__esModule",{value:!0});rn.PostgrestBuilder=rn.PostgrestTransformBuilder=rn.PostgrestFilterBuilder=rn.PostgrestQueryBuilder=rn.PostgrestClient=void 0;const wE=Zu(fv);rn.PostgrestClient=wE.default;const SE=Zu(Xh);rn.PostgrestQueryBuilder=SE.default;const kE=Zu(Qu);rn.PostgrestFilterBuilder=kE.default;const _E=Zu(ep);rn.PostgrestTransformBuilder=_E.default;const EE=Zu(tp);rn.PostgrestBuilder=EE.default;var tI=rn.default={PostgrestClient:wE.default,PostgrestQueryBuilder:SE.default,PostgrestFilterBuilder:kE.default,PostgrestTransformBuilder:_E.default,PostgrestBuilder:EE.default};const{PostgrestClient:rI,PostgrestQueryBuilder:$7,PostgrestFilterBuilder:z7,PostgrestTransformBuilder:B7,PostgrestBuilder:V7}=tI,nI="2.10.2",sI={"X-Client-Info":`realtime-js/${nI}`},iI="1.0.0",CE=1e4,oI=1e3;var za;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(za||(za={}));var Mr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Mr||(Mr={}));var kn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(kn||(kn={}));var dy;(function(t){t.websocket="websocket"})(dy||(dy={}));var ro;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ro||(ro={}));class aI{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+s));o=o+s;const l=n.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class NE{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Qe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Qe||(Qe={}));const B1=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=lI(o,t,e,s),i),{})},lI=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?OE(i,o):fy(o)},OE=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return fI(e,r)}switch(t){case Qe.bool:return cI(e);case Qe.float4:case Qe.float8:case Qe.int2:case Qe.int4:case Qe.int8:case Qe.numeric:case Qe.oid:return uI(e);case Qe.json:case Qe.jsonb:return dI(e);case Qe.timestamp:return hI(e);case Qe.abstime:case Qe.date:case Qe.daterange:case Qe.int4range:case Qe.int8range:case Qe.money:case Qe.reltime:case Qe.text:case Qe.time:case Qe.timestamptz:case Qe.timetz:case Qe.tsrange:case Qe.tstzrange:return fy(e);default:return fy(e)}},fy=t=>t,cI=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},uI=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},dI=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},fI=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>OE(e,a))}return t},hI=t=>typeof t=="string"?t.replace(" ","T"):t,jE=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class sm{constructor(e,r,n={},s=CE){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var V1;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(V1||(V1={}));class Tc{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Tc.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Tc.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Tc.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=i[c];if(d){const h=u.map(x=>x.presence_ref),p=d.map(x=>x.presence_ref),m=u.filter(x=>p.indexOf(x.presence_ref)<0),y=d.filter(x=>h.indexOf(x.presence_ref)<0);m.length>0&&(a[c]=m),y.length>0&&(l[c]=y)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(p=>p.presence_ref),h=u.filter(p=>d.indexOf(p.presence_ref)<0);e[a].unshift(...h)}n(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var U1;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(U1||(U1={}));var H1;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes"})(H1||(H1={}));var q1;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(q1||(q1={}));class pv{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Mr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new sm(this,kn.join,this.params,this.timeout),this.rejoinTimer=new NE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Mr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Mr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Mr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Mr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(kn.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Tc(this),this.broadcastEndpointURL=jE(this.socket.endPoint)+"/api/broadcast"}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>e&&e("CHANNEL_ERROR",u)),this._onClose(()=>e&&e("CLOSED"));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",({postgres_changes:u})=>{var d;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),u===void 0){e&&e("SUBSCRIBED");return}else{const h=this.bindings.postgres_changes,p=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,m=[];for(let y=0;y<p;y++){const x=h[y],{filter:{event:v,schema:g,table:b,filter:S}}=x,j=u&&u[y];if(j&&j.event===v&&j.schema===g&&j.table===b&&j.filter===S)m.push(Object.assign(Object.assign({},x),{id:j.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e("SUBSCRIBED");return}}).receive("error",u=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=l.body)===null||s===void 0?void 0:s.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Mr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(kn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new sm(this,kn.leave,{},e);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new sm(this,e,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=kn;if(n&&[a,l,c,u].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var m,y,x;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((x=(y=p.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var m,y,x,v,g,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const S=p.id,j=(m=p.filter)===null||m===void 0?void 0:m.event;return S&&((y=r.ids)===null||y===void 0?void 0:y.includes(S))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const S=(g=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return S==="*"||S===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:y,table:x,commit_timestamp:v,type:g,errors:b}=m;h=Object.assign(Object.assign({},{schema:y,table:x,commit_timestamp:v,eventType:g,new:{},old:{},errors:b}),this._getPayloadRecords(m))}p.callback(h,n)})}_isClosed(){return this.state===Mr.closed}_isJoined(){return this.state===Mr.joined}_isJoining(){return this.state===Mr.joining}_isLeaving(){return this.state===Mr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&pv.isEqual(s.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(kn.close,{},e)}_onError(e){this._on(kn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Mr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=B1(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=B1(e.columns,e.old_record)),r}}const pI=()=>{},mI=typeof WebSocket<"u";class gI{constructor(e,r){var n;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=sI,this.params={},this.timeout=CE,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=pI,this.conn=null,this.sendBuffer=[],this.serializer=new aI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>vl(async()=>{const{default:l}=await Promise.resolve().then(()=>Rl);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${dy.websocket}`,this.httpEndpoint=jE(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;s&&(this.accessToken=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new NE(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(mI){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new yI(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),vl(async()=>{const{default:e}=await import("./browser-DGFIySms.js").then(r=>r.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case za.connecting:return ro.Connecting;case za.open:return ro.Open;case za.closing:return ro.Closing;default:return ro.Closed}}isConnected(){return this.connectionState()===ro.Open}channel(e,r={config:{}}){const n=new pv(`realtime:${e}`,r,this);return this.channels.push(n),n}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(r=>{e&&r.updateJoinPayload({access_token:e}),r.joinedOnce&&r._isJoined()&&r._push(kn.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:iI}))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;(o&&o===this.pendingHeartbeatRef||s===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(kn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(oI,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class yI{constructor(e,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=za.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class mv extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Dt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class vI extends mv{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class hy extends mv{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var xI=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const TE=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>vl(async()=>{const{default:n}=await Promise.resolve().then(()=>Rl);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},bI=()=>xI(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield vl(()=>Promise.resolve().then(()=>Rl),void 0)).Response:Response}),py=t=>{if(Array.isArray(t))return t.map(r=>py(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=py(n)}),e};var Go=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const im=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),wI=(t,e,r)=>Go(void 0,void 0,void 0,function*(){const n=yield bI();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{e(new vI(im(s),t.status||500))}).catch(s=>{e(new hy(im(s),s))}):e(new hy(im(t),t))}),SI=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Gu(t,e,r,n,s,i){return Go(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,SI(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>wI(l,a,n))})})}function sh(t,e,r,n){return Go(this,void 0,void 0,function*(){return Gu(t,"GET",e,r,n)})}function Xs(t,e,r,n,s){return Go(this,void 0,void 0,function*(){return Gu(t,"POST",e,n,s,r)})}function kI(t,e,r,n,s){return Go(this,void 0,void 0,function*(){return Gu(t,"PUT",e,n,s,r)})}function _I(t,e,r,n){return Go(this,void 0,void 0,function*(){return Gu(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function PE(t,e,r,n,s){return Go(this,void 0,void 0,function*(){return Gu(t,"DELETE",e,n,s,r)})}var wr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const EI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},W1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class CI{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=TE(s)}uploadOrUpdate(e,r,n,s){return wr(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},W1),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),i.append("",n),l&&i.append("metadata",this.encodeMetadata(l))):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Dt(i))return{data:null,error:i};throw i}})}upload(e,r,n){return wr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return wr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:W1.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),h=yield d.json();return d.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(Dt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return wr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Xs(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new mv("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(Dt(n))return{data:null,error:n};throw n}})}update(e,r,n){return wr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return wr(this,void 0,void 0,function*(){try{return{data:yield Xs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Dt(s))return{data:null,error:s};throw s}})}copy(e,r,n){return wr(this,void 0,void 0,function*(){try{return{data:{path:(yield Xs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Dt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return wr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Xs(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Dt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return wr(this,void 0,void 0,function*(){try{const s=yield Xs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Dt(s))return{data:null,error:s};throw s}})}download(e,r){return wr(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield sh(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Dt(a))return{data:null,error:a};throw a}})}info(e){return wr(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield sh(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:py(n),error:null}}catch(n){if(Dt(n))return{data:null,error:n};throw n}})}exists(e){return wr(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield _I(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Dt(n)&&n instanceof hy){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return wr(this,void 0,void 0,function*(){try{return{data:yield PE(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(Dt(r))return{data:null,error:r};throw r}})}list(e,r,n){return wr(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},EI),r),{prefix:e||""});return{data:yield Xs(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Dt(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const NI="2.7.0",OI={"X-Client-Info":`storage-js/${NI}`};var ia=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class jI{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},OI),r),this.fetch=TE(n)}listBuckets(){return ia(this,void 0,void 0,function*(){try{return{data:yield sh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Dt(e))return{data:null,error:e};throw e}})}getBucket(e){return ia(this,void 0,void 0,function*(){try{return{data:yield sh(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(Dt(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return ia(this,void 0,void 0,function*(){try{return{data:yield Xs(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Dt(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return ia(this,void 0,void 0,function*(){try{return{data:yield kI(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Dt(n))return{data:null,error:n};throw n}})}emptyBucket(e){return ia(this,void 0,void 0,function*(){try{return{data:yield Xs(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Dt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ia(this,void 0,void 0,function*(){try{return{data:yield PE(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(Dt(r))return{data:null,error:r};throw r}})}}class TI extends jI{constructor(e,r={},n){super(e,r,n)}from(e){return new CI(this.url,this.headers,e,this.fetch)}}const PI="2.45.4";let mc="";typeof Deno<"u"?mc="deno":typeof document<"u"?mc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?mc="react-native":mc="node";const MI={"X-Client-Info":`supabase-js-${mc}/${PI}`},AI={headers:MI},II={schema:"public"},RI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},DI={};var LI=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const FI=t=>{let e;return t?e=t:typeof fetch>"u"?e=gE:e=fetch,(...r)=>e(...r)},$I=()=>typeof Headers>"u"?yE:Headers,zI=(t,e,r)=>{const n=FI(r),s=$I();return(i,o)=>LI(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var BI=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};function VI(t){return t.replace(/\/$/,"")}function UI(t,e){const{db:r,auth:n,realtime:s,global:i}=t,{db:o,auth:a,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>BI(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const ME="2.65.0",HI="http://localhost:9999",qI="supabase.auth.token",WI={"X-Client-Info":`gotrue-js/${ME}`},K1=10,my="X-Supabase-Api-Version",AE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function KI(t){return Math.round(Date.now()/1e3)+t}function JI(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const yn=()=>typeof document<"u",Gi={tested:!1,writable:!1},Pc=()=>{if(!yn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Gi.tested)return Gi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Gi.tested=!0,Gi.writable=!0}catch{Gi.tested=!0,Gi.writable=!1}return Gi.writable};function om(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const IE=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>vl(async()=>{const{default:n}=await Promise.resolve().then(()=>Rl);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},QI=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",RE=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},zd=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Bd=async(t,e)=>{await t.removeItem(e)};function ZI(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,s,i,o,a,l,c,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)o=e.indexOf(t.charAt(u++)),a=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),n=o<<2|a>>4,s=(a&15)<<4|l>>2,i=(l&3)<<6|c,r=r+String.fromCharCode(n),l!=64&&s!=0&&(r=r+String.fromCharCode(s)),c!=64&&i!=0&&(r=r+String.fromCharCode(i));return r}class sp{constructor(){this.promise=new sp.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}sp.promiseConstructor=Promise;function J1(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=t.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(ZI(n))}async function GI(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function YI(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function XI(t){return("0"+t.toString(16)).substr(-2)}function eR(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,XI).join("")}async function tR(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function rR(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function nR(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await tR(t);return rR(r)}async function oa(t,e,r=!1){const n=eR();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await RE(t,`${e}-code-verifier`,s);const i=await nR(n);return[i,n===i?"plain":"s256"]}const sR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function iR(t){const e=t.headers.get(my);if(!e||!e.match(sR))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class gv extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Oe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class oR extends gv{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function aR(t){return Oe(t)&&t.name==="AuthApiError"}class DE extends gv{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Yo extends gv{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Js extends Yo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function lR(t){return Oe(t)&&t.name==="AuthSessionMissingError"}class am extends Yo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vd extends Yo{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ud extends Yo{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Q1 extends Yo{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class gy extends Yo{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function lm(t){return Oe(t)&&t.name==="AuthRetryableFetchError"}class Z1 extends Yo{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var cR=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const eo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),uR=[502,503,504];async function G1(t){var e;if(!QI(t))throw new gy(eo(t),0);if(uR.includes(t.status))throw new gy(eo(t),t.status);let r;try{r=await t.json()}catch(i){throw new DE(eo(i),i)}let n;const s=iR(t);if(s&&s.getTime()>=AE["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Z1(eo(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Js}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Z1(eo(r),t.status,r.weak_password.reasons);throw new oR(eo(r),t.status||500,n)}const dR=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Ie(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[my]||(i[my]=AE["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await fR(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function fR(t,e,r,n,s,i){const o=dR(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new gy(eo(l),0)}if(a.ok||await G1(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await G1(l)}}function Qs(t){var e;let r=null;gR(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=KI(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Y1(t){const e=Qs(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function si(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function hR(t){return{data:t,error:null}}function pR(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=cR(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function mR(t){return t}function gR(t){return t.access_token&&t.refresh_token&&t.expires_in}var yR=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class vR{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=IE(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r="global"){try{return await Ie(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:si})}catch(n){if(Oe(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=yR(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:pR,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Oe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Ie(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:si})}catch(r){if(Oe(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:mR});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const y=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(m.split(";")[1].split("=")[1]);c[`${x}Page`]=y}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(Oe(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await Ie(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:si})}catch(r){if(Oe(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){try{return await Ie(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:si})}catch(n){if(Oe(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){try{return await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:si})}catch(n){if(Oe(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:r,error:n}=await Ie(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async _deleteFactor(e){try{return{data:await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}}}const xR={getItem:t=>Pc()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Pc()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Pc()&&globalThis.localStorage.removeItem(t)}};function X1(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function bR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const aa={debug:!!(globalThis&&Pc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class LE extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class wR extends LE{}async function SR(t,e,r){aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),aa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new wR(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(aa.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}bR();const kR={url:HI,storageKey:qI,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:WI,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},nc=30*1e3,eb=3;async function tb(t,e,r){return await r()}class iu{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=iu.nextInstanceID,iu.nextInstanceID+=1,this.instanceID>0&&yn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},kR),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new vR({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=IE(s.fetch),this.lock=s.lock||tb,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:yn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=SR:this.lock=tb,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Pc()?this.storage=xR:(this.memoryStorage={},this.storage=X1(this.memoryStorage)):(this.memoryStorage={},this.storage=X1(this.memoryStorage)),yn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ME}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=yn()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:r,error:n}=await this._getSessionFromURL(e);if(n)return this._debug("#_initialize()","error detecting session from URL",n),(n==null?void 0:n.message)==="Identity is already linked"||(n==null?void 0:n.message)==="Identity is already linked to another user"?{error:n}:(await this._removeSession(),{error:n});const{session:s,redirectType:i}=r;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return Oe(e)?{error:e}:{error:new DE("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Qs}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Oe(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:u,password:d,options:h}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await oa(this.storage,this.storageKey)),i=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:Qs})}else if("phone"in e){const{phone:u,password:d,options:h}=e;i=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Qs})}else throw new Vd("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Oe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Y1})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Y1})}else throw new Vd("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new am}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Oe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const r=await zd(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Qs});if(await Bd(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new am}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(Oe(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Qs}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new am}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(Oe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await oa(this.storage,this.storageKey));const{error:d}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Vd("You must provide either an email or phone number.")}catch(a){if(Oe(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await Ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Qs});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(Oe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await oa(this.storage,this.storageKey)),await Ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:hR})}catch(i){if(Oe(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Js;const{error:s}=await Ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(Oe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await Ie(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await Ie(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Vd("You must provide either an email or phone number and a type")}catch(r){if(Oe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await zd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:si}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Js}:await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:si})})}catch(r){if(Oe(r))return lR(r)&&(await this._removeSession(),await Bd(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Js;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await oa(this.storage,this.storageKey));const{data:c,error:u}=await Ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:si});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Oe(n))return{data:{user:null},error:n};throw n}}_decodeJWT(e){return J1(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Js;const r=Date.now()/1e3;let n=r,s=!0,i=null;const o=J1(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Oe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Js;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Oe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e){try{if(!yn())throw new Ud("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Ud("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new Q1("Not a valid PKCE flow url.");const r=om(window.location.href);if(e){if(!r.code)throw new Q1("No code detected.");const{data:g,error:b}=await this._exchangeCodeForSession(r.code);if(b)throw b;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:g.session,redirectType:null},error:null}}if(r.error||r.error_description||r.error_code)throw new Ud(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=r;if(!i||!a||!o||!c)throw new Ud("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;l&&(h=parseInt(l));const p=h-u;p*1e3<=nc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const m=h-d;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,u);const{data:y,error:x}=await this._getUser(i);if(x)throw x;const v={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:r.type},error:null}}catch(r){if(Oe(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantFlow(){const e=om(window.location.href);return!!(yn()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=om(window.location.href),r=await zd(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(aR(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Bd(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){const r=JI(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await oa(this.storage,this.storageKey,!0));try{return await Ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Oe(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,c,u;const{data:d,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Ie(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return yn()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Oe(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await Ie(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await YI(async s=>(s>0&&await GI(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Qs})),(s,i)=>{const o=200*Math.pow(2,s);return i&&lm(i)&&Date.now()+o-n<nc})}catch(n){if(this._debug(r,"error",n),Oe(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),yn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await zd(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((e=n.expires_at)!==null&&e!==void 0?e:1/0)<s+K1;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${K1}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),lm(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Js;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new sp;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Js;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),Oe(i)){const o={session:null,error:i};return lm(i)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await RE(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Bd(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&yn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),nc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/nc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${nc}ms, refresh threshold is ${eb} ticks`),s<=eb&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof LE)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!yn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await oa(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Ie(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await Ie(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="phone"&&delete l.totp,e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await Ie(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(Oe(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Ie(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Oe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}iu.nextInstanceID=0;const _R=iu;class ER extends _R{constructor(e){super(e)}}var CR=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class NR{constructor(e,r,n){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=VI(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:II,realtime:DI,auth:Object.assign(Object.assign({},RI),{storageKey:l}),global:AI},u=UI(n??{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=zI(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},u.realtime)),this.rest=new rI(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new MA(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new TI(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return CR(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,u){var d;const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ER({url:this.authUrl,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:(d="Authorization"in this.headers)!==null&&d!==void 0?d:!1})}_initRealtimeClient(e){return new gI(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.realtime.setAuth(n??null),this.changedAccessToken=n):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const OR=(t,e,r)=>new NR(t,e,r),jR="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVxZ3V5dWJyanZicnpoZHhydGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI0OTk2NjAsImV4cCI6MjA1ODA3NTY2MH0.AjdGB_QnNQKY0lb7ktQouuT5QufahsxGH2BzrGfqCzw",TR="https://eqguyubrjvbrzhdxrtix.supabase.co",fe=OR(TR,jR),PR=async t=>{const r=(t-1)*10,n=r+10-1,{data:s,error:i,count:o}=await fe.from("products").select("*, variants(*)",{count:"exact"}).order("created_at",{ascending:!1}).range(r,n);if(i)throw console.log(i.message),new Error(i.message);return{products:s,count:o}},MR=async({page:t=1,brands:e=[]})=>{const n=(t-1)*10,s=n+10-1;let i=fe.from("products").select("*, variants(*)",{count:"exact"}).order("created_at",{ascending:!1}).range(n,s);e.length>0&&(i=i.in("brand",e));const{data:o,error:a,count:l}=await i;if(a)throw console.log(a.message),new Error(a.message);return{data:o,count:l}},AR=async()=>{const{data:t,error:e}=await fe.from("products").select("*, variants(*)").order("created_at",{ascending:!1}).limit(4);if(e)throw console.log(e.message),new Error(e.message);return t},IR=async()=>{const{data:t,error:e}=await fe.from("products").select("*, variants(*)").limit(20);if(e)throw console.log(e.message),new Error(e.message);return t.sort(()=>.5-Math.random()).slice(0,4)},RR=async t=>{const{data:e,error:r}=await fe.from("products").select("*, variants(*)").eq("slug",t).single();if(r)throw console.log(r.message),new Error(r.message);return e},DR=async t=>{const{data:e,error:r}=await fe.from("products").select("*, variants(*)").ilike("name",`%${t}%`);if(r)throw console.log(r.message),new Error(r.message);return e},LR=async t=>{try{const{data:e,error:r}=await fe.from("products").insert({name:t.name,brand:t.brand,slug:t.slug,description:t.description,images:[]}).select().single();if(r)throw new Error(r.message);const n=e.id,s=await Promise.all(t.images.map(async l=>{const{data:c,error:u}=await fe.storage.from("product-images").upload(`${n}/${e.id}-${l.name}`,l);if(u)throw new Error(u.message);return`${fe.storage.from("product-images").getPublicUrl(c.path).data.publicUrl}`})),{error:i}=await fe.from("products").update({images:s}).eq("id",e.id);if(i)throw new Error(i.message);const o=t.variants.map(l=>({product_id:e.id,stock:l.stock,price:l.price,type:l.type,target:l.target,kg:l.kg})),{error:a}=await fe.from("variants").insert(o);if(a)throw new Error(a.message);return e}catch(e){throw console.log(e),new Error("Error inesperado, Vuelva a intentarlo")}},FR=async t=>{const{error:e}=await fe.from("variants").delete().eq("product_id",t);if(e)throw new Error(e.message);const{data:r,error:n}=await fe.from("products").select("images").eq("id",t).single();if(n)throw new Error(n.message);const{error:s}=await fe.from("products").delete().eq("id",t);if(s)throw new Error(s.message);if(r.images.length>0){const i=t,o=r.images.map(l=>{const c=l.split("/").pop();return`${i}/${c}`}),{error:a}=await fe.storage.from("product-images").remove(o);if(a)throw new Error(a.message)}return!0},$R=async(t,e)=>{const{data:r,error:n}=await fe.from("products").select("images").eq("id",t).single();if(n)throw new Error(n.message);const s=r.images||[],{data:i,error:o}=await fe.from("products").update({name:e.name,brand:e.brand,slug:e.slug,description:e.description}).eq("id",t).select().single();if(o)throw new Error(o.message);const a=t,l=e.images.filter(g=>g),u=s.filter(g=>!l.includes(g)).map(kA);if(u.length>0){const{error:g}=await fe.storage.from("product-images").remove(u);if(g)throw console.log(g),new Error(g.message);console.log(`Imagenes eliminadas: ${u.join(", ")}`)}const d=await Promise.all(l.map(async g=>{if(g instanceof File){const{data:b,error:S}=await fe.storage.from("product-images").upload(`${a}/${t}-${g.name}`,g);if(S)throw new Error(S.message);return fe.storage.from("product-images").getPublicUrl(b.path).data.publicUrl}else{if(typeof g=="string")return g;throw new Error("Tipo de imagen no soportado")}})),{error:h}=await fe.from("products").update({images:d}).eq("id",t);if(h)throw new Error(h.message);const p=e.variants.filter(g=>g.id),m=e.variants.filter(g=>!g.id);if(p.length>0){const{error:g}=await fe.from("variants").upsert(p.map(b=>({id:b.id,product_id:t,stock:b.stock,price:b.price,type:b.type,target:b.target,kg:b.kg})),{onConflict:"id"});if(g)throw new Error(g.message)}let y=[];if(m.length>0){const{data:g,error:b}=await fe.from("variants").insert(m.map(S=>({product_id:t,stock:S.stock,price:S.price,type:S.type,target:S.target,kg:S.kg}))).select();if(b)throw new Error(b.message);y=g.map(S=>S.id)}const x=[...p.map(g=>g.id),...y],{error:v}=await fe.from("variants").delete().eq("product_id",t).not("id","in",`(${x?x.join(","):0})`);if(v)throw new Error(v.message);return i},zR=async({email:t,password:e,fullName:r,phone:n})=>{var s;try{const{data:i,error:o}=await fe.auth.signUp({email:t,password:e});if(o)throw new Error(o.message);const a=(s=i.user)==null?void 0:s.id;if(!a)throw new Error("Error al obtener el id del usuario");const{error:l}=await fe.auth.signInWithPassword({email:t,password:e});if(l)throw console.log(l),new Error("Email o contraseña incorrectos");const{error:c}=await fe.from("user_roles").insert({user_id:a,role:"customer"});if(c)throw console.log(c),new Error("Error al registrar el rol del usuario");const{error:u}=await fe.from("customers").insert({user_id:a,full_name:r,phone:n,email:t});if(u)throw console.log(u),new Error("Error al registrar los datos del usuario");return i}catch(i){throw console.log(i),new Error("Error al registrar el usuario")}},BR=async({email:t,password:e})=>{const{data:r,error:n}=await fe.auth.signInWithPassword({email:t,password:e});if(n)throw console.log(n),new Error("Email o contraseña incorrectos");return r},FE=async()=>{const{error:t}=await fe.auth.signOut();if(t)throw console.log(t),new Error("Error al cerrar sesión")},$E=async()=>{const{data:t,error:e}=await fe.auth.getSession();if(e)throw console.log(e),new Error("Error al obtener la sesión");return t},VR=async t=>{const{data:e,error:r}=await fe.from("customers").select("*").eq("user_id",t).single();if(r)throw console.log(r),new Error("Error al obtener los datos del usuario");return e},zE=async t=>{const{data:e,error:r}=await fe.from("user_roles").select("role").eq("user_id",t).single();if(r)throw console.log(r),new Error("Error al obtener el rol del usuario");return e.role},UR=async t=>{const{data:e,error:r}=await fe.auth.getUser();if(r)throw console.log(r),new Error(r.message);const n=e.user.id,{data:s,error:i}=await fe.from("customers").select("id").eq("user_id",n).single();if(i)throw console.log(i),new Error(i.message);const o=s.id;for(const p of t.cartItems){const{data:m,error:y}=await fe.from("variants").select("stock").eq("id",p.variantId).single();if(y)throw console.log(y),new Error(y.message);if(m.stock<p.quantity)throw new Error("No hay stock suficiente los artículos seleccionados")}const{data:a,error:l}=await fe.from("addresses").insert({address_line1:t.address.addressLine1,address_line2:t.address.addressLine2,city:t.address.city,state:t.address.state,postal_code:t.address.postalCode,customer_id:o}).select().single();if(l)throw console.log(l),new Error(l.message);const{data:c,error:u}=await fe.from("orders").insert({customer_id:o,address_id:a.id,total_amount:t.totalAmount,status:"Pending"}).select().single();if(u)throw console.log(u),new Error(u.message);const d=t.cartItems.map(p=>({order_id:c.id,variant_id:p.variantId,quantity:p.quantity,price:p.price})),{error:h}=await fe.from("order_items").insert(d);if(h)throw console.log(h),new Error(h.message);for(const p of t.cartItems){const{data:m}=await fe.from("variants").select("stock").eq("id",p.variantId).single();if(!m)throw new Error("No se encontró la variante");const y=m.stock-p.quantity,{error:x}=await fe.from("variants").update({stock:y}).eq("id",p.variantId);if(x)throw console.log(x),new Error("No se pudo actualizar el stock de la variante")}return c},HR=async()=>{const{data:t,error:e}=await fe.auth.getUser();if(e)throw console.log(e),new Error(e.message);const{data:r,error:n}=await fe.from("customers").select("id").eq("user_id",t.user.id).single();if(n)throw console.log(n),new Error(n.message);const s=r.id,{data:i,error:o}=await fe.from("orders").select("id, total_amount, status, created_at").eq("customer_id",s).order("created_at",{ascending:!1});if(o)throw console.log(o),new Error(o.message);return i},BE=async t=>{var l,c,u,d,h,p,m;const{data:e,error:r}=await fe.auth.getUser();if(r)throw console.log(r),new Error(r.message);const{data:n,error:s}=await fe.from("customers").select("id").eq("user_id",e.user.id).single();if(s)throw console.log(s),new Error(s.message);const i=n.id,{data:o,error:a}=await fe.from("orders").select("*, addresses(*), customers(full_name, email), order_items(quantity, price, variants(target, type, kg, products(name, images)))").eq("customer_id",i).eq("id",t).single();if(a)throw console.log(a),new Error(a.message);return{customer:{email:(l=o==null?void 0:o.customers)==null?void 0:l.email,full_name:(c=o.customers)==null?void 0:c.full_name},totalAmount:o.total_amount,status:o.status,created_at:o.created_at,address:{addressLine1:(u=o.addresses)==null?void 0:u.address_line1,addressLine2:(d=o.addresses)==null?void 0:d.address_line2,city:(h=o.addresses)==null?void 0:h.city,state:(p=o.addresses)==null?void 0:p.state,postalCode:(m=o.addresses)==null?void 0:m.postal_code},orderItems:o.order_items.map(y=>{var x,v,g,b,S,j,N;return{quantity:y.quantity,price:y.price,target:(x=y.variants)==null?void 0:x.target,type:(v=y.variants)==null?void 0:v.type,kg:(g=y.variants)==null?void 0:g.kg,productName:(S=(b=y.variants)==null?void 0:b.products)==null?void 0:S.name,productImage:(N=(j=y.variants)==null?void 0:j.products)==null?void 0:N.images[0]}})}},qR=async()=>{const{data:t,error:e}=await fe.from("orders").select("id, total_amount, status, created_at, customers(full_name, email)").order("created_at",{ascending:!1});if(e)throw console.log(e),new Error(e.message);return t},WR=async({id:t,status:e})=>{const{error:r}=await fe.from("orders").update({status:e}).eq("id",t);if(r)throw console.log(r),new Error(r.message)},KR={createDocument:function(e){return new DOMParser().parseFromString(e.trim(),"text/xml")}};var Lr=Uint8Array,co=Uint16Array,VE=Uint32Array,UE=new Lr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),HE=new Lr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),JR=new Lr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),qE=function(t,e){for(var r=new co(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var s=new VE(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return[r,s]},WE=qE(UE,2),KE=WE[0],QR=WE[1];KE[28]=258,QR[258]=28;var ZR=qE(HE,0),GR=ZR[0],yy=new co(32768);for(var et=0;et<32768;++et){var Hs=(et&43690)>>>1|(et&21845)<<1;Hs=(Hs&52428)>>>2|(Hs&13107)<<2,Hs=(Hs&61680)>>>4|(Hs&3855)<<4,yy[et]=((Hs&65280)>>>8|(Hs&255)<<8)>>>1}var Mc=function(t,e,r){for(var n=t.length,s=0,i=new co(e);s<n;++s)t[s]&&++i[t[s]-1];var o=new co(e);for(s=0;s<e;++s)o[s]=o[s-1]+i[s-1]<<1;var a;if(r){a=new co(1<<e);var l=15-e;for(s=0;s<n;++s)if(t[s])for(var c=s<<4|t[s],u=e-t[s],d=o[t[s]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)a[yy[d]>>>l]=c}else for(a=new co(n),s=0;s<n;++s)t[s]&&(a[s]=yy[o[t[s]-1]++]>>>15-t[s]);return a},Yu=new Lr(288);for(var et=0;et<144;++et)Yu[et]=8;for(var et=144;et<256;++et)Yu[et]=9;for(var et=256;et<280;++et)Yu[et]=7;for(var et=280;et<288;++et)Yu[et]=8;var JE=new Lr(32);for(var et=0;et<32;++et)JE[et]=5;var YR=Mc(Yu,9,1),XR=Mc(JE,5,1),cm=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},gn=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},um=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},e4=function(t){return(t+7)/8|0},yv=function(t,e,r){(e==null||e<0)&&(e=0),(r==null||r>t.length)&&(r=t.length);var n=new(t.BYTES_PER_ELEMENT==2?co:t.BYTES_PER_ELEMENT==4?VE:Lr)(r-e);return n.set(t.subarray(e,r)),n},t4=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],_n=function(t,e,r){var n=new Error(e||t4[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,_n),!r)throw n;return n},r4=function(t,e,r){var n=t.length;if(!n||r&&r.f&&!r.l)return e||new Lr(0);var s=!e||r,i=!r||r.i;r||(r={}),e||(e=new Lr(n*3));var o=function(ct){var At=e.length;if(ct>At){var Zr=new Lr(Math.max(At*2,ct));Zr.set(e),e=Zr}},a=r.f||0,l=r.p||0,c=r.b||0,u=r.l,d=r.d,h=r.m,p=r.n,m=n*8;do{if(!u){a=gn(t,l,1);var y=gn(t,l+1,3);if(l+=3,y)if(y==1)u=YR,d=XR,h=9,p=5;else if(y==2){var b=gn(t,l,31)+257,S=gn(t,l+10,15)+4,j=b+gn(t,l+5,31)+1;l+=14;for(var N=new Lr(j),T=new Lr(19),w=0;w<S;++w)T[JR[w]]=gn(t,l+w*3,7);l+=S*3;for(var P=cm(T),L=(1<<P)-1,R=Mc(T,P,1),w=0;w<j;){var H=R[gn(t,l,L)];l+=H&15;var x=H>>>4;if(x<16)N[w++]=x;else{var J=0,le=0;for(x==16?(le=3+gn(t,l,3),l+=2,J=N[w-1]):x==17?(le=3+gn(t,l,7),l+=3):x==18&&(le=11+gn(t,l,127),l+=7);le--;)N[w++]=J}}var ve=N.subarray(0,b),we=N.subarray(b);h=cm(ve),p=cm(we),u=Mc(ve,h,1),d=Mc(we,p,1)}else _n(1);else{var x=e4(l)+4,v=t[x-4]|t[x-3]<<8,g=x+v;if(g>n){i&&_n(0);break}s&&o(c+v),e.set(t.subarray(x,g),c),r.b=c+=v,r.p=l=g*8,r.f=a;continue}if(l>m){i&&_n(0);break}}s&&o(c+131072);for(var $e=(1<<h)-1,V=(1<<p)-1,K=l;;K=l){var J=u[um(t,l)&$e],se=J>>>4;if(l+=J&15,l>m){i&&_n(0);break}if(J||_n(2),se<256)e[c++]=se;else if(se==256){K=l,u=null;break}else{var Te=se-254;if(se>264){var w=se-257,Ne=UE[w];Te=gn(t,l,(1<<Ne)-1)+KE[w],l+=Ne}var vt=d[um(t,l)&V],St=vt>>>4;vt||_n(3),l+=vt&15;var we=GR[St];if(St>3){var Ne=HE[St];we+=um(t,l)&(1<<Ne)-1,l+=Ne}if(l>m){i&&_n(0);break}s&&o(c+131072);for(var ar=c+Te;c<ar;c+=4)e[c]=e[c-we],e[c+1]=e[c+1-we],e[c+2]=e[c+2-we],e[c+3]=e[c+3-we];c=ar}}r.l=u,r.p=K,r.b=c,r.f=a,u&&(a=1,r.m=h,r.d=d,r.n=p)}while(!a);return c==e.length?e:yv(e,0,c)},n4=new Lr(0),Qn=function(t,e){return t[e]|t[e+1]<<8},Nn=function(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0},dm=function(t,e){return Nn(t,e)+Nn(t,e+4)*4294967296};function s4(t,e){return r4(t,e)}var vy=typeof TextDecoder<"u"&&new TextDecoder,i4=0;try{vy.decode(n4,{stream:!0}),i4=1}catch{}var o4=function(t){for(var e="",r=0;;){var n=t[r++],s=(n>127)+(n>223)+(n>239);if(r+s>t.length)return[e,yv(t,r-1)];s?s==3?(n=((n&15)<<18|(t[r++]&63)<<12|(t[r++]&63)<<6|t[r++]&63)-65536,e+=String.fromCharCode(55296|n>>10,56320|n&1023)):s&1?e+=String.fromCharCode((n&31)<<6|t[r++]&63):e+=String.fromCharCode((n&15)<<12|(t[r++]&63)<<6|t[r++]&63):e+=String.fromCharCode(n)}};function QE(t,e){if(e){for(var r="",n=0;n<t.length;n+=16384)r+=String.fromCharCode.apply(null,t.subarray(n,n+16384));return r}else{if(vy)return vy.decode(t);var s=o4(t),i=s[0],o=s[1];return o.length&&_n(8),i}}var a4=function(t,e){return e+30+Qn(t,e+26)+Qn(t,e+28)},l4=function(t,e,r){var n=Qn(t,e+28),s=QE(t.subarray(e+46,e+46+n),!(Qn(t,e+8)&2048)),i=e+46+n,o=Nn(t,e+20),a=r&&o==4294967295?c4(t,i):[o,Nn(t,e+24),Nn(t,e+42)],l=a[0],c=a[1],u=a[2];return[Qn(t,e+10),l,c,s,i+Qn(t,e+30)+Qn(t,e+32),u]},c4=function(t,e){for(;Qn(t,e)!=1;e+=4+Qn(t,e+2));return[dm(t,e+12),dm(t,e+4),dm(t,e+20)]};function u4(t,e){for(var r={},n=t.length-22;Nn(t,n)!=101010256;--n)(!n||t.length-n>65558)&&_n(13);var s=Qn(t,n+8);if(!s)return{};var i=Nn(t,n+16),o=i==4294967295||s==65535;if(o){var a=Nn(t,n-12);o=Nn(t,a)==101075792,o&&(s=Nn(t,a+32),i=Nn(t,a+48))}for(var l=0;l<s;++l){var c=l4(t,i,o),u=c[0],d=c[1],h=c[2],p=c[3],m=c[4],y=c[5],x=a4(t,y);i=m,u?u==8?r[p]=s4(t.subarray(x,x+d),new Lr(h)):_n(14,"unknown compression type "+u):r[p]=yv(t,x,x+d)}return r}function d4(t){return t instanceof File||t instanceof Blob?t.arrayBuffer().then(fm):fm(t)}function fm(t){var e=new Uint8Array(t),r=u4(e);return Promise.resolve(f4(r))}function f4(t){for(var e=[],r=0,n=Object.keys(t);r<n.length;r++){var s=n[r];e[s]=QE(t[s])}return e}function ts(t,e){for(var r=0;r<t.childNodes.length;){var n=t.childNodes[r];if(n.nodeType===1&&zo(n)===e)return n;r++}}function Xu(t,e){for(var r=[],n=0;n<t.childNodes.length;){var s=t.childNodes[n];s.nodeType===1&&zo(s)===e&&r.push(s),n++}return r}function ih(t,e,r){for(var n=0;n<t.childNodes.length;){var s=t.childNodes[n];e?s.nodeType===1&&zo(s)===e&&r(s,n):r(s,n),n++}}function h4(t,e,r){var n=[];return ih(t,e,function(s,i){n.push(r(s,i))}),n}var p4=/.+\:/;function zo(t){return t.tagName.replace(p4,"")}function ZE(t){if(t.nodeType!==1)return t.textContent;for(var e="<"+zo(t),r=0;r<t.attributes.length;)e+=" "+t.attributes[r].name+'="'+t.attributes[r].value+'"',r++;e+=">";for(var n=0;n<t.childNodes.length;)e+=ZE(t.childNodes[n]),n++;return e+="</"+zo(t)+">",e}function m4(t){var e=t.documentElement,r=ts(e,"sheetData"),n=[];return ih(r,"row",function(s){ih(s,"c",function(i){n.push(i)})}),n}function g4(t,e){return ts(e,"v")}function y4(t,e){if(e.firstChild&&zo(e.firstChild)==="is"&&e.firstChild.firstChild&&zo(e.firstChild.firstChild)==="t")return e.firstChild.firstChild.textContent}function v4(t){var e=t.documentElement,r=ts(e,"dimension");if(r)return r.getAttribute("ref")}function x4(t){var e=t.documentElement,r=ts(e,"cellStyleXfs");return r?Xu(r,"xf"):[]}function b4(t){var e=t.documentElement,r=ts(e,"cellXfs");return r?Xu(r,"xf"):[]}function w4(t){var e=t.documentElement,r=ts(e,"numFmts");return r?Xu(r,"numFmt"):[]}function S4(t){var e=t.documentElement;return h4(e,"si",function(r){var n=ts(r,"t");if(n)return n.textContent;var s="";return ih(r,"r",function(i){s+=ts(i,"t").textContent}),s})}function k4(t){var e=t.documentElement;return ts(e,"workbookPr")}function _4(t){var e=t.documentElement;return Xu(e,"Relationship")}function E4(t){var e=t.documentElement,r=ts(e,"sheets");return Xu(r,"sheet")}function C4(t,e){var r=e.createDocument(t),n={},s=k4(r);s&&s.getAttribute("date1904")==="1"&&(n.epoch1904=!0),n.sheets=[];var i=function(a){a.getAttribute("name")&&n.sheets.push({id:a.getAttribute("sheetId"),name:a.getAttribute("name"),relationId:a.getAttribute("r:id")})};return E4(r).forEach(i),n}function N4(t,e){var r=e.createDocument(t),n={sheets:{},sharedStrings:void 0,styles:void 0},s=function(o){var a=o.getAttribute("Target"),l=o.getAttribute("Type");switch(l){case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles":n.styles=hm(a);break;case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings":n.sharedStrings=hm(a);break;case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet":n.sheets[o.getAttribute("Id")]=hm(a);break}};return _4(r).forEach(s),n}function hm(t){return t[0]==="/"?t.slice(1):"xl/"+t}function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function rb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function nb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rb(Object(r),!0).forEach(function(n){O4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function O4(t,e,r){return e=j4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j4(t){var e=T4(t,"string");return ou(e)==="symbol"?e:String(e)}function T4(t,e){if(ou(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ou(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P4(t,e){if(!t)return{};var r=e.createDocument(t),n=x4(r).map(pm),s=w4(r).map(M4).reduce(function(o,a){return o[a.id]=a,o},[]),i=function(a){return a.hasAttribute("xfId")?nb(nb({},n[a.xfId]),pm(a,s)):pm(a,s)};return b4(r).map(i)}function M4(t){return{id:t.getAttribute("numFmtId"),template:t.getAttribute("formatCode")}}function pm(t,e){var r={};if(t.hasAttribute("numFmtId")){var n=t.getAttribute("numFmtId");e[n]?r.numberFormat=e[n]:r.numberFormat={id:n}}return r}function A4(t,e){return t?S4(e.createDocument(t)):[]}function GE(t,e){e&&e.epoch1904&&(t+=1462);var r=70*365+19,n=60*60*1e3;return new Date(Math.round((t-r)*24*n))}function I4(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=R4(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R4(t,e){if(t){if(typeof t=="string")return sb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sb(t,e)}}function sb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function D4(t,e,r){if(t){var n=e[t];if(!n)throw new Error("Cell style not found: ".concat(t));if(!n.numberFormat)return!1;if(L4.indexOf(Number(n.numberFormat.id))>=0||r.dateFormat&&n.numberFormat.template===r.dateFormat||r.smartDateParser!==!1&&n.numberFormat.template&&z4(n.numberFormat.template))return!0}}var L4=[14,15,16,17,18,19,20,21,22,27,30,36,45,46,47,50,57],F4=/^\[\$-414\]/,$4=/;@$/;function z4(t){t=t.toLowerCase(),t=t.replace(F4,""),t=t.replace($4,"");for(var e=t.split(/\W+/),r=I4(e),n;!(n=r()).done;){var s=n.value;if(B4.indexOf(s)<0)return!1}return!0}var B4=["ss","mm","h","hh","am","pm","d","dd","m","mm","mmm","mmmm","yy","yyyy","e"];function V4(t,e,r){var n=r.getInlineStringValue,s=r.getInlineStringXml,i=r.getStyleId,o=r.styles,a=r.values,l=r.properties,c=r.options;switch(e||(e="n"),e){case"str":t=mm(t,c);break;case"inlineStr":if(t=n(),t===void 0)throw new Error('Unsupported "inline string" cell value structure: '.concat(s()));t=mm(t,c);break;case"s":var u=Number(t);if(isNaN(u))throw new Error('Invalid "shared" string index: '.concat(t));if(u>=a.length)throw new Error('An out-of-bounds "shared" string index: '.concat(t));t=a[u],t=mm(t,c);break;case"b":if(t==="1")t=!0;else if(t==="0")t=!1;else throw new Error('Unsupported "boolean" cell value: '.concat(t));break;case"z":t=void 0;break;case"e":t=U4(t);break;case"d":if(t===void 0)break;var d=new Date(t);if(isNaN(d.valueOf()))throw new Error('Unsupported "date" cell value: '.concat(t));t=d;break;case"n":if(t===void 0)break;var h=D4(i(),o,c);h?(t=ib(t),t=GE(t,l)):t=(c.parseNumber||ib)(t);break;default:throw new TypeError("Cell type not supported: ".concat(e))}return t===void 0&&(t=null),t}function U4(t){switch(t){case 0:return"#NULL!";case 7:return"#DIV/0!";case 15:return"#VALUE!";case 23:return"#REF!";case 29:return"#NAME?";case 36:return"#NUM!";case 42:return"#N/A";case 43:return"#GETTING_DATA";default:return"#ERROR_".concat(t)}}function mm(t,e){return e.trim!==!1&&(t=t.trim()),t===""&&(t=void 0),t}function ib(t){var e=Number(t);if(isNaN(e))throw new Error('Invalid "numeric" cell value: '.concat(t));return e}var H4=["","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];function q4(t){var e=function(c,u){return c-u},r=t.map(function(l){return l.row}).sort(e),n=t.map(function(l){return l.column}).sort(e),s=r[0],i=r[r.length-1],o=n[0],a=n[n.length-1];return[{row:s,column:o},{row:i,column:a}]}function W4(t){for(var e=0,r=0;r<t.length;)e*=26,e+=H4.indexOf(t[r]),r++;return e}function YE(t){return t=t.split(/(\d+)/),[parseInt(t[1]),W4(t[0].trim())]}function K4(t,e,r,n,s,i,o){var a=YE(t.getAttribute("r")),l=g4(e,t),c=l&&l.textContent,u;return t.hasAttribute("t")&&(u=t.getAttribute("t")),{row:a[0],column:a[1],value:V4(c,u,{getInlineStringValue:function(){return y4(e,t)},getInlineStringXml:function(){return ZE(t)},getStyleId:function(){return t.getAttribute("s")},styles:s,values:n,properties:i,options:o})}}function J4(t,e,r,n,s,i){var o=m4(t);return o.length===0?[]:o.map(function(a){return K4(a,t,e,r,n,s,i)})}function Q4(t,e){return X4(t)||Y4(t,e)||G4(t,e)||Z4()}function Z4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G4(t,e){if(t){if(typeof t=="string")return ob(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ob(t,e)}}function ob(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Y4(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,a=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,s=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw s}}return a}}function X4(t){if(Array.isArray(t))return t}function e3(t){var e=v4(t);if(e)return e=e.split(":").map(YE).map(function(r){var n=Q4(r,2),s=n[0],i=n[1];return{row:s,column:i}}),e.length===1&&(e=[e[0],e[0]]),e}function t3(t,e,r,n,s,i){var o=e.createDocument(t),a=J4(o,e,r,n,s,i),l=e3(o)||q4(a);return{cells:a,dimensions:l}}function r3(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=n3(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n3(t,e){if(t){if(typeof t=="string")return ab(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ab(t,e)}}function ab(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s3(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.rowIndexMap,n=e.accessor,s=n===void 0?function(d){return d}:n,i=e.onlyTrimAtTheEnd,o=t.length-1;o>=0;){for(var a=!0,l=r3(t[o]),c;!(c=l()).done;){var u=c.value;if(s(u)!==null){a=!1;break}}if(a)t.splice(o,1),r&&r.splice(o,1);else if(i)break;o--}return t}function i3(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=o3(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o3(t,e){if(t){if(typeof t=="string")return lb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lb(t,e)}}function lb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a3(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.accessor,n=r===void 0?function(d){return d}:r,s=e.onlyTrimAtTheEnd,i=t[0].length-1;i>=0;){for(var o=!0,a=i3(t),l;!(l=a()).done;){var c=l.value;if(n(c[i])!==null){o=!1;break}}if(o)for(var u=0;u<t.length;)t[u].splice(i,1),u++;else if(s)break;i--}return t}function l3(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=XE(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c3(t,e){return f3(t)||d3(t,e)||XE(t,e)||u3()}function u3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XE(t,e){if(t){if(typeof t=="string")return cb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cb(t,e)}}function cb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function d3(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,a=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,s=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw s}}return a}}function f3(t){if(Array.isArray(t))return t}function h3(t,e){var r=t.dimensions,n=t.cells;if(n.length===0)return[];var s=c3(r,2);s[0];for(var i=s[1],o=i.column,a=i.row,l=new Array(a),c=0;c<a;){l[c]=new Array(o);for(var u=0;u<o;)l[c][u]=null,u++;c++}for(var d=l3(n),h;!(h=d()).done;){var p=h.value,m=p.row-1,y=p.column-1;y<o&&m<a&&(l[m][y]=p.value)}var x=e.rowMap;if(x)for(var v=0;v<l.length;)x[v]=v,v++;return l=s3(a3(l,{onlyTrimAtTheEnd:!0}),{onlyTrimAtTheEnd:!0,rowIndexMap:x}),e.transformData&&(l=e.transformData(l)),l}function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function p3(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=m3(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m3(t,e){if(t){if(typeof t=="string")return ub(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ub(t,e)}}function ub(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function db(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function fb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?db(Object(r),!0).forEach(function(n){g3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):db(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function g3(t,e,r){return e=y3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y3(t){var e=v3(t,"string");return au(e)==="symbol"?e:String(e)}function v3(t,e){if(au(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(au(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function x3(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};r.sheet||(r=fb({sheet:1},r));var n=function(h){if(!t[h])throw new Error('"'.concat(h,'" file not found inside the *.xlsx file zip archive'));return t[h]},s=N4(n("xl/_rels/workbook.xml.rels"),e),i=s.sharedStrings?A4(n(s.sharedStrings),e):[],o=s.styles?P4(n(s.styles),e):{},a=C4(n("xl/workbook.xml"),e);if(r.getSheets)return a.sheets.map(function(d){var h=d.name;return{name:h}});var l=b3(r.sheet,a.sheets);if(!l||!s.sheets[l])throw w3(r.sheet,a.sheets);var c=t3(n(s.sheets[l]),e,i,o,a,r);r=fb({rowMap:[]},r);var u=h3(c,r);return r.properties?{data:u,properties:a}:u}function b3(t,e){if(typeof t=="number"){var r=e[t-1];return r&&r.relationId}for(var n=p3(e),s;!(s=n()).done;){var i=s.value;if(i.name===t)return i.relationId}}function w3(t,e){var r=e&&e.map(function(n,s){return'"'.concat(n.name,'" (#').concat(s+1,")")}).join(", ");return new Error("Sheet ".concat(typeof t=="number"?"#"+t:'"'+t+'"'," not found in the *.xlsx file.").concat(e?" Available sheets: "+r+".":""))}function xy(t){"@babel/helpers - typeof";return xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xy(t)}function S3(t,e,r){return Object.defineProperty(t,"prototype",{writable:!1}),t}function k3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lu(t,e)}function E3(t){var e=eC();return function(){var n=cu(t),s;if(e){var i=cu(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return C3(this,s)}}function C3(t,e){if(e&&(xy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N3(t)}function N3(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function by(t){var e=typeof Map=="function"?new Map:void 0;return by=function(n){if(n===null||!O3(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,s)}function s(){return gf(n,arguments,cu(this).constructor)}return s.prototype=Object.create(n.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),lu(s,n)},by(t)}function gf(t,e,r){return eC()?gf=Reflect.construct.bind():gf=function(s,i,o){var a=[null];a.push.apply(a,i);var l=Function.bind.apply(s,a),c=new l;return o&&lu(c,o.prototype),c},gf.apply(null,arguments)}function eC(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function O3(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function lu(t,e){return lu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},lu(t,e)}function cu(t){return cu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cu(t)}var Fr=function(t){_3(r,t);var e=E3(r);function r(n){var s;return k3(this,r),s=e.call(this,"invalid"),s.reason=n,s}return S3(r)}(by(Error));function j3(t){if(typeof t=="string"){var e=t;if(t=Number(t),String(t)!==e)throw new Fr("not_a_number")}if(typeof t!="number")throw new Fr("not_a_number");if(isNaN(t))throw new Fr("invalid_number");if(!isFinite(t))throw new Fr("out_of_bounds");return t}function T3(t){if(typeof t=="string")return t;if(typeof t=="number"){if(isNaN(t))throw new Fr("invalid_number");if(!isFinite(t))throw new Fr("out_of_bounds");return String(t)}throw new Fr("not_a_string")}function P3(t){if(typeof t=="boolean")return t;throw new Fr("not_a_boolean")}function M3(t,e){var r=e.properties;if(t instanceof Date){if(isNaN(t.valueOf()))throw new Fr("out_of_bounds");return t}if(typeof t=="number"){if(isNaN(t))throw new Fr("invalid_number");if(!isFinite(t))throw new Fr("out_of_bounds");var n=GE(t,r);if(isNaN(n.valueOf()))throw new Fr("out_of_bounds");return n}throw new Fr("not_a_date")}function A3(t,e){return D3(t)||R3(t,e)||tC(t,e)||I3()}function I3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R3(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,a=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,s=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw s}}return a}}function D3(t){if(Array.isArray(t))return t}function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function L3(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=tC(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tC(t,e){if(t){if(typeof t=="string")return hb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hb(t,e)}}function hb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function mb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pb(Object(r),!0).forEach(function(n){F3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function F3(t,e,r){return e=$3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $3(t){var e=z3(t,"string");return bl(e)==="symbol"?e:String(e)}function z3(t,e){if(bl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(bl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gb={schemaPropertyValueForMissingColumn:void 0,schemaPropertyValueForUndefinedCellValue:void 0,schemaPropertyValueForNullCellValue:null,schemaPropertyShouldSkipRequiredValidationForMissingColumn:function(){return!1},getEmptyObjectValue:function(){return null},getEmptyArrayValue:function(){return null},isColumnOriented:!1,arrayValueSeparator:","};function B3(t,e,r){r?r=mb(mb({},gb),r):r=gb;var n=r,s=n.isColumnOriented,i=n.rowIndexMap;q3(e),s&&(t=H3(t));for(var o=t[0],a=[],l=[],c=1;c<t.length;c++){var u=rC(e,t[c],c,void 0,o,l,r);a.push(u)}if(i)for(var d=L3(l),h;!(h=d()).done;){var p=h.value;p.row=i[p.row-1]+1}return{rows:a,errors:l}}function rC(t,e,r,n,s,i,o){for(var a={},l=!0,c=function(w){var P=w.column,L=w.value,R=w.error,H=w.reason,J={error:R,row:r+1,column:P,value:L};return H&&(J.reason=H),t[P].type&&(J.type=t[P].type),J},u=[],d=function(){var w=p[h],P=t[w],L=bl(P.type)==="object"&&!Array.isArray(P.type),R="".concat(n||"",".").concat(P.prop),H,J=s.indexOf(w),le=J<0;le||(H=e[J]);var ve,we,$e;if(L)ve=rC(P.type,e,r,R,s,i,o);else if(le)ve=o.schemaPropertyValueForMissingColumn;else if(H===void 0)ve=o.schemaPropertyValueForUndefinedCellValue;else if(H===null)ve=o.schemaPropertyValueForNullCellValue;else if(Array.isArray(P.type)){var V=U3(H,o.arrayValueSeparator).map(function(Te){if(!we){var Ne=yb(Te,P,o);return Ne.error&&(ve=Te,we=Ne.error,$e=Ne.reason),Ne.value}});if(!we){var K=V.every(gm);ve=K?o.getEmptyArrayValue(V,{path:R}):V}}else{var se=yb(H,P,o);we=se.error,$e=se.reason,ve=we?H:se.value}!we&&gm(ve)&&P.required&&u.push({column:w,value:ve,isMissingColumn:le}),we?i.push(c({column:w,value:ve,error:we,reason:$e})):(l&&!gm(ve)&&(l=!1),ve!==void 0&&(a[P.prop]=ve))},h=0,p=Object.keys(t);h<p.length;h++)d();if(l)return o.getEmptyObjectValue(a,{path:n});for(var m=0,y=u;m<y.length;m++){var x=y[m],v=x.column,g=x.value,b=x.isMissingColumn,S=b&&o.schemaPropertyShouldSkipRequiredValidationForMissingColumn(v,{object:a});if(!S){var j=t[v].required,N=typeof j=="boolean"?j:j(a);N&&i.push(c({column:v,value:g,error:"required"}))}}return a}function yb(t,e,r){if(t===null)return{value:null};var n;if(e.parse?n=da(t,e.parse):e.type?n=V3(t,Array.isArray(e.type)?e.type[0]:e.type,r):n={value:t},n.error)return n;if(n.value!==null){if(e.oneOf&&e.oneOf.indexOf(n.value)<0)return{error:"invalid",reason:"unknown"};if(e.validate)try{e.validate(n.value)}catch(s){return{error:s.message}}}return n}function da(t,e){try{var r=e(t);return r===void 0?{value:null}:{value:r}}catch(s){var n={error:s.message};return s.reason&&(n.reason=s.reason),n}}function V3(t,e,r){switch(e){case String:return da(t,T3);case Number:return da(t,j3);case Date:return da(t,function(n){return M3(n,{properties:r.properties})});case Boolean:return da(t,P3);default:if(typeof e=="function")return da(t,e);throw new Error("Unsupported schema type: ".concat(e&&e.name||e))}}function nC(t,e,r){for(var n=0,s="";r+n<t.length;){var i=t[r+n];if(i===e)return[s,n];if(i==='"'){var o=nC(t,'"',r+n+1);s+=o[0],n+=1+o[1]+1}else s+=i,n++}return[s,n]}function U3(t,e){for(var r=[],n=0;n<t.length;){var s=nC(t,e,n),i=A3(s,2),o=i[0],a=i[1];n+=a+e.length,r.push(o.trim())}return r}var H3=function(e){return e[0].map(function(r,n){return e.map(function(s){return s[n]})})};function q3(t){for(var e=0,r=Object.keys(t);e<r.length;e++){var n=r[e],s=t[n];if(!s.prop)throw new Error('"prop" not defined for schema entry "'.concat(n,'".'))}}function gm(t){return t==null}function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}function vb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function xb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vb(Object(r),!0).forEach(function(n){W3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function W3(t,e,r){return e=K3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K3(t){var e=J3(t,"string");return uu(e)==="symbol"?e:String(e)}function J3(t,e){if(uu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(uu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Q3(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=r.includeNullValues,s=r.ignoreEmptyRows,i=r.isColumnOriented,o=r.rowMap,a={schemaPropertyValueForMissingColumn:void 0,schemaPropertyValueForUndefinedCellValue:void 0,schemaPropertyValueForNullCellValue:void 0,schemaPropertyShouldSkipRequiredValidationForMissingColumn:function(u,d){return d.path,!1},getEmptyObjectValue:function(u,d){var h=d.path;return h?void 0:null},getEmptyArrayValue:function(){return null},arrayValueSeparator:","};n&&(a.schemaPropertyValueForMissingColumn=null,a.schemaPropertyValueForUndefinedCellValue=null,a.schemaPropertyValueForNullCellValue=null,a.getEmptyObjectValue=function(c,u){return u.path,null});var l=B3(t,e,xb(xb({},a),{},{rowIndexMap:o,isColumnOriented:i}));return s!==!1&&(l.rows=l.rows.filter(function(c){return c!==a.getEmptyObjectValue(c,{path:void 0})})),l}function du(t){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}var Z3=["schemaPropertyValueForEmptyCell"];function bb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function wb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bb(Object(r),!0).forEach(function(n){G3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function G3(t,e,r){return e=Y3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y3(t){var e=X3(t,"string");return du(e)==="symbol"?e:String(e)}function X3(t,e){if(du(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(du(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eD(t,e){if(t==null)return{};var r=tD(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tD(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function rD(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n.schemaPropertyValueForEmptyCell,i=eD(n,Z3);return t(e,r,wb(wb({},i),{},{schemaPropertyValueForNullCellValue:s}))}function wy(t){"@babel/helpers - typeof";return wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wy(t)}function sC(t){for(var e={},r=0,n=Object.keys(t);r<n.length;r++){var s=n[r],i=t[s],o=void 0;wy(i)==="object"&&(i=Object.keys(t[s])[0],o=sC(t[s][i])),e[s]={prop:i},o&&(e[s].type=o)}return e}function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}var nD=["schema","map"];function Sb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Hd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Sb(Object(r),!0).forEach(function(n){sD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Sb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sD(t,e,r){return e=iD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iD(t){var e=oD(t,"string");return fu(e)==="symbol"?e:String(e)}function oD(t,e){if(fu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(fu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aD(t,e){if(t==null)return{};var r=lD(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lD(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function cD(t,e,r){var n=r.schema,s=r.map,i=aD(r,nD);!n&&s&&(n=sC(s));var o=x3(t,e,Hd(Hd({},i),{},{properties:n||i.properties}));return n?rD(Q3,o.data,n,Hd(Hd({},i),{},{properties:o.properties})):o}function uD(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return d4(t).then(function(r){return cD(r,KR,e)})}let dD={data:""},fD=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||dD,hD=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,pD=/\/\*[^]*?\*\/|  +/g,kb=/\n+/g,ii=(t,e)=>{let r="",n="",s="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?ii(o,i):i+"{"+ii(o,i[1]=="k"?"":e)+"}":typeof o=="object"?n+=ii(o,e?e.replace(/([^,])+/g,a=>i.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=ii.p?ii.p(i,o):i+":"+o+";")}return r+(e&&s?e+"{"+s+"}":s)+n},ms={},iC=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+iC(t[r]);return e}return t},mD=(t,e,r,n,s)=>{let i=iC(t),o=ms[i]||(ms[i]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(i));if(!ms[o]){let l=i!==t?t:(c=>{let u,d,h=[{}];for(;u=hD.exec(c.replace(pD,""));)u[4]?h.shift():u[3]?(d=u[3].replace(kb," ").trim(),h.unshift(h[0][d]=h[0][d]||{})):h[0][u[1]]=u[2].replace(kb," ").trim();return h[0]})(t);ms[o]=ii(s?{["@keyframes "+o]:l}:l,r?"":"."+o)}let a=r&&ms.g?ms.g:null;return r&&(ms.g=ms[o]),((l,c,u,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(ms[o],e,n,a),o},gD=(t,e,r)=>t.reduce((n,s,i)=>{let o=e[i];if(o&&o.call){let a=o(r),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":ii(a,""):a===!1?"":a}return n+s+(o??"")},"");function ip(t){let e=this||{},r=t.call?t(e.p):t;return mD(r.unshift?r.raw?gD(r,[].slice.call(arguments,1),e.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(e.p):s),{}):r,fD(e.target),e.g,e.o,e.k)}let oC,Sy,ky;ip.bind({g:1});let Ds=ip.bind({k:1});function yD(t,e,r,n){ii.p=e,oC=t,Sy=r,ky=n}function qi(t,e){let r=this||{};return function(){let n=arguments;function s(i,o){let a=Object.assign({},i),l=a.className||s.className;r.p=Object.assign({theme:Sy&&Sy()},a),r.o=/ *go\d+/.test(l),a.className=ip.apply(r,n)+(l?" "+l:"");let c=t;return t[0]&&(c=a.as||t,delete a.as),ky&&c[0]&&ky(a),oC(c,a)}return s}}var vD=t=>typeof t=="function",oh=(t,e)=>vD(t)?t(e):t,xD=(()=>{let t=0;return()=>(++t).toString()})(),aC=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),bD=20,yf=new Map,wD=1e3,_b=t=>{if(yf.has(t))return;let e=setTimeout(()=>{yf.delete(t),Xo({type:4,toastId:t})},wD);yf.set(t,e)},SD=t=>{let e=yf.get(t);e&&clearTimeout(e)},_y=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,bD)};case 1:return e.toast.id&&SD(e.toast.id),{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:r}=e;return t.toasts.find(i=>i.id===r.id)?_y(t,{type:1,toast:r}):_y(t,{type:0,toast:r});case 3:let{toastId:n}=e;return n?_b(n):t.toasts.forEach(i=>{_b(i.id)}),{...t,toasts:t.toasts.map(i=>i.id===n||n===void 0?{...i,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},vf=[],xf={toasts:[],pausedAt:void 0},Xo=t=>{xf=_y(xf,t),vf.forEach(e=>{e(xf)})},kD={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},_D=(t={})=>{let[e,r]=C.useState(xf);C.useEffect(()=>(vf.push(r),()=>{let s=vf.indexOf(r);s>-1&&vf.splice(s,1)}),[e]);let n=e.toasts.map(s=>{var i,o;return{...t,...t[s.type],...s,duration:s.duration||((i=t[s.type])==null?void 0:i.duration)||(t==null?void 0:t.duration)||kD[s.type],style:{...t.style,...(o=t[s.type])==null?void 0:o.style,...s.style}}});return{...e,toasts:n}},ED=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||xD()}),ed=t=>(e,r)=>{let n=ED(e,t,r);return Xo({type:2,toast:n}),n.id},Br=(t,e)=>ed("blank")(t,e);Br.error=ed("error");Br.success=ed("success");Br.loading=ed("loading");Br.custom=ed("custom");Br.dismiss=t=>{Xo({type:3,toastId:t})};Br.remove=t=>Xo({type:4,toastId:t});Br.promise=(t,e,r)=>{let n=Br.loading(e.loading,{...r,...r==null?void 0:r.loading});return t.then(s=>(Br.success(oh(e.success,s),{id:n,...r,...r==null?void 0:r.success}),s)).catch(s=>{Br.error(oh(e.error,s),{id:n,...r,...r==null?void 0:r.error})}),t};var CD=(t,e)=>{Xo({type:1,toast:{id:t,height:e}})},ND=()=>{Xo({type:5,time:Date.now()})},OD=t=>{let{toasts:e,pausedAt:r}=_D(t);C.useEffect(()=>{if(r)return;let i=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(l<0){a.visible&&Br.dismiss(a.id);return}return setTimeout(()=>Br.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,r]);let n=C.useCallback(()=>{r&&Xo({type:6,time:Date.now()})},[r]),s=C.useCallback((i,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=o||{},u=e.filter(p=>(p.position||c)===(i.position||c)&&p.height),d=u.findIndex(p=>p.id===i.id),h=u.filter((p,m)=>m<d&&p.visible).length;return u.filter(p=>p.visible).slice(...a?[h+1]:[0,h]).reduce((p,m)=>p+(m.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:CD,startPause:ND,endPause:n,calculateOffset:s}}},jD=Ds`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,TD=Ds`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,PD=Ds`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,MD=qi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${jD} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${TD} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${PD} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,AD=Ds`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ID=qi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${AD} 1s linear infinite;
`,RD=Ds`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,DD=Ds`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,LD=qi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${RD} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${DD} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,FD=qi("div")`
  position: absolute;
`,$D=qi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,zD=Ds`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,BD=qi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${zD} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,VD=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?C.createElement(BD,null,e):e:r==="blank"?null:C.createElement($D,null,C.createElement(ID,{...n}),r!=="loading"&&C.createElement(FD,null,r==="error"?C.createElement(MD,{...n}):C.createElement(LD,{...n})))},UD=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,HD=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,qD="0%{opacity:0;} 100%{opacity:1;}",WD="0%{opacity:1;} 100%{opacity:0;}",KD=qi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,JD=qi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,QD=(t,e)=>{let r=t.includes("top")?1:-1,[n,s]=aC()?[qD,WD]:[UD(r),HD(r)];return{animation:e?`${Ds(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ds(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},ZD=C.memo(({toast:t,position:e,style:r,children:n})=>{let s=t.height?QD(t.position||e||"top-center",t.visible):{opacity:0},i=C.createElement(VD,{toast:t}),o=C.createElement(JD,{...t.ariaProps},oh(t.message,t));return C.createElement(KD,{className:t.className,style:{...s,...r,...t.style}},typeof n=="function"?n({icon:i,message:o}):C.createElement(C.Fragment,null,i,o))});yD(C.createElement);var GD=({id:t,className:e,style:r,onHeightUpdate:n,children:s})=>{let i=C.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;n(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return C.createElement("div",{ref:i,className:e,style:r},s)},YD=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:aC()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...s}},XD=ip`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,qd=16,eL=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:a,handlers:l}=OD(r);return C.createElement("div",{style:{position:"fixed",zIndex:9999,top:qd,left:qd,right:qd,bottom:qd,pointerEvents:"none",...i},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let u=c.position||e,d=l.calculateOffset(c,{reverseOrder:t,gutter:n,defaultPosition:e}),h=YD(u,d);return C.createElement(GD,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?XD:"",style:h},c.type==="custom"?oh(c.message,c):s?s(c):C.createElement(ZD,{toast:c,position:u}))}))},hn=Br;const tL=async({e:t})=>{if(!t.target.files||t.target.files.length===0)throw new Error("No file selected.");const e=await uD(t.target.files[0]),r=()=>{const o=["CLIENTE","TELÉFONO 1","MASCOTA","TIPO DE RECORDATORIO","VACUNA","PRÓXIMA FECHA"];return e[0][0]!==o[0]||e[0][1]!==o[1]||e[0][2]!==o[2]||e[0][3]!==o[3]||e[0][4]!==o[4]||e[0][5]!==o[5]?(hn.error(`Error: La hoja de Excel no contiene la información requerida. (${o})`,{position:"bottom-right"}),[]):e.length<=1?(hn.error("Error: La hoja de Excel no contiene información",{position:"bottom-right"}),[]):n(xA(e))},n=o=>(o.forEach(a=>{xt(a.nombre),_A(a.telefono);const l=a.mascotas;if(l.length===1)a.mensaje="su mascota '"+xt(l[0].nombre)+"',"+s(l[0]);else{a.mensaje="sus mascotas: '";for(let c=0;c<l.length;c++)c===0?a.mensaje+=xt(l[c].nombre)+"',"+s(l[c]):c===l.length-1?a.mensaje+=" y '"+xt(l[c].nombre)+"',"+s(l[c]):a.mensaje+=", '"+xt(l[c].nombre)+"',"+s(l[c])}a.mensaje+=" el día "+Ju(l[0].recordatorios[0].tipos[0].fecha)+"."}),o),s=o=>{let a=" tiene pendiente la aplicación de ";const l=o.recordatorios;if(l.length===1)a+=xt(l[0].nombre)+i(l[0]);else for(let c=0;c<l.length;c++)c===0?a+=xt(l[c].nombre)+i(l[0]):c===l.length-1?a+=" y "+xt(l[c].nombre)+i(l[0]):a+=", "+xt(l[c].nombre)+i(l[0]);return a},i=o=>{let a="";const l=o.tipos;if(l.length===1)a+=" ("+xt(l[0].nombre)+")";else for(let c=0;c<l.length;c++)c===0?a+=" ("+xt(l[c].nombre):c===l.length-1?a+=" y "+xt(l[c].nombre)+")":a+=", "+xt(l[c].nombre);return a};return r()},rL=({page:t=1})=>{const{data:e,isLoading:r}=us({queryKey:["products",t],queryFn:()=>PR(t),staleTime:3e5});return{products:e==null?void 0:e.products,isLoading:r,totalProducts:(e==null?void 0:e.count)??0}},nL=({page:t,brands:e})=>{const{data:r,isLoading:n}=us({queryKey:["filteredProducts",t,e],queryFn:()=>MR({page:t,brands:e}),retry:!1});return{data:r==null?void 0:r.data,isLoading:n,totalProducts:(r==null?void 0:r.count)??0}},sL=()=>{const t=yA({queries:[{queryKey:["recentProducts"],queryFn:AR},{queryKey:["popularProducts"],queryFn:IR}]}),[e,r]=t,n=e.isLoading||r.isLoading,s=e.isError||r.isError;return{recentProducts:e.data||[],popularProducts:r.data||[],isLoading:n,isError:s}},iL=()=>{const t=cs(),e=Ut(),{mutate:r,isPending:n}=Zo({mutationFn:LR,onSuccess:()=>{t.invalidateQueries({queryKey:["products"]}),e("/dashboard/productos")},onError:s=>{hn.error("Ocurrió un error al crear el producto"),console.log(s)}});return{mutate:r,isPending:n}},lC=t=>{const{data:e,isLoading:r,isError:n}=us({queryKey:["product",t],queryFn:()=>RR(t),retry:!1});return{product:e,isError:n,isLoading:r}},oL=()=>{const t=cs(),{mutate:e,isPending:r}=Zo({mutationFn:FR,onSuccess:()=>{t.invalidateQueries({queryKey:["products"]}),hn.success("Producto eliminado correctamente",{position:"bottom-right"})},onError:n=>{console.log(n),hn.error("Ocurrió un error al eliminar el producto",{position:"bottom-right"})}});return{mutate:e,isPending:r}},aL=t=>{const e=cs(),r=Ut(),{mutate:n,isPending:s}=Zo({mutationFn:async i=>$R(t,i),onSuccess:()=>{e.invalidateQueries({queryKey:["products"]}),hn.success("Producto actualizado",{position:"bottom-right"}),r("/dashboard/productos")},onError:i=>{console.log(i),hn.error("Ocurrió un error al actualizar el producto",{position:"bottom-right"})}});return{mutate:n,isPending:s}},lL=()=>{const t=Ut(),e=cs(),{mutate:r,isPending:n}=Zo({mutationFn:BR,onSuccess:()=>{e.invalidateQueries({queryKey:["user"]}),t("/")},onError:s=>{hn.error(s.message,{position:"bottom-right"})}});return{mutate:r,isPending:n}},cL=()=>{const t=Ut(),e=cs(),{mutate:r,isPending:n}=Zo({mutationFn:zR,onSuccess:()=>{e.invalidateQueries({queryKey:["user"]}),t("/")},onError:s=>{hn.error(s.message,{position:"bottom-right"})}});return{mutate:r,isPending:n}},ea=()=>{const{data:t,isLoading:e}=us({queryKey:["user"],queryFn:$E,retry:!1,refetchOnWindowFocus:!0});return{session:t==null?void 0:t.session,isLoading:e}},uL=t=>{const{data:e,isLoading:r}=us({queryKey:["customer",t],queryFn:()=>VR(t),enabled:!!t,retry:!1,refetchOnWindowFocus:!0});return{data:e,isLoading:r}},dL=t=>{const{data:e,isLoading:r}=us({queryKey:["rol-user"],queryFn:async()=>await zE(t),enabled:!!t});return{data:e,isLoading:r}},fL=()=>{const t=cs(),e=Ut(),{mutate:r,isPending:n}=Zo({mutationFn:UR,onSuccess:s=>{t.invalidateQueries({queryKey:["orders"]}),e(`/checkout/${s.id}/thank-you`)},onError:s=>{hn.error(s.message,{position:"bottom-right"})}});return{mutate:r,isPending:n}},cC=t=>{const{data:e,isLoading:r,isError:n}=us({queryKey:["order",t],queryFn:()=>BE(t),enabled:!!t,retry:!1});return{data:e,isLoading:r,isError:n}},hL=()=>{const{data:t,isLoading:e}=us({queryKey:["orders"],queryFn:HR,retry:!1});return{data:t,isLoading:e}},uC=()=>{const{data:t,isLoading:e}=us({queryKey:["orders","admin"],queryFn:qR});return{data:t,isLoading:e}},pL=()=>{const t=cs(),{mutate:e,isPending:r}=Zo({mutationFn:WR,onSuccess:()=>{t.invalidateQueries({queryKey:["orders","admin"]})},onError:n=>{console.log(n),hn.error("No se pudo actualizar el estado de la orden",{position:"bottom-right"})}});return{mutate:e,isPending:r}},mL=t=>{const{data:e,isLoading:r}=us({queryKey:["order","admin",t],queryFn:()=>BE(t),enabled:!!t,retry:!1});return{data:e,isLoading:r}},gL=({e:t})=>({data:tL({e:t})});function vv(t){return Fe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12a9 9 0 1 1-6.219-8.56"},child:[]}]})(t)}function dC(t){return Fe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12h14"},child:[]}]})(t)}function fC(t){return Fe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12h14"},child:[]},{tag:"path",attr:{d:"M12 5v14"},child:[]}]})(t)}const yL=()=>{const t=Rs(l=>l.openSheet),e=Ur(l=>l.totalItemsInCart),r=Rs(l=>l.setActiveNavMobile),{session:n,isLoading:s}=ea(),i=n==null?void 0:n.user.id,{data:o}=uL(i),{data:a}=dL(i);return f.jsxs("header",{className:"bg-white text-black py-4 flex items-center justify-between px-5 border-b border-slate-200 lg:px-12",children:[f.jsx(lM,{}),f.jsx("nav",{className:"space-x-5 hidden md:flex",children:V_.map(l=>f.jsx(nv,{to:l.href,className:({isActive:c})=>`${c?"text-cyan-600 underline":""} transition-all duration-300 font-medium hover:text-cyan-600 hover:underline `,children:l.title},l.id))}),f.jsxs("div",{className:"flex gap-5 items-center",children:[f.jsx("button",{onClick:()=>t("search"),children:f.jsx(U_,{size:25})}),s?f.jsx(vv,{className:"animate-spin",size:60}):n?f.jsx("div",{className:"relative",children:f.jsx(yt,{to:a==="admin"?"/dashboard":"/account",className:"border-2 border-slate-700 w-9 h-9 rounded-full grid place-items-center text-lg font-bold",children:o&&o.full_name[0]})}):f.jsx(yt,{to:"/login",children:f.jsx(aM,{size:25})}),f.jsxs("button",{className:"relative",onClick:()=>t("cart"),children:[f.jsx("span",{className:"absolute -bottom-2 -right-2 w-5 h-5 grid place-items-center bg-black text-white text-xs rounded-full",children:e}),f.jsx(H_,{size:25})]})]}),f.jsx("button",{className:"md:hidden",onClick:()=>r(!0),children:f.jsx(YP,{size:25})})]})},fa=({children:t,isOpen:e,closeModal:r})=>{const n=s=>s.stopPropagation();return f.jsx("article",{className:`modal ${e&&"is-open"}`,onClick:r,children:f.jsx("div",{className:"modal-container",onClick:n,children:t})})},vL=()=>{const[t,e]=C.useState(!1),r=()=>e(!0),n=()=>e(!1);return f.jsxs("footer",{className:"py-4 bg-gray-950 px-2 flex justify-between gap-8 text-slate-200 text-sm flex-wrap mt-5 md:flex-nowrap",children:[f.jsx(yt,{to:"/",className:"tracking-tighter flex-5",children:f.jsx("img",{src:"/img/Baalak-logo-footer.png",alt:"Baalak"})}),f.jsxs("div",{className:"flex flex-col gap-4 flex-1",children:[f.jsx("p",{className:"font-semibold uppercase tracking-tighter",children:"Horarios de atención"}),f.jsxs("nav",{className:"flex flex-col gap-2 text-xs font-medium",children:[f.jsx("span",{className:"text-slate-300 hover:text-white",children:"Lun - Vier  8:00 a.m. - 8:00 p.m."}),f.jsx("span",{className:"text-slate-300 hover:text-white",children:"Sab         8:00 a.m. - 5:00 p.m."}),f.jsx("span",{className:"text-slate-300 hover:text-white",children:"Dom/Fest    8:00 a.m. - 4:00 p.m."})]})]}),f.jsxs("div",{className:"flex flex-col gap-4 flex-1",children:[f.jsx("p",{className:"font-semibold uppercase tracking-tighter",children:"Ubicación"}),f.jsx("nav",{className:"flex flex-col gap-2 text-xs font-medium",children:f.jsxs("div",{className:"flex relative group overflow-hidden items-center gap-6",children:[f.jsx("span",{className:"text-slate-300 hover:text-white",children:"Av. Central #33, Barrio de Santa Ana, 24050, San Francisco de Campeche, Campeche, México."}),f.jsx("button",{className:"bg-white text-black border border-slate-200 absolute w-full bottom-0 py-3 rounded-3xl flex items-center justify-center gap-1 text-sm font-medium hover:bg-stone-100 translate-y-[100%] transition-all duration-300 group-hover:translate-y-0",onClick:r,children:"Ver Ubicación en el mapa"}),f.jsx(fa,{isOpen:t,closeModal:n,children:f.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3181.4274111452305!2d-90.53723282564627!3d19.83129032782944!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x85f833e7e7ee3b57%3A0x890db96f7ed2ac60!2sBaalak'%20Clinica%20Veterinaria!5e1!3m2!1ses-419!2smx!4v1748715086040!5m2!1ses-419!2smx",width:"100%",height:"100%",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]})})]}),f.jsxs("div",{className:"flex flex-col gap-4 flex-1",children:[f.jsx("p",{className:"font-semibold uppercase tracking-tighter",children:"Contacto"}),f.jsxs("nav",{className:"flex flex-col gap-2 text-xs font-medium",children:[f.jsx("span",{className:"text-slate-300 hover:text-white",children:"baalak.cv@gmail.com"}),f.jsx("span",{className:"text-slate-300 hover:text-white",children:"981 811 7853"}),f.jsx("span",{className:"text-slate-300 hover:text-white",children:"981 206 2582"})]})]}),f.jsxs("div",{className:"flex flex-col gap-4 flex-1",children:[f.jsx("p",{className:"font-semibold uppercase tracking-tighter",children:"Políticas"}),f.jsxs("nav",{className:"flex flex-col gap-2 text-xs font-medium",children:[f.jsx(yt,{to:"/aviso_de_privacidad",className:"text-slate-300 hover:text-white",children:"Políticas de privacidad"}),f.jsx(yt,{to:"/terminos_y_condiciones",className:"text-slate-300 hover:text-white",children:"Términos y condiciones"})]})]}),f.jsxs("div",{className:"flex flex-col gap-4 flex-1",children:[f.jsx("p",{className:"font-semibold uppercase tracking-tighter",children:"Síguenos en nuestras redes sociales"}),f.jsx("div",{className:"flex",children:Il.map(s=>f.jsx("a",{href:s.href,target:"_blank",rel:"noreferrer",className:"text-slate-300 border border-gray-8000 w-full h-full py-3.5 flex items-center justify-center transition-all hover:bg-white hover:text-gray-950",children:s.icon},s.id))})]})]})},xL=()=>f.jsxs("div",{className:"relative bg-gray-900 text-white",children:[f.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-70 h-full",style:{backgroundImage:"url(/img/background-banner.png)"}}),f.jsx("div",{className:"absolute inset-0 bg-black opacity-50"}),f.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center py-20 px-4 text-center lg:py-20 lg:px-8",children:[f.jsx("h1",{className:"text-4xl font-bold mb-4 lg:text-6xl",children:"Los mejores productos para el bienestar de tus mascotas"}),f.jsx("p",{className:"text-lg mb-8 lg:text-2xl",children:"Descubre las ofertas exclusivas y las últimas novedades para el cuidado de tus mascotas"})]})]}),bL=()=>f.jsx("div",{className:"relative bg-gray-500 text-white py-40",children:f.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-70 h-full",style:{backgroundImage:"url(/img/background-newsletter.png)"}})});function wL(t){return Fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M346.5 240H272v-74.5c0-8.8-7.2-16-16-16s-16 7.2-16 16V240h-74.5c-8.8 0-16 6-16 16s7.5 16 16 16H240v74.5c0 9.5 7 16 16 16s16-7.2 16-16V272h74.5c8.8 0 16-7.2 16-16s-7.2-16-16-16z"},child:[]},{tag:"path",attr:{d:"M256 76c48.1 0 93.3 18.7 127.3 52.7S436 207.9 436 256s-18.7 93.3-52.7 127.3S304.1 436 256 436c-48.1 0-93.3-18.7-127.3-52.7S76 304.1 76 256s18.7-93.3 52.7-127.3S207.9 76 256 76m0-28C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48z"},child:[]}]})(t)}function SL(t){return Fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"},child:[]}]})(t)}function hC(t){return Fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M331.3 308.7L278.6 256l52.7-52.7c6.2-6.2 6.2-16.4 0-22.6-6.2-6.2-16.4-6.2-22.6 0L256 233.4l-52.7-52.7c-6.2-6.2-15.6-7.1-22.6 0-7.1 7.1-6 16.6 0 22.6l52.7 52.7-52.7 52.7c-6.7 6.7-6.4 16.3 0 22.6 6.4 6.4 16.4 6.2 22.6 0l52.7-52.7 52.7 52.7c6.2 6.2 16.4 6.2 22.6 0 6.3-6.2 6.3-16.4 0-22.6z"},child:[]},{tag:"path",attr:{d:"M256 76c48.1 0 93.3 18.7 127.3 52.7S436 207.9 436 256s-18.7 93.3-52.7 127.3S304.1 436 256 436c-48.1 0-93.3-18.7-127.3-52.7S76 304.1 76 256s18.7-93.3 52.7-127.3S207.9 76 256 76m0-28C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48z"},child:[]}]})(t)}function xv(t){return Fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"},child:[]}]})(t)}function kL(t){return Fe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11.0049 2L18.3032 4.28071C18.7206 4.41117 19.0049 4.79781 19.0049 5.23519V7H21.0049C21.5572 7 22.0049 7.44772 22.0049 8V16C22.0049 16.5523 21.5572 17 21.0049 17L17.7848 17.0011C17.3982 17.5108 16.9276 17.9618 16.3849 18.3318L11.0049 22L5.62486 18.3318C3.98563 17.2141 3.00488 15.3584 3.00488 13.3744V5.23519C3.00488 4.79781 3.28913 4.41117 3.70661 4.28071L11.0049 2ZM11.0049 4.094L5.00488 5.97V13.3744C5.00488 14.6193 5.58406 15.7884 6.56329 16.5428L6.75154 16.6793L11.0049 19.579L14.7869 17H10.0049C9.4526 17 9.00488 16.5523 9.00488 16V8C9.00488 7.44772 9.4526 7 10.0049 7H17.0049V5.97L11.0049 4.094ZM11.0049 12V15H20.0049V12H11.0049ZM11.0049 10H20.0049V9H11.0049V10Z"},child:[]}]})(t)}const _L=({item:t})=>{const e=Ur(i=>i.removeItem),r=Ur(i=>i.updateQuantity),n=()=>{r(t.variantId,t.quantity+1)},s=()=>{t.quantity>1&&r(t.variantId,t.quantity-1)};return f.jsxs("li",{className:"flex justify-between items-center gap-5",children:[f.jsx("div",{className:"flex",children:f.jsx("img",{src:t.image,alt:t.name,className:"w-20 h-20 object-contain"})}),f.jsxs("div",{className:"flex-1 space-y-3",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("p",{className:"font-semibold",children:t.name}),f.jsx("p",{className:"text-sm font-medium text-gray-600 mt-1",children:Pt(t.price)})]}),f.jsx("div",{className:"flex gap-3",children:f.jsxs("p",{className:"text-[13px] text-gray-600",children:[t.type," / ",t.target," / ",t.kg," kg."]})}),f.jsxs("div",{className:"flex gap-4",children:[f.jsxs("div",{className:"flex items-center gap-5 px-2 py-1 border border-slate-200 w-fit rounded-full",children:[f.jsx("button",{onClick:s,disabled:t.quantity===1,children:f.jsx(dC,{size:15})}),f.jsx("span",{className:"text-slate-500 text-sm",children:t.quantity}),f.jsx("button",{onClick:n,children:f.jsx(fC,{size:15})})]}),f.jsx("button",{className:"underline font-medium text-[10px]",onClick:()=>e(t.variantId),children:"Eliminar"})]})]})]})},EL=()=>{const t=Rs(s=>s.closeSheet),e=Ur(s=>s.items),r=Ur(s=>s.cleanCart),n=Ur(s=>s.totalItemsInCart);return f.jsxs("div",{className:"flex flex-col h-full",children:[f.jsxs("div",{className:"px-5 py-7 flex justify-between items-center border-b border-slate-200",children:[f.jsxs("span",{className:"flex gap-3 items-center font-semibold",children:[f.jsx(H_,{size:20}),n," artículos"]}),f.jsx("button",{onClick:t,children:f.jsx(xv,{size:25,className:"text-black"})})]}),n>0?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"p-7 overflow-auto flex-1",children:f.jsx("ul",{className:"space-y-9",children:e.map(s=>f.jsx(_L,{item:s},s.variantId))})}),f.jsxs("div",{className:"mt-4 p-7",children:[f.jsxs(yt,{to:"/checkout",className:"w-full bg-black text-white py-3.5 rounded-full flex items-center justify-center gap-3",children:[f.jsx(kL,{size:24}),"Continuar con la compra"]}),f.jsx("button",{className:"mt-3 w-full text-black border border-black rounded-full py-3",onClick:r,children:"Limpiar Carrito"})]})]}):f.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-7",children:[f.jsx("p",{className:"text-sm font-medium tracking-tight",children:"Su carro está vacío"}),f.jsx(yt,{to:"/products",className:"py-4 bg-black rounded-full text-white px-7 text-xs uppercase tracking-widest font-semibold",onClick:t,children:"Empezar a comprar"})]})]})},CL=()=>{const[t,e]=C.useState(""),[r,n]=C.useState([]),s=Rs(a=>a.closeSheet),i=Ut(),o=async a=>{if(a.preventDefault(),t.trim()){const l=await DR(t);n(l)}};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"py-5 px-7 flex gap-10 items-center border-b border-slate-200",children:[f.jsxs("form",{className:"flex gap-3 items-center flex-1",onSubmit:o,children:[f.jsx(U_,{size:22}),f.jsx("input",{type:"text",placeholder:"¿Qué busca?",className:"outline-none w-full text-sm ",value:t,onChange:a=>e(a.target.value)})]}),f.jsx("button",{onClick:s,children:f.jsx(xv,{size:25,className:"text-black"})})]}),f.jsx("div",{className:"p-5",children:r.length>0?f.jsx("ul",{children:r.map(a=>f.jsx("li",{className:"py-2 group",children:f.jsxs("button",{className:"flex items-center gap-3",onClick:()=>{i(`/products/${a.slug}`),s()},children:[f.jsx("img",{src:a.images[0],alt:a.name,className:"h-20 w-20 object-contain p-3"}),f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("p",{className:"text-sm font-semibold group-hover:underline",children:a.name}),f.jsxs("p",{className:"text-[13px] text-gray-600",children:[a.variants[0].target," /"," ",a.variants[0].type," /"," ",a.variants[0].kg," kg."]}),f.jsx("p",{className:"text-sm font-medium text-gray-600",children:Pt(a.variants[0].price)})]})]})},a.id))}):f.jsx("p",{className:"text-sm text-gray-600",children:"No se encontraron resultados"})})]})},NL=()=>{const t=Rs(s=>s.sheetContent),e=Rs(s=>s.closeSheet),r=C.useRef(null);C.useEffect(()=>{document.body.style.overflow="hidden";const s=i=>{r.current&&!r.current.contains(i.target)&&e()};return document.addEventListener("mousedown",s),()=>{document.body.style.overflow="unset",document.removeEventListener("mousedown",s)}},[e]);const n=()=>{switch(t){case"cart":return f.jsx(EL,{});case"search":return f.jsx(CL,{});default:return null}};return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-end animate-fade-in",children:f.jsx("div",{ref:r,className:"bg-white text-black h-screen w-[500px] shadow-lg animate-slide-in",children:n()})})},OL=()=>{const t=Rs(e=>e.setActiveNavMobile);return f.jsxs("div",{className:"bg-white text-black h-screen w-full shadow-lg animate-slide-in-left fixed z-50 flex justify-center py-32",children:[f.jsx("button",{className:"absolute top-5 right-5",onClick:()=>t(!1),children:f.jsx(xv,{size:30,className:"text-black"})}),f.jsxs("div",{className:"flex flex-col gap-20",children:[f.jsx(yt,{to:"/",className:"text-4xl font-bold tracking-tighter transition-all",onClick:()=>t(!1),children:f.jsx("p",{children:f.jsx("img",{src:"/img/Baalak-logo-banner-small.png",alt:"Baalak"})})}),f.jsx("nav",{className:"flex flex-col items-center gap-5",children:V_.map(e=>f.jsx(nv,{to:e.href,className:({isActive:r})=>`
                                ${r?"text-cyan-600 underline":""} transition-all duration-300 font-semibold text-xl hover:text-cyan-600 hover:underline
                            `,onClick:()=>t(!1),children:e.title},e.id))})]})]})},jL=()=>{const{pathname:t}=Jo(),e=Rs(n=>n.isSheetOpen),r=Rs(n=>n.activeNavMobile);return f.jsxs("div",{className:"h-screen flex flex-col font-montserrat",children:[f.jsx(yL,{}),t==="/"&&f.jsx(xL,{}),f.jsx("main",{className:"container my-5 flex-1",children:f.jsx(rv,{})}),t==="/"&&f.jsx(bL,{}),e&&f.jsx(NL,{}),r&&f.jsx(OL,{}),f.jsx(vL,{})]})};function TL(t){return Fe({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8c-0.020-1.045-0.247-2.086-0.665-3.038-0.417-0.953-1.023-1.817-1.766-2.53s-1.624-1.278-2.578-1.651c-0.953-0.374-1.978-0.552-2.991-0.531-1.013 0.020-2.021 0.24-2.943 0.646-0.923 0.405-1.758 0.992-2.449 1.712s-1.237 1.574-1.597 2.497c-0.361 0.923-0.533 1.914-0.512 2.895 0.020 0.981 0.234 1.955 0.627 2.847 0.392 0.892 0.961 1.7 1.658 2.368s1.523 1.195 2.416 1.543c0.892 0.348 1.851 0.514 2.799 0.493 0.949-0.020 1.89-0.227 2.751-0.608 0.862-0.379 1.642-0.929 2.287-1.604s1.154-1.472 1.488-2.335c0.204-0.523 0.342-1.069 0.415-1.622 0.019 0.001 0.039 0.002 0.059 0.002 0.552 0 1-0.448 1-1 0-0.028-0.001-0.056-0.004-0.083h0.004zM14.411 10.655c-0.367 0.831-0.898 1.584-1.55 2.206s-1.422 1.112-2.254 1.434c-0.832 0.323-1.723 0.476-2.608 0.454-0.884-0.020-1.759-0.215-2.56-0.57-0.801-0.354-1.526-0.867-2.125-1.495s-1.071-1.371-1.38-2.173c-0.31-0.801-0.457-1.66-0.435-2.512s0.208-1.694 0.551-2.464c0.342-0.77 0.836-1.468 1.441-2.044s1.321-1.029 2.092-1.326c0.771-0.298 1.596-0.438 2.416-0.416s1.629 0.202 2.368 0.532c0.74 0.329 1.41 0.805 1.963 1.387s0.988 1.27 1.272 2.011c0.285 0.74 0.418 1.532 0.397 2.32h0.004c-0.002 0.027-0.004 0.055-0.004 0.083 0 0.516 0.39 0.94 0.892 0.994-0.097 0.544-0.258 1.075-0.481 1.578z"},child:[]}]})(t)}function PL(t){return Fe({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 0c-4.355 0-7.898 3.481-7.998 7.812 0.092-3.779 2.966-6.812 6.498-6.812 3.59 0 6.5 3.134 6.5 7 0 0.828 0.672 1.5 1.5 1.5s1.5-0.672 1.5-1.5c0-4.418-3.582-8-8-8zM8 16c4.355 0 7.898-3.481 7.998-7.812-0.092 3.779-2.966 6.812-6.498 6.812-3.59 0-6.5-3.134-6.5-7 0-0.828-0.672-1.5-1.5-1.5s-1.5 0.672-1.5 1.5c0 4.418 3.582 8 8 8z"},child:[]}]})(t)}function ML(t){return Fe({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14.942 12.57l-4.942-8.235v-3.335h0.5c0.275 0 0.5-0.225 0.5-0.5s-0.225-0.5-0.5-0.5h-5c-0.275 0-0.5 0.225-0.5 0.5s0.225 0.5 0.5 0.5h0.5v3.335l-4.942 8.235c-1.132 1.886-0.258 3.43 1.942 3.43h10c2.2 0 3.074-1.543 1.942-3.43zM3.766 10l3.234-5.39v-3.61h2v3.61l3.234 5.39h-8.468z"},child:[]}]})(t)}const br=()=>f.jsx("div",{className:"flex items-center justify-center h-screen",children:f.jsx(PL,{className:"animate-spin",size:70})});function AL(t){return Fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 176v160m80-80H176"},child:[]}]})(t)}function bv(t){return Fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M328 112 184 256l144 144"},child:[]}]})(t)}function pC(t){return Fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M304 336v40a40 40 0 0 1-40 40H104a40 40 0 0 1-40-40V136a40 40 0 0 1 40-40h152c22.09 0 48 17.91 48 40v40m64 160 80-80-80-80m-192 80h256"},child:[]}]})(t)}const IL=()=>{const{isLoading:t}=ea(),e=Ut();if(C.useEffect(()=>{fe.auth.onAuthStateChange(async(n,s)=>{(n==="SIGNED_OUT"||!s)&&e("/login",{replace:!0})})},[e]),t)return f.jsx(br,{});const r=async()=>{await FE()};return f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsx("div",{className:"flex justify-end",children:f.jsxs("button",{className:"bg-cyan-600 py-[10px] rounded-md flex justify-center gap-2 font-semibold text-sm hover:bg-red-500",onClick:r,children:[f.jsx("span",{className:"hidden lg:block",children:"Cerrar sesión"}),f.jsx(pC,{size:20,className:"inline-block"})]})}),f.jsx("main",{className:"container mt-12 flex-1",children:f.jsx(rv,{})})]})},RL=()=>{const t=async()=>{await FE()};return f.jsxs("div",{className:"w-[120px] bg-stone-800 text-white flex flex-col gap-10 items-center p-5 fixed h-screen lg:w-[220px]",children:[f.jsx(yt,{className:"w-full",to:"/",children:f.jsxs("button",{className:"border w-full rounded-md py-2 border-slate-200 px-5 flex items-center justify-center gap-2 text-xs font-medium uppercase tracking-widest hover:bg-cyan-600 transition-all",children:[f.jsx(bv,{size:20}),"Volver"]})}),f.jsx("nav",{className:"w-full space-y-5 flex-1",children:iM.map(e=>f.jsxs(nv,{to:e.href,className:({isActive:r})=>`flex items-center justify-center gap-3 pl-0 py-3 transition-all duration-300 rounded-md ${r?"text-white bg-cyan-600":"hover:text-white hover:bg-cyan-600"} lg:pl-5 lg:justify-start`,children:[e.icon,f.jsx("p",{className:"font-semibold hidden lg:block",children:e.title})]},e.id))}),f.jsxs("button",{className:"bg-red-500 w-full py-[10px] rounded-md flex items-center justify-center gap-2 font-semibold text-sm hover:bg-cyan-600",onClick:t,children:[f.jsx("span",{className:"hidden lg:block",children:"Cerrar sesión"}),f.jsx(pC,{size:20,className:"inline-block"})]})]})},DL=["Orden","Cliente","Fecha","Estado","Total"],LL=[{value:"Pending",label:"Pendiente"},{value:"Paid",label:"Pagado"},{value:"Shipped",label:"Enviado"},{value:"Delivered",label:"Entregado"}],FL=({orders:t})=>{const e=Ut(),{mutate:r}=pL(),n=(s,i)=>{r({id:s,status:i})};return f.jsx("div",{className:"relative w-full h-full",children:f.jsxs("table",{className:"text-sm w-full caption-bottom overflow-auto",children:[f.jsx("thead",{className:"border-b border-gray-200 pb-3",children:f.jsx("tr",{className:"text-sm font-bold",children:DL.map((s,i)=>f.jsx("th",{className:"h-12 px-4 text-left",children:s},i))})}),f.jsx("tbody",{className:"[&_tr:last-child]:border-0",children:t.map(s=>{var i,o;return f.jsxs("tr",{className:"cursor-pointer hover:bg-gray-200 transition-colors duration-200",onClick:()=>e(`/dashboard/ordenes/${s.id}`),children:[f.jsx("td",{className:"p-4 font-medium tracking-tighter",children:s.id}),f.jsxs("td",{className:"p-4 font-medium tracking-tighter flex flex-col gap-1",children:[f.jsx("span",{className:"font-semibold",children:(i=s.customers)==null?void 0:i.full_name}),f.jsx("span",{children:(o=s.customers)==null?void 0:o.email})]}),f.jsx("td",{className:"p-4 font-medium tracking-tighter",children:Ju(s.created_at)}),f.jsx("td",{className:"p-4 font-medium tracking-tighter",children:f.jsx("select",{value:s.status||"",onClick:a=>a.stopPropagation(),className:"border border-gray-300 p-2 rounded",onChange:a=>n(s.id,a.target.value),children:LL.map(a=>f.jsx("option",{value:a.value,children:a.label},a.value))})}),f.jsx("td",{className:"p-4 font-medium tracking-tighter",children:Pt(s.total_amount)})]},s.id)})})]})})},mC=({totalItems:t,page:e,setPage:r})=>{const n=()=>{r(e+1)},s=()=>{r(u=>Math.max(u-1,1))},o=t?Math.ceil(t/10):1,a=e>=o,l=(e-1)*10+1,c=Math.min(e*10,t);return f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("p",{className:"text-xs font-medium",children:[" Mostrando"," ",f.jsxs("span",{className:"font-bold",children:[" ",l," - ",c," "]})," "," de",f.jsxs("span",{className:"font-bold",children:[" ",t," "]})," productos"]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{className:"btn-paginated",onClick:s,disabled:e===1,children:" Anterior"}),f.jsx("button",{className:"btn-paginated",onClick:n,disabled:a,children:" Siguiente"})]})]})},Wd=({content:t})=>f.jsx("td",{className:"p-4 font-medium tracking-tighter",children:t}),$L=["","Nombre","Variante","Precio","Stock","Fecha de creación",""],zL=()=>{const[t,e]=C.useState(null),[r,n]=C.useState({}),[s,i]=C.useState(1),{products:o,isLoading:a,totalProducts:l}=rL({page:s}),{mutate:c,isPending:u}=oL(),d=m=>{e(t===m?null:m)},h=(m,y)=>{n({...r,[m]:y})},p=m=>{c(m),e(null)};return!o||a||!l||u?f.jsx(br,{}):f.jsxs("div",{className:"flex flex-col flex-1 border border-gray-200 rounded-lg p-5 bg-white",children:[f.jsx("h1",{className:"font-bold text-xl",children:"Productos"}),f.jsx("p",{className:"text-sm mt-1 mb-8 font-regular text-gray-500",children:"Gestiona tus productos y mira las estadísticas de tus ventas"}),f.jsx("div",{className:"relative w-full h-full",children:f.jsxs("table",{className:"text-sm w-full caption-bottom overflow-auto",children:[f.jsx("thead",{className:"border-b border-gray-200 pb-3",children:f.jsx("tr",{className:"text-sm font-bold",children:$L.map((m,y)=>f.jsx("th",{className:"h-12 px-4 text-left",children:m},y))})}),f.jsx("tbody",{children:o.map((m,y)=>{const x=r[m.id]??0,v=m.variants[x]||{};return f.jsxs("tr",{children:[f.jsx("td",{className:"p-4 align-middle sm:table-cell",children:f.jsx("img",{src:m.images[0]||"https://ui.shadcn.com/placeholder.svg",alt:"Imagen Product",loading:"lazy",decoding:"async",className:"w-16 h-16 aspect-square rounded-md object-contain"})}),f.jsx(Wd,{content:m.name}),f.jsx("td",{className:"p-4 font-medium tracking-tighter",children:f.jsx("select",{className:"border border-gray-300 rounded-md p-1 w-full",onChange:g=>h(m.id,Number(g.target.value)),value:x,children:m.variants.map((g,b)=>f.jsxs("option",{value:b,children:[g.target," - ",g.type," - ",g.kg," kg."]},g.id))})}),f.jsx(Wd,{content:Pt(v==null?void 0:v.price)}),f.jsx(Wd,{content:(v.stock||0).toString()}),f.jsx(Wd,{content:bA(m.created_at)}),f.jsxs("td",{className:"relative",children:[f.jsx("button",{className:"text-slate-900",onClick:()=>d(y),children:f.jsx(tM,{})}),t===y&&f.jsxs("div",{className:"absolute right-0 mt-2 bg-white border border-gray-200 rounded-md shadow-xl z-10 w-[120px]",role:"menu",children:[f.jsxs(yt,{to:`/dashboard/productos/editar/${m.slug}`,className:"flex items-center gap-1 w-full text-left px-4 py-2 text-xs font-medium text-gray-700 hover:bg-gray-100",children:["Editar",f.jsx(oM,{size:13,className:"inline-block"})]}),f.jsx("button",{className:"block w-full text-left px-4 py-2 text-xs font-medium text-gray-700 hover:bg-gray-100",onClick:()=>p(m.id),children:"Eliminar"})]})]})]},y)})})]})}),f.jsx(mC,{page:s,setPage:i,totalItems:l})]})};var td=t=>t.type==="checkbox",uo=t=>t instanceof Date,fr=t=>t==null;const gC=t=>typeof t=="object";var wt=t=>!fr(t)&&!Array.isArray(t)&&gC(t)&&!uo(t),BL=t=>wt(t)&&t.target?td(t.target)?t.target.checked:t.target.value:t,VL=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,UL=(t,e)=>t.has(VL(e)),HL=t=>{const e=t.constructor&&t.constructor.prototype;return wt(e)&&e.hasOwnProperty("isPrototypeOf")},wv=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ht(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(wv&&(t instanceof Blob||n))&&(r||wt(t)))if(e=r?[]:{},!r&&!HL(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=ht(t[s]));else return t;return e}var rd=t=>Array.isArray(t)?t.filter(Boolean):[],rt=t=>t===void 0,Z=(t,e,r)=>{if(!e||!wt(t))return r;const n=rd(e.split(/[,[\].]+?/)).reduce((s,i)=>fr(s)?s:s[i],t);return rt(n)||n===t?rt(t[e])?r:t[e]:n},Un=t=>typeof t=="boolean",Sv=t=>/^\w*$/.test(t),yC=t=>rd(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Be=(t,e,r)=>{let n=-1;const s=Sv(e)?[e]:yC(e),i=s.length,o=i-1;for(;++n<i;){const a=s[n];let l=r;if(n!==o){const c=t[a];l=wt(c)||Array.isArray(c)?c:isNaN(+s[n+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=l,t=t[a]}};const Eb={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},nn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},gs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},qL=de.createContext(null),WL=()=>de.useContext(qL);var KL=(t,e,r,n=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==nn.all&&(e._proxyFormState[o]=!n||nn.all),t[o]}});return s},Zn=t=>typeof t=="string",JL=(t,e,r,n,s)=>Zn(t)?(n&&e.watch.add(t),Z(r,t,s)):Array.isArray(t)?t.map(i=>(n&&e.watch.add(i),Z(r,i))):(n&&(e.watchAll=!0),r),vC=(t,e,r,n,s)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:s||!0}}:{},Cr=t=>Array.isArray(t)?t:[t],Cb=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},Ey=t=>fr(t)||!gC(t);function oi(t,e){if(Ey(t)||Ey(e))return t===e;if(uo(t)&&uo(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const s of r){const i=t[s];if(!n.includes(s))return!1;if(s!=="ref"){const o=e[s];if(uo(i)&&uo(o)||wt(i)&&wt(o)||Array.isArray(i)&&Array.isArray(o)?!oi(i,o):i!==o)return!1}}return!0}var Xt=t=>wt(t)&&!Object.keys(t).length,kv=t=>t.type==="file",jn=t=>typeof t=="function",ah=t=>{if(!wv)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},xC=t=>t.type==="select-multiple",_v=t=>t.type==="radio",QL=t=>_v(t)||td(t),ym=t=>ah(t)&&t.isConnected;function ZL(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=rt(t)?n++:t[e[n++]];return t}function GL(t){for(const e in t)if(t.hasOwnProperty(e)&&!rt(t[e]))return!1;return!0}function _t(t,e){const r=Array.isArray(e)?e:Sv(e)?[e]:yC(e),n=r.length===1?t:ZL(t,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(wt(n)&&Xt(n)||Array.isArray(n)&&GL(n))&&_t(t,r.slice(0,-1)),t}var bC=t=>{for(const e in t)if(jn(t[e]))return!0;return!1};function lh(t,e={}){const r=Array.isArray(t);if(wt(t)||r)for(const n in t)Array.isArray(t[n])||wt(t[n])&&!bC(t[n])?(e[n]=Array.isArray(t[n])?[]:{},lh(t[n],e[n])):fr(t[n])||(e[n]=!0);return e}function wC(t,e,r){const n=Array.isArray(t);if(wt(t)||n)for(const s in t)Array.isArray(t[s])||wt(t[s])&&!bC(t[s])?rt(e)||Ey(r[s])?r[s]=Array.isArray(t[s])?lh(t[s],[]):{...lh(t[s])}:wC(t[s],fr(e)?{}:e[s],r[s]):r[s]=!oi(t[s],e[s]);return r}var sc=(t,e)=>wC(t,e,lh(e));const Nb={value:!1,isValid:!1},Ob={value:!0,isValid:!0};var SC=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!rt(t[0].attributes.value)?rt(t[0].value)||t[0].value===""?Ob:{value:t[0].value,isValid:!0}:Ob:Nb}return Nb},kC=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>rt(t)?t:e?t===""?NaN:t&&+t:r&&Zn(t)?new Date(t):n?n(t):t;const jb={isValid:!1,value:null};var _C=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,jb):jb;function Tb(t){const e=t.ref;return kv(e)?e.files:_v(e)?_C(t.refs).value:xC(e)?[...e.selectedOptions].map(({value:r})=>r):td(e)?SC(t.refs).value:kC(rt(e.value)?t.ref.value:e.value,t)}var YL=(t,e,r,n)=>{const s={};for(const i of t){const o=Z(e,i);o&&Be(s,i,o._f)}return{criteriaMode:r,names:[...t],fields:s,shouldUseNativeValidation:n}},ch=t=>t instanceof RegExp,ic=t=>rt(t)?t:ch(t)?t.source:wt(t)?ch(t.value)?t.value.source:t.value:t,ja=t=>({isOnSubmit:!t||t===nn.onSubmit,isOnBlur:t===nn.onBlur,isOnChange:t===nn.onChange,isOnAll:t===nn.all,isOnTouch:t===nn.onTouched});const Pb="AsyncFunction";var XL=t=>!!t&&!!t.validate&&!!(jn(t.validate)&&t.validate.constructor.name===Pb||wt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Pb)),e5=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Cy=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Ba=(t,e,r,n)=>{for(const s of r||Object.keys(t)){const i=Z(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(Ba(a,e))break}else if(wt(a)&&Ba(a,e))break}}};function Mb(t,e,r){const n=Z(t,r);if(n||Sv(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=Z(e,i),a=Z(t,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:r}}var t5=(t,e,r,n)=>{r(t);const{name:s,...i}=t;return Xt(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!n||nn.all))},r5=(t,e,r)=>!t||!e||t===e||Cr(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),n5=(t,e,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(e||t):(r?n.isOnBlur:s.isOnBlur)?!t:(r?n.isOnChange:s.isOnChange)?t:!0,s5=(t,e)=>!rd(Z(t,e)).length&&_t(t,e),EC=(t,e,r)=>{const n=Cr(Z(t,r));return Be(n,"root",e[r]),Be(t,r,n),t},bf=t=>Zn(t);function Ab(t,e,r="validate"){if(bf(t)||Array.isArray(t)&&t.every(bf)||Un(t)&&!t)return{type:r,message:bf(t)?t:"",ref:e}}var la=t=>wt(t)&&!ch(t)?t:{value:t,message:""},Ny=async(t,e,r,n,s,i)=>{const{ref:o,refs:a,required:l,maxLength:c,minLength:u,min:d,max:h,pattern:p,validate:m,name:y,valueAsNumber:x,mount:v}=t._f,g=Z(r,y);if(!v||e.has(y))return{};const b=a?a[0]:o,S=H=>{s&&b.reportValidity&&(b.setCustomValidity(Un(H)?"":H||""),b.reportValidity())},j={},N=_v(o),T=td(o),w=N||T,P=(x||kv(o))&&rt(o.value)&&rt(g)||ah(o)&&o.value===""||g===""||Array.isArray(g)&&!g.length,L=vC.bind(null,y,n,j),R=(H,J,le,ve=gs.maxLength,we=gs.minLength)=>{const $e=H?J:le;j[y]={type:H?ve:we,message:$e,ref:o,...L(H?ve:we,$e)}};if(i?!Array.isArray(g)||!g.length:l&&(!w&&(P||fr(g))||Un(g)&&!g||T&&!SC(a).isValid||N&&!_C(a).isValid)){const{value:H,message:J}=bf(l)?{value:!!l,message:l}:la(l);if(H&&(j[y]={type:gs.required,message:J,ref:b,...L(gs.required,J)},!n))return S(J),j}if(!P&&(!fr(d)||!fr(h))){let H,J;const le=la(h),ve=la(d);if(!fr(g)&&!isNaN(g)){const we=o.valueAsNumber||g&&+g;fr(le.value)||(H=we>le.value),fr(ve.value)||(J=we<ve.value)}else{const we=o.valueAsDate||new Date(g),$e=se=>new Date(new Date().toDateString()+" "+se),V=o.type=="time",K=o.type=="week";Zn(le.value)&&g&&(H=V?$e(g)>$e(le.value):K?g>le.value:we>new Date(le.value)),Zn(ve.value)&&g&&(J=V?$e(g)<$e(ve.value):K?g<ve.value:we<new Date(ve.value))}if((H||J)&&(R(!!H,le.message,ve.message,gs.max,gs.min),!n))return S(j[y].message),j}if((c||u)&&!P&&(Zn(g)||i&&Array.isArray(g))){const H=la(c),J=la(u),le=!fr(H.value)&&g.length>+H.value,ve=!fr(J.value)&&g.length<+J.value;if((le||ve)&&(R(le,H.message,J.message),!n))return S(j[y].message),j}if(p&&!P&&Zn(g)){const{value:H,message:J}=la(p);if(ch(H)&&!g.match(H)&&(j[y]={type:gs.pattern,message:J,ref:o,...L(gs.pattern,J)},!n))return S(J),j}if(m){if(jn(m)){const H=await m(g,r),J=Ab(H,b);if(J&&(j[y]={...J,...L(gs.validate,J.message)},!n))return S(J.message),j}else if(wt(m)){let H={};for(const J in m){if(!Xt(H)&&!n)break;const le=Ab(await m[J](g,r),b,J);le&&(H={...le,...L(J,le.message)},S(le.message),n&&(j[y]=H))}if(!Xt(H)&&(j[y]={ref:b,...H},!n))return j}}return S(!0),j};const i5={mode:nn.onSubmit,reValidateMode:nn.onChange,shouldFocusError:!0};function o5(t={}){let e={...i5,...t},r={submitCount:0,isDirty:!1,isLoading:jn(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const n={};let s=wt(e.defaultValues)||wt(e.values)?ht(e.values||e.defaultValues)||{}:{},i=e.shouldUnregister?{}:ht(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...u};const h={array:Cb(),state:Cb()},p=ja(e.mode),m=ja(e.reValidateMode),y=e.criteriaMode===nn.all,x=E=>M=>{clearTimeout(c),c=setTimeout(E,M)},v=async E=>{if(!e.disabled&&(u.isValid||d.isValid||E)){const M=e.resolver?Xt((await P()).errors):await R(n,!0);M!==r.isValid&&h.state.next({isValid:M})}},g=(E,M)=>{!e.disabled&&(u.isValidating||u.validatingFields||d.isValidating||d.validatingFields)&&((E||Array.from(a.mount)).forEach(I=>{I&&(M?Be(r.validatingFields,I,M):_t(r.validatingFields,I))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Xt(r.validatingFields)}))},b=(E,M=[],I,Y,U=!0,z=!0)=>{if(Y&&I&&!e.disabled){if(o.action=!0,z&&Array.isArray(Z(n,E))){const re=I(Z(n,E),Y.argA,Y.argB);U&&Be(n,E,re)}if(z&&Array.isArray(Z(r.errors,E))){const re=I(Z(r.errors,E),Y.argA,Y.argB);U&&Be(r.errors,E,re),s5(r.errors,E)}if((u.touchedFields||d.touchedFields)&&z&&Array.isArray(Z(r.touchedFields,E))){const re=I(Z(r.touchedFields,E),Y.argA,Y.argB);U&&Be(r.touchedFields,E,re)}(u.dirtyFields||d.dirtyFields)&&(r.dirtyFields=sc(s,i)),h.state.next({name:E,isDirty:J(E,M),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Be(i,E,M)},S=(E,M)=>{Be(r.errors,E,M),h.state.next({errors:r.errors})},j=E=>{r.errors=E,h.state.next({errors:r.errors,isValid:!1})},N=(E,M,I,Y)=>{const U=Z(n,E);if(U){const z=Z(i,E,rt(I)?Z(s,E):I);rt(z)||Y&&Y.defaultChecked||M?Be(i,E,M?z:Tb(U._f)):we(E,z),o.mount&&v()}},T=(E,M,I,Y,U)=>{let z=!1,re=!1;const Me={name:E};if(!e.disabled){if(!I||Y){(u.isDirty||d.isDirty)&&(re=r.isDirty,r.isDirty=Me.isDirty=J(),z=re!==Me.isDirty);const Ue=oi(Z(s,E),M);re=!!Z(r.dirtyFields,E),Ue?_t(r.dirtyFields,E):Be(r.dirtyFields,E,!0),Me.dirtyFields=r.dirtyFields,z=z||(u.dirtyFields||d.dirtyFields)&&re!==!Ue}if(I){const Ue=Z(r.touchedFields,E);Ue||(Be(r.touchedFields,E,I),Me.touchedFields=r.touchedFields,z=z||(u.touchedFields||d.touchedFields)&&Ue!==I)}z&&U&&h.state.next(Me)}return z?Me:{}},w=(E,M,I,Y)=>{const U=Z(r.errors,E),z=(u.isValid||d.isValid)&&Un(M)&&r.isValid!==M;if(e.delayError&&I?(l=x(()=>S(E,I)),l(e.delayError)):(clearTimeout(c),l=null,I?Be(r.errors,E,I):_t(r.errors,E)),(I?!oi(U,I):U)||!Xt(Y)||z){const re={...Y,...z&&Un(M)?{isValid:M}:{},errors:r.errors,name:E};r={...r,...re},h.state.next(re)}},P=async E=>{g(E,!0);const M=await e.resolver(i,e.context,YL(E||a.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return g(E),M},L=async E=>{const{errors:M}=await P(E);if(E)for(const I of E){const Y=Z(M,I);Y?Be(r.errors,I,Y):_t(r.errors,I)}else r.errors=M;return M},R=async(E,M,I={valid:!0})=>{for(const Y in E){const U=E[Y];if(U){const{_f:z,...re}=U;if(z){const Me=a.array.has(z.name),Ue=U._f&&XL(U._f);Ue&&u.validatingFields&&g([Y],!0);const Je=await Ny(U,a.disabled,i,y,e.shouldUseNativeValidation&&!M,Me);if(Ue&&u.validatingFields&&g([Y]),Je[z.name]&&(I.valid=!1,M))break;!M&&(Z(Je,z.name)?Me?EC(r.errors,Je,z.name):Be(r.errors,z.name,Je[z.name]):_t(r.errors,z.name))}!Xt(re)&&await R(re,M,I)}}return I.valid},H=()=>{for(const E of a.unMount){const M=Z(n,E);M&&(M._f.refs?M._f.refs.every(I=>!ym(I)):!ym(M._f.ref))&&Ll(E)}a.unMount=new Set},J=(E,M)=>!e.disabled&&(E&&M&&Be(i,E,M),!oi(Ne(),s)),le=(E,M,I)=>JL(E,a,{...o.mount?i:rt(M)?s:Zn(E)?{[E]:M}:M},I,M),ve=E=>rd(Z(o.mount?i:s,E,e.shouldUnregister?Z(s,E,[]):[])),we=(E,M,I={})=>{const Y=Z(n,E);let U=M;if(Y){const z=Y._f;z&&(!z.disabled&&Be(i,E,kC(M,z)),U=ah(z.ref)&&fr(M)?"":M,xC(z.ref)?[...z.ref.options].forEach(re=>re.selected=U.includes(re.value)):z.refs?td(z.ref)?z.refs.length>1?z.refs.forEach(re=>(!re.defaultChecked||!re.disabled)&&(re.checked=Array.isArray(U)?!!U.find(Me=>Me===re.value):U===re.value)):z.refs[0]&&(z.refs[0].checked=!!U):z.refs.forEach(re=>re.checked=re.value===U):kv(z.ref)?z.ref.value="":(z.ref.value=U,z.ref.type||h.state.next({name:E,values:ht(i)})))}(I.shouldDirty||I.shouldTouch)&&T(E,U,I.shouldTouch,I.shouldDirty,!0),I.shouldValidate&&Te(E)},$e=(E,M,I)=>{for(const Y in M){const U=M[Y],z=`${E}.${Y}`,re=Z(n,z);(a.array.has(E)||wt(U)||re&&!re._f)&&!uo(U)?$e(z,U,I):we(z,U,I)}},V=(E,M,I={})=>{const Y=Z(n,E),U=a.array.has(E),z=ht(M);Be(i,E,z),U?(h.array.next({name:E,values:ht(i)}),(u.isDirty||u.dirtyFields||d.isDirty||d.dirtyFields)&&I.shouldDirty&&h.state.next({name:E,dirtyFields:sc(s,i),isDirty:J(E,z)})):Y&&!Y._f&&!fr(z)?$e(E,z,I):we(E,z,I),Cy(E,a)&&h.state.next({...r}),h.state.next({name:o.mount?E:void 0,values:ht(i)})},K=async E=>{o.mount=!0;const M=E.target;let I=M.name,Y=!0;const U=Z(n,I),z=re=>{Y=Number.isNaN(re)||uo(re)&&isNaN(re.getTime())||oi(re,Z(i,I,re))};if(U){let re,Me;const Ue=M.type?Tb(U._f):BL(E),Je=E.type===Eb.BLUR||E.type===Eb.FOCUS_OUT,cd=!e5(U._f)&&!e.resolver&&!Z(r.errors,I)&&!U._f.deps||n5(Je,Z(r.touchedFields,I),r.isSubmitted,m,p),Bs=Cy(I,a,Je);Be(i,I,Ue),Je?(U._f.onBlur&&U._f.onBlur(E),l&&l(0)):U._f.onChange&&U._f.onChange(E);const Bl=T(I,Ue,Je),$n=!Xt(Bl)||Bs;if(!Je&&h.state.next({name:I,type:E.type,values:ht(i)}),cd)return(u.isValid||d.isValid)&&(e.mode==="onBlur"?Je&&v():Je||v()),$n&&h.state.next({name:I,...Bs?{}:Bl});if(!Je&&Bs&&h.state.next({...r}),e.resolver){const{errors:Vl}=await P([I]);if(z(Ue),Y){const ud=Mb(r.errors,n,I),Ul=Mb(Vl,n,ud.name||I);re=Ul.error,I=Ul.name,Me=Xt(Vl)}}else g([I],!0),re=(await Ny(U,a.disabled,i,y,e.shouldUseNativeValidation))[I],g([I]),z(Ue),Y&&(re?Me=!1:(u.isValid||d.isValid)&&(Me=await R(n,!0)));Y&&(U._f.deps&&Te(U._f.deps),w(I,Me,re,Bl))}},se=(E,M)=>{if(Z(r.errors,M)&&E.focus)return E.focus(),1},Te=async(E,M={})=>{let I,Y;const U=Cr(E);if(e.resolver){const z=await L(rt(E)?E:U);I=Xt(z),Y=E?!U.some(re=>Z(z,re)):I}else E?(Y=(await Promise.all(U.map(async z=>{const re=Z(n,z);return await R(re&&re._f?{[z]:re}:re)}))).every(Boolean),!(!Y&&!r.isValid)&&v()):Y=I=await R(n);return h.state.next({...!Zn(E)||(u.isValid||d.isValid)&&I!==r.isValid?{}:{name:E},...e.resolver||!E?{isValid:I}:{},errors:r.errors}),M.shouldFocus&&!Y&&Ba(n,se,E?U:a.mount),Y},Ne=E=>{const M={...o.mount?i:s};return rt(E)?M:Zn(E)?Z(M,E):E.map(I=>Z(M,I))},vt=(E,M)=>({invalid:!!Z((M||r).errors,E),isDirty:!!Z((M||r).dirtyFields,E),error:Z((M||r).errors,E),isValidating:!!Z(r.validatingFields,E),isTouched:!!Z((M||r).touchedFields,E)}),St=E=>{E&&Cr(E).forEach(M=>_t(r.errors,M)),h.state.next({errors:E?r.errors:{}})},ar=(E,M,I)=>{const Y=(Z(n,E,{_f:{}})._f||{}).ref,U=Z(r.errors,E)||{},{ref:z,message:re,type:Me,...Ue}=U;Be(r.errors,E,{...Ue,...M,ref:Y}),h.state.next({name:E,errors:r.errors,isValid:!1}),I&&I.shouldFocus&&Y&&Y.focus&&Y.focus()},ct=(E,M)=>jn(E)?h.state.subscribe({next:I=>E(le(void 0,M),I)}):le(E,M,!0),At=E=>h.state.subscribe({next:M=>{r5(E.name,M.name,E.exact)&&t5(M,E.formState||u,Sp,E.reRenderRoot)&&E.callback({values:{...i},...r,...M})}}).unsubscribe,Zr=E=>(o.mount=!0,d={...d,...E.formState},At({...E,formState:d})),Ll=(E,M={})=>{for(const I of E?Cr(E):a.mount)a.mount.delete(I),a.array.delete(I),M.keepValue||(_t(n,I),_t(i,I)),!M.keepError&&_t(r.errors,I),!M.keepDirty&&_t(r.dirtyFields,I),!M.keepTouched&&_t(r.touchedFields,I),!M.keepIsValidating&&_t(r.validatingFields,I),!e.shouldUnregister&&!M.keepDefaultValue&&_t(s,I);h.state.next({values:ht(i)}),h.state.next({...r,...M.keepDirty?{isDirty:J()}:{}}),!M.keepIsValid&&v()},Zi=({disabled:E,name:M})=>{(Un(E)&&o.mount||E||a.disabled.has(M))&&(E?a.disabled.add(M):a.disabled.delete(M))},Fl=(E,M={})=>{let I=Z(n,E);const Y=Un(M.disabled)||Un(e.disabled);return Be(n,E,{...I||{},_f:{...I&&I._f?I._f:{ref:{name:E}},name:E,mount:!0,...M}}),a.mount.add(E),I?Zi({disabled:Un(M.disabled)?M.disabled:e.disabled,name:E}):N(E,!0,M.value),{...Y?{disabled:M.disabled||e.disabled}:{},...e.progressive?{required:!!M.required,min:ic(M.min),max:ic(M.max),minLength:ic(M.minLength),maxLength:ic(M.maxLength),pattern:ic(M.pattern)}:{},name:E,onChange:K,onBlur:K,ref:U=>{if(U){Fl(E,M),I=Z(n,E);const z=rt(U.value)&&U.querySelectorAll&&U.querySelectorAll("input,select,textarea")[0]||U,re=QL(z),Me=I._f.refs||[];if(re?Me.find(Ue=>Ue===z):z===I._f.ref)return;Be(n,E,{_f:{...I._f,...re?{refs:[...Me.filter(ym),z,...Array.isArray(Z(s,E))?[{}]:[]],ref:{type:z.type,name:E}}:{ref:z}}}),N(E,!1,void 0,z)}else I=Z(n,E,{}),I._f&&(I._f.mount=!1),(e.shouldUnregister||M.shouldUnregister)&&!(UL(a.array,E)&&o.action)&&a.unMount.add(E)}}},ad=()=>e.shouldFocusError&&Ba(n,se,a.mount),wp=E=>{Un(E)&&(h.state.next({disabled:E}),Ba(n,(M,I)=>{const Y=Z(n,I);Y&&(M.disabled=Y._f.disabled||E,Array.isArray(Y._f.refs)&&Y._f.refs.forEach(U=>{U.disabled=Y._f.disabled||E}))},0,!1))},It=(E,M)=>async I=>{let Y;I&&(I.preventDefault&&I.preventDefault(),I.persist&&I.persist());let U=ht(i);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:z,values:re}=await P();r.errors=z,U=re}else await R(n);if(a.disabled.size)for(const z of a.disabled)Be(U,z,void 0);if(_t(r.errors,"root"),Xt(r.errors)){h.state.next({errors:{}});try{await E(U,I)}catch(z){Y=z}}else M&&await M({...r.errors},I),ad(),setTimeout(ad);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Xt(r.errors)&&!Y,submitCount:r.submitCount+1,errors:r.errors}),Y)throw Y},zs=(E,M={})=>{Z(n,E)&&(rt(M.defaultValue)?V(E,ht(Z(s,E))):(V(E,M.defaultValue),Be(s,E,ht(M.defaultValue))),M.keepTouched||_t(r.touchedFields,E),M.keepDirty||(_t(r.dirtyFields,E),r.isDirty=M.defaultValue?J(E,ht(Z(s,E))):J()),M.keepError||(_t(r.errors,E),u.isValid&&v()),h.state.next({...r}))},$l=(E,M={})=>{const I=E?ht(E):s,Y=ht(I),U=Xt(E),z=U?s:Y;if(M.keepDefaultValues||(s=I),!M.keepValues){if(M.keepDirtyValues){const re=new Set([...a.mount,...Object.keys(sc(s,i))]);for(const Me of Array.from(re))Z(r.dirtyFields,Me)?Be(z,Me,Z(i,Me)):V(Me,Z(z,Me))}else{if(wv&&rt(E))for(const re of a.mount){const Me=Z(n,re);if(Me&&Me._f){const Ue=Array.isArray(Me._f.refs)?Me._f.refs[0]:Me._f.ref;if(ah(Ue)){const Je=Ue.closest("form");if(Je){Je.reset();break}}}}for(const re of a.mount)V(re,Z(z,re))}i=ht(z),h.array.next({values:{...z}}),h.state.next({values:{...z}})}a={mount:M.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!M.keepIsValid||!!M.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:M.keepSubmitCount?r.submitCount:0,isDirty:U?!1:M.keepDirty?r.isDirty:!!(M.keepDefaultValues&&!oi(E,s)),isSubmitted:M.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:U?{}:M.keepDirtyValues?M.keepDefaultValues&&i?sc(s,i):r.dirtyFields:M.keepDefaultValues&&E?sc(s,E):M.keepDirty?r.dirtyFields:{},touchedFields:M.keepTouched?r.touchedFields:{},errors:M.keepErrors?r.errors:{},isSubmitSuccessful:M.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},ld=(E,M)=>$l(jn(E)?E(i):E,M),ds=(E,M={})=>{const I=Z(n,E),Y=I&&I._f;if(Y){const U=Y.refs?Y.refs[0]:Y.ref;U.focus&&(U.focus(),M.shouldSelect&&jn(U.select)&&U.select())}},Sp=E=>{r={...r,...E}},zl={control:{register:Fl,unregister:Ll,getFieldState:vt,handleSubmit:It,setError:ar,_subscribe:At,_runSchema:P,_getWatch:le,_getDirty:J,_setValid:v,_setFieldArray:b,_setDisabledField:Zi,_setErrors:j,_getFieldArray:ve,_reset:$l,_resetDefaultValues:()=>jn(e.defaultValues)&&e.defaultValues().then(E=>{ld(E,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:H,_disableForm:wp,_subjects:h,_proxyFormState:u,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(E){o=E},get _defaultValues(){return s},get _names(){return a},set _names(E){a=E},get _formState(){return r},get _options(){return e},set _options(E){e={...e,...E}}},subscribe:Zr,trigger:Te,register:Fl,handleSubmit:It,watch:ct,setValue:V,getValues:Ne,reset:ld,resetField:zs,clearErrors:St,unregister:Ll,setError:ar,setFocus:ds,getFieldState:vt};return{...zl,formControl:zl}}var qs=()=>{const t=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const r=(Math.random()*16+t)%16|0;return(e=="x"?r:r&3|8).toString(16)})},vm=(t,e,r={})=>r.shouldFocus||rt(r.shouldFocus)?r.focusName||`${t}.${rt(r.focusIndex)?e:r.focusIndex}.`:"",xm=(t,e)=>[...t,...Cr(e)],bm=t=>Array.isArray(t)?t.map(()=>{}):void 0;function wm(t,e,r){return[...t.slice(0,e),...Cr(r),...t.slice(e)]}var Sm=(t,e,r)=>Array.isArray(t)?(rt(t[r])&&(t[r]=void 0),t.splice(r,0,t.splice(e,1)[0]),t):[],km=(t,e)=>[...Cr(e),...Cr(t)];function a5(t,e){let r=0;const n=[...t];for(const s of e)n.splice(s-r,1),r++;return rd(n).length?n:[]}var _m=(t,e)=>rt(e)?[]:a5(t,Cr(e).sort((r,n)=>r-n)),Em=(t,e,r)=>{[t[e],t[r]]=[t[r],t[e]]},Ib=(t,e,r)=>(t[e]=r,t);function l5(t){const e=WL(),{control:r=e.control,name:n,keyName:s="id",shouldUnregister:i,rules:o}=t,[a,l]=de.useState(r._getFieldArray(n)),c=de.useRef(r._getFieldArray(n).map(qs)),u=de.useRef(a),d=de.useRef(n),h=de.useRef(!1);d.current=n,u.current=a,r._names.array.add(n),o&&r.register(n,o),de.useEffect(()=>r._subjects.array.subscribe({next:({values:N,name:T})=>{if(T===d.current||!T){const w=Z(N,d.current);Array.isArray(w)&&(l(w),c.current=w.map(qs))}}}).unsubscribe,[r]);const p=de.useCallback(N=>{h.current=!0,r._setFieldArray(n,N)},[r,n]),m=(N,T)=>{const w=Cr(ht(N)),P=xm(r._getFieldArray(n),w);r._names.focus=vm(n,P.length-1,T),c.current=xm(c.current,w.map(qs)),p(P),l(P),r._setFieldArray(n,P,xm,{argA:bm(N)})},y=(N,T)=>{const w=Cr(ht(N)),P=km(r._getFieldArray(n),w);r._names.focus=vm(n,0,T),c.current=km(c.current,w.map(qs)),p(P),l(P),r._setFieldArray(n,P,km,{argA:bm(N)})},x=N=>{const T=_m(r._getFieldArray(n),N);c.current=_m(c.current,N),p(T),l(T),!Array.isArray(Z(r._fields,n))&&Be(r._fields,n,void 0),r._setFieldArray(n,T,_m,{argA:N})},v=(N,T,w)=>{const P=Cr(ht(T)),L=wm(r._getFieldArray(n),N,P);r._names.focus=vm(n,N,w),c.current=wm(c.current,N,P.map(qs)),p(L),l(L),r._setFieldArray(n,L,wm,{argA:N,argB:bm(T)})},g=(N,T)=>{const w=r._getFieldArray(n);Em(w,N,T),Em(c.current,N,T),p(w),l(w),r._setFieldArray(n,w,Em,{argA:N,argB:T},!1)},b=(N,T)=>{const w=r._getFieldArray(n);Sm(w,N,T),Sm(c.current,N,T),p(w),l(w),r._setFieldArray(n,w,Sm,{argA:N,argB:T},!1)},S=(N,T)=>{const w=ht(T),P=Ib(r._getFieldArray(n),N,w);c.current=[...P].map((L,R)=>!L||R===N?qs():c.current[R]),p(P),l([...P]),r._setFieldArray(n,P,Ib,{argA:N,argB:w},!0,!1)},j=N=>{const T=Cr(ht(N));c.current=T.map(qs),p([...T]),l([...T]),r._setFieldArray(n,[...T],w=>w,{},!0,!1)};return de.useEffect(()=>{if(r._state.action=!1,Cy(n,r._names)&&r._subjects.state.next({...r._formState}),h.current&&(!ja(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!ja(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([n]).then(N=>{const T=Z(N.errors,n),w=Z(r._formState.errors,n);(w?!T&&w.type||T&&(w.type!==T.type||w.message!==T.message):T&&T.type)&&(T?Be(r._formState.errors,n,T):_t(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const N=Z(r._fields,n);N&&N._f&&!(ja(r._options.reValidateMode).isOnSubmit&&ja(r._options.mode).isOnSubmit)&&Ny(N,r._names.disabled,r._formValues,r._options.criteriaMode===nn.all,r._options.shouldUseNativeValidation,!0).then(T=>!Xt(T)&&r._subjects.state.next({errors:EC(r._formState.errors,T,n)}))}r._subjects.state.next({name:n,values:ht(r._formValues)}),r._names.focus&&Ba(r._fields,(N,T)=>{if(r._names.focus&&T.startsWith(r._names.focus)&&N.focus)return N.focus(),1}),r._names.focus="",r._setValid(),h.current=!1},[a,n,r]),de.useEffect(()=>(!Z(r._formValues,n)&&r._setFieldArray(n),()=>{const N=(T,w)=>{const P=Z(r._fields,T);P&&P._f&&(P._f.mount=w)};r._options.shouldUnregister||i?r.unregister(n):N(n,!1)}),[n,r,s,i]),{swap:de.useCallback(g,[p,n,r]),move:de.useCallback(b,[p,n,r]),prepend:de.useCallback(y,[p,n,r]),append:de.useCallback(m,[p,n,r]),remove:de.useCallback(x,[p,n,r]),insert:de.useCallback(v,[p,n,r]),update:de.useCallback(S,[p,n,r]),replace:de.useCallback(j,[p,n,r]),fields:de.useMemo(()=>a.map((N,T)=>({...N,[s]:c.current[T]||qs()})),[a,s])}}function Ev(t={}){const e=de.useRef(void 0),r=de.useRef(void 0),[n,s]=de.useState({isDirty:!1,isValidating:!1,isLoading:jn(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:jn(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:o5(t),formState:n},t.formControl&&t.defaultValues&&!jn(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const i=e.current.control;return i._options=t,de.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0}),[i]),de.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),de.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),de.useEffect(()=>{t.values&&!oi(t.values,r.current)?(i._reset(t.values,i._options.resetOptions),r.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),de.useEffect(()=>{t.errors&&!Xt(t.errors)&&i._setErrors(t.errors)},[t.errors,i]),de.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),de.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[t.shouldUnregister,i]),e.current.formState=KL(n,i),e.current}const Rb=(t,e,r)=>{if(t&&"reportValidity"in t){const n=Z(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},CC=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?Rb(n.ref,r,t):n.refs&&n.refs.forEach(s=>Rb(s,r,t))}},c5=(t,e)=>{e.shouldUseNativeValidation&&CC(t,e);const r={};for(const n in t){const s=Z(e.fields,n),i=Object.assign(t[n]||{},{ref:s&&s.ref});if(u5(e.names||Object.keys(t),n)){const o=Object.assign({},Z(r,n));Be(o,"root",i),Be(r,n,o)}else Be(r,n,i)}return r},u5=(t,e)=>t.some(r=>r.startsWith(e+"."));var d5=function(t,e){for(var r={};t.length;){var n=t[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var a=n.unionErrors[0].errors[0];r[o]={message:a.message,type:a.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(u){return u.errors.forEach(function(d){return t.push(d)})}),e){var l=r[o].types,c=l&&l[n.code];r[o]=vC(o,e,r,s,c?[].concat(c,n.message):n.message)}t.shift()}return r},Cv=function(t,e,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(c){return i.shouldUseNativeValidation&&CC({},i),{errors:{},values:r.raw?n:c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:c5(d5(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Re;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Re||(Re={}));var Oy;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Oy||(Oy={}));const X=Re.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ai=t=>{switch(typeof t){case"undefined":return X.undefined;case"string":return X.string;case"number":return isNaN(t)?X.nan:X.number;case"boolean":return X.boolean;case"function":return X.function;case"bigint":return X.bigint;case"symbol":return X.symbol;case"object":return Array.isArray(t)?X.array:t===null?X.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?X.promise:typeof Map<"u"&&t instanceof Map?X.map:typeof Set<"u"&&t instanceof Set?X.set:typeof Date<"u"&&t instanceof Date?X.date:X.object;default:return X.unknown}},B=Re.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),f5=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Hr extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(r(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return s(this),n}static assert(e){if(!(e instanceof Hr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Re.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Hr.create=t=>new Hr(t);const wl=(t,e)=>{let r;switch(t.code){case B.invalid_type:t.received===X.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case B.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Re.jsonStringifyReplacer)}`;break;case B.unrecognized_keys:r=`Unrecognized key(s) in object: ${Re.joinValues(t.keys,", ")}`;break;case B.invalid_union:r="Invalid input";break;case B.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Re.joinValues(t.options)}`;break;case B.invalid_enum_value:r=`Invalid enum value. Expected ${Re.joinValues(t.options)}, received '${t.received}'`;break;case B.invalid_arguments:r="Invalid function arguments";break;case B.invalid_return_type:r="Invalid function return type";break;case B.invalid_date:r="Invalid date";break;case B.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Re.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case B.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case B.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case B.custom:r="Invalid input";break;case B.invalid_intersection_types:r="Intersection results could not be merged";break;case B.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case B.not_finite:r="Number must be finite";break;default:r=e.defaultError,Re.assertNever(t)}return{message:r}};let NC=wl;function h5(t){NC=t}function uh(){return NC}const dh=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=n.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}},p5=[];function Q(t,e){const r=uh(),n=dh({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===wl?void 0:wl].filter(s=>!!s)});t.common.issues.push(n)}class sr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return ge;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return sr.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return ge;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:e.value,value:n}}}const ge=Object.freeze({status:"aborted"}),Ta=t=>({status:"dirty",value:t}),pr=t=>({status:"valid",value:t}),jy=t=>t.status==="aborted",Ty=t=>t.status==="dirty",hu=t=>t.status==="valid",pu=t=>typeof Promise<"u"&&t instanceof Promise;function fh(t,e,r,n){if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function OC(t,e,r,n,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var ce;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ce||(ce={}));var gc,yc;class rs{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Db=(t,e)=>{if(hu(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Hr(t.common.issues);return this._error=r,this._error}}};function Se(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{var l,c;const{message:u}=t;return o.code==="invalid_enum_value"?{message:u??a.defaultError}:typeof a.data>"u"?{message:(l=u??n)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(c=u??r)!==null&&c!==void 0?c:a.defaultError}},description:s}}class Ce{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return ai(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:ai(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new sr,ctx:{common:e.parent.common,data:e.data,parsedType:ai(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(pu(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ai(e)},i=this._parseSync({data:e,path:s.path,parent:s});return Db(s,i)}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ai(e)},s=this._parse({data:e,path:n.path,parent:n}),i=await(pu(s)?s:Promise.resolve(s));return Db(n,i)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:B.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new Ln({schema:this,typeName:me.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return es.create(this,this._def)}nullable(){return $i.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return In.create(this,this._def)}promise(){return kl.create(this,this._def)}or(e){return vu.create([this,e],this._def)}and(e){return xu.create(this,e,this._def)}transform(e){return new Ln({...Se(this._def),schema:this,typeName:me.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new _u({...Se(this._def),innerType:this,defaultValue:r,typeName:me.ZodDefault})}brand(){return new Nv({typeName:me.ZodBranded,type:this,...Se(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Eu({...Se(this._def),innerType:this,catchValue:r,typeName:me.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return nd.create(this,e)}readonly(){return Cu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const m5=/^c[^\s-]{8,}$/i,g5=/^[0-9a-z]+$/,y5=/^[0-9A-HJKMNP-TV-Z]{26}$/,v5=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,x5=/^[a-z0-9_-]{21}$/i,b5=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,w5=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,S5="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Cm;const k5=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,_5=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,E5=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,jC="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",C5=new RegExp(`^${jC}$`);function TC(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function N5(t){return new RegExp(`^${TC(t)}$`)}function PC(t){let e=`${jC}T${TC(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function O5(t,e){return!!((e==="v4"||!e)&&k5.test(t)||(e==="v6"||!e)&&_5.test(t))}class Pn extends Ce{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==X.string){const i=this._getOrReturnCtx(e);return Q(i,{code:B.invalid_type,expected:X.string,received:i.parsedType}),ge}const n=new sr;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),Q(s,{code:B.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),Q(s,{code:B.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?Q(s,{code:B.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&Q(s,{code:B.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")w5.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"email",code:B.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Cm||(Cm=new RegExp(S5,"u")),Cm.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"emoji",code:B.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")v5.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"uuid",code:B.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")x5.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"nanoid",code:B.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")m5.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"cuid",code:B.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")g5.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"cuid2",code:B.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")y5.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"ulid",code:B.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Q(s,{validation:"url",code:B.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"regex",code:B.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),Q(s,{code:B.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),Q(s,{code:B.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),Q(s,{code:B.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?PC(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{code:B.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?C5.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{code:B.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?N5(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{code:B.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?b5.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"duration",code:B.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?O5(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"ip",code:B.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?E5.test(e.data)||(s=this._getOrReturnCtx(e,s),Q(s,{validation:"base64",code:B.invalid_string,message:i.message}),n.dirty()):Re.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:B.invalid_string,...ce.errToObj(n)})}_addCheck(e){return new Pn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ce.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ce.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ce.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ce.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ce.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ce.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ce.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ce.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ce.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ce.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...ce.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ce.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ce.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...ce.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...ce.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...ce.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...ce.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...ce.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...ce.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...ce.errToObj(r)})}nonempty(e){return this.min(1,ce.errToObj(e))}trim(){return new Pn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Pn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Pn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Pn.create=t=>{var e;return new Pn({checks:[],typeName:me.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Se(t)})};function j5(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Di extends Ce{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==X.number){const i=this._getOrReturnCtx(e);return Q(i,{code:B.invalid_type,expected:X.number,received:i.parsedType}),ge}let n;const s=new sr;for(const i of this._def.checks)i.kind==="int"?Re.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Q(n,{code:B.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),Q(n,{code:B.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),Q(n,{code:B.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?j5(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),Q(n,{code:B.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Q(n,{code:B.not_finite,message:i.message}),s.dirty()):Re.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,ce.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ce.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ce.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ce.toString(r))}setLimit(e,r,n,s){return new Di({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ce.toString(s)}]})}_addCheck(e){return new Di({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ce.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ce.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ce.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ce.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ce.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ce.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:ce.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ce.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ce.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Re.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Di.create=t=>new Di({checks:[],typeName:me.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Se(t)});class Li extends Ce{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==X.bigint){const i=this._getOrReturnCtx(e);return Q(i,{code:B.invalid_type,expected:X.bigint,received:i.parsedType}),ge}let n;const s=new sr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),Q(n,{code:B.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),Q(n,{code:B.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Q(n,{code:B.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Re.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,ce.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ce.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ce.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ce.toString(r))}setLimit(e,r,n,s){return new Li({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ce.toString(s)}]})}_addCheck(e){return new Li({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ce.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ce.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ce.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ce.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ce.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Li.create=t=>{var e;return new Li({checks:[],typeName:me.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Se(t)})};class mu extends Ce{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==X.boolean){const n=this._getOrReturnCtx(e);return Q(n,{code:B.invalid_type,expected:X.boolean,received:n.parsedType}),ge}return pr(e.data)}}mu.create=t=>new mu({typeName:me.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Se(t)});class Bo extends Ce{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==X.date){const i=this._getOrReturnCtx(e);return Q(i,{code:B.invalid_type,expected:X.date,received:i.parsedType}),ge}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Q(i,{code:B.invalid_date}),ge}const n=new sr;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),Q(s,{code:B.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),Q(s,{code:B.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Re.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Bo({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:ce.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:ce.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Bo.create=t=>new Bo({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:me.ZodDate,...Se(t)});class hh extends Ce{_parse(e){if(this._getType(e)!==X.symbol){const n=this._getOrReturnCtx(e);return Q(n,{code:B.invalid_type,expected:X.symbol,received:n.parsedType}),ge}return pr(e.data)}}hh.create=t=>new hh({typeName:me.ZodSymbol,...Se(t)});class gu extends Ce{_parse(e){if(this._getType(e)!==X.undefined){const n=this._getOrReturnCtx(e);return Q(n,{code:B.invalid_type,expected:X.undefined,received:n.parsedType}),ge}return pr(e.data)}}gu.create=t=>new gu({typeName:me.ZodUndefined,...Se(t)});class yu extends Ce{_parse(e){if(this._getType(e)!==X.null){const n=this._getOrReturnCtx(e);return Q(n,{code:B.invalid_type,expected:X.null,received:n.parsedType}),ge}return pr(e.data)}}yu.create=t=>new yu({typeName:me.ZodNull,...Se(t)});class Sl extends Ce{constructor(){super(...arguments),this._any=!0}_parse(e){return pr(e.data)}}Sl.create=t=>new Sl({typeName:me.ZodAny,...Se(t)});class Co extends Ce{constructor(){super(...arguments),this._unknown=!0}_parse(e){return pr(e.data)}}Co.create=t=>new Co({typeName:me.ZodUnknown,...Se(t)});class Ls extends Ce{_parse(e){const r=this._getOrReturnCtx(e);return Q(r,{code:B.invalid_type,expected:X.never,received:r.parsedType}),ge}}Ls.create=t=>new Ls({typeName:me.ZodNever,...Se(t)});class ph extends Ce{_parse(e){if(this._getType(e)!==X.undefined){const n=this._getOrReturnCtx(e);return Q(n,{code:B.invalid_type,expected:X.void,received:n.parsedType}),ge}return pr(e.data)}}ph.create=t=>new ph({typeName:me.ZodVoid,...Se(t)});class In extends Ce{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==X.array)return Q(r,{code:B.invalid_type,expected:X.array,received:r.parsedType}),ge;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,a=r.data.length<s.exactLength.value;(o||a)&&(Q(r,{code:o?B.too_big:B.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(Q(r,{code:B.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(Q(r,{code:B.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>s.type._parseAsync(new rs(r,o,r.path,a)))).then(o=>sr.mergeArray(n,o));const i=[...r.data].map((o,a)=>s.type._parseSync(new rs(r,o,r.path,a)));return sr.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new In({...this._def,minLength:{value:e,message:ce.toString(r)}})}max(e,r){return new In({...this._def,maxLength:{value:e,message:ce.toString(r)}})}length(e,r){return new In({...this._def,exactLength:{value:e,message:ce.toString(r)}})}nonempty(e){return this.min(1,e)}}In.create=(t,e)=>new In({type:t,minLength:null,maxLength:null,exactLength:null,typeName:me.ZodArray,...Se(e)});function ha(t){if(t instanceof st){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=es.create(ha(n))}return new st({...t._def,shape:()=>e})}else return t instanceof In?new In({...t._def,type:ha(t.element)}):t instanceof es?es.create(ha(t.unwrap())):t instanceof $i?$i.create(ha(t.unwrap())):t instanceof ns?ns.create(t.items.map(e=>ha(e))):t}class st extends Ce{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Re.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==X.object){const c=this._getOrReturnCtx(e);return Q(c,{code:B.invalid_type,expected:X.object,received:c.parsedType}),ge}const{status:n,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Ls&&this._def.unknownKeys==="strip"))for(const c in s.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const u=i[c],d=s.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new rs(s,d,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof Ls){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(c==="strict")a.length>0&&(Q(s,{code:B.unrecognized_keys,keys:a}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const d=s.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new rs(s,d,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key,h=await u.value;c.push({key:d,value:h,alwaysSet:u.alwaysSet})}return c}).then(c=>sr.mergeObjectSync(n,c)):sr.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return ce.errToObj,new st({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var s,i,o,a;const l=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=ce.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new st({...this._def,unknownKeys:"strip"})}passthrough(){return new st({...this._def,unknownKeys:"passthrough"})}extend(e){return new st({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new st({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:me.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new st({...this._def,catchall:e})}pick(e){const r={};return Re.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new st({...this._def,shape:()=>r})}omit(e){const r={};return Re.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new st({...this._def,shape:()=>r})}deepPartial(){return ha(this)}partial(e){const r={};return Re.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}),new st({...this._def,shape:()=>r})}required(e){const r={};return Re.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof es;)i=i._def.innerType;r[n]=i}}),new st({...this._def,shape:()=>r})}keyof(){return MC(Re.objectKeys(this.shape))}}st.create=(t,e)=>new st({shape:()=>t,unknownKeys:"strip",catchall:Ls.create(),typeName:me.ZodObject,...Se(e)});st.strictCreate=(t,e)=>new st({shape:()=>t,unknownKeys:"strict",catchall:Ls.create(),typeName:me.ZodObject,...Se(e)});st.lazycreate=(t,e)=>new st({shape:t,unknownKeys:"strip",catchall:Ls.create(),typeName:me.ZodObject,...Se(e)});class vu extends Ce{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new Hr(a.ctx.common.issues));return Q(r,{code:B.invalid_union,unionErrors:o}),ge}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of n){const c={...r,common:{...r.common,issues:[]},parent:null},u=l._parseSync({data:r.data,path:r.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new Hr(l));return Q(r,{code:B.invalid_union,unionErrors:a}),ge}}get options(){return this._def.options}}vu.create=(t,e)=>new vu({options:t,typeName:me.ZodUnion,...Se(e)});const xs=t=>t instanceof wu?xs(t.schema):t instanceof Ln?xs(t.innerType()):t instanceof Su?[t.value]:t instanceof Fi?t.options:t instanceof ku?Re.objectValues(t.enum):t instanceof _u?xs(t._def.innerType):t instanceof gu?[void 0]:t instanceof yu?[null]:t instanceof es?[void 0,...xs(t.unwrap())]:t instanceof $i?[null,...xs(t.unwrap())]:t instanceof Nv||t instanceof Cu?xs(t.unwrap()):t instanceof Eu?xs(t._def.innerType):[];class op extends Ce{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==X.object)return Q(r,{code:B.invalid_type,expected:X.object,received:r.parsedType}),ge;const n=this.discriminator,s=r.data[n],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(Q(r,{code:B.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),ge)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const s=new Map;for(const i of r){const o=xs(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new op({typeName:me.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,...Se(n)})}}function Py(t,e){const r=ai(t),n=ai(e);if(t===e)return{valid:!0,data:t};if(r===X.object&&n===X.object){const s=Re.objectKeys(e),i=Re.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=Py(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(r===X.array&&n===X.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=Py(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return r===X.date&&n===X.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class xu extends Ce{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(i,o)=>{if(jy(i)||jy(o))return ge;const a=Py(i.value,o.value);return a.valid?((Ty(i)||Ty(o))&&r.dirty(),{status:r.value,value:a.data}):(Q(n,{code:B.invalid_intersection_types}),ge)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}xu.create=(t,e,r)=>new xu({left:t,right:e,typeName:me.ZodIntersection,...Se(r)});class ns extends Ce{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==X.array)return Q(n,{code:B.invalid_type,expected:X.array,received:n.parsedType}),ge;if(n.data.length<this._def.items.length)return Q(n,{code:B.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ge;!this._def.rest&&n.data.length>this._def.items.length&&(Q(n,{code:B.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new rs(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>sr.mergeArray(r,o)):sr.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new ns({...this._def,rest:e})}}ns.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ns({items:t,typeName:me.ZodTuple,rest:null,...Se(e)})};class bu extends Ce{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==X.object)return Q(n,{code:B.invalid_type,expected:X.object,received:n.parsedType}),ge;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in n.data)s.push({key:i._parse(new rs(n,a,n.path,a)),value:o._parse(new rs(n,n.data[a],n.path,a)),alwaysSet:a in n.data});return n.common.async?sr.mergeObjectAsync(r,s):sr.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof Ce?new bu({keyType:e,valueType:r,typeName:me.ZodRecord,...Se(n)}):new bu({keyType:Pn.create(),valueType:e,typeName:me.ZodRecord,...Se(r)})}}class mh extends Ce{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==X.map)return Q(n,{code:B.invalid_type,expected:X.map,received:n.parsedType}),ge;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([a,l],c)=>({key:s._parse(new rs(n,a,n.path,[c,"key"])),value:i._parse(new rs(n,l,n.path,[c,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return ge;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(c.value,u.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return ge;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(c.value,u.value)}return{status:r.value,value:a}}}}mh.create=(t,e,r)=>new mh({valueType:e,keyType:t,typeName:me.ZodMap,...Se(r)});class Vo extends Ce{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==X.set)return Q(n,{code:B.invalid_type,expected:X.set,received:n.parsedType}),ge;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(Q(n,{code:B.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(Q(n,{code:B.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(l){const c=new Set;for(const u of l){if(u.status==="aborted")return ge;u.status==="dirty"&&r.dirty(),c.add(u.value)}return{status:r.value,value:c}}const a=[...n.data.values()].map((l,c)=>i._parse(new rs(n,l,n.path,c)));return n.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,r){return new Vo({...this._def,minSize:{value:e,message:ce.toString(r)}})}max(e,r){return new Vo({...this._def,maxSize:{value:e,message:ce.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Vo.create=(t,e)=>new Vo({valueType:t,minSize:null,maxSize:null,typeName:me.ZodSet,...Se(e)});class Va extends Ce{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==X.function)return Q(r,{code:B.invalid_type,expected:X.function,received:r.parsedType}),ge;function n(a,l){return dh({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,uh(),wl].filter(c=>!!c),issueData:{code:B.invalid_arguments,argumentsError:l}})}function s(a,l){return dh({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,uh(),wl].filter(c=>!!c),issueData:{code:B.invalid_return_type,returnTypeError:l}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof kl){const a=this;return pr(async function(...l){const c=new Hr([]),u=await a._def.args.parseAsync(l,i).catch(p=>{throw c.addIssue(n(l,p)),c}),d=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(d,i).catch(p=>{throw c.addIssue(s(d,p)),c})})}else{const a=this;return pr(function(...l){const c=a._def.args.safeParse(l,i);if(!c.success)throw new Hr([n(l,c.error)]);const u=Reflect.apply(o,this,c.data),d=a._def.returns.safeParse(u,i);if(!d.success)throw new Hr([s(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Va({...this._def,args:ns.create(e).rest(Co.create())})}returns(e){return new Va({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new Va({args:e||ns.create([]).rest(Co.create()),returns:r||Co.create(),typeName:me.ZodFunction,...Se(n)})}}class wu extends Ce{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}wu.create=(t,e)=>new wu({getter:t,typeName:me.ZodLazy,...Se(e)});class Su extends Ce{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Q(r,{received:r.data,code:B.invalid_literal,expected:this._def.value}),ge}return{status:"valid",value:e.data}}get value(){return this._def.value}}Su.create=(t,e)=>new Su({value:t,typeName:me.ZodLiteral,...Se(e)});function MC(t,e){return new Fi({values:t,typeName:me.ZodEnum,...Se(e)})}class Fi extends Ce{constructor(){super(...arguments),gc.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Q(r,{expected:Re.joinValues(n),received:r.parsedType,code:B.invalid_type}),ge}if(fh(this,gc)||OC(this,gc,new Set(this._def.values)),!fh(this,gc).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return Q(r,{received:r.data,code:B.invalid_enum_value,options:n}),ge}return pr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Fi.create(e,{...this._def,...r})}exclude(e,r=this._def){return Fi.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}gc=new WeakMap;Fi.create=MC;class ku extends Ce{constructor(){super(...arguments),yc.set(this,void 0)}_parse(e){const r=Re.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==X.string&&n.parsedType!==X.number){const s=Re.objectValues(r);return Q(n,{expected:Re.joinValues(s),received:n.parsedType,code:B.invalid_type}),ge}if(fh(this,yc)||OC(this,yc,new Set(Re.getValidEnumValues(this._def.values))),!fh(this,yc).has(e.data)){const s=Re.objectValues(r);return Q(n,{received:n.data,code:B.invalid_enum_value,options:s}),ge}return pr(e.data)}get enum(){return this._def.values}}yc=new WeakMap;ku.create=(t,e)=>new ku({values:t,typeName:me.ZodNativeEnum,...Se(e)});class kl extends Ce{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==X.promise&&r.common.async===!1)return Q(r,{code:B.invalid_type,expected:X.promise,received:r.parsedType}),ge;const n=r.parsedType===X.promise?r.data:Promise.resolve(r.data);return pr(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}kl.create=(t,e)=>new kl({type:t,typeName:me.ZodPromise,...Se(e)});class Ln extends Ce{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===me.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{Q(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async a=>{if(r.value==="aborted")return ge;const l=await this._def.schema._parseAsync({data:a,path:n.path,parent:n});return l.status==="aborted"?ge:l.status==="dirty"||r.value==="dirty"?Ta(l.value):l});{if(r.value==="aborted")return ge;const a=this._def.schema._parseSync({data:o,path:n.path,parent:n});return a.status==="aborted"?ge:a.status==="dirty"||r.value==="dirty"?Ta(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?ge:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?ge:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!hu(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>hu(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:r.value,value:a})):o);Re.assertNever(s)}}Ln.create=(t,e,r)=>new Ln({schema:t,typeName:me.ZodEffects,effect:e,...Se(r)});Ln.createWithPreprocess=(t,e,r)=>new Ln({schema:e,effect:{type:"preprocess",transform:t},typeName:me.ZodEffects,...Se(r)});class es extends Ce{_parse(e){return this._getType(e)===X.undefined?pr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}es.create=(t,e)=>new es({innerType:t,typeName:me.ZodOptional,...Se(e)});class $i extends Ce{_parse(e){return this._getType(e)===X.null?pr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}$i.create=(t,e)=>new $i({innerType:t,typeName:me.ZodNullable,...Se(e)});class _u extends Ce{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===X.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}_u.create=(t,e)=>new _u({innerType:t,typeName:me.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Se(e)});class Eu extends Ce{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return pu(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Hr(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Hr(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Eu.create=(t,e)=>new Eu({innerType:t,typeName:me.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Se(e)});class gh extends Ce{_parse(e){if(this._getType(e)!==X.nan){const n=this._getOrReturnCtx(e);return Q(n,{code:B.invalid_type,expected:X.nan,received:n.parsedType}),ge}return{status:"valid",value:e.data}}}gh.create=t=>new gh({typeName:me.ZodNaN,...Se(t)});const T5=Symbol("zod_brand");class Nv extends Ce{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class nd extends Ce{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?ge:i.status==="dirty"?(r.dirty(),Ta(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?ge:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new nd({in:e,out:r,typeName:me.ZodPipeline})}}class Cu extends Ce{_parse(e){const r=this._def.innerType._parse(e),n=s=>(hu(s)&&(s.value=Object.freeze(s.value)),s);return pu(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Cu.create=(t,e)=>new Cu({innerType:t,typeName:me.ZodReadonly,...Se(e)});function AC(t,e={},r){return t?Sl.create().superRefine((n,s)=>{var i,o;if(!t(n)){const a=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,l=(o=(i=a.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0,c=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...c,fatal:l})}}):Sl.create()}const P5={object:st.lazycreate};var me;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(me||(me={}));const M5=(t,e={message:`Input not instance of ${t.name}`})=>AC(r=>r instanceof t,e),IC=Pn.create,RC=Di.create,A5=gh.create,I5=Li.create,DC=mu.create,R5=Bo.create,D5=hh.create,L5=gu.create,F5=yu.create,$5=Sl.create,z5=Co.create,B5=Ls.create,V5=ph.create,U5=In.create,H5=st.create,q5=st.strictCreate,W5=vu.create,K5=op.create,J5=xu.create,Q5=ns.create,Z5=bu.create,G5=mh.create,Y5=Vo.create,X5=Va.create,e6=wu.create,t6=Su.create,r6=Fi.create,n6=ku.create,s6=kl.create,Lb=Ln.create,i6=es.create,o6=$i.create,a6=Ln.createWithPreprocess,l6=nd.create,c6=()=>IC().optional(),u6=()=>RC().optional(),d6=()=>DC().optional(),f6={string:t=>Pn.create({...t,coerce:!0}),number:t=>Di.create({...t,coerce:!0}),boolean:t=>mu.create({...t,coerce:!0}),bigint:t=>Li.create({...t,coerce:!0}),date:t=>Bo.create({...t,coerce:!0})},h6=ge;var Ze=Object.freeze({__proto__:null,defaultErrorMap:wl,setErrorMap:h5,getErrorMap:uh,makeIssue:dh,EMPTY_PATH:p5,addIssueToContext:Q,ParseStatus:sr,INVALID:ge,DIRTY:Ta,OK:pr,isAborted:jy,isDirty:Ty,isValid:hu,isAsync:pu,get util(){return Re},get objectUtil(){return Oy},ZodParsedType:X,getParsedType:ai,ZodType:Ce,datetimeRegex:PC,ZodString:Pn,ZodNumber:Di,ZodBigInt:Li,ZodBoolean:mu,ZodDate:Bo,ZodSymbol:hh,ZodUndefined:gu,ZodNull:yu,ZodAny:Sl,ZodUnknown:Co,ZodNever:Ls,ZodVoid:ph,ZodArray:In,ZodObject:st,ZodUnion:vu,ZodDiscriminatedUnion:op,ZodIntersection:xu,ZodTuple:ns,ZodRecord:bu,ZodMap:mh,ZodSet:Vo,ZodFunction:Va,ZodLazy:wu,ZodLiteral:Su,ZodEnum:Fi,ZodNativeEnum:ku,ZodPromise:kl,ZodEffects:Ln,ZodTransformer:Ln,ZodOptional:es,ZodNullable:$i,ZodDefault:_u,ZodCatch:Eu,ZodNaN:gh,BRAND:T5,ZodBranded:Nv,ZodPipeline:nd,ZodReadonly:Cu,custom:AC,Schema:Ce,ZodSchema:Ce,late:P5,get ZodFirstPartyTypeKind(){return me},coerce:f6,any:$5,array:U5,bigint:I5,boolean:DC,date:R5,discriminatedUnion:K5,effect:Lb,enum:r6,function:X5,instanceof:M5,intersection:J5,lazy:e6,literal:t6,map:G5,nan:A5,nativeEnum:n6,never:B5,null:F5,nullable:o6,number:RC,object:H5,oboolean:d6,onumber:u6,optional:i6,ostring:c6,pipeline:l6,preprocess:a6,promise:s6,record:Z5,set:Y5,strictObject:q5,string:IC,symbol:D5,transformer:Lb,tuple:Q5,undefined:L5,union:W5,unknown:z5,void:V5,NEVER:h6,ZodIssueCode:B,quotelessJson:f5,ZodError:Hr});const p6=Ze.object({email:Ze.string().email("El correo electrónico no es válido"),password:Ze.string().min(6,"La contraseña debe tener al menos 6 caracteres"),fullName:Ze.string().min(1,"El nombre completo es requerido"),phone:Ze.string().min(10,"El numero de teléfono debe ser de 10 digitos")}),m6=Ze.object({addressLine1:Ze.string().min(1,"La dirección es requerida").max(100,"La dirección no debe exceder los 100 carácteres"),addressLine2:Ze.string().max(100,"La dirección no debe exceder los 100 carácteres").optional(),city:Ze.string().min(1,"La ciudad es requerida").max(50,"La ciudad no debe exceder los 50 carácteres"),state:Ze.string().min(1,"El estado es requerido").max(50,"El estado no debe exceder los 50 carácteres"),postalCode:Ze.string().max(5,"El código postal no debe exceder los 5 carácteres")}),g6=t=>!t||!Array.isArray(t.content)||t.content.length==0?!0:!t.content.some(e=>e.type==="paragraph"&&e.content&&Array.isArray(e.content)&&e.content.some(r=>r.type==="text"&&r.text&&r.text.trim()!=="")),y6=Ze.object({name:Ze.string().min(1,"El nombre del producto es obligatorio"),brand:Ze.string().min(1,"La marca del producto es obligatoria"),slug:Ze.string().min(1,"El slug del producto es obligatorio").regex(/^[a-z0-9]+(?:-[a-z0-9]+)*$/,"Slug inválido"),description:Ze.custom(t=>!g6(t),{message:"La descripción no puede estar vacía"}),variants:Ze.array(Ze.object({id:Ze.string().optional(),stock:Ze.number(),price:Ze.number().min(.01,"El precio debe ser mayor a 0"),target:Ze.string().min(1,"El objetivo es requerido"),type:Ze.string().min(1,"El tipo es requerido"),kg:Ze.number().min(.01,"El peso es requerido")})).min(1,"Debe haber al menos una variante"),images:Ze.array(Ze.any()).min(1,"Debe haber al menos una imagen")}),oc=({className:t,titleSection:e,children:r})=>f.jsxs("div",{className:`bg-white border border-gray-300 shadow-sm rounded-md flex flex-col gap-4 p-7 h-fit ${t}`,children:[e&&f.jsxs("h2",{className:"font-bold tracking-tight text-xl",children:[e,":"]}),r]}),Nm=({className:t,label:e,placeholder:r,type:n,name:s,register:i,errors:o,required:a})=>f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("label",{htmlFor:s,className:"text-xs font-bold tracking-tight capitalize text-slate-900",children:[e,":"]}),a&&f.jsx("span",{className:`${a&&"text-red-500 text-sm mr-3"} font-bold self-end`,children:"*"})]}),f.jsx("div",{className:`border border-gray-300 rounded-md overflow-hidden gap-5 items-center ${o[s]?"border-red-500":""}`,children:f.jsx("input",{type:n,placeholder:r,id:s,className:`py-1.5 text-sm px-3 font-medium tracking-tighter w-full text-slate-600 outline-none focus:outline-none ${t}`,autoComplete:"off",...i(s)})})]}),v6=["Stock","Precio","Objetivo","Tipo","Peso",""],x6=({control:t,errors:e,register:r})=>{const{fields:n,remove:s,append:i}=l5({control:t,name:"variants"}),o=()=>{i({stock:0,price:0,target:"",type:"",kg:0})},a=l=>{s(l)};return f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsxs("div",{className:"space-y-4 border-b border-slate-200 pb-6",children:[f.jsx("div",{className:"grid grid-cols-5 gap-4 justify-start",children:v6.map((l,c)=>f.jsx("p",{className:"text-xs font-semibold text-slate-800",children:l},c))}),n.map((l,c)=>f.jsxs("div",{children:[f.jsxs("div",{className:"grid grid-cols-5 gap-4 items-center",children:[f.jsx("input",{type:"number",placeholder:"Stock",...r(`variants.${c}.stock`,{valueAsNumber:!0}),className:"border rounded-md px-3 py-1.5 text-xs font-semibold placeholder:font-normal focus:outline-none appearance-none"}),f.jsx("input",{type:"number",step:"0.01",placeholder:"Precio",...r(`variants.${c}.price`,{valueAsNumber:!0}),className:"border rounded-md px-3 py-1.5 text-xs font-semibold placeholder:font-normal focus:outline-none appearance-none"}),f.jsx("input",{type:"text",placeholder:"Target",...r(`variants.${c}.target`),onChange:u=>{xt(u.target.value)},className:"border rounded-md px-3 py-1.5 text-xs font-semibold placeholder:font-normal focus:outline-none appearance-none"}),f.jsx("input",{type:"text",placeholder:"Type",...r(`variants.${c}.type`),onChange:u=>{xt(u.target.value)},className:"border rounded-md px-3 py-1.5 text-xs font-semibold placeholder:font-normal focus:outline-none appearance-none"}),f.jsx("input",{type:"number",placeholder:"Kg",...r(`variants.${c}.kg`,{valueAsNumber:!0}),step:"0.01",className:"border rounded-md px-3 py-1.5 text-xs font-semibold placeholder:font-normal focus:outline-none appearance-none"}),f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{type:"button",onClick:()=>a(c),className:"p-1",children:f.jsx(hC,{size:20})})})]}),e.variants&&e.variants[c]&&f.jsx("p",{className:"text-red-500 text-xs mt-1"})]},l.id))]}),f.jsxs("button",{type:"button",onClick:o,className:"px-4 py-2 text-slate-800 rounded-md text-sm font-semibold tracking-tight flex items-center gap-1 self-center hover:bg-slate-100",children:[f.jsx(wL,{size:16}),"Añadir Variante"]}),n.length===0&&e.variants&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Debes añadir al menos una variante"})]})},b6=({setValue:t,errors:e,watch:r})=>{const[n,s]=C.useState([]),i=r("images");C.useEffect(()=>{if(i&&i.length>0&&n.length==0){const l=i.map(c=>({previewUrl:c}));s(l),t("images",i)}},[i,n.length,t]);const o=l=>{if(l.target.files){const c=Array.from(l.target.files).map(d=>({file:d,previewUrl:URL.createObjectURL(d)})),u=[...n,...c];s(u),t("images",u.map(d=>d.file||d.previewUrl))}},a=l=>{const c=n.filter((u,d)=>d!==l);s(c),t("images",c.map(u=>u.file||u.previewUrl))};return f.jsxs(f.Fragment,{children:[f.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:o,className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-slate-100 file:text-slate-700 hover:file:bg-slate-200"}),f.jsx("div",{className:"grid grid-cols-4 lg:grid-cols-2 gap-4",children:n.map((l,c)=>f.jsx("div",{children:f.jsxs("div",{className:"border border-gray-200 w-full h-20 rounded-md p-1 relative lg:h-28",children:[f.jsx("img",{src:l.previewUrl,alt:`Preview ${c}`,className:"rounded-md w-full h-full object-contain"}),f.jsx("button",{type:"button",onClick:()=>a(c),className:"flex justify-end absolute -top-3 -right-4 hover:scale-110 transition-all z-10",children:f.jsx(hC,{size:22,className:"text-red-500"})})]})},c))}),(i==null?void 0:i.length)===0&&e.images&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:e.images.message})]})};function qt(t){this.content=t}qt.prototype={constructor:qt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,r){var n=r&&r!=t?this.remove(r):this,s=n.find(t),i=n.content.slice();return s==-1?i.push(r||t,e):(i[s+1]=e,r&&(i[s]=r)),new qt(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var r=this.content.slice();return r.splice(e,2),new qt(r)},addToStart:function(t,e){return new qt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var r=this.remove(t).content.slice();return r.push(t,e),new qt(r)},addBefore:function(t,e,r){var n=this.remove(e),s=n.content.slice(),i=n.find(t);return s.splice(i==-1?s.length:i,0,e,r),new qt(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=qt.from(t),t.size?new qt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=qt.from(t),t.size?new qt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=qt.from(t);for(var r=0;r<t.content.length;r+=2)e=e.remove(t.content[r]);return e},toObject:function(){var t={};return this.forEach(function(e,r){t[e]=r}),t},get size(){return this.content.length>>1}};qt.from=function(t){if(t instanceof qt)return t;var e=[];if(t)for(var r in t)e.push(r,t[r]);return new qt(e)};function LC(t,e,r){for(let n=0;;n++){if(n==t.childCount||n==e.childCount)return t.childCount==e.childCount?null:r;let s=t.child(n),i=e.child(n);if(s==i){r+=s.nodeSize;continue}if(!s.sameMarkup(i))return r;if(s.isText&&s.text!=i.text){for(let o=0;s.text[o]==i.text[o];o++)r++;return r}if(s.content.size||i.content.size){let o=LC(s.content,i.content,r+1);if(o!=null)return o}r+=s.nodeSize}}function FC(t,e,r,n){for(let s=t.childCount,i=e.childCount;;){if(s==0||i==0)return s==i?null:{a:r,b:n};let o=t.child(--s),a=e.child(--i),l=o.nodeSize;if(o==a){r-=l,n-=l;continue}if(!o.sameMarkup(a))return{a:r,b:n};if(o.isText&&o.text!=a.text){let c=0,u=Math.min(o.text.length,a.text.length);for(;c<u&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,r--,n--;return{a:r,b:n}}if(o.content.size||a.content.size){let c=FC(o.content,a.content,r-1,n-1);if(c)return c}r-=l,n-=l}}class F{constructor(e,r){if(this.content=e,this.size=r||0,r==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,r,n,s=0,i){for(let o=0,a=0;a<r;o++){let l=this.content[o],c=a+l.nodeSize;if(c>e&&n(l,s+a,i||null,o)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,r-u),n,s+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,r,n,s){let i="",o=!0;return this.nodesBetween(e,r,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,r-l):a.isLeaf?s?typeof s=="function"?s(a):s:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&n&&(o?o=!1:i+=n),i+=c},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let r=this.lastChild,n=e.firstChild,s=this.content.slice(),i=0;for(r.isText&&r.sameMarkup(n)&&(s[s.length-1]=r.withText(r.text+n.text),i=1);i<e.content.length;i++)s.push(e.content[i]);return new F(s,this.size+e.size)}cut(e,r=this.size){if(e==0&&r==this.size)return this;let n=[],s=0;if(r>e)for(let i=0,o=0;o<r;i++){let a=this.content[i],l=o+a.nodeSize;l>e&&((o<e||l>r)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,r-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,r-o-1))),n.push(a),s+=a.nodeSize),o=l}return new F(n,s)}cutByIndex(e,r){return e==r?F.empty:e==0&&r==this.content.length?this:new F(this.content.slice(e,r))}replaceChild(e,r){let n=this.content[e];if(n==r)return this;let s=this.content.slice(),i=this.size+r.nodeSize-n.nodeSize;return s[e]=r,new F(s,i)}addToStart(e){return new F([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new F(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(e.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let r=this.content[e];if(!r)throw new RangeError("Index "+e+" out of range for "+this);return r}maybeChild(e){return this.content[e]||null}forEach(e){for(let r=0,n=0;r<this.content.length;r++){let s=this.content[r];e(s,n,r),n+=s.nodeSize}}findDiffStart(e,r=0){return LC(this,e,r)}findDiffEnd(e,r=this.size,n=e.size){return FC(this,e,r,n)}findIndex(e,r=-1){if(e==0)return Kd(0,e);if(e==this.size)return Kd(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,s=0;;n++){let i=this.child(n),o=s+i.nodeSize;if(o>=e)return o==e||r>0?Kd(n+1,o):Kd(n,s);s=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,r){if(!r)return F.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new F(r.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return F.empty;let r,n=0;for(let s=0;s<e.length;s++){let i=e[s];n+=i.nodeSize,s&&i.isText&&e[s-1].sameMarkup(i)?(r||(r=e.slice(0,s)),r[r.length-1]=i.withText(r[r.length-1].text+i.text)):r&&r.push(i)}return new F(r||e,n)}static from(e){if(!e)return F.empty;if(e instanceof F)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new F([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}F.empty=new F([],0);const Om={index:0,offset:0};function Kd(t,e){return Om.index=t,Om.offset=e,Om}function yh(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let r=Array.isArray(t);if(Array.isArray(e)!=r)return!1;if(r){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!yh(t[n],e[n]))return!1}else{for(let n in t)if(!(n in e)||!yh(t[n],e[n]))return!1;for(let n in e)if(!(n in t))return!1}return!0}let Ke=class My{constructor(e,r){this.type=e,this.attrs=r}addToSet(e){let r,n=!1;for(let s=0;s<e.length;s++){let i=e[s];if(this.eq(i))return e;if(this.type.excludes(i.type))r||(r=e.slice(0,s));else{if(i.type.excludes(this.type))return e;!n&&i.type.rank>this.type.rank&&(r||(r=e.slice(0,s)),r.push(this),n=!0),r&&r.push(i)}}return r||(r=e.slice()),n||r.push(this),r}removeFromSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return e.slice(0,r).concat(e.slice(r+1));return e}isInSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return!0;return!1}eq(e){return this==e||this.type==e.type&&yh(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[r.type];if(!n)throw new RangeError(`There is no mark type ${r.type} in this schema`);let s=n.create(r.attrs);return n.checkAttrs(s.attrs),s}static sameSet(e,r){if(e==r)return!0;if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(r[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return My.none;if(e instanceof My)return[e];let r=e.slice();return r.sort((n,s)=>n.type.rank-s.type.rank),r}};Ke.none=[];class vh extends Error{}class G{constructor(e,r,n){this.content=e,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,r){let n=zC(this.content,e+this.openStart,r);return n&&new G(n,this.openStart,this.openEnd)}removeBetween(e,r){return new G($C(this.content,e+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,r){if(!r)return G.empty;let n=r.openStart||0,s=r.openEnd||0;if(typeof n!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new G(F.fromJSON(e,r.content),n,s)}static maxOpen(e,r=!0){let n=0,s=0;for(let i=e.firstChild;i&&!i.isLeaf&&(r||!i.type.spec.isolating);i=i.firstChild)n++;for(let i=e.lastChild;i&&!i.isLeaf&&(r||!i.type.spec.isolating);i=i.lastChild)s++;return new G(e,n,s)}}G.empty=new G(F.empty,0,0);function $C(t,e,r){let{index:n,offset:s}=t.findIndex(e),i=t.maybeChild(n),{index:o,offset:a}=t.findIndex(r);if(s==e||i.isText){if(a!=r&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(r))}if(n!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(n,i.copy($C(i.content,e-s-1,r-s-1)))}function zC(t,e,r,n){let{index:s,offset:i}=t.findIndex(e),o=t.maybeChild(s);if(i==e||o.isText)return t.cut(0,e).append(r).append(t.cut(e));let a=zC(o.content,e-i-1,r);return a&&t.replaceChild(s,o.copy(a))}function w6(t,e,r){if(r.openStart>t.depth)throw new vh("Inserted content deeper than insertion position");if(t.depth-r.openStart!=e.depth-r.openEnd)throw new vh("Inconsistent open depths");return BC(t,e,r,0)}function BC(t,e,r,n){let s=t.index(n),i=t.node(n);if(s==e.index(n)&&n<t.depth-r.openStart){let o=BC(t,e,r,n+1);return i.copy(i.content.replaceChild(s,o))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&t.depth==n&&e.depth==n){let o=t.parent,a=o.content;return Oo(o,a.cut(0,t.parentOffset).append(r.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=S6(r,t);return Oo(i,UC(t,o,a,e,n))}else return Oo(i,xh(t,e,n))}function VC(t,e){if(!e.type.compatibleContent(t.type))throw new vh("Cannot join "+e.type.name+" onto "+t.type.name)}function Ay(t,e,r){let n=t.node(r);return VC(n,e.node(r)),n}function No(t,e){let r=e.length-1;r>=0&&t.isText&&t.sameMarkup(e[r])?e[r]=t.withText(e[r].text+t.text):e.push(t)}function Ac(t,e,r,n){let s=(e||t).node(r),i=0,o=e?e.index(r):s.childCount;t&&(i=t.index(r),t.depth>r?i++:t.textOffset&&(No(t.nodeAfter,n),i++));for(let a=i;a<o;a++)No(s.child(a),n);e&&e.depth==r&&e.textOffset&&No(e.nodeBefore,n)}function Oo(t,e){return t.type.checkContent(e),t.copy(e)}function UC(t,e,r,n,s){let i=t.depth>s&&Ay(t,e,s+1),o=n.depth>s&&Ay(r,n,s+1),a=[];return Ac(null,t,s,a),i&&o&&e.index(s)==r.index(s)?(VC(i,o),No(Oo(i,UC(t,e,r,n,s+1)),a)):(i&&No(Oo(i,xh(t,e,s+1)),a),Ac(e,r,s,a),o&&No(Oo(o,xh(r,n,s+1)),a)),Ac(n,null,s,a),new F(a)}function xh(t,e,r){let n=[];if(Ac(null,t,r,n),t.depth>r){let s=Ay(t,e,r+1);No(Oo(s,xh(t,e,r+1)),n)}return Ac(e,null,r,n),new F(n)}function S6(t,e){let r=e.depth-t.openStart,s=e.node(r).copy(t.content);for(let i=r-1;i>=0;i--)s=e.node(i).copy(F.from(s));return{start:s.resolveNoCache(t.openStart+r),end:s.resolveNoCache(s.content.size-t.openEnd-r)}}class Nu{constructor(e,r,n){this.pos=e,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,r=this.index(this.depth);if(r==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],s=e.child(r);return n?e.child(r).cut(n):s}get nodeBefore(){let e=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(e).cut(0,r):e==0?null:this.parent.child(e-1)}posAtIndex(e,r){r=this.resolveDepth(r);let n=this.path[r*3],s=r==0?0:this.path[r*3-1]+1;for(let i=0;i<e;i++)s+=n.child(i).nodeSize;return s}marks(){let e=this.parent,r=this.index();if(e.content.size==0)return Ke.none;if(this.textOffset)return e.child(r).marks;let n=e.maybeChild(r-1),s=e.maybeChild(r);if(!n){let a=n;n=s,s=a}let i=n.marks;for(var o=0;o<i.length;o++)i[o].type.spec.inclusive===!1&&(!s||!i[o].isInSet(s.marks))&&(i=i[o--].removeFromSet(i));return i}marksAcross(e){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,s=e.parent.maybeChild(e.index());for(var i=0;i<n.length;i++)n[i].type.spec.inclusive===!1&&(!s||!n[i].isInSet(s.marks))&&(n=n[i--].removeFromSet(n));return n}sharedDepth(e){for(let r=this.depth;r>0;r--)if(this.start(r)<=e&&this.end(r)>=e)return r;return 0}blockRange(e=this,r){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!r||r(this.node(n))))return new bh(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let r=1;r<=this.depth;r++)e+=(e?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return e+":"+this.parentOffset}static resolve(e,r){if(!(r>=0&&r<=e.content.size))throw new RangeError("Position "+r+" out of range");let n=[],s=0,i=r;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(i),c=i-l;if(n.push(o,a,s+l),!c||(o=o.child(a),o.isText))break;i=c-1,s+=l+1}return new Nu(r,n,i)}static resolveCached(e,r){let n=Fb.get(e);if(n)for(let i=0;i<n.elts.length;i++){let o=n.elts[i];if(o.pos==r)return o}else Fb.set(e,n=new k6);let s=n.elts[n.i]=Nu.resolve(e,r);return n.i=(n.i+1)%_6,s}}class k6{constructor(){this.elts=[],this.i=0}}const _6=12,Fb=new WeakMap;class bh{constructor(e,r,n){this.$from=e,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const E6=Object.create(null);let jo=class Iy{constructor(e,r,n,s=Ke.none){this.type=e,this.attrs=r,this.marks=s,this.content=n||F.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,r,n,s=0){this.content.nodesBetween(e,r,n,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,r,n,s){return this.content.textBetween(e,r,n,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,r,n){return this.type==e&&yh(this.attrs,r||e.defaultAttrs||E6)&&Ke.sameSet(this.marks,n||Ke.none)}copy(e=null){return e==this.content?this:new Iy(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Iy(this.type,this.attrs,this.content,e)}cut(e,r=this.content.size){return e==0&&r==this.content.size?this:this.copy(this.content.cut(e,r))}slice(e,r=this.content.size,n=!1){if(e==r)return G.empty;let s=this.resolve(e),i=this.resolve(r),o=n?0:s.sharedDepth(r),a=s.start(o),c=s.node(o).content.cut(s.pos-a,i.pos-a);return new G(c,s.depth-o,i.depth-o)}replace(e,r,n){return w6(this.resolve(e),this.resolve(r),n)}nodeAt(e){for(let r=this;;){let{index:n,offset:s}=r.content.findIndex(e);if(r=r.maybeChild(n),!r)return null;if(s==e||r.isText)return r;e-=s+1}}childAfter(e){let{index:r,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(r),index:r,offset:n};let s=this.content.child(r-1);return{node:s,index:r-1,offset:n-s.nodeSize}}resolve(e){return Nu.resolveCached(this,e)}resolveNoCache(e){return Nu.resolve(this,e)}rangeHasMark(e,r,n){let s=!1;return r>e&&this.nodesBetween(e,r,i=>(n.isInSet(i.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),HC(this.marks,e)}contentMatchAt(e){let r=this.type.contentMatch.matchFragment(this.content,0,e);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(e,r,n=F.empty,s=0,i=n.childCount){let o=this.contentMatchAt(e).matchFragment(n,s,i),a=o&&o.matchFragment(this.content,r);if(!a||!a.validEnd)return!1;for(let l=s;l<i;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0}canReplaceWith(e,r,n,s){if(s&&!this.type.allowsMarks(s))return!1;let i=this.contentMatchAt(e).matchType(n),o=i&&i.matchFragment(this.content,r);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Ke.none;for(let r=0;r<this.marks.length;r++){let n=this.marks[r];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!Ke.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(r=>r.toJSON())),e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(e.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(r.text,n)}let s=F.fromJSON(e,r.content),i=e.nodeType(r.type).create(r.attrs,s,n);return i.type.checkAttrs(i.attrs),i}};jo.prototype.text=void 0;class wh extends jo{constructor(e,r,n,s){if(super(e,r,null,s),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):HC(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,r){return this.text.slice(e,r)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new wh(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new wh(this.type,this.attrs,e,this.marks)}cut(e=0,r=this.text.length){return e==0&&r==this.text.length?this:this.withText(this.text.slice(e,r))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function HC(t,e){for(let r=t.length-1;r>=0;r--)e=t[r].type.name+"("+e+")";return e}class Uo{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,r){let n=new C6(e,r);if(n.next==null)return Uo.empty;let s=qC(n);n.next&&n.err("Unexpected trailing text");let i=A6(M6(s));return I6(i,n),i}matchType(e){for(let r=0;r<this.next.length;r++)if(this.next[r].type==e)return this.next[r].next;return null}matchFragment(e,r=0,n=e.childCount){let s=this;for(let i=r;s&&i<n;i++)s=s.matchType(e.child(i).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:r}=this.next[e];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(e){for(let r=0;r<this.next.length;r++)for(let n=0;n<e.next.length;n++)if(this.next[r].type==e.next[n].type)return!0;return!1}fillBefore(e,r=!1,n=0){let s=[this];function i(o,a){let l=o.matchFragment(e,n);if(l&&(!r||l.validEnd))return F.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:u,next:d}=o.next[c];if(!(u.isText||u.hasRequiredAttrs())&&s.indexOf(d)==-1){s.push(d);let h=i(d,a.concat(u));if(h)return h}}return null}return i(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let r=this.computeWrapping(e);return this.wrapCache.push(e,r),r}computeWrapping(e){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let s=n.shift(),i=s.match;if(i.matchType(e)){let o=[];for(let a=s;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<i.next.length;o++){let{type:a,next:l}=i.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in r)&&(!s.type||l.validEnd)&&(n.push({match:a.contentMatch,type:a,via:s}),r[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function r(n){e.push(n);for(let s=0;s<n.next.length;s++)e.indexOf(n.next[s].next)==-1&&r(n.next[s].next)}return r(this),e.map((n,s)=>{let i=s+(n.validEnd?"*":" ")+" ";for(let o=0;o<n.next.length;o++)i+=(o?", ":"")+n.next[o].type.name+"->"+e.indexOf(n.next[o].next);return i}).join(`
`)}}Uo.empty=new Uo(!0);class C6{constructor(e,r){this.string=e,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function qC(t){let e=[];do e.push(N6(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function N6(t){let e=[];do e.push(O6(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function O6(t){let e=P6(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=j6(t,e);else break;return e}function $b(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function j6(t,e){let r=$b(t),n=r;return t.eat(",")&&(t.next!="}"?n=$b(t):n=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}function T6(t,e){let r=t.nodeTypes,n=r[e];if(n)return[n];let s=[];for(let i in r){let o=r[i];o.groups.indexOf(e)>-1&&s.push(o)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function P6(t){if(t.eat("(")){let e=qC(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=T6(t,t.next).map(r=>(t.inline==null?t.inline=r.isInline:t.inline!=r.isInline&&t.err("Mixing inline and block content"),{type:"name",value:r}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function M6(t){let e=[[]];return s(i(t,0),r()),e;function r(){return e.push([])-1}function n(o,a,l){let c={term:l,to:a};return e[o].push(c),c}function s(o,a){o.forEach(l=>l.to=a)}function i(o,a){if(o.type=="choice")return o.exprs.reduce((l,c)=>l.concat(i(c,a)),[]);if(o.type=="seq")for(let l=0;;l++){let c=i(o.exprs[l],a);if(l==o.exprs.length-1)return c;s(c,a=r())}else if(o.type=="star"){let l=r();return n(a,l),s(i(o.expr,l),l),[n(l)]}else if(o.type=="plus"){let l=r();return s(i(o.expr,a),l),s(i(o.expr,l),l),[n(l)]}else{if(o.type=="opt")return[n(a)].concat(i(o.expr,a));if(o.type=="range"){let l=a;for(let c=0;c<o.min;c++){let u=r();s(i(o.expr,l),u),l=u}if(o.max==-1)s(i(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let u=r();n(l,u),s(i(o.expr,l),u),l=u}return[n(l)]}else{if(o.type=="name")return[n(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function WC(t,e){return e-t}function zb(t,e){let r=[];return n(e),r.sort(WC);function n(s){let i=t[s];if(i.length==1&&!i[0].term)return n(i[0].to);r.push(s);for(let o=0;o<i.length;o++){let{term:a,to:l}=i[o];!a&&r.indexOf(l)==-1&&n(l)}}}function A6(t){let e=Object.create(null);return r(zb(t,0));function r(n){let s=[];n.forEach(o=>{t[o].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<s.length;u++)s[u][0]==a&&(c=s[u][1]);zb(t,l).forEach(u=>{c||s.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let i=e[n.join(",")]=new Uo(n.indexOf(t.length-1)>-1);for(let o=0;o<s.length;o++){let a=s[o][1].sort(WC);i.next.push({type:s[o][0],next:e[a.join(",")]||r(a)})}return i}}function I6(t,e){for(let r=0,n=[t];r<n.length;r++){let s=n[r],i=!s.validEnd,o=[];for(let a=0;a<s.next.length;a++){let{type:l,next:c}=s.next[a];o.push(l.name),i&&!(l.isText||l.hasRequiredAttrs())&&(i=!1),n.indexOf(c)==-1&&n.push(c)}i&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function KC(t){let e=Object.create(null);for(let r in t){let n=t[r];if(!n.hasDefault)return null;e[r]=n.default}return e}function JC(t,e){let r=Object.create(null);for(let n in t){let s=e&&e[n];if(s===void 0){let i=t[n];if(i.hasDefault)s=i.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=s}return r}function QC(t,e,r,n){for(let s in e)if(!(s in t))throw new RangeError(`Unsupported attribute ${s} for ${r} of type ${s}`);for(let s in t){let i=t[s];i.validate&&i.validate(e[s])}}function ZC(t,e){let r=Object.create(null);if(e)for(let n in e)r[n]=new D6(t,n,e[n]);return r}let Bb=class GC{constructor(e,r,n){this.name=e,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=ZC(e,n.attrs),this.defaultAttrs=KC(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Uo.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:JC(this.attrs,e)}create(e=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new jo(this,this.computeAttrs(e),F.from(r),Ke.setFrom(n))}createChecked(e=null,r,n){return r=F.from(r),this.checkContent(r),new jo(this,this.computeAttrs(e),r,Ke.setFrom(n))}createAndFill(e=null,r,n){if(e=this.computeAttrs(e),r=F.from(r),r.size){let o=this.contentMatch.fillBefore(r);if(!o)return null;r=o.append(r)}let s=this.contentMatch.matchFragment(r),i=s&&s.fillBefore(F.empty,!0);return i?new jo(this,e,r.append(i),Ke.setFrom(n)):null}validContent(e){let r=this.contentMatch.matchFragment(e);if(!r||!r.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){QC(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let r=0;r<e.length;r++)if(!this.allowsMarkType(e[r].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let r;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?r&&r.push(e[n]):r||(r=e.slice(0,n));return r?r.length?r:Ke.none:e}static compile(e,r){let n=Object.create(null);e.forEach((i,o)=>n[i]=new GC(i,r,o));let s=r.spec.topNode||"doc";if(!n[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let i in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function R6(t,e,r){let n=r.split("|");return s=>{let i=s===null?"null":typeof s;if(n.indexOf(i)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${t}, got ${i}`)}}class D6{constructor(e,r,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?R6(e,r,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class ap{constructor(e,r,n,s){this.name=e,this.rank=r,this.schema=n,this.spec=s,this.attrs=ZC(e,s.attrs),this.excluded=null;let i=KC(this.attrs);this.instance=i?new Ke(this,i):null}create(e=null){return!e&&this.instance?this.instance:new Ke(this,JC(this.attrs,e))}static compile(e,r){let n=Object.create(null),s=0;return e.forEach((i,o)=>n[i]=new ap(i,s++,r,o)),n}removeFromSet(e){for(var r=0;r<e.length;r++)e[r].type==this&&(e=e.slice(0,r).concat(e.slice(r+1)),r--);return e}isInSet(e){for(let r=0;r<e.length;r++)if(e[r].type==this)return e[r]}checkAttrs(e){QC(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class YC{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let s in e)r[s]=e[s];r.nodes=qt.from(e.nodes),r.marks=qt.from(e.marks||{}),this.nodes=Bb.compile(this.spec.nodes,this),this.marks=ap.compile(this.spec.marks,this);let n=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let i=this.nodes[s],o=i.spec.content||"",a=i.spec.marks;if(i.contentMatch=n[o]||(n[o]=Uo.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=a=="_"?null:a?Vb(this,a.split(" ")):a==""||!i.inlineContent?[]:null}for(let s in this.marks){let i=this.marks[s],o=i.spec.excludes;i.excluded=o==null?[i]:o==""?[]:Vb(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,r=null,n,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Bb){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(r,n,s)}text(e,r){let n=this.nodes.text;return new wh(n,n.defaultAttrs,e,Ke.setFrom(r))}mark(e,r){return typeof e=="string"&&(e=this.marks[e]),e.create(r)}nodeFromJSON(e){return jo.fromJSON(this,e)}markFromJSON(e){return Ke.fromJSON(this,e)}nodeType(e){let r=this.nodes[e];if(!r)throw new RangeError("Unknown node type: "+e);return r}}function Vb(t,e){let r=[];for(let n=0;n<e.length;n++){let s=e[n],i=t.marks[s],o=i;if(i)r.push(i);else for(let a in t.marks){let l=t.marks[a];(s=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(s)>-1)&&r.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return r}function L6(t){return t.tag!=null}function F6(t){return t.style!=null}let Ic=class Ry{constructor(e,r){this.schema=e,this.rules=r,this.tags=[],this.styles=[];let n=this.matchedStyles=[];r.forEach(s=>{if(L6(s))this.tags.push(s);else if(F6(s)){let i=/[^=]*/.exec(s.style)[0];n.indexOf(i)<0&&n.push(i),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let i=e.nodes[s.node];return i.contentMatch.matchType(i)})}parse(e,r={}){let n=new Hb(this,r,!1);return n.addAll(e,Ke.none,r.from,r.to),n.finish()}parseSlice(e,r={}){let n=new Hb(this,r,!0);return n.addAll(e,Ke.none,r.from,r.to),G.maxOpen(n.finish())}matchTag(e,r,n){for(let s=n?this.tags.indexOf(n)+1:0;s<this.tags.length;s++){let i=this.tags[s];if(B6(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||r.matchesContext(i.context))){if(i.getAttrs){let o=i.getAttrs(e);if(o===!1)continue;i.attrs=o||void 0}return i}}}matchStyle(e,r,n,s){for(let i=s?this.styles.indexOf(s)+1:0;i<this.styles.length;i++){let o=this.styles[i],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!n.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=r))){if(o.getAttrs){let l=o.getAttrs(r);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let r=[];function n(s){let i=s.priority==null?50:s.priority,o=0;for(;o<r.length;o++){let a=r[o];if((a.priority==null?50:a.priority)<i)break}r.splice(o,0,s)}for(let s in e.marks){let i=e.marks[s].spec.parseDOM;i&&i.forEach(o=>{n(o=qb(o)),o.mark||o.ignore||o.clearMark||(o.mark=s)})}for(let s in e.nodes){let i=e.nodes[s].spec.parseDOM;i&&i.forEach(o=>{n(o=qb(o)),o.node||o.ignore||o.mark||(o.node=s)})}return r}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Ry(e,Ry.schemaRules(e)))}};const XC={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},$6={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},e2={ol:!0,ul:!0},Sh=1,kh=2,Rc=4;function Ub(t,e,r){return e!=null?(e?Sh:0)|(e==="full"?kh:0):t&&t.whitespace=="pre"?Sh|kh:r&~Rc}class Jd{constructor(e,r,n,s,i,o){this.type=e,this.attrs=r,this.marks=n,this.solid=s,this.options=o,this.content=[],this.activeMarks=Ke.none,this.match=i||(o&Rc?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(F.from(e));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,s;return(s=n.findWrapping(e.type))?(this.match=n,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Sh)){let n=this.content[this.content.length-1],s;if(n&&n.isText&&(s=/[ \t\r\n\u000c]+$/.exec(n.text))){let i=n;n.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-s[0].length))}}let r=F.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(F.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!XC.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Hb{constructor(e,r,n){this.parser=e,this.options=r,this.isOpen=n,this.open=0;let s=r.topNode,i,o=Ub(null,r.preserveWhitespace,0)|(n?Rc:0);s?i=new Jd(s.type,s.attrs,Ke.none,!0,r.topMatch||s.type.contentMatch,o):n?i=new Jd(null,null,Ke.none,!0,null,o):i=new Jd(e.schema.topNodeType,null,Ke.none,!0,null,o),this.nodes=[i],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,r){e.nodeType==3?this.addTextNode(e,r):e.nodeType==1&&this.addElement(e,r)}addTextNode(e,r){let n=e.nodeValue,s=this.top;if(s.options&kh||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(s.options&Sh)s.options&kh?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=s.content[s.content.length-1],o=e.previousSibling;(!i||o&&o.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),r),this.findInText(e)}else this.findInside(e)}addElement(e,r,n){let s=e.nodeName.toLowerCase(),i;e2.hasOwnProperty(s)&&this.parser.normalizeLists&&z6(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,n));if(o?o.ignore:$6.hasOwnProperty(s))this.findInside(e),this.ignoreFallback(e,r);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let a,l=this.top,c=this.needsBlock;if(XC.hasOwnProperty(s))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),a=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,r);return}let u=o&&o.skip?r:this.readStyles(e,r);u&&this.addAll(e,u),a&&this.sync(l),this.needsBlock=c}else{let a=this.readStyles(e,r);a&&this.addElementByRule(e,o,a,o.consuming===!1?i:void 0)}}leafFallback(e,r){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),r)}ignoreFallback(e,r){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r)}readStyles(e,r){let n=e.style;if(n&&n.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let i=this.parser.matchedStyles[s],o=n.getPropertyValue(i);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(i,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?r=r.filter(c=>!l.clearMark(c)):r=r.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return r}addElementByRule(e,r,n,s){let i,o;if(r.node)if(o=this.parser.schema.nodes[r.node],o.isLeaf)this.insertNode(o.create(r.attrs),n)||this.leafFallback(e,n);else{let l=this.enter(o,r.attrs||null,n,r.preserveWhitespace);l&&(i=!0,n=l)}else{let l=this.parser.schema.marks[r.mark];n=n.concat(l.create(r.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(s)this.addElement(e,n,s);else if(r.getContent)this.findInside(e),r.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,n));else{let l=e;typeof r.contentElement=="string"?l=e.querySelector(r.contentElement):typeof r.contentElement=="function"?l=r.contentElement(e):r.contentElement&&(l=r.contentElement),this.findAround(e,l,!0),this.addAll(l,n)}i&&this.sync(a)&&this.open--}addAll(e,r,n,s){let i=n||0;for(let o=n?e.childNodes[n]:e.firstChild,a=s==null?null:e.childNodes[s];o!=a;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o,r);this.findAtPoint(e,i)}findPlace(e,r){let n,s;for(let i=this.open;i>=0;i--){let o=this.nodes[i],a=o.findWrapping(e);if(a&&(!n||n.length>a.length)&&(n=a,s=o,!a.length)||o.solid)break}if(!n)return null;this.sync(s);for(let i=0;i<n.length;i++)r=this.enterInner(n[i],null,r,!1);return r}insertNode(e,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(r=this.enterInner(s,null,r))}let n=this.findPlace(e,r);if(n){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let i=Ke.none;for(let o of n.concat(e.marks))(s.type?s.type.allowsMarkType(o.type):Wb(o.type,e.type))&&(i=o.addToSet(i));return s.content.push(e.mark(i)),!0}return!1}enter(e,r,n,s){let i=this.findPlace(e.create(r),n);return i&&(i=this.enterInner(e,r,n,!0,s)),i}enterInner(e,r,n,s=!1,i){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=Ub(e,i,o.options);o.options&Rc&&o.content.length==0&&(a|=Rc);let l=Ke.none;return n=n.filter(c=>(o.type?o.type.allowsMarkType(c.type):Wb(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new Jd(e,r,l,s,null,a)),this.open++,n}closeExtra(e=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let r=this.open;r>=0;r--)if(this.nodes[r]==e)return this.open=r,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let s=n.length-1;s>=0;s--)e+=n[s].nodeSize;r&&e++}return e}findAtPoint(e,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(e,r,n){if(e!=r&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&r.compareDocumentPosition(this.find[s].node)&(n?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&(this.find[r].pos=this.currentPos-(e.nodeValue.length-this.find[r].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let r=e.split("/"),n=this.options.context,s=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),i=-(n?n.depth+1:0)+(s?0:1),o=(a,l)=>{for(;a>=0;a--){let c=r[a];if(c==""){if(a==r.length-1||a==0)continue;for(;l>=i;l--)if(o(a-1,l))return!0;return!1}else{let u=l>0||l==0&&s?this.nodes[l].type:n&&l>=i?n.node(l-i).type:null;if(!u||u.name!=c&&u.groups.indexOf(c)==-1)return!1;l--}}return!0};return o(r.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let r=e.depth;r>=0;r--){let n=e.node(r).contentMatchAt(e.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}}function z6(t){for(let e=t.firstChild,r=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&e2.hasOwnProperty(n)&&r?(r.appendChild(e),e=r):n=="li"?r=e:n&&(r=null)}}function B6(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function qb(t){let e={};for(let r in t)e[r]=t[r];return e}function Wb(t,e){let r=e.schema.nodes;for(let n in r){let s=r[n];if(!s.allowsMarkType(t))continue;let i=[],o=a=>{i.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||i.indexOf(u)<0&&o(u))return!0}};if(o(s.contentMatch))return!0}}class ta{constructor(e,r){this.nodes=e,this.marks=r}serializeFragment(e,r={},n){n||(n=jm(r).createDocumentFragment());let s=n,i=[];return e.forEach(o=>{if(i.length||o.marks.length){let a=0,l=0;for(;a<i.length&&l<o.marks.length;){let c=o.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(i[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<i.length;)s=i.pop()[1];for(;l<o.marks.length;){let c=o.marks[l++],u=this.serializeMark(c,o.isInline,r);u&&(i.push([c,s]),s.appendChild(u.dom),s=u.contentDOM||u.dom)}}s.appendChild(this.serializeNodeInner(o,r))}),n}serializeNodeInner(e,r){let{dom:n,contentDOM:s}=wf(jm(r),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,r,s)}return n}serializeNode(e,r={}){let n=this.serializeNodeInner(e,r);for(let s=e.marks.length-1;s>=0;s--){let i=this.serializeMark(e.marks[s],e.isInline,r);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom)}return n}serializeMark(e,r,n={}){let s=this.marks[e.type.name];return s&&wf(jm(n),s(e,r),null,e.attrs)}static renderSpec(e,r,n=null,s){return wf(e,r,n,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new ta(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let r=Kb(e.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(e){return Kb(e.marks)}}function Kb(t){let e={};for(let r in t){let n=t[r].spec.toDOM;n&&(e[r]=n)}return e}function jm(t){return t.document||window.document}const Jb=new WeakMap;function V6(t){let e=Jb.get(t);return e===void 0&&Jb.set(t,e=U6(t)),e}function U6(t){let e=null;function r(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let s=0;s<n.length;s++)r(n[s]);else for(let s in n)r(n[s])}return r(t),e}function wf(t,e,r,n){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],i;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(i=V6(n))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=s.indexOf(" ");o>0&&(r=s.slice(0,o),s=s.slice(o+1));let a,l=r?t.createElementNS(r,s):t.createElement(s),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let h=d.indexOf(" ");h>0?l.setAttributeNS(d.slice(0,h),d.slice(h+1),c[d]):l.setAttribute(d,c[d])}}for(let d=u;d<e.length;d++){let h=e[d];if(h===0){if(d<e.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:p,contentDOM:m}=wf(t,h,r,n);if(l.appendChild(p),m){if(a)throw new RangeError("Multiple content holes");a=m}}}return{dom:l,contentDOM:a}}const t2=65535,r2=Math.pow(2,16);function H6(t,e){return t+e*r2}function Qb(t){return t&t2}function q6(t){return(t-(t&t2))/r2}const n2=1,s2=2,Sf=4,i2=8;class Dy{constructor(e,r,n){this.pos=e,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&i2)>0}get deletedBefore(){return(this.delInfo&(n2|Sf))>0}get deletedAfter(){return(this.delInfo&(s2|Sf))>0}get deletedAcross(){return(this.delInfo&Sf)>0}}class $r{constructor(e,r=!1){if(this.ranges=e,this.inverted=r,!e.length&&$r.empty)return $r.empty}recover(e){let r=0,n=Qb(e);if(!this.inverted)for(let s=0;s<n;s++)r+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[n*3]+r+q6(e)}mapResult(e,r=1){return this._map(e,r,!1)}map(e,r=1){return this._map(e,r,!0)}_map(e,r,n){let s=0,i=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?s:0);if(l>e)break;let c=this.ranges[a+i],u=this.ranges[a+o],d=l+c;if(e<=d){let h=c?e==l?-1:e==d?1:r:r,p=l+s+(h<0?0:u);if(n)return p;let m=e==(r<0?l:d)?null:H6(a/3,e-l),y=e==l?s2:e==d?n2:Sf;return(r<0?e!=l:e!=d)&&(y|=i2),new Dy(p,y,m)}s+=u-c}return n?e+s:new Dy(e+s,0,null)}touches(e,r){let n=0,s=Qb(r),i=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?n:0);if(l>e)break;let c=this.ranges[a+i],u=l+c;if(e<=u&&a==s*3)return!0;n+=this.ranges[a+o]-c}return!1}forEach(e){let r=this.inverted?2:1,n=this.inverted?1:2;for(let s=0,i=0;s<this.ranges.length;s+=3){let o=this.ranges[s],a=o-(this.inverted?i:0),l=o+(this.inverted?0:i),c=this.ranges[s+r],u=this.ranges[s+n];e(a,a+c,l,l+u),i+=u-c}}invert(){return new $r(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?$r.empty:new $r(e<0?[0,-e,0]:[0,0,e])}}$r.empty=new $r([]);class Ua{constructor(e=[],r,n=0,s=e.length){this.maps=e,this.mirror=r,this.from=n,this.to=s}slice(e=0,r=this.maps.length){return new Ua(this.maps,this.mirror,e,r)}copy(){return new Ua(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,r){this.to=this.maps.push(e),r!=null&&this.setMirror(this.maps.length-1,r)}appendMapping(e){for(let r=0,n=this.maps.length;r<e.maps.length;r++){let s=e.getMirror(r);this.appendMap(e.maps[r],s!=null&&s<r?n+s:void 0)}}getMirror(e){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==e)return this.mirror[r+(r%2?-1:1)]}}setMirror(e,r){this.mirror||(this.mirror=[]),this.mirror.push(e,r)}appendMappingInverted(e){for(let r=e.maps.length-1,n=this.maps.length+e.maps.length;r>=0;r--){let s=e.getMirror(r);this.appendMap(e.maps[r].invert(),s!=null&&s>r?n-s-1:void 0)}}invert(){let e=new Ua;return e.appendMappingInverted(this),e}map(e,r=1){if(this.mirror)return this._map(e,r,!0);for(let n=this.from;n<this.to;n++)e=this.maps[n].map(e,r);return e}mapResult(e,r=1){return this._map(e,r,!1)}_map(e,r,n){let s=0;for(let i=this.from;i<this.to;i++){let o=this.maps[i],a=o.mapResult(e,r);if(a.recover!=null){let l=this.getMirror(i);if(l!=null&&l>i&&l<this.to){i=l,e=this.maps[l].recover(a.recover);continue}}s|=a.delInfo,e=a.pos}return n?e:new Dy(e,s,null)}}const Tm=Object.create(null);class or{getMap(){return $r.empty}merge(e){return null}static fromJSON(e,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=Tm[r.stepType];if(!n)throw new RangeError(`No step type ${r.stepType} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in Tm)throw new RangeError("Duplicate use of step JSON ID "+e);return Tm[e]=r,r.prototype.jsonID=e,r}}class Nt{constructor(e,r){this.doc=e,this.failed=r}static ok(e){return new Nt(e,null)}static fail(e){return new Nt(null,e)}static fromReplace(e,r,n,s){try{return Nt.ok(e.replace(r,n,s))}catch(i){if(i instanceof vh)return Nt.fail(i.message);throw i}}}function Ov(t,e,r){let n=[];for(let s=0;s<t.childCount;s++){let i=t.child(s);i.content.size&&(i=i.copy(Ov(i.content,e,i))),i.isInline&&(i=e(i,r,s)),n.push(i)}return F.fromArray(n)}class bi extends or{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=e.resolve(this.from),s=n.node(n.sharedDepth(this.to)),i=new G(Ov(r.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),s),r.openStart,r.openEnd);return Nt.fromReplace(e,this.from,this.to,i)}invert(){return new Gn(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new bi(r.pos,n.pos,this.mark)}merge(e){return e instanceof bi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new bi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new bi(r.from,r.to,e.markFromJSON(r.mark))}}or.jsonID("addMark",bi);class Gn extends or{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=new G(Ov(r.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),r.openStart,r.openEnd);return Nt.fromReplace(e,this.from,this.to,n)}invert(){return new bi(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new Gn(r.pos,n.pos,this.mark)}merge(e){return e instanceof Gn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Gn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Gn(r.from,r.to,e.markFromJSON(r.mark))}}or.jsonID("removeMark",Gn);class wi extends or{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return Nt.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return Nt.fromReplace(e,this.pos,this.pos+1,new G(F.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let s=0;s<r.marks.length;s++)if(!r.marks[s].isInSet(n))return new wi(this.pos,r.marks[s]);return new wi(this.pos,this.mark)}}return new _l(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new wi(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new wi(r.pos,e.markFromJSON(r.mark))}}or.jsonID("addNodeMark",wi);class _l extends or{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return Nt.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return Nt.fromReplace(e,this.pos,this.pos+1,new G(F.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new wi(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new _l(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new _l(r.pos,e.markFromJSON(r.mark))}}or.jsonID("removeNodeMark",_l);class Ft extends or{constructor(e,r,n,s=!1){super(),this.from=e,this.to=r,this.slice=n,this.structure=s}apply(e){return this.structure&&Ly(e,this.from,this.to)?Nt.fail("Structure replace would overwrite content"):Nt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new $r([this.from,this.to-this.from,this.slice.size])}invert(e){return new Ft(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new Ft(r.pos,Math.max(r.pos,n.pos),this.slice)}merge(e){if(!(e instanceof Ft)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let r=this.slice.size+e.slice.size==0?G.empty:new G(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Ft(this.from,this.to+(e.to-e.from),r,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let r=this.slice.size+e.slice.size==0?G.empty:new G(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Ft(e.from,this.to,r,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Ft(r.from,r.to,G.fromJSON(e,r.slice),!!r.structure)}}or.jsonID("replace",Ft);class zt extends or{constructor(e,r,n,s,i,o,a=!1){super(),this.from=e,this.to=r,this.gapFrom=n,this.gapTo=s,this.slice=i,this.insert=o,this.structure=a}apply(e){if(this.structure&&(Ly(e,this.from,this.gapFrom)||Ly(e,this.gapTo,this.to)))return Nt.fail("Structure gap-replace would overwrite content");let r=e.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return Nt.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?Nt.fromReplace(e,this.from,this.to,n):Nt.fail("Content does not fit in gap")}getMap(){return new $r([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let r=this.gapTo-this.gapFrom;return new zt(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),s=this.from==this.gapFrom?r.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||s<r.pos||i>n.pos?null:new zt(r.pos,n.pos,s,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new zt(r.from,r.to,r.gapFrom,r.gapTo,G.fromJSON(e,r.slice),r.insert,!!r.structure)}}or.jsonID("replaceAround",zt);function Ly(t,e,r){let n=t.resolve(e),s=r-e,i=n.depth;for(;s>0&&i>0&&n.indexAfter(i)==n.node(i).childCount;)i--,s--;if(s>0){let o=n.node(i).maybeChild(n.indexAfter(i));for(;s>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,s--}}return!1}function W6(t,e,r,n){let s=[],i=[],o,a;t.doc.nodesBetween(e,r,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!n.isInSet(d)&&u.type.allowsMarkType(n.type)){let h=Math.max(c,e),p=Math.min(c+l.nodeSize,r),m=n.addToSet(d);for(let y=0;y<d.length;y++)d[y].isInSet(m)||(o&&o.to==h&&o.mark.eq(d[y])?o.to=p:s.push(o=new Gn(h,p,d[y])));a&&a.to==h?a.to=p:i.push(a=new bi(h,p,n))}}),s.forEach(l=>t.step(l)),i.forEach(l=>t.step(l))}function K6(t,e,r,n){let s=[],i=0;t.doc.nodesBetween(e,r,(o,a)=>{if(!o.isInline)return;i++;let l=null;if(n instanceof ap){let c=o.marks,u;for(;u=n.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else n?n.isInSet(o.marks)&&(l=[n]):l=o.marks;if(l&&l.length){let c=Math.min(a+o.nodeSize,r);for(let u=0;u<l.length;u++){let d=l[u],h;for(let p=0;p<s.length;p++){let m=s[p];m.step==i-1&&d.eq(s[p].style)&&(h=m)}h?(h.to=c,h.step=i):s.push({style:d,from:Math.max(a,e),to:c,step:i})}}}),s.forEach(o=>t.step(new Gn(o.from,o.to,o.style)))}function o2(t,e,r,n=r.contentMatch,s=!0){let i=t.doc.nodeAt(e),o=[],a=e+1;for(let l=0;l<i.childCount;l++){let c=i.child(l),u=a+c.nodeSize,d=n.matchType(c.type);if(!d)o.push(new Ft(a,u,G.empty));else{n=d;for(let h=0;h<c.marks.length;h++)r.allowsMarkType(c.marks[h].type)||t.step(new Gn(a,u,c.marks[h]));if(s&&c.isText&&r.whitespace!="pre"){let h,p=/\r?\n|\r/g,m;for(;h=p.exec(c.text);)m||(m=new G(F.from(r.schema.text(" ",r.allowedMarks(c.marks))),0,0)),o.push(new Ft(a+h.index,a+h.index+h[0].length,m))}}a=u}if(!n.validEnd){let l=n.fillBefore(F.empty,!0);t.replace(a,a,new G(l,0,0))}for(let l=o.length-1;l>=0;l--)t.step(o[l])}function J6(t,e,r){return(e==0||t.canReplace(e,t.childCount))&&(r==t.childCount||t.canReplace(0,r))}function Dl(t){let r=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let n=t.depth;;--n){let s=t.$from.node(n),i=t.$from.index(n),o=t.$to.indexAfter(n);if(n<t.depth&&s.canReplace(i,o,r))return n;if(n==0||s.type.spec.isolating||!J6(s,i,o))break}return null}function Q6(t,e,r){let{$from:n,$to:s,depth:i}=e,o=n.before(i+1),a=s.after(i+1),l=o,c=a,u=F.empty,d=0;for(let m=i,y=!1;m>r;m--)y||n.index(m)>0?(y=!0,u=F.from(n.node(m).copy(u)),d++):l--;let h=F.empty,p=0;for(let m=i,y=!1;m>r;m--)y||s.after(m+1)<s.end(m)?(y=!0,h=F.from(s.node(m).copy(h)),p++):c++;t.step(new zt(l,c,o,a,new G(u.append(h),d,p),u.size-d,!0))}function jv(t,e,r=null,n=t){let s=Z6(t,e),i=s&&G6(n,e);return i?s.map(Zb).concat({type:e,attrs:r}).concat(i.map(Zb)):null}function Zb(t){return{type:t,attrs:null}}function Z6(t,e){let{parent:r,startIndex:n,endIndex:s}=t,i=r.contentMatchAt(n).findWrapping(e);if(!i)return null;let o=i.length?i[0]:e;return r.canReplaceWith(n,s,o)?i:null}function G6(t,e){let{parent:r,startIndex:n,endIndex:s}=t,i=r.child(n),o=e.contentMatch.findWrapping(i.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let c=n;l&&c<s;c++)l=l.matchType(r.child(c).type);return!l||!l.validEnd?null:o}function Y6(t,e,r){let n=F.empty;for(let o=r.length-1;o>=0;o--){if(n.size){let a=r[o].type.contentMatch.matchFragment(n);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=F.from(r[o].type.create(r[o].attrs,n))}let s=e.start,i=e.end;t.step(new zt(s,i,s,i,new G(n,0,0),r.length,!0))}function X6(t,e,r,n,s){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,r,(o,a)=>{let l=typeof s=="function"?s(o):s;if(o.isTextblock&&!o.hasMarkup(n,l)&&rF(t.doc,t.mapping.slice(i).map(a),n)){let c=null;if(n.schema.linebreakReplacement){let p=n.whitespace=="pre",m=!!n.contentMatch.matchType(n.schema.linebreakReplacement);p&&!m?c=!1:!p&&m&&(c=!0)}c===!1&&tF(t,o,a,i),o2(t,t.mapping.slice(i).map(a,1),n,void 0,c===null);let u=t.mapping.slice(i),d=u.map(a,1),h=u.map(a+o.nodeSize,1);return t.step(new zt(d,h,d+1,h-1,new G(F.from(n.create(l,null,o.marks)),0,0),1,!0)),c===!0&&eF(t,o,a,i),!1}})}function eF(t,e,r,n){e.forEach((s,i)=>{if(s.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(s.text);){let l=t.mapping.slice(n).map(r+1+i+o.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function tF(t,e,r,n){e.forEach((s,i)=>{if(s.type==s.type.schema.linebreakReplacement){let o=t.mapping.slice(n).map(r+1+i);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function rF(t,e,r){let n=t.resolve(e),s=n.index();return n.parent.canReplaceWith(s,s+1,r)}function nF(t,e,r,n,s){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");r||(r=i.type);let o=r.create(n,null,s||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,o);if(!r.validContent(i.content))throw new RangeError("Invalid content for node type "+r.name);t.step(new zt(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new G(F.from(o),0,0),1,!0))}function Ha(t,e,r=1,n){let s=t.resolve(e),i=s.depth-r,o=n&&n[n.length-1]||s.parent;if(i<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!o.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let c=s.depth-1,u=r-2;c>i;c--,u--){let d=s.node(c),h=s.index(c);if(d.type.spec.isolating)return!1;let p=d.content.cutByIndex(h,d.childCount),m=n&&n[u+1];m&&(p=p.replaceChild(0,m.type.create(m.attrs)));let y=n&&n[u]||d;if(!d.canReplace(h+1,d.childCount)||!y.type.validContent(p))return!1}let a=s.indexAfter(i),l=n&&n[0];return s.node(i).canReplaceWith(a,a,l?l.type:s.node(i+1).type)}function sF(t,e,r=1,n){let s=t.doc.resolve(e),i=F.empty,o=F.empty;for(let a=s.depth,l=s.depth-r,c=r-1;a>l;a--,c--){i=F.from(s.node(a).copy(i));let u=n&&n[c];o=F.from(u?u.type.create(u.attrs,o):s.node(a).copy(o))}t.step(new Ft(e,e,new G(i.append(o),r,r),!0))}function Wi(t,e){let r=t.resolve(e),n=r.index();return a2(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function a2(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function lp(t,e,r=-1){let n=t.resolve(e);for(let s=n.depth;;s--){let i,o,a=n.index(s);if(s==n.depth?(i=n.nodeBefore,o=n.nodeAfter):r>0?(i=n.node(s+1),a++,o=n.node(s).maybeChild(a)):(i=n.node(s).maybeChild(a-1),o=n.node(s+1)),i&&!i.isTextblock&&a2(i,o)&&n.node(s).canReplace(a,a+1))return e;if(s==0)break;e=r<0?n.before(s):n.after(s)}}function iF(t,e,r){let n=new Ft(e-r,e+r,G.empty,!0);t.step(n)}function oF(t,e,r){let n=t.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),r))return e;if(n.parentOffset==0)for(let s=n.depth-1;s>=0;s--){let i=n.index(s);if(n.node(s).canReplaceWith(i,i,r))return n.before(s+1);if(i>0)return null}if(n.parentOffset==n.parent.content.size)for(let s=n.depth-1;s>=0;s--){let i=n.indexAfter(s);if(n.node(s).canReplaceWith(i,i,r))return n.after(s+1);if(i<n.node(s).childCount)return null}return null}function l2(t,e,r){let n=t.resolve(e);if(!r.content.size)return e;let s=r.content;for(let i=0;i<r.openStart;i++)s=s.firstChild.content;for(let i=1;i<=(r.openStart==0&&r.size?2:1);i++)for(let o=n.depth;o>=0;o--){let a=o==n.depth?0:n.pos<=(n.start(o+1)+n.end(o+1))/2?-1:1,l=n.index(o)+(a>0?1:0),c=n.node(o),u=!1;if(i==1)u=c.canReplace(l,l,s);else{let d=c.contentMatchAt(l).findWrapping(s.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return a==0?n.pos:a<0?n.before(o+1):n.after(o+1)}return null}function cp(t,e,r=e,n=G.empty){if(e==r&&!n.size)return null;let s=t.resolve(e),i=t.resolve(r);return c2(s,i,n)?new Ft(e,r,n):new aF(s,i,n).fit()}function c2(t,e,r){return!r.openStart&&!r.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),r.content)}class aF{constructor(e,r,n){this.$from=e,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=F.empty;for(let s=0;s<=e.depth;s++){let i=e.node(s);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=F.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,s=this.close(e<0?this.$to:n.doc.resolve(e));if(!s)return null;let i=this.placed,o=n.depth,a=s.depth;for(;o&&a&&i.childCount==1;)i=i.firstChild.content,o--,a--;let l=new G(i,o,a);return e>-1?new zt(n.pos,e,this.$to.pos,this.$to.end(),l,r):l.size||n.pos!=this.$to.pos?new Ft(n.pos,s.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let r=this.unplaced.content,n=0,s=this.unplaced.openEnd;n<e;n++){let i=r.firstChild;if(r.childCount>1&&(s=0),i.type.spec.isolating&&s<=n){e=n;break}r=i.content}for(let r=1;r<=2;r++)for(let n=r==1?e:this.unplaced.openStart;n>=0;n--){let s,i=null;n?(i=Pm(this.unplaced.content,n-1).firstChild,s=i.content):s=this.unplaced.content;let o=s.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,d=null;if(r==1&&(o?c.matchType(o.type)||(d=c.fillBefore(F.from(o),!1)):i&&l.compatibleContent(i.type)))return{sliceDepth:n,frontierDepth:a,parent:i,inject:d};if(r==2&&o&&(u=c.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:a,parent:i,wrap:u};if(i&&c.matchType(i.type))break}}}openMore(){let{content:e,openStart:r,openEnd:n}=this.unplaced,s=Pm(e,r);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new G(e,r+1,Math.max(n,s.size+r>=e.size-n?r+1:0)),!0)}dropNode(){let{content:e,openStart:r,openEnd:n}=this.unplaced,s=Pm(e,r);if(s.childCount<=1&&r>0){let i=e.size-r<=r+s.size;this.unplaced=new G(vc(e,r-1,1),r-1,i?r-1:n)}else this.unplaced=new G(vc(e,r,1),r,n)}placeNodes({sliceDepth:e,frontierDepth:r,parent:n,inject:s,wrap:i}){for(;this.depth>r;)this.closeFrontierNode();if(i)for(let y=0;y<i.length;y++)this.openFrontierNode(i[y]);let o=this.unplaced,a=n?n.content:o.content,l=o.openStart-e,c=0,u=[],{match:d,type:h}=this.frontier[r];if(s){for(let y=0;y<s.childCount;y++)u.push(s.child(y));d=d.matchFragment(s)}let p=a.size+e-(o.content.size-o.openEnd);for(;c<a.childCount;){let y=a.child(c),x=d.matchType(y.type);if(!x)break;c++,(c>1||l==0||y.content.size)&&(d=x,u.push(u2(y.mark(h.allowedMarks(y.marks)),c==1?l:0,c==a.childCount?p:-1)))}let m=c==a.childCount;m||(p=-1),this.placed=xc(this.placed,r,F.from(u)),this.frontier[r].match=d,m&&p<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let y=0,x=a;y<p;y++){let v=x.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),x=v.content}this.unplaced=m?e==0?G.empty:new G(vc(o.content,e-1,1),e-1,p<0?o.openEnd:e-1):new G(vc(o.content,e,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],r;if(!e.type.isTextblock||!Mm(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,s=this.$to.after(n);for(;n>1&&s==this.$to.end(--n);)++s;return s}findCloseLevel(e){e:for(let r=Math.min(this.depth,e.depth);r>=0;r--){let{match:n,type:s}=this.frontier[r],i=r<e.depth&&e.end(r+1)==e.pos+(e.depth-(r+1)),o=Mm(e,r,s,n,i);if(o){for(let a=r-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=Mm(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:r,fit:o,move:i?e.doc.resolve(e.after(r+1)):e}}}}close(e){let r=this.findCloseLevel(e);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=xc(this.placed,r.depth,r.fit)),e=r.move;for(let n=r.depth+1;n<=e.depth;n++){let s=e.node(n),i=s.type.contentMatch.fillBefore(s.content,!0,e.index(n));this.openFrontierNode(s.type,s.attrs,i)}return e}openFrontierNode(e,r=null,n){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=xc(this.placed,this.depth,F.from(e.create(r,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(F.empty,!0);r.childCount&&(this.placed=xc(this.placed,this.frontier.length,r))}}function vc(t,e,r){return e==0?t.cutByIndex(r,t.childCount):t.replaceChild(0,t.firstChild.copy(vc(t.firstChild.content,e-1,r)))}function xc(t,e,r){return e==0?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy(xc(t.lastChild.content,e-1,r)))}function Pm(t,e){for(let r=0;r<e;r++)t=t.firstChild.content;return t}function u2(t,e,r){if(e<=0)return t;let n=t.content;return e>1&&(n=n.replaceChild(0,u2(n.firstChild,e-1,n.childCount==1?r-1:0))),e>0&&(n=t.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(t.type.contentMatch.matchFragment(n).fillBefore(F.empty,!0)))),t.copy(n)}function Mm(t,e,r,n,s){let i=t.node(e),o=s?t.indexAfter(e):t.index(e);if(o==i.childCount&&!r.compatibleContent(i.type))return null;let a=n.fillBefore(i.content,!0,o);return a&&!lF(r,i.content,o)?a:null}function lF(t,e,r){for(let n=r;n<e.childCount;n++)if(!t.allowsMarks(e.child(n).marks))return!0;return!1}function cF(t){return t.spec.defining||t.spec.definingForContent}function uF(t,e,r,n){if(!n.size)return t.deleteRange(e,r);let s=t.doc.resolve(e),i=t.doc.resolve(r);if(c2(s,i,n))return t.step(new Ft(e,r,n));let o=f2(s,t.doc.resolve(r));o[o.length-1]==0&&o.pop();let a=-(s.depth+1);o.unshift(a);for(let h=s.depth,p=s.pos-1;h>0;h--,p--){let m=s.node(h).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;o.indexOf(h)>-1?a=h:s.before(h)==p&&o.splice(1,0,-h)}let l=o.indexOf(a),c=[],u=n.openStart;for(let h=n.content,p=0;;p++){let m=h.firstChild;if(c.push(m),p==n.openStart)break;h=m.content}for(let h=u-1;h>=0;h--){let p=c[h],m=cF(p.type);if(m&&!p.sameMarkup(s.node(Math.abs(a)-1)))u=h;else if(m||!p.type.isTextblock)break}for(let h=n.openStart;h>=0;h--){let p=(h+u+1)%(n.openStart+1),m=c[p];if(m)for(let y=0;y<o.length;y++){let x=o[(y+l)%o.length],v=!0;x<0&&(v=!1,x=-x);let g=s.node(x-1),b=s.index(x-1);if(g.canReplaceWith(b,b,m.type,m.marks))return t.replace(s.before(x),v?i.after(x):r,new G(d2(n.content,0,n.openStart,p),p,n.openEnd))}}let d=t.steps.length;for(let h=o.length-1;h>=0&&(t.replace(e,r,n),!(t.steps.length>d));h--){let p=o[h];p<0||(e=s.before(p),r=i.after(p))}}function d2(t,e,r,n,s){if(e<r){let i=t.firstChild;t=t.replaceChild(0,i.copy(d2(i.content,e+1,r,n,i)))}if(e>n){let i=s.contentMatchAt(0),o=i.fillBefore(t).append(t);t=o.append(i.matchFragment(o).fillBefore(F.empty,!0))}return t}function dF(t,e,r,n){if(!n.isInline&&e==r&&t.doc.resolve(e).parent.content.size){let s=oF(t.doc,e,n.type);s!=null&&(e=r=s)}t.replaceRange(e,r,new G(F.from(n),0,0))}function fF(t,e,r){let n=t.doc.resolve(e),s=t.doc.resolve(r),i=f2(n,s);for(let o=0;o<i.length;o++){let a=i[o],l=o==i.length-1;if(l&&a==0||n.node(a).type.contentMatch.validEnd)return t.delete(n.start(a),s.end(a));if(a>0&&(l||n.node(a-1).canReplace(n.index(a-1),s.indexAfter(a-1))))return t.delete(n.before(a),s.after(a))}for(let o=1;o<=n.depth&&o<=s.depth;o++)if(e-n.start(o)==n.depth-o&&r>n.end(o)&&s.end(o)-r!=s.depth-o)return t.delete(n.before(o),r);t.delete(e,r)}function f2(t,e){let r=[],n=Math.min(t.depth,e.depth);for(let s=n;s>=0;s--){let i=t.start(s);if(i<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(i==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==i-1)&&r.push(s)}return r}class qa extends or{constructor(e,r,n){super(),this.pos=e,this.attr=r,this.value=n}apply(e){let r=e.nodeAt(this.pos);if(!r)return Nt.fail("No node at attribute step's position");let n=Object.create(null);for(let i in r.attrs)n[i]=r.attrs[i];n[this.attr]=this.value;let s=r.type.create(n,null,r.marks);return Nt.fromReplace(e,this.pos,this.pos+1,new G(F.from(s),0,r.isLeaf?0:1))}getMap(){return $r.empty}invert(e){return new qa(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new qa(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new qa(r.pos,r.attr,r.value)}}or.jsonID("attr",qa);class Ou extends or{constructor(e,r){super(),this.attr=e,this.value=r}apply(e){let r=Object.create(null);for(let s in e.attrs)r[s]=e.attrs[s];r[this.attr]=this.value;let n=e.type.create(r,e.content,e.marks);return Nt.ok(n)}getMap(){return $r.empty}invert(e){return new Ou(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Ou(r.attr,r.value)}}or.jsonID("docAttr",Ou);let El=class extends Error{};El=function t(e){let r=Error.call(this,e);return r.__proto__=t.prototype,r};El.prototype=Object.create(Error.prototype);El.prototype.constructor=El;El.prototype.name="TransformError";class hF{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Ua}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let r=this.maybeStep(e);if(r.failed)throw new El(r.failed);return this}maybeStep(e){let r=e.apply(this.doc);return r.failed||this.addStep(e,r.doc),r}get docChanged(){return this.steps.length>0}addStep(e,r){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=r}replace(e,r=e,n=G.empty){let s=cp(this.doc,e,r,n);return s&&this.step(s),this}replaceWith(e,r,n){return this.replace(e,r,new G(F.from(n),0,0))}delete(e,r){return this.replace(e,r,G.empty)}insert(e,r){return this.replaceWith(e,e,r)}replaceRange(e,r,n){return uF(this,e,r,n),this}replaceRangeWith(e,r,n){return dF(this,e,r,n),this}deleteRange(e,r){return fF(this,e,r),this}lift(e,r){return Q6(this,e,r),this}join(e,r=1){return iF(this,e,r),this}wrap(e,r){return Y6(this,e,r),this}setBlockType(e,r=e,n,s=null){return X6(this,e,r,n,s),this}setNodeMarkup(e,r,n=null,s){return nF(this,e,r,n,s),this}setNodeAttribute(e,r,n){return this.step(new qa(e,r,n)),this}setDocAttribute(e,r){return this.step(new Ou(e,r)),this}addNodeMark(e,r){return this.step(new wi(e,r)),this}removeNodeMark(e,r){if(!(r instanceof Ke)){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(r=r.isInSet(n.marks),!r)return this}return this.step(new _l(e,r)),this}split(e,r=1,n){return sF(this,e,r,n),this}addMark(e,r,n){return W6(this,e,r,n),this}removeMark(e,r,n){return K6(this,e,r,n),this}clearIncompatible(e,r,n){return o2(this,e,r,n),this}}const Am=Object.create(null);class ke{constructor(e,r,n){this.$anchor=e,this.$head=r,this.ranges=n||[new pF(e.min(r),e.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let r=0;r<e.length;r++)if(e[r].$from.pos!=e[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,r=G.empty){let n=r.content.lastChild,s=null;for(let a=0;a<r.openEnd;a++)s=n,n=n.lastChild;let i=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:c}=o[a],u=e.mapping.slice(i);e.replaceRange(u.map(l.pos),u.map(c.pos),a?G.empty:r),a==0&&Xb(e,i,(n?n.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,r){let n=e.steps.length,s=this.ranges;for(let i=0;i<s.length;i++){let{$from:o,$to:a}=s[i],l=e.mapping.slice(n),c=l.map(o.pos),u=l.map(a.pos);i?e.deleteRange(c,u):(e.replaceRangeWith(c,u,r),Xb(e,n,r.isInline?-1:1))}}static findFrom(e,r,n=!1){let s=e.parent.inlineContent?new be(e):pa(e.node(0),e.parent,e.pos,e.index(),r,n);if(s)return s;for(let i=e.depth-1;i>=0;i--){let o=r<0?pa(e.node(0),e.node(i),e.before(i+1),e.index(i),r,n):pa(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,r,n);if(o)return o}return null}static near(e,r=1){return this.findFrom(e,r)||this.findFrom(e,-r)||new Rn(e.node(0))}static atStart(e){return pa(e,e,0,0,1)||new Rn(e)}static atEnd(e){return pa(e,e,e.content.size,e.childCount,-1)||new Rn(e)}static fromJSON(e,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=Am[r.type];if(!n)throw new RangeError(`No selection type ${r.type} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in Am)throw new RangeError("Duplicate use of selection JSON ID "+e);return Am[e]=r,r.prototype.jsonID=e,r}getBookmark(){return be.between(this.$anchor,this.$head).getBookmark()}}ke.prototype.visible=!0;class pF{constructor(e,r){this.$from=e,this.$to=r}}let Gb=!1;function Yb(t){!Gb&&!t.parent.inlineContent&&(Gb=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class be extends ke{constructor(e,r=e){Yb(e),Yb(r),super(e,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,r){let n=e.resolve(r.map(this.head));if(!n.parent.inlineContent)return ke.near(n);let s=e.resolve(r.map(this.anchor));return new be(s.parent.inlineContent?s:n,n)}replace(e,r=G.empty){if(super.replace(e,r),r==G.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof be&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new up(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new be(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,n=r){let s=e.resolve(r);return new this(s,n==r?s:e.resolve(n))}static between(e,r,n){let s=e.pos-r.pos;if((!n||s)&&(n=s>=0?1:-1),!r.parent.inlineContent){let i=ke.findFrom(r,n,!0)||ke.findFrom(r,-n,!0);if(i)r=i.$head;else return ke.near(r,n)}return e.parent.inlineContent||(s==0?e=r:(e=(ke.findFrom(e,-n,!0)||ke.findFrom(e,n,!0)).$anchor,e.pos<r.pos!=s<0&&(e=r))),new be(e,r)}}ke.jsonID("text",be);class up{constructor(e,r){this.anchor=e,this.head=r}map(e){return new up(e.map(this.anchor),e.map(this.head))}resolve(e){return be.between(e.resolve(this.anchor),e.resolve(this.head))}}class he extends ke{constructor(e){let r=e.nodeAfter,n=e.node(0).resolve(e.pos+r.nodeSize);super(e,n),this.node=r}map(e,r){let{deleted:n,pos:s}=r.mapResult(this.anchor),i=e.resolve(s);return n?ke.near(i):new he(i)}content(){return new G(F.from(this.node),0,0)}eq(e){return e instanceof he&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Tv(this.anchor)}static fromJSON(e,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new he(e.resolve(r.anchor))}static create(e,r){return new he(e.resolve(r))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}he.prototype.visible=!1;ke.jsonID("node",he);class Tv{constructor(e){this.anchor=e}map(e){let{deleted:r,pos:n}=e.mapResult(this.anchor);return r?new up(n,n):new Tv(n)}resolve(e){let r=e.resolve(this.anchor),n=r.nodeAfter;return n&&he.isSelectable(n)?new he(r):ke.near(r)}}class Rn extends ke{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,r=G.empty){if(r==G.empty){e.delete(0,e.doc.content.size);let n=ke.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,r)}toJSON(){return{type:"all"}}static fromJSON(e){return new Rn(e)}map(e){return new Rn(e)}eq(e){return e instanceof Rn}getBookmark(){return mF}}ke.jsonID("all",Rn);const mF={map(){return this},resolve(t){return new Rn(t)}};function pa(t,e,r,n,s,i=!1){if(e.inlineContent)return be.create(t,r);for(let o=n-(s>0?0:1);s>0?o<e.childCount:o>=0;o+=s){let a=e.child(o);if(a.isAtom){if(!i&&he.isSelectable(a))return he.create(t,r-(s<0?a.nodeSize:0))}else{let l=pa(t,a,r+s,s<0?a.childCount:0,s,i);if(l)return l}r+=a.nodeSize*s}return null}function Xb(t,e,r){let n=t.steps.length-1;if(n<e)return;let s=t.steps[n];if(!(s instanceof Ft||s instanceof zt))return;let i=t.mapping.maps[n],o;i.forEach((a,l,c,u)=>{o==null&&(o=u)}),t.setSelection(ke.near(t.doc.resolve(o),r))}const ew=1,Qd=2,tw=4;class gF extends hF{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|ew)&~Qd,this.storedMarks=null,this}get selectionSet(){return(this.updated&ew)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Qd,this}ensureMarks(e){return Ke.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Qd)>0}addStep(e,r){super.addStep(e,r),this.updated=this.updated&~Qd,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,r=!0){let n=this.selection;return r&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Ke.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,r,n){let s=this.doc.type.schema;if(r==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(n==null&&(n=r),n=n??r,!e)return this.deleteRange(r,n);let i=this.storedMarks;if(!i){let o=this.doc.resolve(r);i=n==r?o.marks():o.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,s.text(e,i)),this.selection.empty||this.setSelection(ke.near(this.selection.$to)),this}}setMeta(e,r){return this.meta[typeof e=="string"?e:e.key]=r,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=tw,this}get scrolledIntoView(){return(this.updated&tw)>0}}function rw(t,e){return!e||!t?t:t.bind(e)}class bc{constructor(e,r,n){this.name=e,this.init=rw(r.init,n),this.apply=rw(r.apply,n)}}const yF=[new bc("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new bc("selection",{init(t,e){return t.selection||ke.atStart(e.doc)},apply(t){return t.selection}}),new bc("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,r,n){return n.selection.$cursor?t.storedMarks:null}}),new bc("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Im{constructor(e,r){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=yF.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new bc(n.key,n.spec.state,n))})}}class Pa{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let s=this.config.plugins[n];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let r=[e],n=this.applyInner(e),s=null;for(;;){let i=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=s?s[o].n:0,c=s?s[o].state:this,u=l<r.length&&a.spec.appendTransaction.call(a,l?r.slice(l):r,c,n);if(u&&n.filterTransaction(u,o)){if(u.setMeta("appendedTransaction",e),!s){s=[];for(let d=0;d<this.config.plugins.length;d++)s.push(d<o?{state:n,n:r.length}:{state:this,n:0})}r.push(u),n=n.applyInner(u),i=!0}s&&(s[o]={state:n,n:r.length})}}if(!i)return{state:n,transactions:r}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new Pa(this.config),n=this.config.fields;for(let s=0;s<n.length;s++){let i=n[s];r[i.name]=i.apply(e,this[i.name],this,r)}return r}get tr(){return new gF(this)}static create(e){let r=new Im(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new Pa(r);for(let s=0;s<r.fields.length;s++)n[r.fields[s].name]=r.fields[s].init(e,n);return n}reconfigure(e){let r=new Im(this.schema,e.plugins),n=r.fields,s=new Pa(r);for(let i=0;i<n.length;i++){let o=n[i].name;s[o]=this.hasOwnProperty(o)?this[o]:n[i].init(e,s)}return s}toJSON(e){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[n],i=s.spec.state;i&&i.toJSON&&(r[n]=i.toJSON.call(s,this[s.key]))}return r}static fromJSON(e,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new Im(e.schema,e.plugins),i=new Pa(s);return s.fields.forEach(o=>{if(o.name=="doc")i.doc=jo.fromJSON(e.schema,r.doc);else if(o.name=="selection")i.selection=ke.fromJSON(i.doc,r.selection);else if(o.name=="storedMarks")r.storedMarks&&(i.storedMarks=r.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let a in n){let l=n[a],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(r,a)){i[o.name]=c.fromJSON.call(l,e,r[a],i);return}}i[o.name]=o.init(e,i)}}),i}}function h2(t,e,r){for(let n in t){let s=t[n];s instanceof Function?s=s.bind(e):n=="handleDOMEvents"&&(s=h2(s,e,{})),r[n]=s}return r}class pn{constructor(e){this.spec=e,this.props={},e.props&&h2(e.props,this,this.props),this.key=e.key?e.key.key:p2("plugin")}getState(e){return e[this.key]}}const Rm=Object.create(null);function p2(t){return t in Rm?t+"$"+ ++Rm[t]:(Rm[t]=0,t+"$")}class Ki{constructor(e="key"){this.key=p2(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Wt=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},ju=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Fy=null;const ws=function(t,e,r){let n=Fy||(Fy=document.createRange());return n.setEnd(t,r??t.nodeValue.length),n.setStart(t,e||0),n},vF=function(){Fy=null},Ho=function(t,e,r,n){return r&&(nw(t,e,r,n,-1)||nw(t,e,r,n,1))},xF=/^(img|br|input|textarea|hr)$/i;function nw(t,e,r,n,s){for(;;){if(t==r&&e==n)return!0;if(e==(s<0?0:sn(t))){let i=t.parentNode;if(!i||i.nodeType!=1||sd(t)||xF.test(t.nodeName)||t.contentEditable=="false")return!1;e=Wt(t)+(s<0?0:1),t=i}else if(t.nodeType==1){if(t=t.childNodes[e+(s<0?-1:0)],t.contentEditable=="false")return!1;e=s<0?sn(t):0}else return!1}}function sn(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function bF(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=sn(t)}else if(t.parentNode&&!sd(t))e=Wt(t),t=t.parentNode;else return null}}function wF(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!sd(t))e=Wt(t)+1,t=t.parentNode;else return null}}function SF(t,e,r){for(let n=e==0,s=e==sn(t);n||s;){if(t==r)return!0;let i=Wt(t);if(t=t.parentNode,!t)return!1;n=n&&i==0,s=s&&i==sn(t)}}function sd(t){let e;for(let r=t;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const dp=function(t){return t.focusNode&&Ho(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function no(t,e){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=t,r.key=r.code=e,r}function kF(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function _F(t,e,r){if(t.caretPositionFromPoint)try{let n=t.caretPositionFromPoint(e,r);if(n)return{node:n.offsetNode,offset:Math.min(sn(n.offsetNode),n.offset)}}catch{}if(t.caretRangeFromPoint){let n=t.caretRangeFromPoint(e,r);if(n)return{node:n.startContainer,offset:Math.min(sn(n.startContainer),n.startOffset)}}}const ss=typeof navigator<"u"?navigator:null,sw=typeof document<"u"?document:null,Ji=ss&&ss.userAgent||"",$y=/Edge\/(\d+)/.exec(Ji),m2=/MSIE \d/.exec(Ji),zy=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ji),Tr=!!(m2||zy||$y),Pi=m2?document.documentMode:zy?+zy[1]:$y?+$y[1]:0,Fn=!Tr&&/gecko\/(\d+)/i.test(Ji);Fn&&+(/Firefox\/(\d+)/.exec(Ji)||[0,0])[1];const By=!Tr&&/Chrome\/(\d+)/.exec(Ji),rr=!!By,g2=By?+By[1]:0,mr=!Tr&&!!ss&&/Apple Computer/.test(ss.vendor),Cl=mr&&(/Mobile\/\w+/.test(Ji)||!!ss&&ss.maxTouchPoints>2),Xr=Cl||(ss?/Mac/.test(ss.platform):!1),EF=ss?/Win/.test(ss.platform):!1,On=/Android \d/.test(Ji),id=!!sw&&"webkitFontSmoothing"in sw.documentElement.style,CF=id?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function NF(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function ys(t,e){return typeof t=="number"?t:t[e]}function OF(t){let e=t.getBoundingClientRect(),r=e.width/t.offsetWidth||1,n=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*r,top:e.top,bottom:e.top+t.clientHeight*n}}function iw(t,e,r){let n=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let o=r||t.dom;o;o=ju(o)){if(o.nodeType!=1)continue;let a=o,l=a==i.body,c=l?NF(i):OF(a),u=0,d=0;if(e.top<c.top+ys(n,"top")?d=-(c.top-e.top+ys(s,"top")):e.bottom>c.bottom-ys(n,"bottom")&&(d=e.bottom-e.top>c.bottom-c.top?e.top+ys(s,"top")-c.top:e.bottom-c.bottom+ys(s,"bottom")),e.left<c.left+ys(n,"left")?u=-(c.left-e.left+ys(s,"left")):e.right>c.right-ys(n,"right")&&(u=e.right-c.right+ys(s,"right")),u||d)if(l)i.defaultView.scrollBy(u,d);else{let h=a.scrollLeft,p=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let m=a.scrollLeft-h,y=a.scrollTop-p;e={left:e.left-m,top:e.top-y,right:e.right-m,bottom:e.bottom-y}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(o).position))break}}function jF(t){let e=t.dom.getBoundingClientRect(),r=Math.max(0,e.top),n,s;for(let i=(e.left+e.right)/2,o=r+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=t.root.elementFromPoint(i,o);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=r-20){n=a,s=l.top;break}}return{refDOM:n,refTop:s,stack:y2(t.dom)}}function y2(t){let e=[],r=t.ownerDocument;for(let n=t;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),t!=r);n=ju(n));return e}function TF({refDOM:t,refTop:e,stack:r}){let n=t?t.getBoundingClientRect().top:0;v2(r,n==0?0:n-e)}function v2(t,e){for(let r=0;r<t.length;r++){let{dom:n,top:s,left:i}=t[r];n.scrollTop!=s+e&&(n.scrollTop=s+e),n.scrollLeft!=i&&(n.scrollLeft=i)}}let ca=null;function PF(t){if(t.setActive)return t.setActive();if(ca)return t.focus(ca);let e=y2(t);t.focus(ca==null?{get preventScroll(){return ca={preventScroll:!0},!0}}:void 0),ca||(ca=!1,v2(e,0))}function x2(t,e){let r,n=2e8,s,i=0,o=e.top,a=e.top,l,c;for(let u=t.firstChild,d=0;u;u=u.nextSibling,d++){let h;if(u.nodeType==1)h=u.getClientRects();else if(u.nodeType==3)h=ws(u).getClientRects();else continue;for(let p=0;p<h.length;p++){let m=h[p];if(m.top<=o&&m.bottom>=a){o=Math.max(m.bottom,o),a=Math.min(m.top,a);let y=m.left>e.left?m.left-e.left:m.right<e.left?e.left-m.right:0;if(y<n){r=u,n=y,s=y&&r.nodeType==3?{left:m.right<e.left?m.right:m.left,top:e.top}:e,u.nodeType==1&&y&&(i=d+(e.left>=(m.left+m.right)/2?1:0));continue}}else m.top>e.top&&!l&&m.left<=e.left&&m.right>=e.left&&(l=u,c={left:Math.max(m.left,Math.min(m.right,e.left)),top:m.top});!r&&(e.left>=m.right&&e.top>=m.top||e.left>=m.left&&e.top>=m.bottom)&&(i=d+1)}}return!r&&l&&(r=l,s=c,n=0),r&&r.nodeType==3?MF(r,s):!r||n&&r.nodeType==1?{node:t,offset:i}:x2(r,s)}function MF(t,e){let r=t.nodeValue.length,n=document.createRange();for(let s=0;s<r;s++){n.setEnd(t,s+1),n.setStart(t,s);let i=Zs(n,1);if(i.top!=i.bottom&&Pv(e,i))return{node:t,offset:s+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}function Pv(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function AF(t,e){let r=t.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<t.getBoundingClientRect().left?r:t}function IF(t,e,r){let{node:n,offset:s}=x2(e,r),i=-1;if(n.nodeType==1&&!n.firstChild){let o=n.getBoundingClientRect();i=o.left!=o.right&&r.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(n,s,i)}function RF(t,e,r,n){let s=-1;for(let i=e,o=!1;i!=t.dom;){let a=t.docView.nearestDesc(i,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)){let l=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&(!o&&l.left>n.left||l.top>n.top?s=a.posBefore:(!o&&l.right<n.left||l.bottom<n.top)&&(s=a.posAfter),o=!0),!a.contentDOM&&s<0&&!a.node.isText)return(a.node.isBlock?n.top<(l.top+l.bottom)/2:n.left<(l.left+l.right)/2)?a.posBefore:a.posAfter}i=a.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,r,-1)}function b2(t,e,r){let n=t.childNodes.length;if(n&&r.top<r.bottom)for(let s=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-r.top)/(r.bottom-r.top))-2)),i=s;;){let o=t.childNodes[i];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(Pv(e,c))return b2(o,e,c)}}if((i=(i+1)%n)==s)break}return t}function DF(t,e){let r=t.dom.ownerDocument,n,s=0,i=_F(r,e.left,e.top);i&&({node:n,offset:s}=i);let o=(t.root.elementFromPoint?t.root:r).elementFromPoint(e.left,e.top),a;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=t.dom.getBoundingClientRect();if(!Pv(e,c)||(o=b2(t.dom,e,c),!o))return null}if(mr)for(let c=o;n&&c;c=ju(c))c.draggable&&(n=void 0);if(o=AF(o,e),n){if(Fn&&n.nodeType==1&&(s=Math.min(s,n.childNodes.length),s<n.childNodes.length)){let u=n.childNodes[s],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&s++}let c;id&&s&&n.nodeType==1&&(c=n.childNodes[s-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&s--,n==t.dom&&s==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(s==0||n.nodeType!=1||n.childNodes[s-1].nodeName!="BR")&&(a=RF(t,n,s,e))}a==null&&(a=IF(t,o,e));let l=t.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function ow(t){return t.top<t.bottom||t.left<t.right}function Zs(t,e){let r=t.getClientRects();if(r.length){let n=r[e<0?0:r.length-1];if(ow(n))return n}return Array.prototype.find.call(r,ow)||t.getBoundingClientRect()}const LF=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function w2(t,e,r){let{node:n,offset:s,atom:i}=t.docView.domFromPos(e,r<0?-1:1),o=id||Fn;if(n.nodeType==3)if(o&&(LF.test(n.nodeValue)||(r<0?!s:s==n.nodeValue.length))){let l=Zs(ws(n,s,s),r);if(Fn&&s&&/\s/.test(n.nodeValue[s-1])&&s<n.nodeValue.length){let c=Zs(ws(n,s-1,s-1),-1);if(c.top==l.top){let u=Zs(ws(n,s,s+1),-1);if(u.top!=l.top)return ac(u,u.left<c.left)}}return l}else{let l=s,c=s,u=r<0?1:-1;return r<0&&!s?(c++,u=-1):r>=0&&s==n.nodeValue.length?(l--,u=1):r<0?l--:c++,ac(Zs(ws(n,l,c),u),u<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&s&&(r<0||s==sn(n))){let l=n.childNodes[s-1];if(l.nodeType==1)return Dm(l.getBoundingClientRect(),!1)}if(i==null&&s<sn(n)){let l=n.childNodes[s];if(l.nodeType==1)return Dm(l.getBoundingClientRect(),!0)}return Dm(n.getBoundingClientRect(),r>=0)}if(i==null&&s&&(r<0||s==sn(n))){let l=n.childNodes[s-1],c=l.nodeType==3?ws(l,sn(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return ac(Zs(c,1),!1)}if(i==null&&s<sn(n)){let l=n.childNodes[s];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?ws(l,0,o?0:1):l.nodeType==1?l:null:null;if(c)return ac(Zs(c,-1),!0)}return ac(Zs(n.nodeType==3?ws(n):n,-r),r>=0)}function ac(t,e){if(t.width==0)return t;let r=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:r,right:r}}function Dm(t,e){if(t.height==0)return t;let r=e?t.top:t.bottom;return{top:r,bottom:r,left:t.left,right:t.right}}function S2(t,e,r){let n=t.state,s=t.root.activeElement;n!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return r()}finally{n!=e&&t.updateState(n),s!=t.dom&&s&&s.focus()}}function FF(t,e,r){let n=e.selection,s=r=="up"?n.$from:n.$to;return S2(t,e,()=>{let{node:i}=t.docView.domFromPos(s.pos,r=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(i,!0);if(!a)break;if(a.node.isBlock){i=a.contentDOM||a.dom;break}i=a.dom.parentNode}let o=w2(t,s.pos,1);for(let a=i.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=ws(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(r=="up"?o.top-u.top>(u.bottom-o.top)*2:u.bottom-o.bottom>(o.bottom-u.top)*2))return!1}}return!0})}const $F=/[\u0590-\u08ac]/;function zF(t,e,r){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let s=n.parentOffset,i=!s,o=s==n.parent.content.size,a=t.domSelection();return a?!$F.test(n.parent.textContent)||!a.modify?r=="left"||r=="backward"?i:o:S2(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=t.domSelectionRange(),h=a.caretBidiLevel;a.modify("move",r,"character");let p=n.depth?t.docView.domAfterPos(n.before()):t.dom,{focusNode:m,focusOffset:y}=t.domSelectionRange(),x=m&&!p.contains(m.nodeType==1?m:m.parentNode)||l==m&&c==y;try{a.collapse(u,d),l&&(l!=u||c!=d)&&a.extend&&a.extend(l,c)}catch{}return h!=null&&(a.caretBidiLevel=h),x}):n.pos==n.start()||n.pos==n.end()}let aw=null,lw=null,cw=!1;function BF(t,e,r){return aw==e&&lw==r?cw:(aw=e,lw=r,cw=r=="up"||r=="down"?FF(t,e,r):zF(t,e,r))}const cn=0,uw=1,fo=2,is=3;class od{constructor(e,r,n,s){this.parent=e,this.children=r,this.dom=n,this.contentDOM=s,this.dirty=cn,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,r,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let r=0;r<this.children.length;r++)e+=this.children[r].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let r=0,n=this.posAtStart;;r++){let s=this.children[r];if(s==e)return n;n+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,r,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let i,o;if(e==this.contentDOM)i=e.childNodes[r-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(o)+o.size:this.posAtStart}else{let i,o;if(e==this.contentDOM)i=e.childNodes[r];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(o):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=r>Wt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!1;break}if(i.previousSibling)break}if(s==null&&r==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!0;break}if(i.nextSibling)break}}return s??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,r=!1){for(let n=!0,s=e;s;s=s.parentNode){let i=this.getDesc(s),o;if(i&&(!r||i.node))if(n&&(o=i.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))n=!1;else return i}}getDesc(e){let r=e.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(e,r,n){for(let s=e;s;s=s.parentNode){let i=this.getDesc(s);if(i)return i.localPosFromDOM(e,r,n)}return-1}descAt(e){for(let r=0,n=0;r<this.children.length;r++){let s=this.children[r],i=n+s.size;if(n==e&&i!=n){for(;!s.border&&s.children.length;)s=s.children[0];return s}if(e<i)return s.descAt(e-n-s.border);n=i}}domFromPos(e,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,s=0;for(let i=0;n<this.children.length;n++){let o=this.children[n],a=i+o.size;if(a>e||o instanceof _2){s=e-i;break}i=a}if(s)return this.children[n].domFromPos(s-this.children[n].border,r);for(let i;n&&!(i=this.children[n-1]).size&&i instanceof k2&&i.side>=0;n--);if(r<=0){let i,o=!0;for(;i=n?this.children[n-1]:null,!(!i||i.dom.parentNode==this.contentDOM);n--,o=!1);return i&&r&&o&&!i.border&&!i.domAtom?i.domFromPos(i.size,r):{node:this.contentDOM,offset:i?Wt(i.dom)+1:0}}else{let i,o=!0;for(;i=n<this.children.length?this.children[n]:null,!(!i||i.dom.parentNode==this.contentDOM);n++,o=!1);return i&&o&&!i.border&&!i.domAtom?i.domFromPos(0,r):{node:this.contentDOM,offset:i?Wt(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,i=-1;for(let o=n,a=0;;a++){let l=this.children[a],c=o+l.size;if(s==-1&&e<=c){let u=o+l.border;if(e>=u&&r<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,r,u);e=o;for(let d=a;d>0;d--){let h=this.children[d-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){s=Wt(h.dom)+1;break}e-=h.size}s==-1&&(s=0)}if(s>-1&&(c>r||a==this.children.length-1)){r=c;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){i=Wt(d.dom);break}r+=d.size}i==-1&&(i=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:e,to:r,fromOffset:s,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[e<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(e)}domAfterPos(e){let{node:r,offset:n}=this.domFromPos(e,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+e);return r.childNodes[n]}setSelection(e,r,n,s=!1){let i=Math.min(e,r),o=Math.max(e,r);for(let h=0,p=0;h<this.children.length;h++){let m=this.children[h],y=p+m.size;if(i>p&&o<y)return m.setSelection(e-p-m.border,r-p-m.border,n,s);p=y}let a=this.domFromPos(e,e?-1:1),l=r==e?a:this.domFromPos(r,r?-1:1),c=n.getSelection(),u=!1;if((Fn||mr)&&e==r){let{node:h,offset:p}=a;if(h.nodeType==3){if(u=!!(p&&h.nodeValue[p-1]==`
`),u&&p==h.nodeValue.length)for(let m=h,y;m;m=m.parentNode){if(y=m.nextSibling){y.nodeName=="BR"&&(a=l={node:y.parentNode,offset:Wt(y)+1});break}let x=m.pmViewDesc;if(x&&x.node&&x.node.isBlock)break}}else{let m=h.childNodes[p-1];u=m&&(m.nodeName=="BR"||m.contentEditable=="false")}}if(Fn&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let h=c.focusNode.childNodes[c.focusOffset];h&&h.contentEditable=="false"&&(s=!0)}if(!(s||u&&mr)&&Ho(a.node,a.offset,c.anchorNode,c.anchorOffset)&&Ho(l.node,l.offset,c.focusNode,c.focusOffset))return;let d=!1;if((c.extend||e==r)&&!u){c.collapse(a.node,a.offset);try{e!=r&&c.extend(l.node,l.offset),d=!0}catch{}}if(!d){if(e>r){let p=a;a=l,l=p}let h=document.createRange();h.setEnd(l.node,l.offset),h.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(h)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,r){for(let n=0,s=0;s<this.children.length;s++){let i=this.children[s],o=n+i.size;if(n==o?e<=o&&r>=n:e<o&&r>n){let a=n+i.border,l=o-i.border;if(e>=a&&r<=l){this.dirty=e==n||r==o?fo:uw,e==a&&r==l&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=is:i.markDirty(e-a,r-a);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?fo:is}n=o}this.dirty=fo}markParentsDirty(){let e=1;for(let r=this.parent;r;r=r.parent,e++){let n=e==1?fo:uw;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class k2 extends od{constructor(e,r,n,s){let i,o=r.type.toDOM;if(typeof o=="function"&&(o=o(n,()=>{if(!i)return s;if(i.parent)return i.parent.posBeforeChild(i)})),!r.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=r,this.widget=r,i=this}matchesWidget(e){return this.dirty==cn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let r=this.widget.spec.stopEvent;return r?r(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class VF extends od{constructor(e,r,n,s){super(e,[],r,null),this.textDOM=n,this.text=s}get size(){return this.text.length}localPosFromDOM(e,r){return e!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class qo extends od{constructor(e,r,n,s){super(e,[],n,s),this.mark=r}static create(e,r,n,s){let i=s.nodeViews[r.type.name],o=i&&i(r,s,n);return(!o||!o.dom)&&(o=ta.renderSpec(document,r.type.spec.toDOM(r,n),null,r.attrs)),new qo(e,r,o.dom,o.contentDOM||o.dom)}parseRule(){return this.dirty&is||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=is&&this.mark.eq(e)}markDirty(e,r){if(super.markDirty(e,r),this.dirty!=cn){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=cn}}slice(e,r,n){let s=qo.create(this.parent,this.mark,!0,n),i=this.children,o=this.size;r<o&&(i=Hy(i,r,o,n)),e>0&&(i=Hy(i,0,e,n));for(let a=0;a<i.length;a++)i[a].parent=s;return s.children=i,s}}class Mi extends od{constructor(e,r,n,s,i,o,a,l,c){super(e,[],i,o),this.node=r,this.outerDeco=n,this.innerDeco=s,this.nodeDOM=a}static create(e,r,n,s,i,o){let a=i.nodeViews[r.type.name],l,c=a&&a(r,i,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},n,s),u=c&&c.dom,d=c&&c.contentDOM;if(r.isText){if(!u)u=document.createTextNode(r.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=ta.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!d&&!r.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),r.type.spec.draggable&&(u.draggable=!0));let h=u;return u=N2(u,n,r),c?l=new UF(e,r,n,s,u,d||null,h,c,i,o+1):r.isText?new fp(e,r,n,s,u,h,i):new Mi(e,r,n,s,u,d||null,h,i,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>F.empty)}return e}matchesNode(e,r,n){return this.dirty==cn&&e.eq(this.node)&&Uy(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,r){let n=this.node.inlineContent,s=r,i=e.composing?this.localCompositionInfo(e,r):null,o=i&&i.pos>-1?i:null,a=i&&i.pos<0,l=new qF(this,o&&o.node,e);JF(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,n,e):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?Ke.none:this.node.child(u).marks,n,e),l.placeWidget(c,e,s)},(c,u,d,h)=>{l.syncToMarks(c.marks,n,e);let p;l.findNodeMatch(c,u,d,h)||a&&e.state.selection.from>s&&e.state.selection.to<s+c.nodeSize&&(p=l.findIndexWithChild(i.node))>-1&&l.updateNodeAt(c,u,d,p,e)||l.updateNextNode(c,u,d,e,h,s)||l.addNode(c,u,d,e,s),s+=c.nodeSize}),l.syncToMarks([],n,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==fo)&&(o&&this.protectLocalComposition(e,o),E2(this.contentDOM,this.children,e),Cl&&QF(this.dom))}localCompositionInfo(e,r){let{from:n,to:s}=e.state.selection;if(!(e.state.selection instanceof be)||n<r||s>r+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let o=i.nodeValue,a=ZF(this.node.content,o,n-r,s-r);return a<0?null:{node:i,pos:a,text:o}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:r,pos:n,text:s}){if(this.getDesc(r))return;let i=r;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let o=new VF(this,i,r,s);e.input.compositionNodes.push(o),this.children=Hy(this.children,n,n+s.length,e,o)}update(e,r,n,s){return this.dirty==is||!e.sameMarkup(this.node)?!1:(this.updateInner(e,r,n,s),!0)}updateInner(e,r,n,s){this.updateOuterDeco(r),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=cn}updateOuterDeco(e){if(Uy(e,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=C2(this.dom,this.nodeDOM,Vy(this.outerDeco,this.node,r),Vy(e,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function dw(t,e,r,n,s){N2(n,e,t);let i=new Mi(void 0,t,e,r,n,n,n,s,0);return i.contentDOM&&i.updateChildren(s,0),i}class fp extends Mi{constructor(e,r,n,s,i,o,a){super(e,r,n,s,i,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,r,n,s){return this.dirty==is||this.dirty!=cn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=cn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=cn,!0)}inParent(){let e=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,r,n){return e==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(e,r,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,r,n){let s=this.node.cut(e,r),i=document.createTextNode(s.text);return new fp(this.parent,s,this.outerDeco,this.innerDeco,i,i,n)}markDirty(e,r){super.markDirty(e,r),this.dom!=this.nodeDOM&&(e==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=is)}get domAtom(){return!1}isText(e){return this.node.text==e}}class _2 extends od{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==cn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class UF extends Mi{constructor(e,r,n,s,i,o,a,l,c,u){super(e,r,n,s,i,o,a,c,u),this.spec=l}update(e,r,n,s){if(this.dirty==is)return!1;if(this.spec.update){let i=this.spec.update(e,r,n);return i&&this.updateInner(e,r,n,s),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,r,n,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,r,n,s){this.spec.setSelection?this.spec.setSelection(e,r,n):super.setSelection(e,r,n,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function E2(t,e,r){let n=t.firstChild,s=!1;for(let i=0;i<e.length;i++){let o=e[i],a=o.dom;if(a.parentNode==t){for(;a!=n;)n=fw(n),s=!0;n=n.nextSibling}else s=!0,t.insertBefore(a,n);if(o instanceof qo){let l=n?n.previousSibling:t.lastChild;E2(o.contentDOM,o.children,r),n=l?l.nextSibling:t.firstChild}}for(;n;)n=fw(n),s=!0;s&&r.trackWrites==t&&(r.trackWrites=null)}const Dc=function(t){t&&(this.nodeName=t)};Dc.prototype=Object.create(null);const ho=[new Dc];function Vy(t,e,r){if(t.length==0)return ho;let n=r?ho[0]:new Dc,s=[n];for(let i=0;i<t.length;i++){let o=t[i].type.attrs;if(o){o.nodeName&&s.push(n=new Dc(o.nodeName));for(let a in o){let l=o[a];l!=null&&(r&&s.length==1&&s.push(n=new Dc(e.isInline?"span":"div")),a=="class"?n.class=(n.class?n.class+" ":"")+l:a=="style"?n.style=(n.style?n.style+";":"")+l:a!="nodeName"&&(n[a]=l))}}}return s}function C2(t,e,r,n){if(r==ho&&n==ho)return e;let s=e;for(let i=0;i<n.length;i++){let o=n[i],a=r[i];if(i){let l;a&&a.nodeName==o.nodeName&&s!=t&&(l=s.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(s),a=ho[0]),s=l}HF(s,a||ho[0],o)}return s}function HF(t,e,r){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&t.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=e[n]&&t.setAttribute(n,r[n]);if(e.class!=r.class){let n=e.class?e.class.split(" ").filter(Boolean):[],s=r.class?r.class.split(" ").filter(Boolean):[];for(let i=0;i<n.length;i++)s.indexOf(n[i])==-1&&t.classList.remove(n[i]);for(let i=0;i<s.length;i++)n.indexOf(s[i])==-1&&t.classList.add(s[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=r.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=n.exec(e.style);)t.style.removeProperty(s[1])}r.style&&(t.style.cssText+=r.style)}}function N2(t,e,r){return C2(t,t,ho,Vy(e,r,t.nodeType!=1))}function Uy(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].type.eq(e[r].type))return!1;return!0}function fw(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class qF{constructor(e,r,n){this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=WF(e.node.content,e)}destroyBetween(e,r){if(e!=r){for(let n=e;n<r;n++)this.top.children[n].destroy();this.top.children.splice(e,r-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,r,n){let s=0,i=this.stack.length>>1,o=Math.min(i,e.length);for(;s<o&&(s==i-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<i;)this.destroyRest(),this.top.dirty=cn,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[i])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=qo.create(this.top,e[i],r,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,i++}}findNodeMatch(e,r,n,s){let i=-1,o;if(s>=this.preMatch.index&&(o=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&o.matchesNode(e,r,n))i=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,r,n)&&!this.preMatch.matched.has(c)){i=a;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,r,n,s,i){let o=this.top.children[s];return o.dirty==is&&o.dom==o.contentDOM&&(o.dirty=fo),o.update(e,r,n,i)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let r=e.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==n)return s}return-1}e=r}}updateNextNode(e,r,n,s,i,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof Mi){let c=this.preMatch.matched.get(l);if(c!=null&&c!=i)return!1;let u=l.dom,d,h=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=is&&Uy(r,l.outerDeco));if(!h&&l.update(e,r,n,s))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!h&&(d=this.recreateWrapper(l,e,r,n,s,o)))return this.top.children[this.index]=d,d.contentDOM&&(d.dirty=fo,d.updateChildren(s,o+1),d.dirty=cn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,r,n,s,i,o){if(e.dirty||r.isAtom||!e.children.length||!e.node.content.eq(r.content))return null;let a=Mi.create(this.top,r,n,s,i,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,r,n,s,i){let o=Mi.create(this.top,e,r,n,s,i);o.contentDOM&&o.updateChildren(s,i+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,r,n){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let i=new k2(this.top,e,r,n);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],r=this.top;for(;e instanceof qo;)r=e,e=r.children[r.children.length-1];(!e||!(e instanceof fp)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((mr||rr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(e,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let s=new _2(this.top,[],n,null);r!=this.top?r.children.push(s):r.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function WF(t,e){let r=e,n=r.children.length,s=t.childCount,i=new Map,o=[];e:for(;s>0;){let a;for(;;)if(n){let c=r.children[n-1];if(c instanceof qo)r=c,n=c.children.length;else{a=c,n--;break}}else{if(r==e)break e;n=r.parent.children.indexOf(r),r=r.parent}let l=a.node;if(l){if(l!=t.child(s-1))break;--s,i.set(a,s),o.push(a)}}return{index:s,matched:i,matches:o.reverse()}}function KF(t,e){return t.type.side-e.type.side}function JF(t,e,r,n){let s=e.locals(t),i=0;if(s.length==0){for(let c=0;c<t.childCount;c++){let u=t.child(c);n(u,s,e.forChild(i,u),c),i+=u.nodeSize}return}let o=0,a=[],l=null;for(let c=0;;){let u,d;for(;o<s.length&&s[o].to==i;){let x=s[o++];x.widget&&(u?(d||(d=[u])).push(x):u=x)}if(u)if(d){d.sort(KF);for(let x=0;x<d.length;x++)r(d[x],c,!!l)}else r(u,c,!!l);let h,p;if(l)p=-1,h=l,l=null;else if(c<t.childCount)p=c,h=t.child(c++);else break;for(let x=0;x<a.length;x++)a[x].to<=i&&a.splice(x--,1);for(;o<s.length&&s[o].from<=i&&s[o].to>i;)a.push(s[o++]);let m=i+h.nodeSize;if(h.isText){let x=m;o<s.length&&s[o].from<x&&(x=s[o].from);for(let v=0;v<a.length;v++)a[v].to<x&&(x=a[v].to);x<m&&(l=h.cut(x-i),h=h.cut(0,x-i),m=x,p=-1)}else for(;o<s.length&&s[o].to<m;)o++;let y=h.isInline&&!h.isLeaf?a.filter(x=>!x.inline):a.slice();n(h,y,e.forChild(i,h),p),i=m}}function QF(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function ZF(t,e,r,n){for(let s=0,i=0;s<t.childCount&&i<=n;){let o=t.child(s++),a=i;if(i+=o.nodeSize,!o.isText)continue;let l=o.text;for(;s<t.childCount;){let c=t.child(s++);if(i+=c.nodeSize,!c.isText)break;l+=c.text}if(i>=r){if(i>=n&&l.slice(n-e.length-a,n-a)==e)return n-e.length;let c=a<n?l.lastIndexOf(e,n-a-1):-1;if(c>=0&&c+e.length+a>=r)return a+c;if(r==n&&l.length>=n+e.length-a&&l.slice(n-a,n-a+e.length)==e)return n}}return-1}function Hy(t,e,r,n,s){let i=[];for(let o=0,a=0;o<t.length;o++){let l=t[o],c=a,u=a+=l.size;c>=r||u<=e?i.push(l):(c<e&&i.push(l.slice(0,e-c,n)),s&&(i.push(s),s=void 0),u>r&&i.push(l.slice(r-c,l.size,n)))}return i}function Mv(t,e=null){let r=t.domSelectionRange(),n=t.state.doc;if(!r.focusNode)return null;let s=t.docView.nearestDesc(r.focusNode),i=s&&s.size==0,o=t.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(o<0)return null;let a=n.resolve(o),l,c;if(dp(r)){for(l=a;s&&!s.node;)s=s.parent;let u=s.node;if(s&&u.isAtom&&he.isSelectable(u)&&s.parent&&!(u.isInline&&SF(r.focusNode,r.focusOffset,s.dom))){let d=s.posBefore;c=new he(o==d?a:n.resolve(d))}}else{let u=t.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(u<0)return null;l=n.resolve(u)}if(!c){let u=e=="pointer"||t.state.selection.head<a.pos&&!i?1:-1;c=Av(t,l,a,u)}return c}function O2(t){return t.editable?t.hasFocus():T2(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Os(t,e=!1){let r=t.state.selection;if(j2(t,r),!!O2(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&rr){let n=t.domSelectionRange(),s=t.domObserver.currentSelection;if(n.anchorNode&&s.anchorNode&&Ho(n.anchorNode,n.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)YF(t);else{let{anchor:n,head:s}=r,i,o;hw&&!(r instanceof be)&&(r.$from.parent.inlineContent||(i=pw(t,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(o=pw(t,r.to))),t.docView.setSelection(n,s,t.root,e),hw&&(i&&mw(i),o&&mw(o)),r.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&GF(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const hw=mr||rr&&g2<63;function pw(t,e){let{node:r,offset:n}=t.docView.domFromPos(e,0),s=n<r.childNodes.length?r.childNodes[n]:null,i=n?r.childNodes[n-1]:null;if(mr&&s&&s.contentEditable=="false")return Lm(s);if((!s||s.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(s)return Lm(s);if(i)return Lm(i)}}function Lm(t){return t.contentEditable="true",mr&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function mw(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function GF(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let r=t.domSelectionRange(),n=r.anchorNode,s=r.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!O2(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function YF(t){let e=t.domSelection(),r=document.createRange();if(!e)return;let n=t.cursorWrapper.dom,s=n.nodeName=="IMG";s?r.setStart(n.parentNode,Wt(n)+1):r.setStart(n,0),r.collapse(!0),e.removeAllRanges(),e.addRange(r),!s&&!t.state.selection.visible&&Tr&&Pi<=11&&(n.disabled=!0,n.disabled=!1)}function j2(t,e){if(e instanceof he){let r=t.docView.descAt(e.from);r!=t.lastSelectedViewDesc&&(gw(t),r&&r.selectNode(),t.lastSelectedViewDesc=r)}else gw(t)}function gw(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Av(t,e,r,n){return t.someProp("createSelectionBetween",s=>s(t,e,r))||be.between(e,r,n)}function yw(t){return t.editable&&!t.hasFocus()?!1:T2(t)}function T2(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function XF(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),r=t.domSelectionRange();return Ho(e.node,e.offset,r.anchorNode,r.anchorOffset)}function qy(t,e){let{$anchor:r,$head:n}=t.selection,s=e>0?r.max(n):r.min(n),i=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return i&&ke.findFrom(i,e)}function ei(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function vw(t,e,r){let n=t.state.selection;if(n instanceof be)if(r.indexOf("s")>-1){let{$head:s}=n,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let o=t.state.doc.resolve(s.pos+i.nodeSize*(e<0?-1:1));return ei(t,new be(n.$anchor,o))}else if(n.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=qy(t.state,e);return s&&s instanceof he?ei(t,s):!1}else if(!(Xr&&r.indexOf("m")>-1)){let s=n.$head,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,o;if(!i||i.isText)return!1;let a=e<0?s.pos-i.nodeSize:s.pos;return i.isAtom||(o=t.docView.descAt(a))&&!o.contentDOM?he.isSelectable(i)?ei(t,new he(e<0?t.state.doc.resolve(s.pos-i.nodeSize):s)):id?ei(t,new be(t.state.doc.resolve(e<0?a:a+i.nodeSize))):!1:!1}}else return!1;else{if(n instanceof he&&n.node.isInline)return ei(t,new be(e>0?n.$to:n.$from));{let s=qy(t.state,e);return s?ei(t,s):!1}}}function _h(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Lc(t,e){let r=t.pmViewDesc;return r&&r.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function ua(t,e){return e<0?e$(t):t$(t)}function e$(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let s,i,o=!1;for(Fn&&r.nodeType==1&&n<_h(r)&&Lc(r.childNodes[n],-1)&&(o=!0);;)if(n>0){if(r.nodeType!=1)break;{let a=r.childNodes[n-1];if(Lc(a,-1))s=r,i=--n;else if(a.nodeType==3)r=a,n=r.nodeValue.length;else break}}else{if(P2(r))break;{let a=r.previousSibling;for(;a&&Lc(a,-1);)s=r.parentNode,i=Wt(a),a=a.previousSibling;if(a)r=a,n=_h(r);else{if(r=r.parentNode,r==t.dom)break;n=0}}}o?Wy(t,r,n):s&&Wy(t,s,i)}function t$(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let s=_h(r),i,o;for(;;)if(n<s){if(r.nodeType!=1)break;let a=r.childNodes[n];if(Lc(a,1))i=r,o=++n;else break}else{if(P2(r))break;{let a=r.nextSibling;for(;a&&Lc(a,1);)i=a.parentNode,o=Wt(a)+1,a=a.nextSibling;if(a)r=a,n=0,s=_h(r);else{if(r=r.parentNode,r==t.dom)break;n=s=0}}}i&&Wy(t,i,o)}function P2(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function r$(t,e){for(;t&&e==t.childNodes.length&&!sd(t);)e=Wt(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let r=t.childNodes[e];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=0}}function n$(t,e){for(;t&&!e&&!sd(t);)e=Wt(t),t=t.parentNode;for(;t&&e;){let r=t.childNodes[e-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=t.childNodes.length}}function Wy(t,e,r){if(e.nodeType!=3){let i,o;(o=r$(e,r))?(e=o,r=0):(i=n$(e,r))&&(e=i,r=i.nodeValue.length)}let n=t.domSelection();if(!n)return;if(dp(n)){let i=document.createRange();i.setEnd(e,r),i.setStart(e,r),n.removeAllRanges(),n.addRange(i)}else n.extend&&n.extend(e,r);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&Os(t)},50)}function xw(t,e){let r=t.state.doc.resolve(e);if(!(rr||EF)&&r.parent.inlineContent){let s=t.coordsAtPos(e);if(e>r.start()){let i=t.coordsAtPos(e-1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left<s.left?"ltr":"rtl"}if(e<r.end()){let i=t.coordsAtPos(e+1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function bw(t,e,r){let n=t.state.selection;if(n instanceof be&&!n.empty||r.indexOf("s")>-1||Xr&&r.indexOf("m")>-1)return!1;let{$from:s,$to:i}=n;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=qy(t.state,e);if(o&&o instanceof he)return ei(t,o)}if(!s.parent.inlineContent){let o=e<0?s:i,a=n instanceof Rn?ke.near(o,e):ke.findFrom(o,e);return a?ei(t,a):!1}return!1}function ww(t,e){if(!(t.state.selection instanceof be))return!0;let{$head:r,$anchor:n,empty:s}=t.state.selection;if(!r.sameParent(n))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(i&&!i.isText){let o=t.state.tr;return e<0?o.delete(r.pos-i.nodeSize,r.pos):o.delete(r.pos,r.pos+i.nodeSize),t.dispatch(o),!0}return!1}function Sw(t,e,r){t.domObserver.stop(),e.contentEditable=r,t.domObserver.start()}function s$(t){if(!mr||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:r}=t.domSelectionRange();if(e&&e.nodeType==1&&r==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;Sw(t,n,"true"),setTimeout(()=>Sw(t,n,"false"),20)}return!1}function i$(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function o$(t,e){let r=e.keyCode,n=i$(e);if(r==8||Xr&&r==72&&n=="c")return ww(t,-1)||ua(t,-1);if(r==46&&!e.shiftKey||Xr&&r==68&&n=="c")return ww(t,1)||ua(t,1);if(r==13||r==27)return!0;if(r==37||Xr&&r==66&&n=="c"){let s=r==37?xw(t,t.state.selection.from)=="ltr"?-1:1:-1;return vw(t,s,n)||ua(t,s)}else if(r==39||Xr&&r==70&&n=="c"){let s=r==39?xw(t,t.state.selection.from)=="ltr"?1:-1:1;return vw(t,s,n)||ua(t,s)}else{if(r==38||Xr&&r==80&&n=="c")return bw(t,-1,n)||ua(t,-1);if(r==40||Xr&&r==78&&n=="c")return s$(t)||bw(t,1,n)||ua(t,1);if(n==(Xr?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function M2(t,e){t.someProp("transformCopied",p=>{e=p(e,t)});let r=[],{content:n,openStart:s,openEnd:i}=e;for(;s>1&&i>1&&n.childCount==1&&n.firstChild.childCount==1;){s--,i--;let p=n.firstChild;r.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),n=p.content}let o=t.someProp("clipboardSerializer")||ta.fromSchema(t.state.schema),a=F2(),l=a.createElement("div");l.appendChild(o.serializeFragment(n,{document:a}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=L2[c.nodeName.toLowerCase()]);){for(let p=u.length-1;p>=0;p--){let m=a.createElement(u[p]);for(;l.firstChild;)m.appendChild(l.firstChild);l.appendChild(m),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${s} ${i}${d?` -${d}`:""} ${JSON.stringify(r)}`);let h=t.someProp("clipboardTextSerializer",p=>p(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:h,slice:e}}function A2(t,e,r,n,s){let i=s.parent.type.spec.code,o,a;if(!r&&!e)return null;let l=e&&(n||i||!r);if(l){if(t.someProp("transformPastedText",h=>{e=h(e,i||n,t)}),i)return e?new G(F.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):G.empty;let d=t.someProp("clipboardTextParser",h=>h(e,s,n,t));if(d)a=d;else{let h=s.marks(),{schema:p}=t.state,m=ta.fromSchema(p);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(y=>{let x=o.appendChild(document.createElement("p"));y&&x.appendChild(m.serializeNode(p.text(y,h)))})}}else t.someProp("transformPastedHTML",d=>{r=d(r,t)}),o=u$(r),id&&d$(o);let c=o&&o.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let h=o.firstChild;for(;h&&h.nodeType!=1;)h=h.nextSibling;if(!h)break;o=h}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||Ic.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||u),context:s,ruleFromNode(h){return h.nodeName=="BR"&&!h.nextSibling&&h.parentNode&&!a$.test(h.parentNode.nodeName)?{ignore:!0}:null}})),u)a=f$(kw(a,+u[1],+u[2]),u[4]);else if(a=G.maxOpen(l$(a.content,s),!0),a.openStart||a.openEnd){let d=0,h=0;for(let p=a.content.firstChild;d<a.openStart&&!p.type.spec.isolating;d++,p=p.firstChild);for(let p=a.content.lastChild;h<a.openEnd&&!p.type.spec.isolating;h++,p=p.lastChild);a=kw(a,d,h)}return t.someProp("transformPasted",d=>{a=d(a,t)}),a}const a$=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function l$(t,e){if(t.childCount<2)return t;for(let r=e.depth;r>=0;r--){let s=e.node(r).contentMatchAt(e.index(r)),i,o=[];if(t.forEach(a=>{if(!o)return;let l=s.findWrapping(a.type),c;if(!l)return o=null;if(c=o.length&&i.length&&R2(l,i,a,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=D2(o[o.length-1],i.length));let u=I2(a,l);o.push(u),s=s.matchType(u.type),i=l}}),o)return F.from(o)}return t}function I2(t,e,r=0){for(let n=e.length-1;n>=r;n--)t=e[n].create(null,F.from(t));return t}function R2(t,e,r,n,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let i=R2(t,e,r,n.lastChild,s+1);if(i)return n.copy(n.content.replaceChild(n.childCount-1,i));if(n.contentMatchAt(n.childCount).matchType(s==t.length-1?r.type:t[s+1]))return n.copy(n.content.append(F.from(I2(r,t,s+1))))}}function D2(t,e){if(e==0)return t;let r=t.content.replaceChild(t.childCount-1,D2(t.lastChild,e-1)),n=t.contentMatchAt(t.childCount).fillBefore(F.empty,!0);return t.copy(r.append(n))}function Ky(t,e,r,n,s,i){let o=e<0?t.firstChild:t.lastChild,a=o.content;return t.childCount>1&&(i=0),s<n-1&&(a=Ky(a,e,r,n,s+1,i)),s>=r&&(a=e<0?o.contentMatchAt(0).fillBefore(a,i<=s).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(F.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(a))}function kw(t,e,r){return e<t.openStart&&(t=new G(Ky(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),r<t.openEnd&&(t=new G(Ky(t.content,1,r,t.openEnd,0,0),t.openStart,r)),t}const L2={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let _w=null;function F2(){return _w||(_w=document.implementation.createHTMLDocument("title"))}function c$(t){let e=window.trustedTypes;return e?e.createPolicy("detachedDocument",{createHTML:r=>r}).createHTML(t):t}function u$(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let r=F2().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(t),s;if((s=n&&L2[n[1].toLowerCase()])&&(t=s.map(i=>"<"+i+">").join("")+t+s.map(i=>"</"+i+">").reverse().join("")),r.innerHTML=c$(t),s)for(let i=0;i<s.length;i++)r=r.querySelector(s[i])||r;return r}function d$(t){let e=t.querySelectorAll(rr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<e.length;r++){let n=e[r];n.childNodes.length==1&&n.textContent==" "&&n.parentNode&&n.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),n)}}function f$(t,e){if(!t.size)return t;let r=t.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return t}let{content:s,openStart:i,openEnd:o}=t;for(let a=n.length-2;a>=0;a-=2){let l=r.nodes[n[a]];if(!l||l.hasRequiredAttrs())break;s=F.from(l.create(n[a+1],s)),i++,o++}return new G(s,i,o)}const gr={},yr={},h$={touchstart:!0,touchmove:!0};class p${constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function m$(t){for(let e in gr){let r=gr[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=n=>{y$(t,n)&&!Iv(t,n)&&(t.editable||!(n.type in yr))&&r(t,n)},h$[e]?{passive:!0}:void 0)}mr&&t.dom.addEventListener("input",()=>null),Jy(t)}function Si(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function g$(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Jy(t){t.someProp("handleDOMEvents",e=>{for(let r in e)t.input.eventHandlers[r]||t.dom.addEventListener(r,t.input.eventHandlers[r]=n=>Iv(t,n))})}function Iv(t,e){return t.someProp("handleDOMEvents",r=>{let n=r[e.type];return n?n(t,e)||e.defaultPrevented:!1})}function y$(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target;r!=t.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}function v$(t,e){!Iv(t,e)&&gr[e.type]&&(t.editable||!(e.type in yr))&&gr[e.type](t,e)}yr.keydown=(t,e)=>{let r=e;if(t.input.shiftKey=r.keyCode==16||r.shiftKey,!z2(t,r)&&(t.input.lastKeyCode=r.keyCode,t.input.lastKeyCodeTime=Date.now(),!(On&&rr&&r.keyCode==13)))if(t.domObserver.selectionChanged(t.domSelectionRange())?t.domObserver.flush():r.keyCode!=229&&t.domObserver.forceFlush(),Cl&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();t.input.lastIOSEnter=n,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==n&&(t.someProp("handleKeyDown",s=>s(t,no(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",n=>n(t,r))||o$(t,r)?r.preventDefault():Si(t,"key")};yr.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};yr.keypress=(t,e)=>{let r=e;if(z2(t,r)||!r.charCode||r.ctrlKey&&!r.altKey||Xr&&r.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,r))){r.preventDefault();return}let n=t.state.selection;if(!(n instanceof be)||!n.$from.sameParent(n.$to)){let s=String.fromCharCode(r.charCode);!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",i=>i(t,n.$from.pos,n.$to.pos,s))&&t.dispatch(t.state.tr.insertText(s).scrollIntoView()),r.preventDefault()}};function hp(t){return{left:t.clientX,top:t.clientY}}function x$(t,e){let r=e.x-t.clientX,n=e.y-t.clientY;return r*r+n*n<100}function Rv(t,e,r,n,s){if(n==-1)return!1;let i=t.state.doc.resolve(n);for(let o=i.depth+1;o>0;o--)if(t.someProp(e,a=>o>i.depth?a(t,r,i.nodeAfter,i.before(o),s,!0):a(t,r,i.node(o),i.before(o),s,!1)))return!0;return!1}function Wa(t,e,r){if(t.focused||t.focus(),t.state.selection.eq(e))return;let n=t.state.tr.setSelection(e);n.setMeta("pointer",!0),t.dispatch(n)}function b$(t,e){if(e==-1)return!1;let r=t.state.doc.resolve(e),n=r.nodeAfter;return n&&n.isAtom&&he.isSelectable(n)?(Wa(t,new he(r)),!0):!1}function w$(t,e){if(e==-1)return!1;let r=t.state.selection,n,s;r instanceof he&&(n=r.node);let i=t.state.doc.resolve(e);for(let o=i.depth+1;o>0;o--){let a=o>i.depth?i.nodeAfter:i.node(o);if(he.isSelectable(a)){n&&r.$from.depth>0&&o>=r.$from.depth&&i.before(r.$from.depth+1)==r.$from.pos?s=i.before(r.$from.depth):s=i.before(o);break}}return s!=null?(Wa(t,he.create(t.state.doc,s)),!0):!1}function S$(t,e,r,n,s){return Rv(t,"handleClickOn",e,r,n)||t.someProp("handleClick",i=>i(t,e,n))||(s?w$(t,r):b$(t,r))}function k$(t,e,r,n){return Rv(t,"handleDoubleClickOn",e,r,n)||t.someProp("handleDoubleClick",s=>s(t,e,n))}function _$(t,e,r,n){return Rv(t,"handleTripleClickOn",e,r,n)||t.someProp("handleTripleClick",s=>s(t,e,n))||E$(t,r,n)}function E$(t,e,r){if(r.button!=0)return!1;let n=t.state.doc;if(e==-1)return n.inlineContent?(Wa(t,be.create(n,0,n.content.size)),!0):!1;let s=n.resolve(e);for(let i=s.depth+1;i>0;i--){let o=i>s.depth?s.nodeAfter:s.node(i),a=s.before(i);if(o.inlineContent)Wa(t,be.create(n,a+1,a+1+o.content.size));else if(he.isSelectable(o))Wa(t,he.create(n,a));else continue;return!0}}function Dv(t){return Eh(t)}const $2=Xr?"metaKey":"ctrlKey";gr.mousedown=(t,e)=>{let r=e;t.input.shiftKey=r.shiftKey;let n=Dv(t),s=Date.now(),i="singleClick";s-t.input.lastClick.time<500&&x$(r,t.input.lastClick)&&!r[$2]&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:s,x:r.clientX,y:r.clientY,type:i};let o=t.posAtCoords(hp(r));o&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new C$(t,o,r,!!n)):(i=="doubleClick"?k$:_$)(t,o.pos,o.inside,r)?r.preventDefault():Si(t,"pointer"))};class C${constructor(e,r,n,s){this.view=e,this.pos=r,this.event=n,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[$2],this.allowDefault=n.shiftKey;let i,o;if(r.inside>-1)i=e.state.doc.nodeAt(r.inside),o=r.inside;else{let u=e.state.doc.resolve(r.pos);i=u.parent,o=u.depth?u.before():0}const a=s?null:n.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=e.state;(n.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||c instanceof he&&c.from<=o&&c.to>o)&&(this.mightDrag={node:i,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Fn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Si(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Os(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(hp(e))),this.updateAllowDefault(e),this.allowDefault||!r?Si(this.view,"pointer"):S$(this.view,r.pos,r.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||mr&&this.mightDrag&&!this.mightDrag.node.isAtom||rr&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(Wa(this.view,ke.near(this.view.state.doc.resolve(r.pos))),e.preventDefault()):Si(this.view,"pointer")}move(e){this.updateAllowDefault(e),Si(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}gr.touchstart=t=>{t.input.lastTouch=Date.now(),Dv(t),Si(t,"pointer")};gr.touchmove=t=>{t.input.lastTouch=Date.now(),Si(t,"pointer")};gr.contextmenu=t=>Dv(t);function z2(t,e){return t.composing?!0:mr&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const N$=On?5e3:-1;yr.compositionstart=yr.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,r=e.selection.$to;if(e.selection instanceof be&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||r.marks(),Eh(t,!0),t.markCursor=null;else if(Eh(t,!e.selection.empty),Fn&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=t.domSelectionRange();for(let s=n.focusNode,i=n.focusOffset;s&&s.nodeType==1&&i!=0;){let o=i<0?s.lastChild:s.childNodes[i-1];if(!o)break;if(o.nodeType==3){let a=t.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else s=o,i=-1}}t.input.composing=!0}B2(t,N$)};yr.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,B2(t,20))};function B2(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Eh(t),e))}function V2(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=j$());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function O$(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let r=bF(e.focusNode,e.focusOffset),n=wF(e.focusNode,e.focusOffset);if(r&&n&&r!=n){let s=n.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(r==i||n==i)return i;if(!s||!s.isText(n.nodeValue))return n;if(t.input.compositionNode==n){let o=r.pmViewDesc;if(!(!o||!o.isText(r.nodeValue)))return n}}return r||n}function j$(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Eh(t,e=!1){if(!(On&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),V2(t),e||t.docView&&t.docView.dirty){let r=Mv(t);return r&&!r.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(r)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function T$(t,e){if(!t.dom.parentNode)return;let r=t.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),n.removeAllRanges(),n.addRange(s),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),t.focus()},50)}const Tu=Tr&&Pi<15||Cl&&CF<604;gr.copy=yr.cut=(t,e)=>{let r=e,n=t.state.selection,s=r.type=="cut";if(n.empty)return;let i=Tu?null:r.clipboardData,o=n.content(),{dom:a,text:l}=M2(t,o);i?(r.preventDefault(),i.clearData(),i.setData("text/html",a.innerHTML),i.setData("text/plain",l)):T$(t,a),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function P$(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function M$(t,e){if(!t.dom.parentNode)return;let r=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,n=t.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),n.parentNode&&n.parentNode.removeChild(n),r?Pu(t,n.value,null,s,e):Pu(t,n.textContent,n.innerHTML,s,e)},50)}function Pu(t,e,r,n,s){let i=A2(t,e,r,n,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,s,i||G.empty)))return!0;if(!i)return!1;let o=P$(i),a=o?t.state.tr.replaceSelectionWith(o,n):t.state.tr.replaceSelection(i);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function U2(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let r=t.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}yr.paste=(t,e)=>{let r=e;if(t.composing&&!On)return;let n=Tu?null:r.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;n&&Pu(t,U2(n),n.getData("text/html"),s,r)?r.preventDefault():M$(t,r)};class H2{constructor(e,r,n){this.slice=e,this.move=r,this.node=n}}const q2=Xr?"altKey":"ctrlKey";gr.dragstart=(t,e)=>{let r=e,n=t.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let s=t.state.selection,i=s.empty?null:t.posAtCoords(hp(r)),o;if(!(i&&i.pos>=s.from&&i.pos<=(s instanceof he?s.to-1:s.to))){if(n&&n.mightDrag)o=he.create(t.state.doc,n.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let d=t.docView.nearestDesc(r.target,!0);d&&d.node.type.spec.draggable&&d!=t.docView&&(o=he.create(t.state.doc,d.posBefore))}}let a=(o||t.state.selection).content(),{dom:l,text:c,slice:u}=M2(t,a);(!r.dataTransfer.files.length||!rr||g2>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(Tu?"Text":"text/html",l.innerHTML),r.dataTransfer.effectAllowed="copyMove",Tu||r.dataTransfer.setData("text/plain",c),t.dragging=new H2(u,!r[q2],o)};gr.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};yr.dragover=yr.dragenter=(t,e)=>e.preventDefault();yr.drop=(t,e)=>{let r=e,n=t.dragging;if(t.dragging=null,!r.dataTransfer)return;let s=t.posAtCoords(hp(r));if(!s)return;let i=t.state.doc.resolve(s.pos),o=n&&n.slice;o?t.someProp("transformPasted",m=>{o=m(o,t)}):o=A2(t,U2(r.dataTransfer),Tu?null:r.dataTransfer.getData("text/html"),!1,i);let a=!!(n&&!r[q2]);if(t.someProp("handleDrop",m=>m(t,r,o||G.empty,a))){r.preventDefault();return}if(!o)return;r.preventDefault();let l=o?l2(t.state.doc,i.pos,o):i.pos;l==null&&(l=i.pos);let c=t.state.tr;if(a){let{node:m}=n;m?m.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,h=c.doc;if(d?c.replaceRangeWith(u,u,o.content.firstChild):c.replaceRange(u,u,o),c.doc.eq(h))return;let p=c.doc.resolve(u);if(d&&he.isSelectable(o.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new he(p));else{let m=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((y,x,v,g)=>m=g),c.setSelection(Av(t,p,c.doc.resolve(m)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};gr.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Os(t)},20))};gr.blur=(t,e)=>{let r=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),r.relatedTarget&&t.dom.contains(r.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};gr.beforeinput=(t,e)=>{if(rr&&On&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:n}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=n||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,no(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in yr)gr[t]=yr[t];function Mu(t,e){if(t==e)return!0;for(let r in t)if(t[r]!==e[r])return!1;for(let r in e)if(!(r in t))return!1;return!0}class Ch{constructor(e,r){this.toDOM=e,this.spec=r||To,this.side=this.spec.side||0}map(e,r,n,s){let{pos:i,deleted:o}=e.mapResult(r.from+s,this.side<0?-1:1);return o?null:new an(i-n,i-n,this)}valid(){return!0}eq(e){return this==e||e instanceof Ch&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Mu(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Ai{constructor(e,r){this.attrs=e,this.spec=r||To}map(e,r,n,s){let i=e.map(r.from+s,this.spec.inclusiveStart?-1:1)-n,o=e.map(r.to+s,this.spec.inclusiveEnd?1:-1)-n;return i>=o?null:new an(i,o,this)}valid(e,r){return r.from<r.to}eq(e){return this==e||e instanceof Ai&&Mu(this.attrs,e.attrs)&&Mu(this.spec,e.spec)}static is(e){return e.type instanceof Ai}destroy(){}}class Lv{constructor(e,r){this.attrs=e,this.spec=r||To}map(e,r,n,s){let i=e.mapResult(r.from+s,1);if(i.deleted)return null;let o=e.mapResult(r.to+s,-1);return o.deleted||o.pos<=i.pos?null:new an(i.pos-n,o.pos-n,this)}valid(e,r){let{index:n,offset:s}=e.content.findIndex(r.from),i;return s==r.from&&!(i=e.child(n)).isText&&s+i.nodeSize==r.to}eq(e){return this==e||e instanceof Lv&&Mu(this.attrs,e.attrs)&&Mu(this.spec,e.spec)}destroy(){}}class an{constructor(e,r,n){this.from=e,this.to=r,this.type=n}copy(e,r){return new an(e,r,this.type)}eq(e,r=0){return this.type.eq(e.type)&&this.from+r==e.from&&this.to+r==e.to}map(e,r,n){return this.type.map(e,this,r,n)}static widget(e,r,n){return new an(e,e,new Ch(r,n))}static inline(e,r,n,s){return new an(e,r,new Ai(n,s))}static node(e,r,n,s){return new an(e,r,new Lv(n,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof Ai}get widget(){return this.type instanceof Ch}}const ma=[],To={};class jt{constructor(e,r){this.local=e.length?e:ma,this.children=r.length?r:ma}static create(e,r){return r.length?Nh(r,e,0,To):er}find(e,r,n){let s=[];return this.findInner(e??0,r??1e9,s,0,n),s}findInner(e,r,n,s,i){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=r&&a.to>=e&&(!i||i(a.spec))&&n.push(a.copy(a.from+s,a.to+s))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<r&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,r-a,n,s+a,i)}}map(e,r,n){return this==er||e.maps.length==0?this:this.mapInner(e,r,0,0,n||To)}mapInner(e,r,n,s,i){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,n,s);l&&l.type.valid(r,l)?(o||(o=[])).push(l):i.onRemove&&i.onRemove(this.local[a].spec)}return this.children.length?A$(this.children,o||[],e,r,n,s,i):o?new jt(o.sort(Po),ma):er}add(e,r){return r.length?this==er?jt.create(e,r):this.addInner(e,r,0):this}addInner(e,r,n){let s,i=0;e.forEach((a,l)=>{let c=l+n,u;if(u=K2(r,a,c)){for(s||(s=this.children.slice());i<s.length&&s[i]<l;)i+=3;s[i]==l?s[i+2]=s[i+2].addInner(a,u,c+1):s.splice(i,0,l,l+a.nodeSize,Nh(u,a,c+1,To)),i+=3}});let o=W2(i?J2(r):r,-n);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new jt(o.length?this.local.concat(o).sort(Po):this.local,s||this.children)}remove(e){return e.length==0||this==er?this:this.removeInner(e,0)}removeInner(e,r){let n=this.children,s=this.local;for(let i=0;i<n.length;i+=3){let o,a=n[i]+r,l=n[i+1]+r;for(let u=0,d;u<e.length;u++)(d=e[u])&&d.from>a&&d.to<l&&(e[u]=null,(o||(o=[])).push(d));if(!o)continue;n==this.children&&(n=this.children.slice());let c=n[i+2].removeInner(o,a+1);c!=er?n[i+2]=c:(n.splice(i,3),i-=3)}if(s.length){for(let i=0,o;i<e.length;i++)if(o=e[i])for(let a=0;a<s.length;a++)s[a].eq(o,r)&&(s==this.local&&(s=this.local.slice()),s.splice(a--,1))}return n==this.children&&s==this.local?this:s.length||n.length?new jt(s,n):er}forChild(e,r){if(this==er)return this;if(r.isLeaf)return jt.empty;let n,s;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(n=this.children[a+2]);break}let i=e+1,o=i+r.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>i&&l.type instanceof Ai){let c=Math.max(i,l.from)-i,u=Math.min(o,l.to)-i;c<u&&(s||(s=[])).push(l.copy(c,u))}}if(s){let a=new jt(s.sort(Po),ma);return n?new li([a,n]):a}return n||er}eq(e){if(this==e)return!0;if(!(e instanceof jt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(e.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0}locals(e){return Fv(this.localsInner(e))}localsInner(e){if(this==er)return ma;if(e.inlineContent||!this.local.some(Ai.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof Ai||r.push(this.local[n]);return r}forEachSet(e){e(this)}}jt.empty=new jt([],[]);jt.removeOverlap=Fv;const er=jt.empty;class li{constructor(e){this.members=e}map(e,r){const n=this.members.map(s=>s.map(e,r,To));return li.from(n)}forChild(e,r){if(r.isLeaf)return jt.empty;let n=[];for(let s=0;s<this.members.length;s++){let i=this.members[s].forChild(e,r);i!=er&&(i instanceof li?n=n.concat(i.members):n.push(i))}return li.from(n)}eq(e){if(!(e instanceof li)||e.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(e.members[r]))return!1;return!0}locals(e){let r,n=!0;for(let s=0;s<this.members.length;s++){let i=this.members[s].localsInner(e);if(i.length)if(!r)r=i;else{n&&(r=r.slice(),n=!1);for(let o=0;o<i.length;o++)r.push(i[o])}}return r?Fv(n?r:r.sort(Po)):ma}static from(e){switch(e.length){case 0:return er;case 1:return e[0];default:return new li(e.every(r=>r instanceof jt)?e:e.reduce((r,n)=>r.concat(n instanceof jt?n:n.members),[]))}}forEachSet(e){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(e)}}function A$(t,e,r,n,s,i,o){let a=t.slice();for(let c=0,u=i;c<r.maps.length;c++){let d=0;r.maps[c].forEach((h,p,m,y)=>{let x=y-m-(p-h);for(let v=0;v<a.length;v+=3){let g=a[v+1];if(g<0||h>g+u-d)continue;let b=a[v]+u-d;p>=b?a[v+1]=h<=b?-2:-1:h>=u&&x&&(a[v]+=x,a[v+1]+=x)}d+=x}),u=r.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=r.map(t[c]+i),d=u-s;if(d<0||d>=n.content.size){l=!0;continue}let h=r.map(t[c+1]+i,-1),p=h-s,{index:m,offset:y}=n.content.findIndex(d),x=n.maybeChild(m);if(x&&y==d&&y+x.nodeSize==p){let v=a[c+2].mapInner(r,x,u+1,t[c]+i+1,o);v!=er?(a[c]=d,a[c+1]=p,a[c+2]=v):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=I$(a,t,e,r,s,i,o),u=Nh(c,n,0,o);e=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,h=0;d<u.children.length;d+=3){let p=u.children[d];for(;h<a.length&&a[h]<p;)h+=3;a.splice(h,0,u.children[d],u.children[d+1],u.children[d+2])}}return new jt(e.sort(Po),a)}function W2(t,e){if(!e||!t.length)return t;let r=[];for(let n=0;n<t.length;n++){let s=t[n];r.push(new an(s.from+e,s.to+e,s.type))}return r}function I$(t,e,r,n,s,i,o){function a(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(n,s,c);d?r.push(d):o.onRemove&&o.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+i+1);return r}function K2(t,e,r){if(e.isLeaf)return null;let n=r+e.nodeSize,s=null;for(let i=0,o;i<t.length;i++)(o=t[i])&&o.from>r&&o.to<n&&((s||(s=[])).push(o),t[i]=null);return s}function J2(t){let e=[];for(let r=0;r<t.length;r++)t[r]!=null&&e.push(t[r]);return e}function Nh(t,e,r,n){let s=[],i=!1;e.forEach((a,l)=>{let c=K2(t,a,l+r);if(c){i=!0;let u=Nh(c,a,r+l+1,n);u!=er&&s.push(l,l+a.nodeSize,u)}});let o=W2(i?J2(t):t,-r).sort(Po);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(n.onRemove&&n.onRemove(o[a].spec),o.splice(a--,1));return o.length||s.length?new jt(o,s):er}function Po(t,e){return t.from-e.from||t.to-e.to}function Fv(t){let e=t;for(let r=0;r<e.length-1;r++){let n=e[r];if(n.from!=n.to)for(let s=r+1;s<e.length;s++){let i=e[s];if(i.from==n.from){i.to!=n.to&&(e==t&&(e=t.slice()),e[s]=i.copy(i.from,n.to),Ew(e,s+1,i.copy(n.to,i.to)));continue}else{i.from<n.to&&(e==t&&(e=t.slice()),e[r]=n.copy(n.from,i.from),Ew(e,s,n.copy(i.from,n.to)));break}}}return e}function Ew(t,e,r){for(;e<t.length&&Po(r,t[e])>0;)e++;t.splice(e,0,r)}function Fm(t){let e=[];return t.someProp("decorations",r=>{let n=r(t.state);n&&n!=er&&e.push(n)}),t.cursorWrapper&&e.push(jt.create(t.state.doc,[t.cursorWrapper.deco])),li.from(e)}const R$={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},D$=Tr&&Pi<=11;class L${constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class F${constructor(e,r){this.view=e,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new L$,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let s=0;s<n.length;s++)this.queue.push(n[s]);Tr&&Pi<=11&&n.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),D$&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,R$)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let r=0;r<e.length;r++)this.queue.push(e[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(yw(this.view)){if(this.suppressingSelectionUpdates)return Os(this.view);if(Tr&&Pi<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Ho(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let r=new Set,n;for(let i=e.focusNode;i;i=ju(i))r.add(i);for(let i=e.anchorNode;i;i=ju(i))if(r.has(i)){n=i;break}let s=n&&this.view.docView.nearestDesc(n);if(s&&s.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}selectionChanged(e){return!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&yw(this.view)&&!this.ignoreSelectionChange(e)}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let n=e.domSelectionRange(),s=this.selectionChanged(n),i=-1,o=-1,a=!1,l=[];if(e.editable)for(let u=0;u<r.length;u++){let d=this.registerMutation(r[u],l);d&&(i=i<0?d.from:Math.min(d.from,i),o=o<0?d.to:Math.max(d.to,o),d.typeOver&&(a=!0))}if(Fn&&l.length){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,h]=u;d.parentNode&&d.parentNode.parentNode==h.parentNode?h.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let h of u){let p=h.parentNode;p&&p.nodeName=="LI"&&(!d||B$(e,d)!=p)&&h.remove()}}}let c=null;i<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&dp(n)&&(c=Mv(e))&&c.eq(ke.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Os(e),this.currentSelection.set(n),e.scrollToSelection()):(i>-1||s)&&(i>-1&&(e.docView.markDirty(i,o),$$(e)),this.handleDOMChange(i,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||Os(e),this.currentSelection.set(n))}registerMutation(e,r){if(r.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let d=e.addedNodes[u];r.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let s=e.previousSibling,i=e.nextSibling;if(Tr&&Pi<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:d,nextSibling:h}=e.addedNodes[u];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(s=d),(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(i=h)}let o=s&&s.parentNode==e.target?Wt(s)+1:0,a=n.localPosFromDOM(e.target,o,-1),l=i&&i.parentNode==e.target?Wt(i):e.target.childNodes.length,c=n.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Cw=new WeakMap,Nw=!1;function $$(t){if(!Cw.has(t)&&(Cw.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Fn,Nw)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Nw=!0}}function Ow(t,e){let r=e.startContainer,n=e.startOffset,s=e.endContainer,i=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return Ho(o.node,o.offset,s,i)&&([r,n,s,i]=[s,i,r,n]),{anchorNode:r,anchorOffset:n,focusNode:s,focusOffset:i}}function z$(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return Ow(t,s)}let r;function n(s){s.preventDefault(),s.stopImmediatePropagation(),r=s.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0),r?Ow(t,r):null}function B$(t,e){for(let r=e.parentNode;r&&r!=t.dom;r=r.parentNode){let n=t.docView.nearestDesc(r,!0);if(n&&n.node.isBlock)return r}return null}function V$(t,e,r){let{node:n,fromOffset:s,toOffset:i,from:o,to:a}=t.docView.parseRange(e,r),l=t.domSelectionRange(),c,u=l.anchorNode;if(u&&t.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],dp(l)||c.push({node:l.focusNode,offset:l.focusOffset})),rr&&t.input.lastKeyCode===8)for(let x=i;x>s;x--){let v=n.childNodes[x-1],g=v.pmViewDesc;if(v.nodeName=="BR"&&!g){i=x;break}if(!g||g.size)break}let d=t.state.doc,h=t.someProp("domParser")||Ic.fromSchema(t.state.schema),p=d.resolve(o),m=null,y=h.parse(n,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:s,to:i,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:U$,context:p});if(c&&c[0].pos!=null){let x=c[0].pos,v=c[1]&&c[1].pos;v==null&&(v=x),m={anchor:x+o,head:v+o}}return{doc:y,sel:m,from:o,to:a}}function U$(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(mr&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(t.parentNode.lastChild==t||mr&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const H$=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function q$(t,e,r,n,s){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let P=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,L=Mv(t,P);if(L&&!t.state.selection.eq(L)){if(rr&&On&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",H=>H(t,no(13,"Enter"))))return;let R=t.state.tr.setSelection(L);P=="pointer"?R.setMeta("pointer",!0):P=="key"&&R.scrollIntoView(),i&&R.setMeta("composition",i),t.dispatch(R)}return}let o=t.state.doc.resolve(e),a=o.sharedDepth(r);e=o.before(a+1),r=t.state.doc.resolve(r).after(a+1);let l=t.state.selection,c=V$(t,e,r),u=t.state.doc,d=u.slice(c.from,c.to),h,p;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(h=t.state.selection.to,p="end"):(h=t.state.selection.from,p="start"),t.input.lastKeyCode=null;let m=J$(d.content,c.doc.content,c.from,h,p);if(m&&t.input.domChangeCount++,(Cl&&t.input.lastIOSEnter>Date.now()-225||On)&&s.some(P=>P.nodeType==1&&!H$.test(P.nodeName))&&(!m||m.endA>=m.endB)&&t.someProp("handleKeyDown",P=>P(t,no(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!m)if(n&&l instanceof be&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))m={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let P=jw(t,t.state.doc,c.sel);if(P&&!P.eq(t.state.selection)){let L=t.state.tr.setSelection(P);i&&L.setMeta("composition",i),t.dispatch(L)}}return}t.state.selection.from<t.state.selection.to&&m.start==m.endB&&t.state.selection instanceof be&&(m.start>t.state.selection.from&&m.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?m.start=t.state.selection.from:m.endA<t.state.selection.to&&m.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(m.endB+=t.state.selection.to-m.endA,m.endA=t.state.selection.to)),Tr&&Pi<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>c.from&&c.doc.textBetween(m.start-c.from-1,m.start-c.from+1)=="  "&&(m.start--,m.endA--,m.endB--);let y=c.doc.resolveNoCache(m.start-c.from),x=c.doc.resolveNoCache(m.endB-c.from),v=u.resolve(m.start),g=y.sameParent(x)&&y.parent.inlineContent&&v.end()>=m.endA,b;if((Cl&&t.input.lastIOSEnter>Date.now()-225&&(!g||s.some(P=>P.nodeName=="DIV"||P.nodeName=="P"))||!g&&y.pos<c.doc.content.size&&!y.sameParent(x)&&(b=ke.findFrom(c.doc.resolve(y.pos+1),1,!0))&&b.head==x.pos)&&t.someProp("handleKeyDown",P=>P(t,no(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>m.start&&K$(u,m.start,m.endA,y,x)&&t.someProp("handleKeyDown",P=>P(t,no(8,"Backspace")))){On&&rr&&t.domObserver.suppressSelectionUpdates();return}rr&&On&&m.endB==m.start&&(t.input.lastAndroidDelete=Date.now()),On&&!g&&y.start()!=x.start()&&x.parentOffset==0&&y.depth==x.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==m.endA&&(m.endB-=2,x=c.doc.resolveNoCache(m.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(P){return P(t,no(13,"Enter"))})},20));let S=m.start,j=m.endA,N,T,w;if(g){if(y.pos==x.pos)Tr&&Pi<=11&&y.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Os(t),20)),N=t.state.tr.delete(S,j),T=u.resolve(m.start).marksAcross(u.resolve(m.endA));else if(m.endA==m.endB&&(w=W$(y.parent.content.cut(y.parentOffset,x.parentOffset),v.parent.content.cut(v.parentOffset,m.endA-v.start()))))N=t.state.tr,w.type=="add"?N.addMark(S,j,w.mark):N.removeMark(S,j,w.mark);else if(y.parent.child(y.index()).isText&&y.index()==x.index()-(x.textOffset?0:1)){let P=y.parent.textBetween(y.parentOffset,x.parentOffset);if(t.someProp("handleTextInput",L=>L(t,S,j,P)))return;N=t.state.tr.insertText(P,S,j)}}if(N||(N=t.state.tr.replace(S,j,c.doc.slice(m.start-c.from,m.endB-c.from))),c.sel){let P=jw(t,N.doc,c.sel);P&&!(rr&&On&&t.composing&&P.empty&&(m.start!=m.endB||t.input.lastAndroidDelete<Date.now()-100)&&(P.head==S||P.head==N.mapping.map(j)-1)||Tr&&P.empty&&P.head==S)&&N.setSelection(P)}T&&N.ensureMarks(T),i&&N.setMeta("composition",i),t.dispatch(N.scrollIntoView())}function jw(t,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:Av(t,e.resolve(r.anchor),e.resolve(r.head))}function W$(t,e){let r=t.firstChild.marks,n=e.firstChild.marks,s=r,i=n,o,a,l;for(let u=0;u<n.length;u++)s=n[u].removeFromSet(s);for(let u=0;u<r.length;u++)i=r[u].removeFromSet(i);if(s.length==1&&i.length==0)a=s[0],o="add",l=u=>u.mark(a.addToSet(u.marks));else if(s.length==0&&i.length==1)a=i[0],o="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if(F.from(c).eq(t))return{mark:a,type:o}}function K$(t,e,r,n,s){if(r-e<=s.pos-n.pos||$m(n,!0,!1)<s.pos)return!1;let i=t.resolve(e);if(!n.parent.isTextblock){let a=i.nodeAfter;return a!=null&&r==e+a.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let o=t.resolve($m(i,!0,!0));return!o.parent.isTextblock||o.pos>r||$m(o,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(o.parent.content)}function $m(t,e,r){let n=t.depth,s=e?t.end():t.pos;for(;n>0&&(e||t.indexAfter(n)==t.node(n).childCount);)n--,s++,e=!1;if(r){let i=t.node(n).maybeChild(t.indexAfter(n));for(;i&&!i.isLeaf;)i=i.firstChild,s++}return s}function J$(t,e,r,n,s){let i=t.findDiffStart(e,r);if(i==null)return null;let{a:o,b:a}=t.findDiffEnd(e,r+t.size,r+e.size);if(s=="end"){let l=Math.max(0,i-Math.min(o,a));n-=o+l-i}if(o<i&&t.size<e.size){let l=n<=i&&n>=o?i-n:0;i-=l,i&&i<e.size&&Tw(e.textBetween(i-1,i+1))&&(i+=l?1:-1),a=i+(a-o),o=i}else if(a<i){let l=n<=i&&n>=a?i-n:0;i-=l,i&&i<t.size&&Tw(t.textBetween(i-1,i+1))&&(i+=l?1:-1),o=i+(o-a),a=i}return{start:i,endA:o,endB:a}}function Tw(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),r=t.charCodeAt(1);return e>=56320&&e<=57343&&r>=55296&&r<=56319}class Q${constructor(e,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new p$,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(Rw),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Aw(this),Mw(this),this.nodeViews=Iw(this),this.docView=dw(this.state.doc,Pw(this),Fm(this),this.dom,this),this.domObserver=new F$(this,(n,s,i,o)=>q$(this,n,s,i,o)),this.domObserver.start(),m$(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let r in e)this._props[r]=e[r];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Jy(this);let r=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Rw),this.directPlugins=e.plugins),this.updateStateInner(e.state,r)}setProps(e){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in e)r[n]=e[n];this.update(r)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,r){var n;let s=this.state,i=!1,o=!1;e.storedMarks&&this.composing&&(V2(this),o=!0),this.state=e;let a=s.plugins!=e.plugins||this._props.plugins!=r.plugins;if(a||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let p=Iw(this);G$(p,this.nodeViews)&&(this.nodeViews=p,i=!0)}(a||r.handleDOMEvents!=this._props.handleDOMEvents)&&Jy(this),this.editable=Aw(this),Mw(this);let l=Fm(this),c=Pw(this),u=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",d=i||!this.docView.matchesNode(e.doc,c,l);(d||!e.selection.eq(s.selection))&&(o=!0);let h=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&jF(this);if(o){this.domObserver.stop();let p=d&&(Tr||rr)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&Z$(s.selection,e.selection);if(d){let m=rr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=O$(this)),(i||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=dw(e.doc,c,l,this.dom,this)),m&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&XF(this))?Os(this,p):(j2(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((n=this.dragging)===null||n===void 0)&&n.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():h&&TF(h)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof he){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&iw(this,r.getBoundingClientRect(),e)}else iw(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,e)}}updateDraggedNode(e,r){let n=e.node,s=-1;if(this.state.doc.nodeAt(n.from)==n.node)s=n.from;else{let i=n.from+(this.state.doc.content.size-r.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==n.node&&(s=i)}this.dragging=new H2(e.slice,e.move,s<0?void 0:he.create(this.state.doc,s))}someProp(e,r){let n=this._props&&this._props[e],s;if(n!=null&&(s=r?r(n):n))return s;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(s=r?r(a):a))return s}let i=this.state.plugins;if(i)for(let o=0;o<i.length;o++){let a=i[o].props[e];if(a!=null&&(s=r?r(a):a))return s}}hasFocus(){if(Tr){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&PF(this.dom),Os(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return e||document}updateRoot(){this._root=null}posAtCoords(e){return DF(this,e)}coordsAtPos(e,r=1){return w2(this,e,r)}domAtPos(e,r=0){return this.docView.domFromPos(e,r)}nodeDOM(e){let r=this.docView.descAt(e);return r?r.nodeDOM:null}posAtDOM(e,r,n=-1){let s=this.docView.posFromDOM(e,r,n);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,r){return BF(this,r||this.state,e)}pasteHTML(e,r){return Pu(this,"",e,!1,r||new ClipboardEvent("paste"))}pasteText(e,r){return Pu(this,e,null,!0,r||new ClipboardEvent("paste"))}destroy(){this.docView&&(g$(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Fm(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,vF())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return v$(this,e)}dispatch(e){let r=this._props.dispatchTransaction;r?r.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?mr&&this.root.nodeType===11&&kF(this.dom.ownerDocument)==this.dom&&z$(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function Pw(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(t.state)),r)for(let n in r)n=="class"?e.class+=" "+r[n]:n=="style"?e.style=(e.style?e.style+";":"")+r[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(r[n]))}),e.translate||(e.translate="no"),[an.node(0,t.state.doc.content.size,e)]}function Mw(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:an.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Aw(t){return!t.someProp("editable",e=>e(t.state)===!1)}function Z$(t,e){let r=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(r)!=e.$anchor.start(r)}function Iw(t){let e=Object.create(null);function r(n){for(let s in n)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=n[s])}return t.someProp("nodeViews",r),t.someProp("markViews",r),e}function G$(t,e){let r=0,n=0;for(let s in t){if(t[s]!=e[s])return!0;r++}for(let s in e)n++;return r!=n}function Rw(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var zi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Oh={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Y$=typeof navigator<"u"&&/Mac/.test(navigator.platform),X$=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Kt=0;Kt<10;Kt++)zi[48+Kt]=zi[96+Kt]=String(Kt);for(var Kt=1;Kt<=24;Kt++)zi[Kt+111]="F"+Kt;for(var Kt=65;Kt<=90;Kt++)zi[Kt]=String.fromCharCode(Kt+32),Oh[Kt]=String.fromCharCode(Kt);for(var zm in zi)Oh.hasOwnProperty(zm)||(Oh[zm]=zi[zm]);function e8(t){var e=Y$&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||X$&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?Oh:zi)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}const t8=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function r8(t){let e=t.split(/-(?!$)/),r=e[e.length-1];r=="Space"&&(r=" ");let n,s,i,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))s=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))t8?o=!0:s=!0;else throw new Error("Unrecognized modifier name: "+l)}return n&&(r="Alt-"+r),s&&(r="Ctrl-"+r),o&&(r="Meta-"+r),i&&(r="Shift-"+r),r}function n8(t){let e=Object.create(null);for(let r in t)e[r8(r)]=t[r];return e}function Bm(t,e,r=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r&&e.shiftKey&&(t="Shift-"+t),t}function s8(t){return new pn({props:{handleKeyDown:Q2(t)}})}function Q2(t){let e=n8(t);return function(r,n){let s=e8(n),i,o=e[Bm(s,n)];if(o&&o(r.state,r.dispatch,r))return!0;if(s.length==1&&s!=" "){if(n.shiftKey){let a=e[Bm(s,n,!1)];if(a&&a(r.state,r.dispatch,r))return!0}if((n.shiftKey||n.altKey||n.metaKey||s.charCodeAt(0)>127)&&(i=zi[n.keyCode])&&i!=s){let a=e[Bm(i,n)];if(a&&a(r.state,r.dispatch,r))return!0}}return!1}}const i8=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function Z2(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("backward",t):r.parentOffset>0)?null:r}const o8=(t,e,r)=>{let n=Z2(t,r);if(!n)return!1;let s=$v(n);if(!s){let o=n.blockRange(),a=o&&Dl(o);return a==null?!1:(e&&e(t.tr.lift(o,a).scrollIntoView()),!0)}let i=s.nodeBefore;if(eN(t,s,e,-1))return!0;if(n.parent.content.size==0&&(Nl(i,"end")||he.isSelectable(i)))for(let o=n.depth;;o--){let a=cp(t.doc,n.before(o),n.after(o),G.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(Nl(i,"end")?ke.findFrom(l.doc.resolve(l.mapping.map(s.pos,-1)),-1):he.create(l.doc,s.pos-i.nodeSize)),e(l.scrollIntoView())}return!0}if(o==1||n.node(o-1).childCount>1)break}return i.isAtom&&s.depth==n.depth-1?(e&&e(t.tr.delete(s.pos-i.nodeSize,s.pos).scrollIntoView()),!0):!1},a8=(t,e,r)=>{let n=Z2(t,r);if(!n)return!1;let s=$v(n);return s?G2(t,s,e):!1},l8=(t,e,r)=>{let n=Y2(t,r);if(!n)return!1;let s=zv(n);return s?G2(t,s,e):!1};function G2(t,e,r){let n=e.nodeBefore,s=n,i=e.pos-1;for(;!s.isTextblock;i--){if(s.type.spec.isolating)return!1;let u=s.lastChild;if(!u)return!1;s=u}let o=e.nodeAfter,a=o,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let c=cp(t.doc,i,l,G.empty);if(!c||c.from!=i||c instanceof Ft&&c.slice.size>=l-i)return!1;if(r){let u=t.tr.step(c);u.setSelection(be.create(u.doc,i)),r(u.scrollIntoView())}return!0}function Nl(t,e,r=!1){for(let n=t;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}const c8=(t,e,r)=>{let{$head:n,empty:s}=t.selection,i=n;if(!s)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):n.parentOffset>0)return!1;i=$v(n)}let o=i&&i.nodeBefore;return!o||!he.isSelectable(o)?!1:(e&&e(t.tr.setSelection(he.create(t.doc,i.pos-o.nodeSize)).scrollIntoView()),!0)};function $v(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function Y2(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)?null:r}const u8=(t,e,r)=>{let n=Y2(t,r);if(!n)return!1;let s=zv(n);if(!s)return!1;let i=s.nodeAfter;if(eN(t,s,e,1))return!0;if(n.parent.content.size==0&&(Nl(i,"start")||he.isSelectable(i))){let o=cp(t.doc,n.before(),n.after(),G.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=t.tr.step(o);a.setSelection(Nl(i,"start")?ke.findFrom(a.doc.resolve(a.mapping.map(s.pos)),1):he.create(a.doc,a.mapping.map(s.pos))),e(a.scrollIntoView())}return!0}}return i.isAtom&&s.depth==n.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+i.nodeSize).scrollIntoView()),!0):!1},d8=(t,e,r)=>{let{$head:n,empty:s}=t.selection,i=n;if(!s)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)return!1;i=zv(n)}let o=i&&i.nodeAfter;return!o||!he.isSelectable(o)?!1:(e&&e(t.tr.setSelection(he.create(t.doc,i.pos)).scrollIntoView()),!0)};function zv(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let r=t.node(e);if(t.index(e)+1<r.childCount)return t.doc.resolve(t.after(e+1));if(r.type.spec.isolating)break}return null}const f8=(t,e)=>{let r=t.selection,n=r instanceof he,s;if(n){if(r.node.isTextblock||!Wi(t.doc,r.from))return!1;s=r.from}else if(s=lp(t.doc,r.from,-1),s==null)return!1;if(e){let i=t.tr.join(s);n&&i.setSelection(he.create(i.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},h8=(t,e)=>{let r=t.selection,n;if(r instanceof he){if(r.node.isTextblock||!Wi(t.doc,r.to))return!1;n=r.to}else if(n=lp(t.doc,r.to,1),n==null)return!1;return e&&e(t.tr.join(n).scrollIntoView()),!0},p8=(t,e)=>{let{$from:r,$to:n}=t.selection,s=r.blockRange(n),i=s&&Dl(s);return i==null?!1:(e&&e(t.tr.lift(s,i).scrollIntoView()),!0)},m8=(t,e)=>{let{$head:r,$anchor:n}=t.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function X2(t){for(let e=0;e<t.edgeCount;e++){let{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const g8=(t,e)=>{let{$head:r,$anchor:n}=t.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let s=r.node(-1),i=r.indexAfter(-1),o=X2(s.contentMatchAt(i));if(!o||!s.canReplaceWith(i,i,o))return!1;if(e){let a=r.after(),l=t.tr.replaceWith(a,a,o.createAndFill());l.setSelection(ke.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},y8=(t,e)=>{let r=t.selection,{$from:n,$to:s}=r;if(r instanceof Rn||n.parent.inlineContent||s.parent.inlineContent)return!1;let i=X2(s.parent.contentMatchAt(s.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let o=(!n.parentOffset&&s.index()<s.parent.childCount?n:s).pos,a=t.tr.insert(o,i.createAndFill());a.setSelection(be.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},v8=(t,e)=>{let{$cursor:r}=t.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let i=r.before();if(Ha(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let n=r.blockRange(),s=n&&Dl(n);return s==null?!1:(e&&e(t.tr.lift(n,s).scrollIntoView()),!0)},x8=(t,e)=>{let{$from:r,to:n}=t.selection,s,i=r.sharedDepth(n);return i==0?!1:(s=r.before(i),e&&e(t.tr.setSelection(he.create(t.doc,s))),!0)};function b8(t,e,r){let n=e.nodeBefore,s=e.nodeAfter,i=e.index();return!n||!s||!n.type.compatibleContent(s.type)?!1:!n.content.size&&e.parent.canReplace(i-1,i)?(r&&r(t.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(s.isTextblock||Wi(t.doc,e.pos))?!1:(r&&r(t.tr.clearIncompatible(e.pos,n.type,n.contentMatchAt(n.childCount)).join(e.pos).scrollIntoView()),!0)}function eN(t,e,r,n){let s=e.nodeBefore,i=e.nodeAfter,o,a,l=s.type.spec.isolating||i.type.spec.isolating;if(!l&&b8(t,e,r))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(o=(a=s.contentMatchAt(s.childCount)).findWrapping(i.type))&&a.matchType(o[0]||i.type).validEnd){if(r){let p=e.pos+i.nodeSize,m=F.empty;for(let v=o.length-1;v>=0;v--)m=F.from(o[v].create(null,m));m=F.from(s.copy(m));let y=t.tr.step(new zt(e.pos-1,p,e.pos,p,new G(m,1,0),o.length,!0)),x=p+2*o.length;Wi(y.doc,x)&&y.join(x),r(y.scrollIntoView())}return!0}let u=i.type.spec.isolating||n>0&&l?null:ke.findFrom(e,1),d=u&&u.$from.blockRange(u.$to),h=d&&Dl(d);if(h!=null&&h>=e.depth)return r&&r(t.tr.lift(d,h).scrollIntoView()),!0;if(c&&Nl(i,"start",!0)&&Nl(s,"end")){let p=s,m=[];for(;m.push(p),!p.isTextblock;)p=p.lastChild;let y=i,x=1;for(;!y.isTextblock;y=y.firstChild)x++;if(p.canReplace(p.childCount,p.childCount,y.content)){if(r){let v=F.empty;for(let b=m.length-1;b>=0;b--)v=F.from(m[b].copy(v));let g=t.tr.step(new zt(e.pos-m.length,e.pos+i.nodeSize,e.pos+x,e.pos+i.nodeSize-x,new G(v,m.length,0),0,!0));r(g.scrollIntoView())}return!0}}return!1}function tN(t){return function(e,r){let n=e.selection,s=t<0?n.$from:n.$to,i=s.depth;for(;s.node(i).isInline;){if(!i)return!1;i--}return s.node(i).isTextblock?(r&&r(e.tr.setSelection(be.create(e.doc,t<0?s.start(i):s.end(i)))),!0):!1}}const w8=tN(-1),S8=tN(1);function k8(t,e=null){return function(r,n){let{$from:s,$to:i}=r.selection,o=s.blockRange(i),a=o&&jv(o,t,e);return a?(n&&n(r.tr.wrap(o,a).scrollIntoView()),!0):!1}}function Dw(t,e=null){return function(r,n){let s=!1;for(let i=0;i<r.selection.ranges.length&&!s;i++){let{$from:{pos:o},$to:{pos:a}}=r.selection.ranges[i];r.doc.nodesBetween(o,a,(l,c)=>{if(s)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)s=!0;else{let u=r.doc.resolve(c),d=u.index();s=u.parent.canReplaceWith(d,d+1,t)}})}if(!s)return!1;if(n){let i=r.tr;for(let o=0;o<r.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=r.selection.ranges[o];i.setBlockType(a,l,t,e)}n(i.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function _8(t,e=null){return function(r,n){let{$from:s,$to:i}=r.selection,o=s.blockRange(i),a=!1,l=o;if(!o)return!1;if(o.depth>=2&&s.node(o.depth-1).type.compatibleContent(t)&&o.startIndex==0){if(s.index(o.depth-1)==0)return!1;let u=r.doc.resolve(o.start-2);l=new bh(u,u,o.depth),o.endIndex<o.parent.childCount&&(o=new bh(s,r.doc.resolve(i.end(o.depth)),o.depth)),a=!0}let c=jv(l,t,e,o);return c?(n&&n(E8(r.tr,o,c,a,t).scrollIntoView()),!0):!1}}function E8(t,e,r,n,s){let i=F.empty;for(let u=r.length-1;u>=0;u--)i=F.from(r[u].type.create(r[u].attrs,i));t.step(new zt(e.start-(n?2:0),e.end,e.start,e.end,new G(i,0,0),r.length,!0));let o=0;for(let u=0;u<r.length;u++)r[u].type==s&&(o=u+1);let a=r.length-o,l=e.start+r.length-(n?2:0),c=e.parent;for(let u=e.startIndex,d=e.endIndex,h=!0;u<d;u++,h=!1)!h&&Ha(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return t}function C8(t){return function(e,r){let{$from:n,$to:s}=e.selection,i=n.blockRange(s,o=>o.childCount>0&&o.firstChild.type==t);return i?r?n.node(i.depth-1).type==t?N8(e,r,t,i):O8(e,r,i):!0:!1}}function N8(t,e,r,n){let s=t.tr,i=n.end,o=n.$to.end(n.depth);i<o&&(s.step(new zt(i-1,o,i,o,new G(F.from(r.create(null,n.parent.copy())),1,0),1,!0)),n=new bh(s.doc.resolve(n.$from.pos),s.doc.resolve(o),n.depth));const a=Dl(n);if(a==null)return!1;s.lift(n,a);let l=s.mapping.map(i,-1)-1;return Wi(s.doc,l)&&s.join(l),e(s.scrollIntoView()),!0}function O8(t,e,r){let n=t.tr,s=r.parent;for(let p=r.end,m=r.endIndex-1,y=r.startIndex;m>y;m--)p-=s.child(m).nodeSize,n.delete(p-1,p+1);let i=n.doc.resolve(r.start),o=i.nodeAfter;if(n.mapping.map(r.end)!=r.start+i.nodeAfter.nodeSize)return!1;let a=r.startIndex==0,l=r.endIndex==s.childCount,c=i.node(-1),u=i.index(-1);if(!c.canReplace(u+(a?0:1),u+1,o.content.append(l?F.empty:F.from(s))))return!1;let d=i.pos,h=d+o.nodeSize;return n.step(new zt(d-(a?1:0),h+(l?1:0),d+1,h-1,new G((a?F.empty:F.from(s.copy(F.empty))).append(l?F.empty:F.from(s.copy(F.empty))),a?0:1,l?0:1),a?0:1)),e(n.scrollIntoView()),!0}function j8(t){return function(e,r){let{$from:n,$to:s}=e.selection,i=n.blockRange(s,c=>c.childCount>0&&c.firstChild.type==t);if(!i)return!1;let o=i.startIndex;if(o==0)return!1;let a=i.parent,l=a.child(o-1);if(l.type!=t)return!1;if(r){let c=l.lastChild&&l.lastChild.type==a.type,u=F.from(c?t.create():null),d=new G(F.from(t.create(null,F.from(a.type.create(null,u)))),c?3:1,0),h=i.start,p=i.end;r(e.tr.step(new zt(h-(c?3:1),p,h,p,d,1,!0)).scrollIntoView())}return!0}}function pp(t){const{state:e,transaction:r}=t;let{selection:n}=r,{doc:s}=r,{storedMarks:i}=r;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return n},get doc(){return s},get tr(){return n=r.selection,s=r.doc,i=r.storedMarks,r}}}class mp{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:r,state:n}=this,{view:s}=r,{tr:i}=n,o=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...u)=>{const d=l(...u)(o);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(i),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,r=!0){const{rawCommands:n,editor:s,state:i}=this,{view:o}=s,a=[],l=!!e,c=e||i.tr,u=()=>(!l&&r&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(c),a.every(h=>h===!0)),d={...Object.fromEntries(Object.entries(n).map(([h,p])=>[h,(...y)=>{const x=this.buildProps(c,r),v=p(...y)(x);return a.push(v),d}])),run:u};return d}createCan(e){const{rawCommands:r,state:n}=this,s=!1,i=e||n.tr,o=this.buildProps(i,s);return{...Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)({...o,dispatch:void 0})])),chain:()=>this.createChain(i,s)}}buildProps(e,r=!0){const{rawCommands:n,editor:s,state:i}=this,{view:o}=s,a={tr:e,editor:s,view:o,state:pp({state:i,transaction:e}),dispatch:r?()=>{}:void 0,chain:()=>this.createChain(e,r),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)(a)]))}};return a}}class T8{constructor(){this.callbacks={}}on(e,r){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(r),this}emit(e,...r){const n=this.callbacks[e];return n&&n.forEach(s=>s.apply(this,r)),this}off(e,r){const n=this.callbacks[e];return n&&(r?this.callbacks[e]=n.filter(s=>s!==r):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function ne(t,e,r){return t.config[e]===void 0&&t.parent?ne(t.parent,e,r):typeof t.config[e]=="function"?t.config[e].bind({...r,parent:t.parent?ne(t.parent,e,r):null}):t.config[e]}function gp(t){const e=t.filter(s=>s.type==="extension"),r=t.filter(s=>s.type==="node"),n=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:r,markExtensions:n}}function rN(t){const e=[],{nodeExtensions:r,markExtensions:n}=gp(t),s=[...r,...n],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:s},l=ne(o,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(d=>{Object.entries(u.attributes).forEach(([h,p])=>{e.push({type:d,name:h,attribute:{...i,...p}})})})})}),s.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=ne(o,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,d])=>{const h={...i,...d};typeof(h==null?void 0:h.default)=="function"&&(h.default=h.default()),h!=null&&h.isRequired&&(h==null?void 0:h.default)===void 0&&delete h.default,e.push({type:o.name,name:u,attribute:h})})}),e}function Vt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function Mt(...t){return t.filter(e=>!!e).reduce((e,r)=>{const n={...e};return Object.entries(r).forEach(([s,i])=>{if(!n[s]){n[s]=i;return}if(s==="class"){const a=i?i.split(" "):[],l=n[s]?n[s].split(" "):[],c=a.filter(u=>!l.includes(u));n[s]=[...l,...c].join(" ")}else s==="style"?n[s]=[n[s],i].join("; "):n[s]=i}),n},{})}function Qy(t,e){return e.filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(t.attrs)||{}:{[r.name]:t.attrs[r.name]}).reduce((r,n)=>Mt(r,n),{})}function nN(t){return typeof t=="function"}function je(t,e=void 0,...r){return nN(t)?e?t.bind(e)(...r):t(...r):t}function P8(t={}){return Object.keys(t).length===0&&t.constructor===Object}function M8(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function Lw(t,e){return"style"in t?t:{...t,getAttrs:r=>{const n=t.getAttrs?t.getAttrs(r):t.attrs;if(n===!1)return!1;const s=e.reduce((i,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(r):M8(r.getAttribute(o.name));return a==null?i:{...i,[o.name]:a}},{});return{...n,...s}}}}function Fw(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>e==="attrs"&&P8(r)?!1:r!=null))}function A8(t,e){var r;const n=rN(t),{nodeExtensions:s,markExtensions:i}=gp(t),o=(r=s.find(c=>ne(c,"topNode")))===null||r===void 0?void 0:r.name,a=Object.fromEntries(s.map(c=>{const u=n.filter(v=>v.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},h=t.reduce((v,g)=>{const b=ne(g,"extendNodeSchema",d);return{...v,...b?b(c):{}}},{}),p=Fw({...h,content:je(ne(c,"content",d)),marks:je(ne(c,"marks",d)),group:je(ne(c,"group",d)),inline:je(ne(c,"inline",d)),atom:je(ne(c,"atom",d)),selectable:je(ne(c,"selectable",d)),draggable:je(ne(c,"draggable",d)),code:je(ne(c,"code",d)),whitespace:je(ne(c,"whitespace",d)),defining:je(ne(c,"defining",d)),isolating:je(ne(c,"isolating",d)),attrs:Object.fromEntries(u.map(v=>{var g;return[v.name,{default:(g=v==null?void 0:v.attribute)===null||g===void 0?void 0:g.default}]}))}),m=je(ne(c,"parseHTML",d));m&&(p.parseDOM=m.map(v=>Lw(v,u)));const y=ne(c,"renderHTML",d);y&&(p.toDOM=v=>y({node:v,HTMLAttributes:Qy(v,u)}));const x=ne(c,"renderText",d);return x&&(p.toText=x),[c.name,p]})),l=Object.fromEntries(i.map(c=>{const u=n.filter(x=>x.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},h=t.reduce((x,v)=>{const g=ne(v,"extendMarkSchema",d);return{...x,...g?g(c):{}}},{}),p=Fw({...h,inclusive:je(ne(c,"inclusive",d)),excludes:je(ne(c,"excludes",d)),group:je(ne(c,"group",d)),spanning:je(ne(c,"spanning",d)),code:je(ne(c,"code",d)),attrs:Object.fromEntries(u.map(x=>{var v;return[x.name,{default:(v=x==null?void 0:x.attribute)===null||v===void 0?void 0:v.default}]}))}),m=je(ne(c,"parseHTML",d));m&&(p.parseDOM=m.map(x=>Lw(x,u)));const y=ne(c,"renderHTML",d);return y&&(p.toDOM=x=>y({mark:x,HTMLAttributes:Qy(x,u)})),[c.name,p]}));return new YC({topNode:o,nodes:a,marks:l})}function Vm(t,e){return e.nodes[t]||e.marks[t]||null}function $w(t,e){return Array.isArray(e)?e.some(r=>(typeof r=="string"?r:r.name)===t.name):e}const I8=(t,e=500)=>{let r="";const n=t.parentOffset;return t.parent.nodesBetween(Math.max(0,n-e),n,(s,i,o,a)=>{var l,c;const u=((c=(l=s.type.spec).toText)===null||c===void 0?void 0:c.call(l,{node:s,pos:i,parent:o,index:a}))||s.textContent||"%leaf%";r+=s.isAtom&&!s.isText?u:u.slice(0,Math.max(0,n-i))}),r};function Bv(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class yp{constructor(e){this.find=e.find,this.handler=e.handler}}const R8=(t,e)=>{if(Bv(e))return e.exec(t);const r=e(t);if(!r)return null;const n=[r.text];return n.index=r.index,n.input=t,n.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(r.replaceWith)),n};function Zd(t){var e;const{editor:r,from:n,to:s,text:i,rules:o,plugin:a}=t,{view:l}=r;if(l.composing)return!1;const c=l.state.doc.resolve(n);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(h=>h.type.spec.code))return!1;let u=!1;const d=I8(c)+i;return o.forEach(h=>{if(u)return;const p=R8(d,h.find);if(!p)return;const m=l.state.tr,y=pp({state:l.state,transaction:m}),x={from:n-(p[0].length-i.length),to:s},{commands:v,chain:g,can:b}=new mp({editor:r,state:y});h.handler({state:y,range:x,match:p,commands:v,chain:g,can:b})===null||!m.steps.length||(m.setMeta(a,{transform:m,from:n,to:s,text:i}),l.dispatch(m),u=!0)}),u}function D8(t){const{editor:e,rules:r}=t,n=new pn({state:{init(){return null},apply(s,i){const o=s.getMeta(n);if(o)return o;const a=s.getMeta("applyInputRules");return!!a&&setTimeout(()=>{const{from:c,text:u}=a,d=c+u.length;Zd({editor:e,from:c,to:d,text:u,rules:r,plugin:n})}),s.selectionSet||s.docChanged?null:i}},props:{handleTextInput(s,i,o,a){return Zd({editor:e,from:i,to:o,text:a,rules:r,plugin:n})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:i}=s.state.selection;i&&Zd({editor:e,from:i.pos,to:i.pos,text:"",rules:r,plugin:n})}),!1)},handleKeyDown(s,i){if(i.key!=="Enter")return!1;const{$cursor:o}=s.state.selection;return o?Zd({editor:e,from:o.pos,to:o.pos,text:`
`,rules:r,plugin:n}):!1}},isInputRules:!0});return n}function L8(t){return typeof t=="number"}class F8{constructor(e){this.find=e.find,this.handler=e.handler}}const $8=(t,e,r)=>{if(Bv(e))return[...t.matchAll(e)];const n=e(t,r);return n?n.map(s=>{const i=[s.text];return i.index=s.index,i.input=t,i.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(s.replaceWith)),i}):[]};function z8(t){const{editor:e,state:r,from:n,to:s,rule:i,pasteEvent:o,dropEvent:a}=t,{commands:l,chain:c,can:u}=new mp({editor:e,state:r}),d=[];return r.doc.nodesBetween(n,s,(p,m)=>{if(!p.isTextblock||p.type.spec.code)return;const y=Math.max(n,m),x=Math.min(s,m+p.content.size),v=p.textBetween(y-m,x-m,void 0,"￼");$8(v,i.find,o).forEach(b=>{if(b.index===void 0)return;const S=y+b.index+1,j=S+b[0].length,N={from:r.tr.mapping.map(S),to:r.tr.mapping.map(j)},T=i.handler({state:r,range:N,match:b,commands:l,chain:c,can:u,pasteEvent:o,dropEvent:a});d.push(T)})}),d.every(p=>p!==null)}const B8=t=>{var e;const r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=r.clipboardData)===null||e===void 0||e.setData("text/html",t),r};function V8(t){const{editor:e,rules:r}=t;let n=null,s=!1,i=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a=typeof DragEvent<"u"?new DragEvent("drop"):null;const l=({state:u,from:d,to:h,rule:p,pasteEvt:m})=>{const y=u.tr,x=pp({state:u,transaction:y});if(!(!z8({editor:e,state:x,from:Math.max(d-1,0),to:h.b-1,rule:p,pasteEvent:m,dropEvent:a})||!y.steps.length))return a=typeof DragEvent<"u"?new DragEvent("drop"):null,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,y};return r.map(u=>new pn({view(d){const h=p=>{var m;n=!((m=d.dom.parentElement)===null||m===void 0)&&m.contains(p.target)?d.dom.parentElement:null};return window.addEventListener("dragstart",h),{destroy(){window.removeEventListener("dragstart",h)}}},props:{handleDOMEvents:{drop:(d,h)=>(i=n===d.dom.parentElement,a=h,!1),paste:(d,h)=>{var p;const m=(p=h.clipboardData)===null||p===void 0?void 0:p.getData("text/html");return o=h,s=!!(m!=null&&m.includes("data-pm-slice")),!1}}},appendTransaction:(d,h,p)=>{const m=d[0],y=m.getMeta("uiEvent")==="paste"&&!s,x=m.getMeta("uiEvent")==="drop"&&!i,v=m.getMeta("applyPasteRules"),g=!!v;if(!y&&!x&&!g)return;if(g){const{from:j,text:N}=v,T=j+N.length,w=B8(N);return l({rule:u,state:p,from:j,to:{b:T},pasteEvt:w})}const b=h.doc.content.findDiffStart(p.doc.content),S=h.doc.content.findDiffEnd(p.doc.content);if(!(!L8(b)||!S||b===S.b))return l({rule:u,state:p,from:b,to:S,pasteEvt:o})}}))}function U8(t){const e=t.filter((r,n)=>t.indexOf(r)!==n);return Array.from(new Set(e))}class Ma{constructor(e,r){this.splittableMarks=[],this.editor=r,this.extensions=Ma.resolve(e),this.schema=A8(this.extensions,r),this.setupExtensions()}static resolve(e){const r=Ma.sort(Ma.flatten(e)),n=U8(r.map(s=>s.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),r}static flatten(e){return e.map(r=>{const n={name:r.name,options:r.options,storage:r.storage},s=ne(r,"addExtensions",n);return s?[r,...this.flatten(s())]:r}).flat(10)}static sort(e){return e.sort((n,s)=>{const i=ne(n,"priority")||100,o=ne(s,"priority")||100;return i>o?-1:i<o?1:0})}get commands(){return this.extensions.reduce((e,r)=>{const n={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:Vm(r.name,this.schema)},s=ne(r,"addCommands",n);return s?{...e,...s()}:e},{})}get plugins(){const{editor:e}=this,r=Ma.sort([...this.extensions].reverse()),n=[],s=[],i=r.map(o=>{const a={name:o.name,options:o.options,storage:o.storage,editor:e,type:Vm(o.name,this.schema)},l=[],c=ne(o,"addKeyboardShortcuts",a);let u={};if(o.type==="mark"&&ne(o,"exitable",a)&&(u.ArrowRight=()=>as.handleExit({editor:e,mark:o})),c){const y=Object.fromEntries(Object.entries(c()).map(([x,v])=>[x,()=>v({editor:e})]));u={...u,...y}}const d=s8(u);l.push(d);const h=ne(o,"addInputRules",a);$w(o,e.options.enableInputRules)&&h&&n.push(...h());const p=ne(o,"addPasteRules",a);$w(o,e.options.enablePasteRules)&&p&&s.push(...p());const m=ne(o,"addProseMirrorPlugins",a);if(m){const y=m();l.push(...y)}return l}).flat();return[D8({editor:e,rules:n}),...V8({editor:e,rules:s}),...i]}get attributes(){return rN(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:r}=gp(this.extensions);return Object.fromEntries(r.filter(n=>!!ne(n,"addNodeView")).map(n=>{const s=this.attributes.filter(l=>l.type===n.name),i={name:n.name,options:n.options,storage:n.storage,editor:e,type:Vt(n.name,this.schema)},o=ne(n,"addNodeView",i);if(!o)return[];const a=(l,c,u,d)=>{const h=Qy(l,s);return o()({editor:e,node:l,getPos:u,decorations:d,HTMLAttributes:h,extension:n})};return[n.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var r;this.editor.extensionStorage[e.name]=e.storage;const n={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Vm(e.name,this.schema)};e.type==="mark"&&(!((r=je(ne(e,"keepOnSplit",n)))!==null&&r!==void 0)||r)&&this.splittableMarks.push(e.name);const s=ne(e,"onBeforeCreate",n),i=ne(e,"onCreate",n),o=ne(e,"onUpdate",n),a=ne(e,"onSelectionUpdate",n),l=ne(e,"onTransaction",n),c=ne(e,"onFocus",n),u=ne(e,"onBlur",n),d=ne(e,"onDestroy",n);s&&this.editor.on("beforeCreate",s),i&&this.editor.on("create",i),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),d&&this.editor.on("destroy",d)})}}function H8(t){return Object.prototype.toString.call(t).slice(8,-1)}function Gd(t){return H8(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function vp(t,e){const r={...t};return Gd(t)&&Gd(e)&&Object.keys(e).forEach(n=>{Gd(e[n])&&Gd(t[n])?r[n]=vp(t[n],e[n]):r[n]=e[n]}),r}class Wr{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=je(ne(this,"addOptions",{name:this.name}))),this.storage=je(ne(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Wr(e)}configure(e={}){const r=this.extend({...this.config,addOptions:()=>vp(this.options,e)});return r.name=this.name,r.parent=this.parent,r}extend(e={}){const r=new Wr({...this.config,...e});return r.parent=this,this.child=r,r.name=e.name?e.name:r.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=je(ne(r,"addOptions",{name:r.name})),r.storage=je(ne(r,"addStorage",{name:r.name,options:r.options})),r}}function sN(t,e,r){const{from:n,to:s}=e,{blockSeparator:i=`

`,textSerializers:o={}}=r||{};let a="";return t.nodesBetween(n,s,(l,c,u,d)=>{var h;l.isBlock&&c>n&&(a+=i);const p=o==null?void 0:o[l.type.name];if(p)return u&&(a+=p({node:l,pos:c,parent:u,index:d,range:e})),!1;l.isText&&(a+=(h=l==null?void 0:l.text)===null||h===void 0?void 0:h.slice(Math.max(n,c)-c,s-c))}),a}function iN(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,r])=>[e,r.spec.toText]))}const q8=Wr.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new pn({key:new Ki("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:r}=t,{doc:n,selection:s}=e,{ranges:i}=s,o=Math.min(...i.map(u=>u.$from.pos)),a=Math.max(...i.map(u=>u.$to.pos)),l=iN(r);return sN(n,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),W8=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var r;t.isDestroyed||(e.dom.blur(),(r=window==null?void 0:window.getSelection())===null||r===void 0||r.removeAllRanges())}),!0),K8=(t=!1)=>({commands:e})=>e.setContent("",t),J8=()=>({state:t,tr:e,dispatch:r})=>{const{selection:n}=e,{ranges:s}=n;return r&&s.forEach(({$from:i,$to:o})=>{t.doc.nodesBetween(i.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=e,d=c.resolve(u.map(l)),h=c.resolve(u.map(l+a.nodeSize)),p=d.blockRange(h);if(!p)return;const m=Dl(p);if(a.type.isTextblock){const{defaultType:y}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(p.start,y)}(m||m===0)&&e.lift(p,m)})}),!0},Q8=t=>e=>t(e),Z8=()=>({state:t,dispatch:e})=>y8(t,e),G8=(t,e)=>({editor:r,tr:n})=>{const{state:s}=r,i=s.doc.slice(t.from,t.to);n.deleteRange(t.from,t.to);const o=n.mapping.map(e);return n.insert(o,i.content),n.setSelection(new be(n.doc.resolve(o-1))),!0},Y8=()=>({tr:t,dispatch:e})=>{const{selection:r}=t,n=r.$anchor.node();if(n.content.size>0)return!1;const s=t.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===n.type){if(e){const a=s.before(i),l=s.after(i);t.delete(a,l).scrollIntoView()}return!0}return!1},X8=t=>({tr:e,state:r,dispatch:n})=>{const s=Vt(t,r.schema),i=e.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===s){if(n){const l=i.before(o),c=i.after(o);e.delete(l,c).scrollIntoView()}return!0}return!1},e9=t=>({tr:e,dispatch:r})=>{const{from:n,to:s}=t;return r&&e.delete(n,s),!0},t9=()=>({state:t,dispatch:e})=>i8(t,e),r9=()=>({commands:t})=>t.keyboardShortcut("Enter"),n9=()=>({state:t,dispatch:e})=>g8(t,e);function jh(t,e,r={strict:!0}){const n=Object.keys(e);return n.length?n.every(s=>r.strict?e[s]===t[s]:Bv(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function Zy(t,e,r={}){return t.find(n=>n.type===e&&jh(n.attrs,r))}function s9(t,e,r={}){return!!Zy(t,e,r)}function Vv(t,e,r={}){if(!t||!e)return;let n=t.parent.childAfter(t.parentOffset);if(t.parentOffset===n.offset&&n.offset!==0&&(n=t.parent.childBefore(t.parentOffset)),!n.node)return;const s=Zy([...n.node.marks],e,r);if(!s)return;let i=n.index,o=t.start()+n.offset,a=i+1,l=o+n.node.nodeSize;for(Zy([...n.node.marks],e,r);i>0&&s.isInSet(t.parent.child(i-1).marks);)i-=1,o-=t.parent.child(i).nodeSize;for(;a<t.parent.childCount&&s9([...t.parent.child(a).marks],e,r);)l+=t.parent.child(a).nodeSize,a+=1;return{from:o,to:l}}function Qi(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const i9=(t,e={})=>({tr:r,state:n,dispatch:s})=>{const i=Qi(t,n.schema),{doc:o,selection:a}=r,{$from:l,from:c,to:u}=a;if(s){const d=Vv(l,i,e);if(d&&d.from<=c&&d.to>=u){const h=be.create(o,d.from,d.to);r.setSelection(h)}}return!0},o9=t=>e=>{const r=typeof t=="function"?t(e):t;for(let n=0;n<r.length;n+=1)if(r[n](e))return!0;return!1};function oN(t){return t instanceof be}function po(t=0,e=0,r=0){return Math.min(Math.max(t,e),r)}function aN(t,e=null){if(!e)return null;const r=ke.atStart(t),n=ke.atEnd(t);if(e==="start"||e===!0)return r;if(e==="end")return n;const s=r.from,i=n.to;return e==="all"?be.create(t,po(0,s,i),po(t.content.size,s,i)):be.create(t,po(e,s,i),po(e,s,i))}function Uv(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const a9=(t=null,e={})=>({editor:r,view:n,tr:s,dispatch:i})=>{e={scrollIntoView:!0,...e};const o=()=>{Uv()&&n.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(n.focus(),e!=null&&e.scrollIntoView&&r.commands.scrollIntoView())})};if(n.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!oN(r.state.selection))return o(),!0;const a=aN(s.doc,t)||r.state.selection,l=r.state.selection.eq(a);return i&&(l||s.setSelection(a),l&&s.storedMarks&&s.setStoredMarks(s.storedMarks),o()),!0},l9=(t,e)=>r=>t.every((n,s)=>e(n,{...r,index:s})),c9=(t,e)=>({tr:r,commands:n})=>n.insertContentAt({from:r.selection.from,to:r.selection.to},t,e),lN=t=>{const e=t.childNodes;for(let r=e.length-1;r>=0;r-=1){const n=e[r];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?t.removeChild(n):n.nodeType===1&&lN(n)}return t};function Yd(t){const e=`<body>${t}</body>`,r=new window.DOMParser().parseFromString(e,"text/html").body;return lN(r)}function Th(t,e,r){r={slice:!0,parseOptions:{},...r};const n=typeof t=="object"&&t!==null,s=typeof t=="string";if(n)try{if(Array.isArray(t)&&t.length>0)return F.fromArray(t.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(t);return r.errorOnInvalidContent&&o.check(),o}catch(i){if(r.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),Th("",e,r)}if(s){if(r.errorOnInvalidContent){let o=!1,a="";const l=new YC({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(o=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(r.slice?Ic.fromSchema(l).parseSlice(Yd(t),r.parseOptions):Ic.fromSchema(l).parse(Yd(t),r.parseOptions),r.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const i=Ic.fromSchema(e);return r.slice?i.parseSlice(Yd(t),r.parseOptions).content:i.parse(Yd(t),r.parseOptions)}return Th("",e,r)}function u9(t,e,r){const n=t.steps.length-1;if(n<e)return;const s=t.steps[n];if(!(s instanceof Ft||s instanceof zt))return;const i=t.mapping.maps[n];let o=0;i.forEach((a,l,c,u)=>{o===0&&(o=u)}),t.setSelection(ke.near(t.doc.resolve(o),r))}const d9=t=>!("type"in t),f9=(t,e,r)=>({tr:n,dispatch:s,editor:i})=>{var o;if(s){r={parseOptions:{},updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...r};let a;try{a=Th(e,i.schema,{parseOptions:{preserveWhitespace:"full",...r.parseOptions},errorOnInvalidContent:(o=r.errorOnInvalidContent)!==null&&o!==void 0?o:i.options.enableContentCheck})}catch(m){return i.emit("contentError",{editor:i,error:m,disableCollaboration:()=>{console.error("[tiptap error]: Unable to disable collaboration at this point in time")}}),!1}let{from:l,to:c}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},u=!0,d=!0;if((d9(a)?a:[a]).forEach(m=>{m.check(),u=u?m.isText&&m.marks.length===0:!1,d=d?m.isBlock:!1}),l===c&&d){const{parent:m}=n.doc.resolve(l);m.isTextblock&&!m.type.spec.code&&!m.childCount&&(l-=1,c+=1)}let p;u?(Array.isArray(e)?p=e.map(m=>m.text||"").join(""):typeof e=="object"&&e&&e.text?p=e.text:p=e,n.insertText(p,l,c)):(p=a,n.replaceWith(l,c,p)),r.updateSelection&&u9(n,n.steps.length-1,-1),r.applyInputRules&&n.setMeta("applyInputRules",{from:l,text:p}),r.applyPasteRules&&n.setMeta("applyPasteRules",{from:l,text:p})}return!0},h9=()=>({state:t,dispatch:e})=>f8(t,e),p9=()=>({state:t,dispatch:e})=>h8(t,e),m9=()=>({state:t,dispatch:e})=>o8(t,e),g9=()=>({state:t,dispatch:e})=>u8(t,e),y9=()=>({state:t,dispatch:e,tr:r})=>{try{const n=lp(t.doc,t.selection.$from.pos,-1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},v9=()=>({state:t,dispatch:e,tr:r})=>{try{const n=lp(t.doc,t.selection.$from.pos,1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},x9=()=>({state:t,dispatch:e})=>a8(t,e),b9=()=>({state:t,dispatch:e})=>l8(t,e);function cN(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function w9(t){const e=t.split(/-(?!$)/);let r=e[e.length-1];r==="Space"&&(r=" ");let n,s,i,o;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))s=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))Uv()||cN()?o=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return n&&(r=`Alt-${r}`),s&&(r=`Ctrl-${r}`),o&&(r=`Meta-${r}`),i&&(r=`Shift-${r}`),r}const S9=t=>({editor:e,view:r,tr:n,dispatch:s})=>{const i=w9(t).split(/-(?!$)/),o=i.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{r.someProp("handleKeyDown",c=>c(r,a))});return l==null||l.steps.forEach(c=>{const u=c.map(n.mapping);u&&s&&n.maybeStep(u)}),!0};function Au(t,e,r={}){const{from:n,to:s,empty:i}=t.selection,o=e?Vt(e,t.schema):null,a=[];t.doc.nodesBetween(n,s,(d,h)=>{if(d.isText)return;const p=Math.max(n,h),m=Math.min(s,h+d.nodeSize);a.push({node:d,from:p,to:m})});const l=s-n,c=a.filter(d=>o?o.name===d.node.type.name:!0).filter(d=>jh(d.node.attrs,r,{strict:!1}));return i?!!c.length:c.reduce((d,h)=>d+h.to-h.from,0)>=l}const k9=(t,e={})=>({state:r,dispatch:n})=>{const s=Vt(t,r.schema);return Au(r,s,e)?p8(r,n):!1},_9=()=>({state:t,dispatch:e})=>v8(t,e),E9=t=>({state:e,dispatch:r})=>{const n=Vt(t,e.schema);return C8(n)(e,r)},C9=()=>({state:t,dispatch:e})=>m8(t,e);function xp(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function zw(t,e){const r=typeof e=="string"?[e]:e;return Object.keys(t).reduce((n,s)=>(r.includes(s)||(n[s]=t[s]),n),{})}const N9=(t,e)=>({tr:r,state:n,dispatch:s})=>{let i=null,o=null;const a=xp(typeof t=="string"?t:t.name,n.schema);return a?(a==="node"&&(i=Vt(t,n.schema)),a==="mark"&&(o=Qi(t,n.schema)),s&&r.selection.ranges.forEach(l=>{n.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{i&&i===c.type&&r.setNodeMarkup(u,void 0,zw(c.attrs,e)),o&&c.marks.length&&c.marks.forEach(d=>{o===d.type&&r.addMark(u,u+c.nodeSize,o.create(zw(d.attrs,e)))})})}),!0):!1},O9=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),j9=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),T9=()=>({state:t,dispatch:e})=>c8(t,e),P9=()=>({state:t,dispatch:e})=>d8(t,e),M9=()=>({state:t,dispatch:e})=>x8(t,e),A9=()=>({state:t,dispatch:e})=>S8(t,e),I9=()=>({state:t,dispatch:e})=>w8(t,e);function Gy(t,e,r={},n={}){return Th(t,e,{slice:!1,parseOptions:r,errorOnInvalidContent:n.errorOnInvalidContent})}const R9=(t,e=!1,r={},n={})=>({editor:s,tr:i,dispatch:o,commands:a})=>{var l,c;const{doc:u}=i;if(r.preserveWhitespace!=="full"){const d=Gy(t,s.schema,r,{errorOnInvalidContent:(l=n.errorOnInvalidContent)!==null&&l!==void 0?l:s.options.enableContentCheck});return o&&i.replaceWith(0,u.content.size,d).setMeta("preventUpdate",!e),!0}return o&&i.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:u.content.size},t,{parseOptions:r,errorOnInvalidContent:(c=n.errorOnInvalidContent)!==null&&c!==void 0?c:s.options.enableContentCheck})};function bp(t,e){const r=Qi(e,t.schema),{from:n,to:s,empty:i}=t.selection,o=[];i?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(n,s,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===r.name);return a?{...a.attrs}:{}}function D9(t){for(let e=0;e<t.edgeCount;e+=1){const{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function L9(t,e){for(let r=t.depth;r>0;r-=1){const n=t.node(r);if(e(n))return{pos:r>0?t.before(r):0,start:t.start(r),depth:r,node:n}}}function Hv(t){return e=>L9(e.$from,t)}function F9(t,e){const r=ta.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(r),s.innerHTML}function $9(t,e){const r={from:0,to:t.content.size};return sN(t,r,e)}function z9(t,e){const r=Vt(e,t.schema),{from:n,to:s}=t.selection,i=[];t.doc.nodesBetween(n,s,a=>{i.push(a)});const o=i.reverse().find(a=>a.type.name===r.name);return o?{...o.attrs}:{}}function B9(t,e){const r=xp(typeof e=="string"?e:e.name,t.schema);return r==="node"?z9(t,e):r==="mark"?bp(t,e):{}}function uN(t,e,r){const n=[];return t===e?r.resolve(t).marks().forEach(s=>{const i=r.resolve(t),o=Vv(i,s.type);o&&n.push({mark:s,...o})}):r.nodesBetween(t,e,(s,i)=>{!s||(s==null?void 0:s.nodeSize)===void 0||n.push(...s.marks.map(o=>({from:i,to:i+s.nodeSize,mark:o})))}),n}function kf(t,e,r){return Object.fromEntries(Object.entries(r).filter(([n])=>{const s=t.find(i=>i.type===e&&i.name===n);return s?s.attribute.keepOnSplit:!1}))}function Yy(t,e,r={}){const{empty:n,ranges:s}=t.selection,i=e?Qi(e,t.schema):null;if(n)return!!(t.storedMarks||t.selection.$from.marks()).filter(d=>i?i.name===d.type.name:!0).find(d=>jh(d.attrs,r,{strict:!1}));let o=0;const a=[];if(s.forEach(({$from:d,$to:h})=>{const p=d.pos,m=h.pos;t.doc.nodesBetween(p,m,(y,x)=>{if(!y.isText&&!y.marks.length)return;const v=Math.max(p,x),g=Math.min(m,x+y.nodeSize),b=g-v;o+=b,a.push(...y.marks.map(S=>({mark:S,from:v,to:g})))})}),o===0)return!1;const l=a.filter(d=>i?i.name===d.mark.type.name:!0).filter(d=>jh(d.mark.attrs,r,{strict:!1})).reduce((d,h)=>d+h.to-h.from,0),c=a.filter(d=>i?d.mark.type!==i&&d.mark.type.excludes(i):!0).reduce((d,h)=>d+h.to-h.from,0);return(l>0?l+c:l)>=o}function V9(t,e,r={}){if(!e)return Au(t,null,r)||Yy(t,null,r);const n=xp(e,t.schema);return n==="node"?Au(t,e,r):n==="mark"?Yy(t,e,r):!1}function Bw(t,e){const{nodeExtensions:r}=gp(e),n=r.find(o=>o.name===t);if(!n)return!1;const s={name:n.name,options:n.options,storage:n.storage},i=je(ne(n,"group",s));return typeof i!="string"?!1:i.split(" ").includes("list")}function dN(t,{checkChildren:e=!0,ignoreWhitespace:r=!1}={}){var n;if(r){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((n=t.text)!==null&&n!==void 0?n:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let s=!0;return t.content.forEach(i=>{s!==!1&&(dN(i,{ignoreWhitespace:r,checkChildren:e})||(s=!1))}),s}return!1}function U9(t){return t instanceof he}function H9(t,e,r){var n;const{selection:s}=e;let i=null;if(oN(s)&&(i=s.$cursor),i){const a=(n=t.storedMarks)!==null&&n!==void 0?n:i.marks();return!!r.isInSet(a)||!a.some(l=>l.type.excludes(r))}const{ranges:o}=s;return o.some(({$from:a,$to:l})=>{let c=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(r):!1;return t.doc.nodesBetween(a.pos,l.pos,(u,d,h)=>{if(c)return!1;if(u.isInline){const p=!h||h.type.allowsMarkType(r),m=!!r.isInSet(u.marks)||!u.marks.some(y=>y.type.excludes(r));c=p&&m}return!c}),c})}const q9=(t,e={})=>({tr:r,state:n,dispatch:s})=>{const{selection:i}=r,{empty:o,ranges:a}=i,l=Qi(t,n.schema);if(s)if(o){const c=bp(n,l);r.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;n.doc.nodesBetween(u,d,(h,p)=>{const m=Math.max(p,u),y=Math.min(p+h.nodeSize,d);h.marks.find(v=>v.type===l)?h.marks.forEach(v=>{l===v.type&&r.addMark(m,y,l.create({...v.attrs,...e}))}):r.addMark(m,y,l.create(e))})});return H9(n,r,l)},W9=(t,e)=>({tr:r})=>(r.setMeta(t,e),!0),K9=(t,e={})=>({state:r,dispatch:n,chain:s})=>{const i=Vt(t,r.schema);return i.isTextblock?s().command(({commands:o})=>Dw(i,e)(r)?!0:o.clearNodes()).command(({state:o})=>Dw(i,e)(o,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},J9=t=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,s=po(t,0,n.content.size),i=he.create(n,s);e.setSelection(i)}return!0},Q9=t=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,{from:s,to:i}=typeof t=="number"?{from:t,to:t}:t,o=be.atStart(n).from,a=be.atEnd(n).to,l=po(s,o,a),c=po(i,o,a),u=be.create(n,l,c);e.setSelection(u)}return!0},Z9=t=>({state:e,dispatch:r})=>{const n=Vt(t,e.schema);return j8(n)(e,r)};function Vw(t,e){const r=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(r){const n=r.filter(s=>e==null?void 0:e.includes(s.type.name));t.tr.ensureMarks(n)}}const G9=({keepMarks:t=!0}={})=>({tr:e,state:r,dispatch:n,editor:s})=>{const{selection:i,doc:o}=e,{$from:a,$to:l}=i,c=s.extensionManager.attributes,u=kf(c,a.node().type.name,a.node().attrs);if(i instanceof he&&i.node.isBlock)return!a.parentOffset||!Ha(o,a.pos)?!1:(n&&(t&&Vw(r,s.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,h=a.depth===0?void 0:D9(a.node(-1).contentMatchAt(a.indexAfter(-1)));let p=d&&h?[{type:h,attrs:u}]:void 0,m=Ha(e.doc,e.mapping.map(a.pos),1,p);if(!p&&!m&&Ha(e.doc,e.mapping.map(a.pos),1,h?[{type:h}]:void 0)&&(m=!0,p=h?[{type:h,attrs:u}]:void 0),n){if(m&&(i instanceof be&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,p),h&&!d&&!a.parentOffset&&a.parent.type!==h)){const y=e.mapping.map(a.before()),x=e.doc.resolve(y);a.node(-1).canReplaceWith(x.index(),x.index()+1,h)&&e.setNodeMarkup(e.mapping.map(a.before()),h)}t&&Vw(r,s.extensionManager.splittableMarks),e.scrollIntoView()}return m},Y9=(t,e={})=>({tr:r,state:n,dispatch:s,editor:i})=>{var o;const a=Vt(t,n.schema),{$from:l,$to:c}=n.selection,u=n.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==a)return!1;const h=i.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(s){let v=F.empty;const g=l.index(-1)?1:l.index(-2)?2:3;for(let w=l.depth-g;w>=l.depth-3;w-=1)v=F.from(l.node(w).copy(v));const b=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,S={...kf(h,l.node().type.name,l.node().attrs),...e},j=((o=a.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(S))||void 0;v=v.append(F.from(a.createAndFill(null,j)||void 0));const N=l.before(l.depth-(g-1));r.replace(N,l.after(-b),new G(v,4-g,0));let T=-1;r.doc.nodesBetween(N,r.doc.content.size,(w,P)=>{if(T>-1)return!1;w.isTextblock&&w.content.size===0&&(T=P+1)}),T>-1&&r.setSelection(be.near(r.doc.resolve(T))),r.scrollIntoView()}return!0}const p=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,m={...kf(h,d.type.name,d.attrs),...e},y={...kf(h,l.node().type.name,l.node().attrs),...e};r.delete(l.pos,c.pos);const x=p?[{type:a,attrs:m},{type:p,attrs:y}]:[{type:a,attrs:m}];if(!Ha(r.doc,l.pos,2))return!1;if(s){const{selection:v,storedMarks:g}=n,{splittableMarks:b}=i.extensionManager,S=g||v.$to.parentOffset&&v.$from.marks();if(r.split(l.pos,2,x).scrollIntoView(),!S||!s)return!0;const j=S.filter(N=>b.includes(N.type.name));r.ensureMarks(j)}return!0},Um=(t,e)=>{const r=Hv(o=>o.type===e)(t.selection);if(!r)return!0;const n=t.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(n===void 0)return!0;const s=t.doc.nodeAt(n);return r.node.type===(s==null?void 0:s.type)&&Wi(t.doc,r.pos)&&t.join(r.pos),!0},Hm=(t,e)=>{const r=Hv(o=>o.type===e)(t.selection);if(!r)return!0;const n=t.doc.resolve(r.start).after(r.depth);if(n===void 0)return!0;const s=t.doc.nodeAt(n);return r.node.type===(s==null?void 0:s.type)&&Wi(t.doc,n)&&t.join(n),!0},X9=(t,e,r,n={})=>({editor:s,tr:i,state:o,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:h}=s.extensionManager,p=Vt(t,o.schema),m=Vt(e,o.schema),{selection:y,storedMarks:x}=o,{$from:v,$to:g}=y,b=v.blockRange(g),S=x||y.$to.parentOffset&&y.$from.marks();if(!b)return!1;const j=Hv(N=>Bw(N.type.name,d))(y);if(b.depth>=1&&j&&b.depth-j.depth<=1){if(j.node.type===p)return c.liftListItem(m);if(Bw(j.node.type.name,d)&&p.validContent(j.node.content)&&a)return l().command(()=>(i.setNodeMarkup(j.pos,p),!0)).command(()=>Um(i,p)).command(()=>Hm(i,p)).run()}return!r||!S||!a?l().command(()=>u().wrapInList(p,n)?!0:c.clearNodes()).wrapInList(p,n).command(()=>Um(i,p)).command(()=>Hm(i,p)).run():l().command(()=>{const N=u().wrapInList(p,n),T=S.filter(w=>h.includes(w.type.name));return i.ensureMarks(T),N?!0:c.clearNodes()}).wrapInList(p,n).command(()=>Um(i,p)).command(()=>Hm(i,p)).run()},ez=(t,e={},r={})=>({state:n,commands:s})=>{const{extendEmptyMarkRange:i=!1}=r,o=Qi(t,n.schema);return Yy(n,o,e)?s.unsetMark(o,{extendEmptyMarkRange:i}):s.setMark(o,e)},tz=(t,e,r={})=>({state:n,commands:s})=>{const i=Vt(t,n.schema),o=Vt(e,n.schema);return Au(n,i,r)?s.setNode(o):s.setNode(i,r)},rz=(t,e={})=>({state:r,commands:n})=>{const s=Vt(t,r.schema);return Au(r,s,e)?n.lift(s):n.wrapIn(s,e)},nz=()=>({state:t,dispatch:e})=>{const r=t.plugins;for(let n=0;n<r.length;n+=1){const s=r[n];let i;if(s.spec.isInputRules&&(i=s.getState(t))){if(e){const o=t.tr,a=i.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(i.text){const l=o.doc.resolve(i.from).marks();o.replaceWith(i.from,i.to,t.schema.text(i.text,l))}else o.delete(i.from,i.to)}return!0}}return!1},sz=()=>({tr:t,dispatch:e})=>{const{selection:r}=t,{empty:n,ranges:s}=r;return n||e&&s.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},iz=(t,e={})=>({tr:r,state:n,dispatch:s})=>{var i;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=r,l=Qi(t,n.schema),{$from:c,empty:u,ranges:d}=a;if(!s)return!0;if(u&&o){let{from:h,to:p}=a;const m=(i=c.marks().find(x=>x.type===l))===null||i===void 0?void 0:i.attrs,y=Vv(c,l,m);y&&(h=y.from,p=y.to),r.removeMark(h,p,l)}else d.forEach(h=>{r.removeMark(h.$from.pos,h.$to.pos,l)});return r.removeStoredMark(l),!0},oz=(t,e={})=>({tr:r,state:n,dispatch:s})=>{let i=null,o=null;const a=xp(typeof t=="string"?t:t.name,n.schema);return a?(a==="node"&&(i=Vt(t,n.schema)),a==="mark"&&(o=Qi(t,n.schema)),s&&r.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;n.doc.nodesBetween(c,u,(d,h)=>{i&&i===d.type&&r.setNodeMarkup(h,void 0,{...d.attrs,...e}),o&&d.marks.length&&d.marks.forEach(p=>{if(o===p.type){const m=Math.max(h,c),y=Math.min(h+d.nodeSize,u);r.addMark(m,y,o.create({...p.attrs,...e}))}})})}),!0):!1},az=(t,e={})=>({state:r,dispatch:n})=>{const s=Vt(t,r.schema);return k8(s,e)(r,n)},lz=(t,e={})=>({state:r,dispatch:n})=>{const s=Vt(t,r.schema);return _8(s,e)(r,n)};var cz=Object.freeze({__proto__:null,blur:W8,clearContent:K8,clearNodes:J8,command:Q8,createParagraphNear:Z8,cut:G8,deleteCurrentNode:Y8,deleteNode:X8,deleteRange:e9,deleteSelection:t9,enter:r9,exitCode:n9,extendMarkRange:i9,first:o9,focus:a9,forEach:l9,insertContent:c9,insertContentAt:f9,joinBackward:m9,joinDown:p9,joinForward:g9,joinItemBackward:y9,joinItemForward:v9,joinTextblockBackward:x9,joinTextblockForward:b9,joinUp:h9,keyboardShortcut:S9,lift:k9,liftEmptyBlock:_9,liftListItem:E9,newlineInCode:C9,resetAttributes:N9,scrollIntoView:O9,selectAll:j9,selectNodeBackward:T9,selectNodeForward:P9,selectParentNode:M9,selectTextblockEnd:A9,selectTextblockStart:I9,setContent:R9,setMark:q9,setMeta:W9,setNode:K9,setNodeSelection:J9,setTextSelection:Q9,sinkListItem:Z9,splitBlock:G9,splitListItem:Y9,toggleList:X9,toggleMark:ez,toggleNode:tz,toggleWrap:rz,undoInputRule:nz,unsetAllMarks:sz,unsetMark:iz,updateAttributes:oz,wrapIn:az,wrapInList:lz});const uz=Wr.create({name:"commands",addCommands(){return{...cz}}}),dz=Wr.create({name:"editable",addProseMirrorPlugins(){return[new pn({key:new Ki("editable"),props:{editable:()=>this.editor.options.editable}})]}}),fz=Wr.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new pn({key:new Ki("focusEvents"),props:{handleDOMEvents:{focus:(e,r)=>{t.isFocused=!0;const n=t.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1},blur:(e,r)=>{t.isFocused=!1;const n=t.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1}}}})]}}),hz=Wr.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:d}=l,{pos:h,parent:p}=d,m=d.parent.isTextblock&&h>0?a.doc.resolve(h-1):d,y=m.parent.type.spec.isolating,x=d.pos-d.parentOffset,v=y&&m.parent.childCount===1?x===d.pos:ke.atStart(c).from===h;return!u||!p.type.isTextblock||p.textContent.length||!v||v&&d.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...n},i={...n,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Uv()||cN()?i:s},addProseMirrorPlugins(){return[new pn({key:new Ki("clearDocument"),appendTransaction:(t,e,r)=>{if(!(t.some(m=>m.docChanged)&&!e.doc.eq(r.doc)))return;const{empty:s,from:i,to:o}=e.selection,a=ke.atStart(e.doc).from,l=ke.atEnd(e.doc).to;if(s||!(i===a&&o===l)||!(r.doc.textBetween(0,r.doc.content.size," "," ").length===0))return;const d=r.tr,h=pp({state:r,transaction:d}),{commands:p}=new mp({editor:this.editor,state:h});if(p.clearNodes(),!!d.steps.length)return d}})]}}),pz=Wr.create({name:"tabindex",addProseMirrorPlugins(){return[new pn({key:new Ki("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class so{get name(){return this.node.type.name}constructor(e,r,n=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=r,this.currentNode=s}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let r=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}r=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:r,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),r=this.resolvedPos.doc.resolve(e);return new so(r,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new so(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new so(e,this.editor)}get children(){const e=[];return this.node.content.forEach((r,n)=>{const s=r.isBlock&&!r.isTextblock,i=this.pos+n+1,o=this.resolvedPos.doc.resolve(i);if(!s&&o.depth<=this.depth)return;const a=new so(o,this.editor,s,s?r:null);s&&(a.actualDepth=this.depth+1),e.push(new so(o,this.editor,s,s?r:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,r={}){let n=null,s=this.parent;for(;s&&!n;){if(s.node.type.name===e)if(Object.keys(r).length>0){const i=s.node.attrs,o=Object.keys(r);for(let a=0;a<o.length;a+=1){const l=o[a];if(i[l]!==r[l])break}}else n=s;s=s.parent}return n}querySelector(e,r={}){return this.querySelectorAll(e,r,!0)[0]||null}querySelectorAll(e,r={},n=!1){let s=[];if(!this.children||this.children.length===0)return s;const i=Object.keys(r);return this.children.forEach(o=>{n&&s.length>0||(o.node.type.name===e&&i.every(l=>r[l]===o.node.attrs[l])&&s.push(o),!(n&&s.length>0)&&(s=s.concat(o.querySelectorAll(e,r,n))))}),s}setAttribute(e){const r=this.editor.state.selection;this.editor.chain().setTextSelection(this.from).updateAttributes(this.node.type.name,e).setTextSelection(r.from).run()}}const mz=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function gz(t,e,r){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}let yz=class extends T8{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r}},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=gz(mz,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,r=!0){this.setOptions({editable:e}),r&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,r){const n=nN(r)?r(e,[...this.state.plugins]):[...this.state.plugins,e],s=this.state.reconfigure({plugins:n});this.view.updateState(s)}unregisterPlugin(e){if(this.isDestroyed)return;const r=typeof e=="string"?`${e}$`:e.key,n=this.state.reconfigure({plugins:this.state.plugins.filter(s=>!s.key.startsWith(r))});this.view.updateState(n)}createExtensionManager(){var e,r;const s=[...this.options.enableCoreExtensions?[dz,q8.configure({blockSeparator:(r=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||r===void 0?void 0:r.blockSeparator}),uz,fz,hz,pz]:[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new Ma(s,this)}createCommandManager(){this.commandManager=new mp({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){let e;try{e=Gy(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(i){if(!(i instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(i.message))throw i;this.emit("contentError",{editor:this,error:i,disableCollaboration:()=>{this.options.extensions=this.options.extensions.filter(o=>o.name!=="collaboration"),this.createExtensionManager()}}),e=Gy(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=aN(e,this.options.autofocus);this.view=new Q$(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:Pa.create({doc:e,selection:r||void 0})});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const r=this.capturedTransaction;return this.capturedTransaction=null,r}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(o)});return}const r=this.state.apply(e),n=!this.state.selection.eq(r.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:r}),this.view.updateState(r),this.emit("transaction",{editor:this,transaction:e}),n&&this.emit("selectionUpdate",{editor:this,transaction:e});const s=e.getMeta("focus"),i=e.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:e}),i&&this.emit("blur",{editor:this,event:i.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return B9(this.state,e)}isActive(e,r){const n=typeof e=="string"?e:null,s=typeof e=="string"?r:e;return V9(this.state,n,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return F9(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:r=`

`,textSerializers:n={}}=e||{};return $9(this.state.doc,{blockSeparator:r,textSerializers:{...iN(this.schema),...n}})}get isEmpty(){return dN(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,r){var n;return((n=this.$doc)===null||n===void 0?void 0:n.querySelector(e,r))||null}$nodes(e,r){var n;return((n=this.$doc)===null||n===void 0?void 0:n.querySelectorAll(e,r))||null}$pos(e){const r=this.state.doc.resolve(e);return new so(r,this)}get $doc(){return this.$pos(0)}};function Ol(t){return new yp({find:t.find,handler:({state:e,range:r,match:n})=>{const s=je(t.getAttributes,void 0,n);if(s===!1||s===null)return null;const{tr:i}=e,o=n[n.length-1],a=n[0];if(o){const l=a.search(/\S/),c=r.from+a.indexOf(o),u=c+o.length;if(uN(r.from,r.to,e.doc).filter(p=>p.mark.type.excluded.find(y=>y===t.type&&y!==p.mark.type)).filter(p=>p.to>c).length)return null;u<r.to&&i.delete(u,r.to),c>r.from&&i.delete(r.from+l,c);const h=r.from+l+o.length;i.addMark(r.from+l,h,t.type.create(s||{})),i.removeStoredMark(t.type)}}})}function vz(t){return new yp({find:t.find,handler:({state:e,range:r,match:n})=>{const s=je(t.getAttributes,void 0,n)||{},{tr:i}=e,o=r.from;let a=r.to;const l=t.type.create(s);if(n[1]){const c=n[0].lastIndexOf(n[1]);let u=o+c;u>a?u=a:a=u+n[1].length;const d=n[0][n[0].length-1];i.insertText(d,o+n[0].length-1),i.replaceWith(u,a,l)}else if(n[0]){const c=t.type.isInline?o:o-1;i.insert(c,t.type.create(s)).delete(i.mapping.map(o),i.mapping.map(a))}i.scrollIntoView()}})}function Xy(t){return new yp({find:t.find,handler:({state:e,range:r,match:n})=>{const s=e.doc.resolve(r.from),i=je(t.getAttributes,void 0,n)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(r.from,r.to).setBlockType(r.from,r.from,t.type,i)}})}function Iu(t){return new yp({find:t.find,handler:({state:e,range:r,match:n,chain:s})=>{const i=je(t.getAttributes,void 0,n)||{},o=e.tr.delete(r.from,r.to),l=o.doc.resolve(r.from).blockRange(),c=l&&jv(l,t.type,i);if(!c)return null;if(o.wrap(l,c),t.keepMarks&&t.editor){const{selection:d,storedMarks:h}=e,{splittableMarks:p}=t.editor.extensionManager,m=h||d.$to.parentOffset&&d.$from.marks();if(m){const y=m.filter(x=>p.includes(x.type.name));o.ensureMarks(y)}}if(t.keepAttributes){const d=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(d,i).run()}const u=o.doc.resolve(r.from-1).nodeBefore;u&&u.type===t.type&&Wi(o.doc,r.from-1)&&(!t.joinPredicate||t.joinPredicate(n,u))&&o.join(r.from-1)}})}class as{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=je(ne(this,"addOptions",{name:this.name}))),this.storage=je(ne(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new as(e)}configure(e={}){const r=this.extend({...this.config,addOptions:()=>vp(this.options,e)});return r.name=this.name,r.parent=this.parent,r}extend(e={}){const r=new as(e);return r.parent=this,this.child=r,r.name=e.name?e.name:r.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=je(ne(r,"addOptions",{name:r.name})),r.storage=je(ne(r,"addStorage",{name:r.name,options:r.options})),r}static handleExit({editor:e,mark:r}){const{tr:n}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const o=s.marks();if(!!!o.find(c=>(c==null?void 0:c.type.name)===r.name))return!1;const l=o.find(c=>(c==null?void 0:c.type.name)===r.name);return l&&n.removeStoredMark(l),n.insertText(" ",s.pos),e.view.dispatch(n),!0}return!1}}class ir{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=je(ne(this,"addOptions",{name:this.name}))),this.storage=je(ne(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new ir(e)}configure(e={}){const r=this.extend({...this.config,addOptions:()=>vp(this.options,e)});return r.name=this.name,r.parent=this.parent,r}extend(e={}){const r=new ir(e);return r.parent=this,this.child=r,r.name=e.name?e.name:r.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=je(ne(r,"addOptions",{name:r.name})),r.storage=je(ne(r,"addStorage",{name:r.name,options:r.options})),r}}function jl(t){return new F8({find:t.find,handler:({state:e,range:r,match:n,pasteEvent:s})=>{const i=je(t.getAttributes,void 0,n,s);if(i===!1||i===null)return null;const{tr:o}=e,a=n[n.length-1],l=n[0];let c=r.to;if(a){const u=l.search(/\S/),d=r.from+l.indexOf(a),h=d+a.length;if(uN(r.from,r.to,e.doc).filter(m=>m.mark.type.excluded.find(x=>x===t.type&&x!==m.mark.type)).filter(m=>m.to>d).length)return null;h<r.to&&o.delete(h,r.to),d>r.from&&o.delete(r.from+u,d),c=r.from+u+a.length,o.addMark(r.from+u,c,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}var fN={exports:{}},qm={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uw;function xz(){if(Uw)return qm;Uw=1;var t=de;function e(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,s=t.useEffect,i=t.useLayoutEffect,o=t.useDebugValue;function a(d,h){var p=h(),m=n({inst:{value:p,getSnapshot:h}}),y=m[0].inst,x=m[1];return i(function(){y.value=p,y.getSnapshot=h,l(y)&&x({inst:y})},[d,p,h]),s(function(){return l(y)&&x({inst:y}),d(function(){l(y)&&x({inst:y})})},[d]),o(p),p}function l(d){var h=d.getSnapshot;d=d.value;try{var p=h();return!r(d,p)}catch{return!0}}function c(d,h){return h()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return qm.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:u,qm}fN.exports=xz();var qv=fN.exports;const bz=(...t)=>e=>{t.forEach(r=>{typeof r=="function"?r(e):r&&(r.current=e)})},wz=({contentComponent:t})=>{const e=qv.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return de.createElement(de.Fragment,null,Object.values(e))};function Sz(){const t=new Set;let e={};return{subscribe(r){return t.add(r),()=>{t.delete(r)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(r,n){e={...e,[r]:k_.createPortal(n.reactElement,n.element,r)},t.forEach(s=>s())},removeRenderer(r){const n={...e};delete n[r],e=n,t.forEach(s=>s())}}}class kz extends de.Component{constructor(e){var r;super(e),this.editorContentRef=de.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((r=e.editor)===null||r===void 0)&&r.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const r=this.editorContentRef.current;r.append(...e.options.element.childNodes),e.setOptions({element:r}),e.contentComponent=Sz(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const r=document.createElement("div");r.append(...e.options.element.childNodes),e.setOptions({element:r})}render(){const{editor:e,innerRef:r,...n}=this.props;return de.createElement(de.Fragment,null,de.createElement("div",{ref:bz(r,this.editorContentRef),...n}),(e==null?void 0:e.contentComponent)&&de.createElement(wz,{contentComponent:e.contentComponent}))}}const _z=C.forwardRef((t,e)=>{const r=de.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return de.createElement(kz,{key:r,innerRef:e,...t})}),hN=de.memo(_z);var pN={exports:{}},Wm={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hw;function Ez(){if(Hw)return Wm;Hw=1;var t=de,e=qv;function r(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var n=typeof Object.is=="function"?Object.is:r,s=e.useSyncExternalStore,i=t.useRef,o=t.useEffect,a=t.useMemo,l=t.useDebugValue;return Wm.useSyncExternalStoreWithSelector=function(c,u,d,h,p){var m=i(null);if(m.current===null){var y={hasValue:!1,value:null};m.current=y}else y=m.current;m=a(function(){function v(N){if(!g){if(g=!0,b=N,N=h(N),p!==void 0&&y.hasValue){var T=y.value;if(p(T,N))return S=T}return S=N}if(T=S,n(b,N))return T;var w=h(N);return p!==void 0&&p(T,w)?T:(b=N,S=w)}var g=!1,b,S,j=d===void 0?null:d;return[function(){return v(u())},j===null?void 0:function(){return v(j())}]},[u,d,h,p]);var x=s(c,m[0],m[1]);return o(function(){y.hasValue=!0,y.value=x},[x]),l(x),x},Wm}pN.exports=Ez();var Cz=pN.exports;class Nz{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const r=()=>{this.transactionNumber+=1,this.subscribers.forEach(s=>s())},n=this.editor;return n.on("transaction",r),()=>{n.off("transaction",r)}}}}function Oz(t){const[e]=C.useState(()=>new Nz(t.editor)),r=Cz.useSyncExternalStoreWithSelector(e.subscribe,e.getSnapshot,e.getServerSnapshot,t.selector,t.equalityFn);return C.useEffect(()=>e.watch(t.editor),[t.editor,e]),C.useDebugValue(r),r}const jz=!1,e0=typeof window>"u",Tz=e0||!!(typeof window<"u"&&window.next);class Pz{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(r=>r())}getInitialEditor(){if(this.options.current.immediatelyRender===void 0)return e0||Tz?null:this.createEditor();if(this.options.current.immediatelyRender&&e0&&jz)throw new Error("Tiptap Error: SSR has been detected, and `immediatelyRender` has been set to `true` this is an unsupported configuration that may result in errors, explicitly set `immediatelyRender` to `false` to avoid hydration mismatches.");return this.options.current.immediatelyRender?this.createEditor():null}createEditor(){const e={...this.options.current,onBeforeCreate:(...n)=>{var s,i;return(i=(s=this.options.current).onBeforeCreate)===null||i===void 0?void 0:i.call(s,...n)},onBlur:(...n)=>{var s,i;return(i=(s=this.options.current).onBlur)===null||i===void 0?void 0:i.call(s,...n)},onCreate:(...n)=>{var s,i;return(i=(s=this.options.current).onCreate)===null||i===void 0?void 0:i.call(s,...n)},onDestroy:(...n)=>{var s,i;return(i=(s=this.options.current).onDestroy)===null||i===void 0?void 0:i.call(s,...n)},onFocus:(...n)=>{var s,i;return(i=(s=this.options.current).onFocus)===null||i===void 0?void 0:i.call(s,...n)},onSelectionUpdate:(...n)=>{var s,i;return(i=(s=this.options.current).onSelectionUpdate)===null||i===void 0?void 0:i.call(s,...n)},onTransaction:(...n)=>{var s,i;return(i=(s=this.options.current).onTransaction)===null||i===void 0?void 0:i.call(s,...n)},onUpdate:(...n)=>{var s,i;return(i=(s=this.options.current).onUpdate)===null||i===void 0?void 0:i.call(s,...n)},onContentError:(...n)=>{var s,i;return(i=(s=this.options.current).onContentError)===null||i===void 0?void 0:i.call(s,...n)}};return new yz(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?this.editor.setOptions(this.options.current):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((n,s)=>n===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,r=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){r&&r.setOptions(this.options.current);return}r&&!r.isDestroyed&&(r.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function mN(t={},e=[]){const r=C.useRef(t);r.current=t;const[n]=C.useState(()=>new Pz(r)),s=qv.useSyncExternalStore(n.subscribe,n.getEditor,n.getServerSnapshot);return C.useDebugValue(s),C.useEffect(n.onRender(e)),Oz({editor:s,selector:({transactionNumber:i})=>t.shouldRerenderOnTransaction===!1?null:t.immediatelyRender&&i===0?0:i+1}),s}const Mz=C.createContext({editor:null});Mz.Consumer;const Az=C.createContext({onDragStart:void 0}),Iz=()=>C.useContext(Az);de.forwardRef((t,e)=>{const{onDragStart:r}=Iz(),n=t.as||"div";return de.createElement(n,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:r,style:{whiteSpace:"normal",...t.style}})});const Rz=/^\s*>\s$/,Dz=ir.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",Mt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Iu({find:Rz,type:this.type})]}}),Lz=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Fz=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,$z=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,zz=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Bz=as.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",Mt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Ol({find:Lz,type:this.type}),Ol({find:$z,type:this.type})]},addPasteRules(){return[jl({find:Fz,type:this.type}),jl({find:zz,type:this.type})]}}),Vz=ir.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Mt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),qw=as.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",Mt(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const r=bp(t,this.type);return Object.entries(r).some(([,s])=>!!s)?!0:e.unsetMark(this.name)}}}}),Ww=/^\s*([-+*])\s$/,Uz=ir.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Mt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Vz.name,this.editor.getAttributes(qw.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Iu({find:Ww,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Iu({find:Ww,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(qw.name),editor:this.editor})),[t]}}),Hz=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))$/,qz=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))/g,Wz=as.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Mt(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Ol({find:Hz,type:this.type})]},addPasteRules(){return[jl({find:qz,type:this.type})]}}),Kz=/^```([a-z]+)?[\s\n]$/,Jz=/^~~~([a-z]+)?[\s\n]$/,Qz=ir.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:r}=this.options,i=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(r)).map(o=>o.replace(r,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Mt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,r=e.pos===1;return!t||e.parent.type.name!==this.name?!1:r||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:r}=e,{$from:n,empty:s}=r;if(!s||n.parent.type!==this.type)return!1;const i=n.parentOffset===n.parent.nodeSize-2,o=n.parent.textContent.endsWith(`

`);return!i||!o?!1:t.chain().command(({tr:a})=>(a.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:r,doc:n}=e,{$from:s,empty:i}=r;if(!i||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const a=s.after();return a===void 0?!1:n.nodeAt(a)?t.commands.command(({tr:c})=>(c.setSelection(ke.near(n.resolve(a))),!0)):t.commands.exitCode()}}},addInputRules(){return[Xy({find:Kz,type:this.type,getAttributes:t=>({language:t[1]})}),Xy({find:Jz,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new pn({key:new Ki("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const r=e.clipboardData.getData("text/plain"),n=e.clipboardData.getData("vscode-editor-data"),s=n?JSON.parse(n):void 0,i=s==null?void 0:s.mode;if(!r||!i)return!1;const{tr:o,schema:a}=t.state,l=a.text(r.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:i},l)),o.selection.$from.parent.type!==this.type&&o.setSelection(be.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),Zz=ir.create({name:"doc",topNode:!0,content:"block+"});function Gz(t={}){return new pn({view(e){return new Yz(e,t)}})}class Yz{constructor(e,r){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=r.width)!==null&&n!==void 0?n:1,this.color=r.color===!1?void 0:r.color||"black",this.class=r.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let i=o=>{this[s](o)};return e.dom.addEventListener(s,i),{name:s,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:r})=>this.editorView.dom.removeEventListener(e,r))}update(e,r){this.cursorPos!=null&&r.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),r=!e.parent.inlineContent,n;if(r){let a=e.nodeBefore,l=e.nodeAfter;if(a||l){let c=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(c){let u=c.getBoundingClientRect(),d=a?u.bottom:u.top;a&&l&&(d=(d+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),n={left:u.left,right:u.right,top:d-this.width/2,bottom:d+this.width/2}}}}if(!n){let a=this.editorView.coordsAtPos(this.cursorPos);n={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let s=this.editorView.dom.offsetParent;this.element||(this.element=s.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r);let i,o;if(!s||s==document.body&&getComputedStyle(s).position=="static")i=-pageXOffset,o=-pageYOffset;else{let a=s.getBoundingClientRect();i=a.left-s.scrollLeft,o=a.top-s.scrollTop}this.element.style.left=n.left-i+"px",this.element.style.top=n.top-o+"px",this.element.style.width=n.right-n.left+"px",this.element.style.height=n.bottom-n.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let r=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=r&&r.inside>=0&&this.editorView.state.doc.nodeAt(r.inside),s=n&&n.type.spec.disableDropCursor,i=typeof s=="function"?s(this.editorView,r,e):s;if(r&&!i){let o=r.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=l2(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const Xz=Wr.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Gz(this.options)]}});class mt extends ke{constructor(e){super(e,e)}map(e,r){let n=e.resolve(r.map(this.head));return mt.valid(n)?new mt(n):ke.near(n)}content(){return G.empty}eq(e){return e instanceof mt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new mt(e.resolve(r.pos))}getBookmark(){return new Wv(this.anchor)}static valid(e){let r=e.parent;if(r.isTextblock||!eB(e)||!tB(e))return!1;let n=r.type.spec.allowGapCursor;if(n!=null)return n;let s=r.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,r,n=!1){e:for(;;){if(!n&&mt.valid(e))return e;let s=e.pos,i=null;for(let o=e.depth;;o--){let a=e.node(o);if(r>0?e.indexAfter(o)<a.childCount:e.index(o)>0){i=a.child(r>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;s+=r;let l=e.doc.resolve(s);if(mt.valid(l))return l}for(;;){let o=r>0?i.firstChild:i.lastChild;if(!o){if(i.isAtom&&!i.isText&&!he.isSelectable(i)){e=e.doc.resolve(s+i.nodeSize*r),n=!1;continue e}break}i=o,s+=r;let a=e.doc.resolve(s);if(mt.valid(a))return a}return null}}}mt.prototype.visible=!1;mt.findFrom=mt.findGapCursorFrom;ke.jsonID("gapcursor",mt);class Wv{constructor(e){this.pos=e}map(e){return new Wv(e.map(this.pos))}resolve(e){let r=e.resolve(this.pos);return mt.valid(r)?new mt(r):ke.near(r)}}function eB(t){for(let e=t.depth;e>=0;e--){let r=t.index(e),n=t.node(e);if(r==0){if(n.type.spec.isolating)return!0;continue}for(let s=n.child(r-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function tB(t){for(let e=t.depth;e>=0;e--){let r=t.indexAfter(e),n=t.node(e);if(r==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let s=n.child(r);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function rB(){return new pn({props:{decorations:oB,createSelectionBetween(t,e,r){return e.pos==r.pos&&mt.valid(r)?new mt(r):null},handleClick:sB,handleKeyDown:nB,handleDOMEvents:{beforeinput:iB}}})}const nB=Q2({ArrowLeft:Xd("horiz",-1),ArrowRight:Xd("horiz",1),ArrowUp:Xd("vert",-1),ArrowDown:Xd("vert",1)});function Xd(t,e){const r=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(n,s,i){let o=n.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof be){if(!i.endOfTextblock(r)||a.depth==0)return!1;l=!1,a=n.doc.resolve(e>0?a.after():a.before())}let c=mt.findGapCursorFrom(a,e,l);return c?(s&&s(n.tr.setSelection(new mt(c))),!0):!1}}function sB(t,e,r){if(!t||!t.editable)return!1;let n=t.state.doc.resolve(e);if(!mt.valid(n))return!1;let s=t.posAtCoords({left:r.clientX,top:r.clientY});return s&&s.inside>-1&&he.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new mt(n))),!0)}function iB(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof mt))return!1;let{$from:r}=t.state.selection,n=r.parent.contentMatchAt(r.index()).findWrapping(t.state.schema.nodes.text);if(!n)return!1;let s=F.empty;for(let o=n.length-1;o>=0;o--)s=F.from(n[o].createAndFill(null,s));let i=t.state.tr.replace(r.pos,r.pos,new G(s,0,0));return i.setSelection(be.near(i.doc.resolve(r.pos+1))),t.dispatch(i),!1}function oB(t){if(!(t.selection instanceof mt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",jt.create(t.doc,[an.widget(t.selection.head,e,{key:"gapcursor"})])}const aB=Wr.create({name:"gapCursor",addProseMirrorPlugins(){return[rB()]},extendNodeSchema(t){var e;const r={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=je(ne(t,"allowGapCursor",r)))!==null&&e!==void 0?e:null}}}),lB=ir.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Mt(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:r,editor:n})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:i}=r;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=n.extensionManager,l=i||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&o){const d=l.filter(h=>a.includes(h.type.name));c.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),cB=ir.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Mt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>Xy({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var Ph=200,Bt=function(){};Bt.prototype.append=function(e){return e.length?(e=Bt.from(e),!this.length&&e||e.length<Ph&&this.leafAppend(e)||this.length<Ph&&e.leafPrepend(this)||this.appendInner(e)):this};Bt.prototype.prepend=function(e){return e.length?Bt.from(e).append(this):this};Bt.prototype.appendInner=function(e){return new uB(this,e)};Bt.prototype.slice=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=this.length),e>=r?Bt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,r))};Bt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Bt.prototype.forEach=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(e,r,n,0):this.forEachInvertedInner(e,r,n,0)};Bt.prototype.map=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var s=[];return this.forEach(function(i,o){return s.push(e(i,o))},r,n),s};Bt.from=function(e){return e instanceof Bt?e:e&&e.length?new gN(e):Bt.empty};var gN=function(t){function e(n){t.call(this),this.values=n}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,i){return s==0&&i==this.length?this:new e(this.values.slice(s,i))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,i,o,a){for(var l=i;l<o;l++)if(s(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(s,i,o,a){for(var l=i-1;l>=o;l--)if(s(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=Ph)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=Ph)return new e(s.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e}(Bt);Bt.empty=new gN([]);var uB=function(t){function e(r,n){t.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,s,i,o){var a=this.left.length;if(s<a&&this.left.forEachInner(n,s,Math.min(i,a),o)===!1||i>a&&this.right.forEachInner(n,Math.max(s-a,0),Math.min(this.length,i)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(n,s,i,o){var a=this.left.length;if(s>a&&this.right.forEachInvertedInner(n,s-a,Math.max(i,a)-a,o+a)===!1||i<a&&this.left.forEachInvertedInner(n,Math.min(s,a),i,o)===!1)return!1},e.prototype.sliceInner=function(n,s){if(n==0&&s==this.length)return this;var i=this.left.length;return s<=i?this.left.slice(n,s):n>=i?this.right.slice(n-i,s-i):this.left.slice(n,i).append(this.right.slice(0,s-i))},e.prototype.leafAppend=function(n){var s=this.right.leafAppend(n);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(n){var s=this.left.leafPrepend(n);if(s)return new e(s,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e}(Bt);const dB=500;class Tn{constructor(e,r){this.items=e,this.eventCount=r}popEvent(e,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let s,i;r&&(s=this.remapping(n,this.items.length),i=s.maps.length);let o=e.tr,a,l,c=[],u=[];return this.items.forEach((d,h)=>{if(!d.step){s||(s=this.remapping(n,h+1),i=s.maps.length),i--,u.push(d);return}if(s){u.push(new Vn(d.map));let p=d.step.map(s.slice(i)),m;p&&o.maybeStep(p).doc&&(m=o.mapping.maps[o.mapping.maps.length-1],c.push(new Vn(m,void 0,void 0,c.length+u.length))),i--,m&&s.appendMap(m,i)}else o.maybeStep(d.step);if(d.selection)return a=s?d.selection.map(s.slice(i)):d.selection,l=new Tn(this.items.slice(0,n).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,r,n,s){let i=[],o=this.eventCount,a=this.items,l=!s&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let d=e.steps[u].invert(e.docs[u]),h=new Vn(e.mapping.maps[u],d,r),p;(p=l&&l.merge(h))&&(h=p,u?i.pop():a=a.slice(0,a.length-1)),i.push(h),r&&(o++,r=void 0),s||(l=h)}let c=o-n.depth;return c>hB&&(a=fB(a,c),o-=c),new Tn(a.append(i),o)}remapping(e,r){let n=new Ua;return this.items.forEach((s,i)=>{let o=s.mirrorOffset!=null&&i-s.mirrorOffset>=e?n.maps.length-s.mirrorOffset:void 0;n.appendMap(s.map,o)},e,r),n}addMaps(e){return this.eventCount==0?this:new Tn(this.items.append(e.map(r=>new Vn(r))),this.eventCount)}rebased(e,r){if(!this.eventCount)return this;let n=[],s=Math.max(0,this.items.length-r),i=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(h=>{h.selection&&a--},s);let l=r;this.items.forEach(h=>{let p=i.getMirror(--l);if(p==null)return;o=Math.min(o,p);let m=i.maps[p];if(h.step){let y=e.steps[p].invert(e.docs[p]),x=h.selection&&h.selection.map(i.slice(l+1,p));x&&a++,n.push(new Vn(m,y,x))}else n.push(new Vn(m))},s);let c=[];for(let h=r;h<o;h++)c.push(new Vn(i.maps[h]));let u=this.items.slice(0,s).append(c).append(n),d=new Tn(u,a);return d.emptyItemCount()>dB&&(d=d.compress(this.items.length-n.length)),d}emptyItemCount(){let e=0;return this.items.forEach(r=>{r.step||e++}),e}compress(e=this.items.length){let r=this.remapping(0,e),n=r.maps.length,s=[],i=0;return this.items.forEach((o,a)=>{if(a>=e)s.push(o),o.selection&&i++;else if(o.step){let l=o.step.map(r.slice(n)),c=l&&l.getMap();if(n--,c&&r.appendMap(c,n),l){let u=o.selection&&o.selection.map(r.slice(n));u&&i++;let d=new Vn(c.invert(),l,u),h,p=s.length-1;(h=s.length&&s[p].merge(d))?s[p]=h:s.push(d)}}else o.map&&n--},this.items.length,0),new Tn(Bt.from(s.reverse()),i)}}Tn.empty=new Tn(Bt.empty,0);function fB(t,e){let r;return t.forEach((n,s)=>{if(n.selection&&e--==0)return r=s,!1}),t.slice(r)}class Vn{constructor(e,r,n,s){this.map=e,this.step=r,this.selection=n,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let r=e.step.merge(this.step);if(r)return new Vn(r.getMap().invert(),r,this.selection)}}}class ti{constructor(e,r,n,s,i){this.done=e,this.undone=r,this.prevRanges=n,this.prevTime=s,this.prevComposition=i}}const hB=20;function pB(t,e,r,n){let s=r.getMeta(Mo),i;if(s)return s.historyState;r.getMeta(yB)&&(t=new ti(t.done,t.undone,null,0,-1));let o=r.getMeta("appendedTransaction");if(r.steps.length==0)return t;if(o&&o.getMeta(Mo))return o.getMeta(Mo).redo?new ti(t.done.addTransform(r,void 0,n,_f(e)),t.undone,Kw(r.mapping.maps),t.prevTime,t.prevComposition):new ti(t.done,t.undone.addTransform(r,void 0,n,_f(e)),null,t.prevTime,t.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=r.getMeta("composition"),l=t.prevTime==0||!o&&t.prevComposition!=a&&(t.prevTime<(r.time||0)-n.newGroupDelay||!mB(r,t.prevRanges)),c=o?Km(t.prevRanges,r.mapping):Kw(r.mapping.maps);return new ti(t.done.addTransform(r,l?e.selection.getBookmark():void 0,n,_f(e)),Tn.empty,c,r.time,a??t.prevComposition)}else return(i=r.getMeta("rebased"))?new ti(t.done.rebased(r,i),t.undone.rebased(r,i),Km(t.prevRanges,r.mapping),t.prevTime,t.prevComposition):new ti(t.done.addMaps(r.mapping.maps),t.undone.addMaps(r.mapping.maps),Km(t.prevRanges,r.mapping),t.prevTime,t.prevComposition)}function mB(t,e){if(!e)return!1;if(!t.docChanged)return!0;let r=!1;return t.mapping.maps[0].forEach((n,s)=>{for(let i=0;i<e.length;i+=2)n<=e[i+1]&&s>=e[i]&&(r=!0)}),r}function Kw(t){let e=[];for(let r=t.length-1;r>=0&&e.length==0;r--)t[r].forEach((n,s,i,o)=>e.push(i,o));return e}function Km(t,e){if(!t)return null;let r=[];for(let n=0;n<t.length;n+=2){let s=e.map(t[n],1),i=e.map(t[n+1],-1);s<=i&&r.push(s,i)}return r}function gB(t,e,r){let n=_f(e),s=Mo.get(e).spec.config,i=(r?t.undone:t.done).popEvent(e,n);if(!i)return null;let o=i.selection.resolve(i.transform.doc),a=(r?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),s,n),l=new ti(r?a:i.remaining,r?i.remaining:a,null,0,-1);return i.transform.setSelection(o).setMeta(Mo,{redo:r,historyState:l})}let Jm=!1,Jw=null;function _f(t){let e=t.plugins;if(Jw!=e){Jm=!1,Jw=e;for(let r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){Jm=!0;break}}return Jm}const Mo=new Ki("history"),yB=new Ki("closeHistory");function vB(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new pn({key:Mo,state:{init(){return new ti(Tn.empty,Tn.empty,null,0,-1)},apply(e,r,n){return pB(r,n,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,r){let n=r.inputType,s=n=="historyUndo"?vN:n=="historyRedo"?xN:null;return s?(r.preventDefault(),s(e.state,e.dispatch)):!1}}}})}function yN(t,e){return(r,n)=>{let s=Mo.getState(r);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(n){let i=gB(s,r,t);i&&n(e?i.scrollIntoView():i)}return!0}}const vN=yN(!1,!0),xN=yN(!0,!0),xB=Wr.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>vN(t,e),redo:()=>({state:t,dispatch:e})=>xN(t,e)}},addProseMirrorPlugins(){return[vB(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),bB=ir.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Mt(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{selection:r}=e,{$from:n,$to:s}=r,i=t();return n.parentOffset===0?i.insertContentAt({from:Math.max(n.pos-1,0),to:s.pos},{type:this.name}):U9(r)?i.insertContentAt(s.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({tr:o,dispatch:a})=>{var l;if(a){const{$to:c}=o.selection,u=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?o.setSelection(be.create(o.doc,c.pos+1)):c.nodeAfter.isBlock?o.setSelection(he.create(o.doc,c.pos)):o.setSelection(be.create(o.doc,c.pos));else{const d=(l=c.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();d&&(o.insert(u,d),o.setSelection(be.create(o.doc,u+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[vz({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),wB=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,SB=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,kB=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,_B=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,EB=as.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Mt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Ol({find:wB,type:this.type}),Ol({find:kB,type:this.type})]},addPasteRules(){return[jl({find:SB,type:this.type}),jl({find:_B,type:this.type})]}}),CB=ir.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Mt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),NB=ir.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Mt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Qw=as.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",Mt(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const r=bp(t,this.type);return Object.entries(r).some(([,s])=>!!s)?!0:e.unsetMark(this.name)}}}}),Zw=/^(\d+)\.\s$/,OB=ir.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...r}=t;return e===1?["ol",Mt(this.options.HTMLAttributes,r),0]:["ol",Mt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(NB.name,this.editor.getAttributes(Qw.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Iu({find:Zw,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Iu({find:Zw,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Qw.name)}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1],editor:this.editor})),[t]}}),jB=ir.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Mt(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),TB=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,PB=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,MB=as.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Mt(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Ol({find:TB,type:this.type})]},addPasteRules(){return[jl({find:PB,type:this.type})]}}),AB=ir.create({name:"text",group:"inline"}),bN=Wr.create({name:"starterKit",addExtensions(){var t,e,r,n,s,i,o,a,l,c,u,d,h,p,m,y,x,v;const g=[];return this.options.bold!==!1&&g.push(Bz.configure((t=this.options)===null||t===void 0?void 0:t.bold)),this.options.blockquote!==!1&&g.push(Dz.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bulletList!==!1&&g.push(Uz.configure((r=this.options)===null||r===void 0?void 0:r.bulletList)),this.options.code!==!1&&g.push(Wz.configure((n=this.options)===null||n===void 0?void 0:n.code)),this.options.codeBlock!==!1&&g.push(Qz.configure((s=this.options)===null||s===void 0?void 0:s.codeBlock)),this.options.document!==!1&&g.push(Zz.configure((i=this.options)===null||i===void 0?void 0:i.document)),this.options.dropcursor!==!1&&g.push(Xz.configure((o=this.options)===null||o===void 0?void 0:o.dropcursor)),this.options.gapcursor!==!1&&g.push(aB.configure((a=this.options)===null||a===void 0?void 0:a.gapcursor)),this.options.hardBreak!==!1&&g.push(lB.configure((l=this.options)===null||l===void 0?void 0:l.hardBreak)),this.options.heading!==!1&&g.push(cB.configure((c=this.options)===null||c===void 0?void 0:c.heading)),this.options.history!==!1&&g.push(xB.configure((u=this.options)===null||u===void 0?void 0:u.history)),this.options.horizontalRule!==!1&&g.push(bB.configure((d=this.options)===null||d===void 0?void 0:d.horizontalRule)),this.options.italic!==!1&&g.push(EB.configure((h=this.options)===null||h===void 0?void 0:h.italic)),this.options.listItem!==!1&&g.push(CB.configure((p=this.options)===null||p===void 0?void 0:p.listItem)),this.options.orderedList!==!1&&g.push(OB.configure((m=this.options)===null||m===void 0?void 0:m.orderedList)),this.options.paragraph!==!1&&g.push(jB.configure((y=this.options)===null||y===void 0?void 0:y.paragraph)),this.options.strike!==!1&&g.push(MB.configure((x=this.options)===null||x===void 0?void 0:x.strike)),this.options.text!==!1&&g.push(AB.configure((v=this.options)===null||v===void 0?void 0:v.text)),g}}),IB=({editor:t})=>{const e=r=>`w-8 h-7 grid place-items-center  border text-sm rounded transition-all ${r?"border-blue-500 bg-blue-100 text-blue-700":"border-gray-300 bg-white text-gray-600 hover:bg-gray-100"}`;return t?f.jsxs("div",{className:"flex flex-wrap gap-3",children:[f.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),className:e(t.isActive("heading",{level:1})),type:"button",children:"H1"}),f.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:e(t.isActive("heading",{level:2})),type:"button",children:"H2"}),f.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),className:e(t.isActive("heading",{level:3})),type:"button",children:"H3"}),f.jsx("button",{onClick:()=>t.chain().focus().toggleBold().run(),className:e(t.isActive("bold")),type:"button",children:"N"}),f.jsx("button",{onClick:()=>t.chain().focus().toggleItalic().run(),className:e(t.isActive("italic")),type:"button",children:"K"}),f.jsx("button",{onClick:()=>t.chain().focus().toggleStrike().run(),className:e(t.isActive("strike")),type:"button",children:"S"})]}):null},RB=({setValue:t,errors:e,initialContent:r})=>{const n=mN({extensions:[bN],content:r||"",onUpdate:({editor:s})=>{const i=s.getJSON();t("description",i,{shouldValidate:!0})},editorProps:{attributes:{class:"focus:outline-none min-h-[150px] prose prose-sm sm:prose-base"}}});return C.useEffect(()=>{r&&n&&n.commands.setContent(r)},[r,n]),f.jsxs("div",{className:"space-y-3",children:[f.jsx(IB,{editor:n}),f.jsx(hN,{editor:n}),e.description&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:e.description.message||"Debe escribir una descripción"})]})},wN=({titleForm:t})=>{const{register:e,handleSubmit:r,formState:{errors:n},setValue:s,watch:i,control:o}=Ev({resolver:Cv(y6)}),{slug:a}=Ku(),{product:l,isLoading:c}=lC(a||""),{mutate:u,isPending:d}=iL(),{mutate:h,isPending:p}=aL((l==null?void 0:l.id)||""),m=Ut();C.useEffect(()=>{l&&!c&&(s("name",l.name),s("slug",l.slug),s("brand",l.brand),s("description",l.description),s("images",l.images),s("variants",l.variants.map(v=>({id:v.id,stock:v.stock,price:v.price,type:v.type,target:v.target,kg:v.kg}))))},[l,c,s]);const y=r(v=>{a?h({name:xt(v.name),brand:xt(v.brand),slug:xt(v.slug),variants:v.variants,images:v.images,description:v.description}):u({name:xt(v.name),brand:xt(v.brand),slug:xt(v.slug),variants:v.variants,images:v.images,description:v.description})}),x=i("name");return C.useEffect(()=>{if(!x)return;const v=SA(x);s("slug",v,{shouldValidate:!0})},[x,s]),d||p||c?f.jsx(br,{}):f.jsxs("div",{className:"flex flex-col gap-6 relative",children:[f.jsx("div",{className:"flex justify-between items-center",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{className:"bg-white p-1.5 rounded-md shadow-sm border border-slate-200 transition-all group hover:scale-105",onClick:()=>m(-1),children:f.jsx(SL,{size:18,className:"transition-all group-hover:scale-125"})}),f.jsx("h2",{className:"font-bold tracking-tight text-2xl capitalize",children:t})]})}),f.jsxs("form",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 auto-rows-max flex-1",onSubmit:y,children:[f.jsx(oc,{titleSection:"Detalles del Producto",className:"lg:col-span-2 lg:row-span-2",children:f.jsx(Nm,{type:"text",label:"nombre",name:"name",register:e,errors:n,required:!0})}),f.jsxs(oc,{children:[f.jsx(Nm,{type:"text",label:"Slug",name:"slug",register:e,errors:n}),f.jsx(Nm,{type:"text",label:"Marca",name:"brand",register:e,errors:n,required:!0})]}),f.jsx(oc,{titleSection:"Variantes del Producto",className:"lg:col-span-2 h-fit",children:f.jsx(x6,{control:o,errors:n,register:e})}),f.jsx(oc,{titleSection:"Imágenes del producto",children:f.jsx(b6,{errors:n,setValue:s,watch:i})}),f.jsx(oc,{titleSection:"Descripción del producto",className:"col-span-full",children:f.jsx(RB,{setValue:s,errors:n,initialContent:l==null?void 0:l.description})}),f.jsxs("div",{className:"flex gap-3 absolute top-0 right-0",children:[f.jsx("button",{className:"btn-secondary bg-black rounded-md text-white hover:bg-red-500",type:"button",onClick:()=>m(-1),children:"Cancelar"}),f.jsx("button",{className:"btn-primary hover:bg-cyan-600",type:"submit",children:"Guardar Producto"})]})]})]})},DB=({clientes:t})=>f.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[f.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Recordatorios"}),f.jsxs("p",{className:"text-gray-600",children:["No tienes recordatorios pendientes para",t.map(e=>e.nombre).join(", "),"."]})]}),LB=()=>{const t=Ut(),{isLoading:e,session:r}=ea(),[n,s]=C.useState(!0);return C.useEffect(()=>{(async()=>{var l;s(!0);const o=await $E();o||t("/login"),await zE((l=o.session)==null?void 0:l.user.id)!=="admin"&&t("/",{replace:!0}),s(!1)})(),fe.auth.onAuthStateChange(async(o,a)=>{(o==="SIGNED_OUT"||!a)&&t("/login",{replace:!0})})},[t]),e||!r||n?f.jsx(br,{}):f.jsxs("div",{className:"flex bg-gray-100 min-h-screen font-montserrat",children:[f.jsx(RL,{}),f.jsx("main",{className:"container m-5 mt-7 flex-1 text-slate-800 ml-[140px] lg:ml-[270px]",children:f.jsx(rv,{})})]})},FB=[{image:"/img/brands/HPM-logo.png",alt:"HPM"},{image:"/img/brands/RoyalCanin-logo.png",alt:"RoyalCanin"},{image:"/img/brands/Proplan-logo.png",alt:"Proplan"},{image:"/img/brands/Hills-logo.png",alt:"Hills"},{image:"/img/brands/Excellent-logo.png",alt:"Excellent"}],$B=()=>f.jsxs("div",{className:"w-full flex flex-col items-center justify-between gap-1 pt-10 pb-10 bg-gray-950 rounded-lg",children:[f.jsx("h2",{className:"font-bold text-2xl text-white gap-3",children:"Marcas disponibles"}),f.jsx("p",{className:"w-2/3 text-center text-sm md:text-base justify-between text-white",children:"Tenemos lo mejor en productos para el cuidado de tus mascotas."}),f.jsx("div",{className:"grid grid-cols-2 gap-3 mt-4 items-center md:grid-cols-2 bg-gray-950 p-1 rounded-lg",children:FB.map((t,e)=>f.jsx("div",{children:f.jsx("img",{src:t.image,alt:t.alt})},e))})]});function zB(t){return Fe({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M0.949988 4.48455C0.949988 5.34059 1.64395 6.03455 2.49999 6.03455C3.35603 6.03455 4.04999 5.34059 4.04999 4.48455C4.04999 3.6285 3.35603 2.93455 2.49999 2.93455C1.64395 2.93455 0.949988 3.6285 0.949988 4.48455ZM2.49999 6.93455C1.14689 6.93455 0.0499878 5.83764 0.0499878 4.48455C0.0499878 3.13145 1.14689 2.03455 2.49999 2.03455C3.85309 2.03455 4.94999 3.13145 4.94999 4.48455C4.94999 4.80813 4.88726 5.11707 4.77329 5.39985L5.73655 6.04413C5.72943 6.06656 5.72269 6.08914 5.71635 6.11188L5.56288 6.66186L5.21005 6.89773L4.21554 6.23366C3.77357 6.6672 3.168 6.93455 2.49999 6.93455ZM0.949991 10.5C0.949991 9.64394 1.64395 8.94998 2.49999 8.94998C3.35603 8.94998 4.04999 9.64394 4.04999 10.5C4.04999 11.356 3.35603 12.05 2.49999 12.05C1.64395 12.05 0.949991 11.356 0.949991 10.5ZM2.49999 8.04998C1.14689 8.04998 0.0499908 9.14688 0.0499908 10.5C0.0499908 11.8531 1.14689 12.95 2.49999 12.95C3.85309 12.95 4.94999 11.8531 4.94999 10.5C4.94999 10.1803 4.88877 9.87497 4.77743 9.595L15 2.75737L14.0486 2.85737C12.7077 2.9983 11.4091 3.40895 10.231 4.06461L7.15646 5.77564C6.92307 5.90553 6.75134 6.12339 6.67955 6.38066L6.42653 7.28737L4.22437 8.75957C3.78166 8.32091 3.17246 8.04998 2.49999 8.04998ZM7.14435 9.2149L7.15646 9.22176L10.231 10.9328C11.4091 11.5884 12.7077 11.9991 14.0486 12.14L15 12.24L8.81072 8.1003L7.14435 9.2149Z",fill:"currentColor"},child:[]}]})(t)}function BB(t){return Fe({tag:"svg",attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M14.33 8l-1.876-4.377-3.438 9.783-4.015-13.11-2.37 7.704h-2.631v1h3.369l1.63-5.296 3.95 12.903 3.597-10.23 1.124 2.623h3.33v-1z"},child:[]}]})(t)}function VB(t){return Fe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7 13c1.66 0 3-1.34 3-3S8.66 7 7 7s-3 1.34-3 3 1.34 3 3 3zm12-6h-8v7H3V5H1v15h2v-3h18v3h2v-9c0-2.21-1.79-4-4-4z"},child:[]}]})(t)}function UB(t){return Fe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4zM6 18.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm13.5-9 1.96 2.5H17V9.5h2.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"},child:[]}]})(t)}const HB=()=>{const[t,e]=C.useState(!1),r=()=>e(!0),n=()=>e(!1),[s,i]=C.useState(!1),o=()=>i(!0),a=()=>i(!1),[l,c]=C.useState(!1),u=()=>c(!0),d=()=>c(!1),[h,p]=C.useState(!1),m=()=>p(!0),y=()=>p(!1),[x,v]=C.useState(!1),g=()=>v(!0),b=()=>v(!1);return f.jsxs("div",{className:"grid grid-cols-2 gap-8 mt-6 mb-16 lg:grid-cols-5 lg:gap-5",children:[f.jsxs("div",{className:"flex relative group overflow-hidden items-center gap-6",children:[f.jsx(UB,{className:"text-slate-600",size:40}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("p",{className:"font-semibold",children:"Servicio de transporte"}),f.jsx("p",{className:"text-sm",children:"Envío de productos y recolección y entrega de mascotas."})]}),f.jsx("button",{className:"bg-white border border-slate-200 absolute w-full bottom-0 py-3 rounded-3xl flex items-center justify-center gap-1 text-sm font-medium hover:bg-stone-100 translate-y-[100%] transition-all duration-300 group-hover:translate-y-0",onClick:r,children:"Más información"}),f.jsx(fa,{isOpen:t,closeModal:n,children:f.jsx(y7,{})})]}),f.jsxs("div",{className:"flex relative group overflow-hidden items-center gap-6",children:[f.jsx(BB,{className:"text-slate-600",size:40}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("p",{className:"font-semibold",children:"Servicio médico"}),f.jsx("p",{className:"text-sm",children:"Consulta, medicina preventiva, cirugía y hospitalización."})]}),f.jsx("button",{className:"bg-white border border-slate-200 absolute w-full bottom-0 py-3 rounded-3xl flex items-center justify-center gap-1 text-sm font-medium hover:bg-stone-100 translate-y-[100%] transition-all duration-300 group-hover:translate-y-0",onClick:o,children:"Más información"}),f.jsx(fa,{isOpen:s,closeModal:a,children:f.jsx(v7,{})})]}),f.jsxs("div",{className:"flex relative group overflow-hidden items-center gap-6",children:[f.jsx(ML,{className:"text-slate-600",size:40}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("p",{className:"font-semibold",children:"Laboratorio"}),f.jsx("p",{className:"text-sm",children:"Análisis clínicos, pruebas de laboratorio, ultrasonido y rayos x."})]}),f.jsx("button",{className:"bg-white border border-slate-200 absolute w-full bottom-0 py-3 rounded-3xl flex items-center justify-center gap-1 text-sm font-medium hover:bg-stone-100 translate-y-[100%] transition-all duration-300 group-hover:translate-y-0",onClick:u,children:"Más información"}),f.jsx(fa,{isOpen:l,closeModal:d,children:f.jsx(x7,{})})]}),f.jsxs("div",{className:"flex relative group overflow-hidden items-center gap-6",children:[f.jsx(zB,{className:"text-slate-600",size:40}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("p",{className:"font-semibold",children:"Estética"}),f.jsx("p",{className:"text-sm",children:"Baño, corte de pelo, corte de uñas."})]}),f.jsx("button",{className:"bg-white border border-slate-200 absolute w-full bottom-0 py-3 rounded-3xl flex items-center justify-center gap-1 text-sm font-medium hover:bg-stone-100 translate-y-[100%] transition-all duration-300 group-hover:translate-y-0",onClick:m,children:"Más información"}),f.jsx(fa,{isOpen:h,closeModal:y,children:f.jsx(b7,{})})]}),f.jsxs("div",{className:"flex relative group overflow-hidden items-center gap-6",children:[f.jsx(VB,{className:"text-slate-600",size:40}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("p",{className:"font-semibold",children:"Pensión"}),f.jsx("p",{className:"text-sm",children:"Resguardo por noche, con ventilador o aire acondicionado."})]}),f.jsx("button",{className:"bg-white border border-slate-200 absolute w-full bottom-0 py-3 rounded-3xl flex items-center justify-center gap-1 text-sm font-medium hover:bg-stone-100 translate-y-[100%] transition-all duration-300 group-hover:translate-y-0",onClick:g,children:"Más información"}),f.jsx(fa,{isOpen:x,closeModal:b,children:f.jsx(w7,{})})]})]})},qB=()=>f.jsx("div",{className:"bg-gray-950 rounded-sm",children:f.jsx("iframe",{src:"https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2Fbaalak.cv&tabs=timeline&width=340&height=500&small_header=false&adapt_container_width=true&hide_cover=false&show_facepile=true&appId",width:"380",height:"500",style:{border:"none",overflow:"hidden"},allowFullScreen:!0,allow:"autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"})}),SN=({img:t,name:e,slug:r})=>f.jsxs("div",{className:"flex flex-col gap-6 relative",children:[f.jsx(yt,{to:`/products/${r}`,className:"flex relative group overflow-hidden ",children:f.jsx("div",{className:"flex h-[350px] w-full items-center justify-center py-2 lg:h-[250px]",children:f.jsx("img",{src:t,alt:e,className:"object-contain h-full w-full"})})}),f.jsx("div",{className:"flex flex-col gap-1 items-center",children:f.jsx("p",{className:"text-[15px] font-medium",children:e})})]}),Gw=({title:t,products:e})=>f.jsxs("div",{className:"my-32",children:[f.jsx("h2",{className:"text-3xl font-semibold text-center mb-8 md:text-4xl lg:text-5xl",children:t}),f.jsx("div",{className:"grid grid-cols-1 gap-2 gap-y-3 sm:grid-cols-2 lg:grid-cols-4",children:e.map(r=>f.jsx(SN,{name:r.name,img:r.images[0],slug:r.slug},r.id))})]}),Yw=({numberOfProducts:t})=>f.jsx("div",{className:"my-20",children:f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 gap-y-8 animate-pulse",children:Array.from({length:t}).map((e,r)=>f.jsx("div",{className:"bg-gray-200 h-[250px]"},r))})}),WB=()=>{const{recentProducts:t,popularProducts:e,isLoading:r}=sL(),n=cy(t),s=cy(e);return f.jsxs("div",{children:[f.jsx(HB,{}),f.jsxs("div",{className:"flex flex-col lg:flex-row gap-1 my-2",children:[f.jsxs("div",{className:"lg:w-8/12 xl:w-9/12 mx-auto flex flex-col gap-5",children:[r?f.jsx(Yw,{numberOfProducts:4}):f.jsx(Gw,{title:"Nuevos Productos",products:n}),r?f.jsx(Yw,{numberOfProducts:4}):f.jsx(Gw,{title:"Productos Destacados",products:s})]}),f.jsxs("div",{className:"items-center lg:w-4/12 xl:w-4/12 mx-auto flex flex-col gap-5 p-4 bg-gray-950 rounded-lg",children:[f.jsx(qB,{}),f.jsx($B,{})]})]})]})},kN=({className:t})=>f.jsx("div",{className:`bg-slate-200 h-px my-5 ${t}`}),KB=["HPM","Royal Canin","Proplan","Hills","Excellent"],JB=({selectedBrands:t,setSelectedBrands:e})=>{const r=n=>{t.includes(n)?e(t.filter(s=>s!==n)):e([...t,n])};return f.jsxs("div",{className:"p-5 border border-slate-200 rounded-lg h-fit col-span-2 lg:col-span-1",children:[f.jsx("h3",{className:"font-semibold text-xl mb-4",children:"Filtros"}),f.jsx(kN,{}),f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsx("h3",{className:"text-lg font-medium text-black",children:"Marcas"}),f.jsx("div",{className:"flex flex-col gap-2",children:KB.map(n=>f.jsxs("label",{className:"inline-flex items-center",children:[f.jsx("input",{type:"checkbox",className:"text-black border-black focus:ring-black accent-black",checked:t.includes(n),onChange:()=>r(n)}),f.jsx("span",{className:"ml-2 text-black text-sm cursor-pointer",children:n})]},n))})]})]})},QB=()=>{const[t,e]=C.useState(1),[r,n]=C.useState([]),{data:s=[],isLoading:i,totalProducts:o}=nL({page:t,brands:r}),a=cy(s);return f.jsxs(f.Fragment,{children:[f.jsx("h1",{className:"text-5xl font-semibold text-center mb-12",children:"Productos"}),f.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5",children:[f.jsx(JB,{setSelectedBrands:n,selectedBrands:r}),i?f.jsx("div",{className:"col-span-2 flex items-center justify-center h-[500px]",children:f.jsx("p",{className:"text-2x1",children:"Cargando..."})}):f.jsxs("div",{className:"col-span-2 lg:col-span-2 xl:col-span-4 flex flex-col gap-12",children:[f.jsx("div",{className:"grid grid-cols-2 gap-3 gap-y-10 xl:grid-cols-4",children:a.map(l=>f.jsx(SN,{name:l.name,img:l.images[0],slug:l.slug},l.id))}),f.jsx(mC,{totalItems:o,page:t,setPage:e})]})]})]})},ZB=()=>f.jsxs("div",{className:"space-y-5",children:[f.jsx("h1",{className:"text-center text-4xl font-semibold tracking-tight mb-5",children:"Nuestra empresa"}),f.jsx("h2",{className:"text-2xl font-semibold tracking-tighh mt-8 mb-4",children:"¿Por qué Baalak'?"}),f.jsx("p",{children:"B de Bienestar del idioma español, cultura actual"}),f.jsx("p",{children:`aalak' del idioma y cultura Maya, significa "animal doméstico"`}),f.jsx("h2",{className:"text-2xl font-semibold tracking-tighh mt-8 mb-4",children:"Dos culturas, dos idiomas, una sola conciencia y un solo compromiso con el Bienestar animal."}),f.jsx("img",{src:"/img/background-about.png",alt:"background-about",className:"h-[600px] w-full object-cover"}),f.jsxs("div",{className:"flex flex-col gap-4 tracking-tighter leading-7 text-sm font-medium text-slate-800",children:[f.jsx("p",{className:"text-3xl font-semibold tracking-tighh mt-8 mb-4",children:"Contáctenos en"}),f.jsx("p",{className:"text-cyan-600 font-bold",children:"Avenida Central #33, Barrio de Santa Ana, 24050, San Francisco de Campeche, Campeche, México."}),f.jsx("p",{className:"text-cyan-600 font-bold",children:"baalak.cv@gmail.com	o llamado al 981 206 2582"})]})]});function GB(t){return Fe({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H4.414A2 2 0 0 0 3 11.586l-2 2V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12.793a.5.5 0 0 0 .854.353l2.853-2.853A1 1 0 0 1 4.414 12H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"},child:[]},{tag:"path",attr:{d:"M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5M3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6m0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5"},child:[]}]})(t)}const YB=({content:t})=>{const e=mN({extensions:[bN],content:t,editable:!1,editorProps:{attributes:{class:"prose prose-sm sm:prose-base max-w-none"}}});return f.jsxs("div",{className:"mt-12",children:[f.jsx("h2",{className:"text-2xl font-bold text-center mb-8 underline",children:"Descripción"}),f.jsx(hN,{editor:e})]})},XB=({images:t})=>{const[e,r]=C.useState(t[0]),n=s=>{r(s)};return f.jsxs("div",{className:"flex-1 flex flex-col gap-3 relative",children:[f.jsx("div",{className:"bg-[#f2f2f2] h-[500px] p-4",children:f.jsx("img",{src:e,alt:"Imagen de Producto",className:"h-full w-full object-contain"})}),f.jsx("div",{className:"flex mt-4 gap-2",children:t.map((s,i)=>f.jsx("button",{onClick:()=>n(s),className:`w-16 h-16 p-1 border ${e===s?"border-black":"border-transparent"} rounded-lg hover:border-black focus:outline-none`,children:f.jsx("img",{src:s,alt:`Thumbnail ${i+1}`,className:"w-full h-full object-cover rounded-lg"})},i))})]})},e7=t=>{const e=t.toLowerCase();return e==="nuevo"?"bg-blue-500":e==="agotado"?"bg-black":"bg-gray-500"},t7=({contentTag:t})=>f.jsx("div",{className:`text-white w-fit px-2 ${e7(t)}`,children:f.jsxs("p",{className:"uppercase text-xs font-medium",children:[" ",t]})}),r7=t=>({count:1,increment:()=>{t(e=>({count:e.count+1}))},decrement:()=>{t(e=>({count:Math.max(1,e.count-1)}))}}),Qm=sv()(iv(r7)),n7=()=>{const{slug:t}=Ku(),[e,r]=C.useState(t),{product:n,isLoading:s,isError:i}=lC(e||""),[o,a]=C.useState(null),[l,c]=C.useState(null),[u,d]=C.useState(null),[h,p]=C.useState(null),[m,y]=C.useState(null),[x,v]=C.useState(null),g=Qm(R=>R.count),b=Qm(R=>R.increment),S=Qm(R=>R.decrement),j=Ur(R=>R.addItem),N=Ut(),T=C.useMemo(()=>(n==null?void 0:n.variants.reduce((R,H)=>{const{target:J,type:le,kg:ve}=H;return R.find($e=>$e.target===J)||R.push({target:J,types:[]}),R.find($e=>{$e.target===J&&!$e.types.find(V=>V.type===le)&&$e.types.push({type:le,kgs:[]}),$e.types.find(V=>{V.type===le&&!V.kgs.includes(ve)&&V.kgs.push(ve)})}),R},[]))||[],[n==null?void 0:n.variants]);C.useEffect(()=>{var R;!o&&T.length>0&&(a(T[0].target),(R=document.getElementById(T[0].target))==null||R.click())},[o,T]),C.useEffect(()=>{if(o&&u&&m){const R=n==null?void 0:n.variants.find(H=>H.target===o&&H.type===u&&H.kg===m);v(R)}},[o,u,m,n==null?void 0:n.variants]);const w=(x==null?void 0:x.stock)===0,P=()=>{x&&(j({variantId:x.id,productId:(n==null?void 0:n.id)||"",name:(n==null?void 0:n.name)||"",image:(n==null?void 0:n.images[0])||"",target:x.target,type:x.type,kg:x.kg,price:x.price,quantity:g}),hn.success("Producto añadido al carrito",{position:"bottom-right"}))},L=()=>{x&&(j({variantId:x.id,productId:(n==null?void 0:n.id)||"",name:(n==null?void 0:n.name)||"",image:(n==null?void 0:n.images[0])||"",target:x.target,type:x.type,kg:x.kg,price:x.price,quantity:g}),N("/checkout"))};return C.useEffect(()=>{r(t),a(null),d(null),y(null),v(null)},[t]),s?f.jsx(br,{}):!n||i?f.jsx("div",{className:"flex justify-center items-center h-[80vh]",children:f.jsx("p",{children:"Producto no encontrado"})}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"h-fit flex flex-col md:flex-row gap-16 mt-8",children:[f.jsx(XB,{images:[n.images[0]]}),f.jsxs("div",{className:"flex-1 space-y-5",children:[f.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:n.name}),f.jsxs("div",{className:"flex gap-5 items-center",children:[f.jsx("span",{className:"tracking-wide text-lg font-semibold",children:Pt((x==null?void 0:x.price)||n.variants[0].price)}),f.jsx("div",{className:"relative",children:w&&f.jsx(t7,{contentTag:"agotado"})})]}),f.jsx(kN,{}),f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsx("p",{className:"text-xs font-medium",children:"Objetivos disponibles"}),f.jsx("div",{className:"flex gap-3",children:T.map(R=>f.jsx("button",{id:R.target,className:`rounded-full flex justify-center items-center ${o===R.target?"border border-slate-800 bg-[#f3f3f3] uppercase font-semibold":""}`,onClick:()=>{a(R.target),c(R.types),d(R.types[0].type),p(R.types[0].kgs),y(R.types[0].kgs[0])},children:R.target},R.target))})]}),f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsx("p",{className:"text-xs font-medium",children:"Tipos disponibles"}),l&&f.jsx("div",{className:"flex gap-3",children:f.jsx("select",{className:"border border-gray-300 rounded-lg px-3 py-1",value:u||"",onChange:R=>{d(R.target.value),l.find(H=>{H.type===R.target.value&&(p(H.kgs),y(H.kgs[0]))})},children:l.map(R=>f.jsx("option",{value:R.type,children:R.type},R.type))})})]}),f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsx("p",{className:"text-xs font-medium",children:"Pesos disponibles"}),h&&f.jsx("div",{className:"flex gap-3",children:f.jsx("select",{className:"border border-gray-300 rounded-lg px-3 py-1",value:m||"",onChange:R=>y(parseInt(R.target.value)),children:h.map(R=>f.jsxs("option",{value:R,children:[R," kg."]},R))})})]}),w?f.jsx("button",{className:"bg-[#f3f3f3] uppercase font-semibold tracking-widest text-xs py-4 rounded-full transition-all duration-300 hover:bg-[#e2e2e2] w-full",disabled:!0,children:"Agotado"}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"space-y-3",children:[f.jsx("p",{className:"text-sm font-medium",children:"Cantidad:"}),f.jsxs("div",{className:"flex gap-8 px-5 py-3 border border-slate-200 w-fit rounded-full",children:[f.jsx("button",{onClick:S,disabled:g===1,children:f.jsx(dC,{size:15})}),f.jsx("span",{className:"text-slate-500 text-sm",children:g}),f.jsx("button",{onClick:b,children:f.jsx(fC,{size:15})})]})]}),f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsx("button",{className:"bg-[#f3f3f3] uppercase font-semibold tracking-widest text-xs py-4 rounded-full transition-all duration-300 hover:bg-[#e2e2e2]",onClick:P,children:"Agregar al carro"}),f.jsx("button",{className:"bg-black text-white uppercase font-semibold tracking-widest text-xs py-4 rounded-full",onClick:L,children:"Comprar ahora"})]})]}),f.jsx("div",{className:"flex pt-2",children:f.jsxs(yt,{to:"#",className:"flex flex-col gap-1 flex-1 items-center justify-center",children:[f.jsx(GB,{size:30}),f.jsxs("p",{className:"flex flex-col items-center text-xs",children:[f.jsx("span",{className:"font-semibold",children:"¿Necesitas ayuda?"}),"Contáctanos aquí",f.jsx("span",{className:"text-cyan-600 font-semibold",children:"9812062582"})]})]})})]})]}),f.jsx(YB,{content:n.description})]})},s7=()=>{const[t,e]=C.useState(""),[r,n]=C.useState(""),{mutate:s,isPending:i}=lL(),{session:o,isLoading:a}=ea(),l=c=>{c.preventDefault(),s({email:t,password:r})};return a?f.jsx(br,{}):o?f.jsx(Xf,{to:"/"}):f.jsxs("div",{className:"h-full flex flex-col items-center mt-12 gap-5",children:[f.jsx("h1",{className:"text-4xl font-bold capitalize",children:"Iniciar sesión"}),f.jsx("p",{className:"text-sm font-medium",children:"¡Que bueno tenerte de vuelta!"}),i?f.jsx("div",{className:"w-full h-full flex justify-center mt-20",children:f.jsx(vv,{className:"animate-spin",size:60})}):f.jsxs(f.Fragment,{children:[f.jsxs("form",{className:"flex flex-col items-center gap-4 w-full mt-10 sm:w-[400px] lg:w-[500px]",onSubmit:l,children:[f.jsx("input",{type:"email",placeholder:"Ingresa tu correo electrónico",className:"border border-slate-200 text-black px-5 py-4 placeholder:text-black text-sm rounded-full w-full",value:t,onChange:c=>e(c.target.value)}),f.jsx("input",{type:"password",placeholder:"Ingresa tu contraseña",className:"border border-slate-200 text-black px-5 py-4 placeholder:text-black text-sm rounded-full w-full",value:r,onChange:c=>n(c.target.value)}),f.jsx("button",{className:"bg-black text-white uppercase font-semibold tracking-widest text-xs py-4 rounded-full mt-5 w-full",children:"Iniciar sesión"})]}),f.jsxs("p",{className:"text-sm text-stone-800",children:["¿No tienes una cuenta?",f.jsx(yt,{to:"/registro",className:"underline ml-2",children:"Regístrate"})]})]})]})},i7=()=>{const{register:t,handleSubmit:e,formState:{errors:r}}=Ev({defaultValues:{fullName:"",email:"",password:"",phone:""},resolver:Cv(p6)}),{mutate:n,isPending:s}=cL(),{session:i,isLoading:o}=ea(),a=e(l=>{const{email:c,password:u,fullName:d,phone:h}=l;n({email:c,password:u,fullName:d,phone:h})});return o?f.jsx(br,{}):i?f.jsx(Xf,{to:"/"}):f.jsxs("div",{className:"h-full flex flex-col items-center mt-12 gap-5",children:[f.jsx("h1",{className:"text-4xl font-bold capitalize",children:"Regístrate"}),f.jsx("p",{className:"text-sm font-medium",children:"Por favor, rellene los siguientes campos:"}),s?f.jsx("div",{className:"w-full h-full flex justify-center mt-20",children:f.jsx(vv,{className:"animate-spin",size:60})}):f.jsxs(f.Fragment,{children:[f.jsxs("form",{className:"flex flex-col items-center gap-4 w-full mt-10 sm:w-[400px] lg:w-[500px]",onSubmit:a,children:[f.jsx("input",{type:"text",placeholder:"Nombre Completo",className:"border border-slate-200 text-black px-5 py-4 placeholder:text-black text-sm rounded-full w-full",...t("fullName")}),r.fullName&&f.jsx("p",{className:"text-red-500",children:r.fullName.message}),f.jsx("input",{type:"text",placeholder:"Teléfono",className:"border border-slate-200 text-black px-5 py-4 placeholder:text-black text-sm rounded-full w-full",...t("phone")}),r.phone&&f.jsx("p",{className:"text-red-500",children:r.phone.message}),f.jsx("input",{type:"email",placeholder:"Ingresa tu correo electrónico",className:"border border-slate-200 text-black px-5 py-4 placeholder:text-black text-sm rounded-full w-full",...t("email")}),r.email&&f.jsx("p",{className:"text-red-500",children:r.email.message}),f.jsx("input",{type:"password",placeholder:"Ingresa tu contraseña",className:"border border-slate-200 text-black px-5 py-4 placeholder:text-black text-sm rounded-full w-full",...t("password")}),r.password&&f.jsx("p",{className:"text-red-500",children:r.password.message}),f.jsx("button",{className:"bg-black text-white uppercase font-semibold tracking-widest text-xs py-4 rounded-full mt-5 w-full",children:"Registrarme"})]}),f.jsxs("p",{className:"text-sm text-stone-800",children:["¿Ya tienes una cuenta?",f.jsx(yt,{to:"/login",className:"underline ml-2",children:"Inicia sesión"})]})]})]})},o7=["ID","Fecha","Estado","Total"],a7=({orders:t})=>{const e=Ut();return f.jsx("div",{className:"relative w-full h-full",children:f.jsxs("table",{className:"text-sm w-full caption-bottom overflow-auto",children:[f.jsx("thead",{className:"border-b border-gray-200 pb-3",children:f.jsx("tr",{className:"text-sm font-bold",children:o7.map((r,n)=>f.jsx("th",{className:"h-12 px-4 text-left",children:r},n))})}),f.jsx("tbody",{className:"[&_tr:last-child]:border-0",children:t.map(r=>f.jsxs("tr",{className:"cursor-pointer hover:bg-gray-100 transition-colors duration-200",onClick:()=>e(`/account/pedidos/${r.id}`),children:[f.jsx("td",{className:"p-4 font-medium tracking-tighter",children:r.id}),f.jsx("td",{className:"p-4 font-medium tracking-tighter",children:Ju(r.created_at)}),f.jsx("td",{className:"p-4 font-medium tracking-tighter",children:wA(r.status??"")}),f.jsx("td",{className:"p-4 font-medium tracking-tighter",children:Pt(r.total_amount)})]},r.id))})]})})},l7=()=>{const{data:t,isLoading:e}=hL();return e||!t?f.jsx(br,{}):f.jsxs("div",{className:"flex flex-col gap-6 items-center",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsx("h1",{className:"text-3xl font-bold",children:"Pedidos"}),f.jsx("span",{className:"w-5 h-5 rounded-full bg-black text-white text-[11px] flex justify-center items-center mt-1",children:t.length})]}),t.length===0?f.jsxs(f.Fragment,{children:[f.jsx("p",{className:"text-slate-600 text-[13px]",children:"Todavía no has hecho ningún pedido"}),f.jsx(yt,{to:"/products",className:"bg-black text-white uppercase font-semibold tracking-widest text-xs py-4 rounded-full px-8",children:"Empezar a comprar"})]}):f.jsx(a7,{orders:t})]})},lc=({register:t,errors:e,name:r,className:n,placeholder:s})=>f.jsxs(f.Fragment,{children:[f.jsx("div",{className:`border border-slate-200 rounded-md overflow-hidden py-2 ${e[r]&&"border-red-500"} ${n}`,children:f.jsx("input",{type:"text",className:"w-full px-3 py-1 text-sm focus:outline-none",placeholder:s,...t(r)})}),e[r]&&f.jsx("p",{className:"text-red-500 text-xs",children:e[r].message})]}),_N=()=>{const t=Ur(r=>r.items),e=Ur(r=>r.totalAmount);return f.jsxs("div",{children:[f.jsx("ul",{className:"space-y-5",children:t.map(r=>f.jsxs("li",{className:"flex justify-between items-center gap-5",children:[f.jsxs("div",{className:"flex relative border border-stone-300 bg-stone-200 rounded-md",children:[f.jsx("img",{src:r.image,alt:r.name,className:"w-20 h-20 object-contain"}),f.jsx("span",{className:"w-5 h-5 rounded-full bg-gray-500 text-white flex items-center justify-center text-xs absolute -right-1 -top-2 font-medium",children:r.quantity})]}),f.jsxs("div",{className:"flex-1 space-y-3",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("p",{className:"font-semibold",children:r.name}),f.jsx("p",{className:"text-sm font-medium text-gray-600 mt-1",children:Pt(r.price)})]}),f.jsx("div",{className:"flex gap-3",children:f.jsxs("p",{className:"text-[13px] text-gray-600",children:[r.target," / ",r.type," / ",r.kg," kg."]})})]})]},r.variantId))}),f.jsx("div",{className:"mt-4 p-7 space-y-5",children:f.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[f.jsx("p",{children:"Total:"}),f.jsx("p",{children:Pt(e)})]})})]})},c7=()=>{const{register:t,formState:{errors:e},handleSubmit:r}=Ev({resolver:Cv(m6)}),{mutate:n,isPending:s}=fL(),i=Ur(c=>c.cleanCart),o=Ur(c=>c.items),a=Ur(c=>c.totalAmount),l=r(c=>{const u={address:c,cartItems:o.map(d=>({variantId:d.variantId,quantity:d.quantity,price:d.price})),totalAmount:a};n(u,{onSuccess:()=>{i()}})});return s?f.jsxs("div",{className:"flex flex-col gap-3 h-screen items-center justify-center",children:[f.jsx(TL,{className:"animate-spin h-10 w-10"}),f.jsx("p",{className:"text-sm font-medium",children:"Estamos procesando tu pedido"})]}):f.jsx("div",{children:f.jsxs("form",{className:"flex flex-col gap-6",onSubmit:l,children:[f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsx("h3",{className:"text-lg font-semibold tracking-normal",children:"Entrega"}),f.jsx(lc,{register:t,errors:e,name:"addressLine1",placeholder:"Dirección principal"}),f.jsx(lc,{register:t,errors:e,name:"addressLine2",placeholder:"Dirección adicional (Opcional)"}),f.jsx(lc,{register:t,errors:e,name:"state",placeholder:"Estado / Provincia"}),f.jsx(lc,{register:t,errors:e,name:"city",placeholder:"Ciudad"}),f.jsx(lc,{register:t,errors:e,name:"postalCode",placeholder:"Código Postal"})]}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("div",{className:"flex justify-between items-center text-sm border border-slate-600 bg-stone-100 py-4 rounded-ss-md rounded-se-md px-6",children:f.jsx("span",{children:"Compra a traves de transferencia"})}),f.jsxs("div",{className:"bg-stone-100 text-[13px] p-5 space-y-0.5 border border-gray-200 rounded-es-md rounded-ee-md",children:[f.jsx("p",{children:"Banco Santander"}),f.jsx("p",{children:"Razón Social: Francisco Julián Gómez Cancino"}),f.jsx("p",{children:"RFC: GOCF630405PW0"}),f.jsx("p",{children:"Tipo de cuenta: Corriente"}),f.jsx("p",{children:"Número de cuenta: 014050605919441515"}),f.jsx("p",{children:"La información será compartida nuevamente una vez que se	haya finalizado la compra"})]})]}),f.jsxs("div",{className:"flex flex-col gap-6",children:[f.jsx("h3",{className:"font-semibold text-3xl",children:"Resumen del pedido"}),f.jsx(_N,{})]}),f.jsx("button",{type:"submit",className:"bg-black text-white py-3.5 font-bold tracking-wide rounded-md mt-2",children:"Finalizar Pedido"})]})})},u7=()=>{const t=Ur(n=>n.totalItemsInCart),{isLoading:e}=ea(),r=Ut();return C.useEffect(()=>{fe.auth.onAuthStateChange(async(n,s)=>{(n==="SIGNED_OUT"||!s)&&r("/login")})},[r]),e?f.jsx(br,{}):f.jsxs("div",{style:{minHeight:"calc(100vh - 100px"},children:[f.jsx("header",{className:"h-[100px] bg-white text-black flex items-center justify-center flex-col px-10 border-b border-slate-200",children:f.jsx(yt,{to:"/",className:"text-4xl font-bold self-center tracking-tighter transition-all md:text-5xl md:self-start",children:f.jsx("p",{children:f.jsx("img",{src:"/img/Baalak-logo-banner.png",alt:"Baalak"})})})}),f.jsx("main",{className:"w-full h-full flex relative",children:t===0?f.jsxs("div",{className:"flex flex-col items-center justify-center gap-5 w-full",style:{height:"calc(100vh - 100px)"},children:[f.jsx("p",{className:"text-sm font-medium tracking-tight",children:"Su carro esta vacío"}),f.jsx(yt,{to:"/products",className:"py-4 bg-black rounded-full text-white px-7 text-xs uppercase tracking-widest font-semibold",children:"Empezar a comprar"})]}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-full md:w-[50%] p-10",children:f.jsx(c7,{})}),f.jsx("div",{className:"bg-stone-100 w-[50%] sticky top-0 right-0 p-10 hidden md:block",style:{minHeight:"calc(100vh - 100px)"},children:f.jsx(_N,{})})]})})]})};function d7(t){return Fe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Circle_Check"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M15.81,10.4a.5.5,0,0,0-.71-.71l-3.56,3.56L9.81,11.52a.5.5,0,0,0-.71.71l2.08,2.08a.513.513,0,0,0,.71,0Z"},child:[]},{tag:"path",attr:{d:"M12,21.934A9.934,9.934,0,1,1,21.933,12,9.945,9.945,0,0,1,12,21.934ZM12,3.067A8.934,8.934,0,1,0,20.933,12,8.944,8.944,0,0,0,12,3.067Z"},child:[]}]}]}]})(t)}const f7=()=>{const{id:t}=Ku(),{data:e,isLoading:r,isError:n}=cC(Number(t)),{isLoading:s}=ea(),i=Ut();return C.useEffect(()=>{fe.auth.onAuthStateChange(async(o,a)=>{(o==="SIGNED_OUT"||!a)&&i("/login")})},[i]),n?f.jsx("div",{children:"Error al cargar la orden"}):r||!e||s?f.jsx(br,{}):f.jsxs("div",{className:"flex flex-col h-screen",children:[f.jsx("header",{className:"text-black flex items-center justify-center flex-col px-10 py-12",children:f.jsx(yt,{to:"/",className:"text-4xl font-bold self-center tracking-tighter transition-all md:text-5xl",children:f.jsx("p",{children:f.jsx("img",{src:"/img/Baalak-logo-banner.png",alt:"Baalak"})})})}),f.jsxs("main",{className:"container flex-1 flex flex-col items-center gap-10",children:[f.jsxs("div",{className:"flex gap-3 items-center",children:[f.jsx(d7,{size:40}),f.jsxs("p",{className:"text-4xl",children:["¡Gracias, ",e.customer.full_name,"!"]})]}),f.jsxs("div",{className:"border border-slate-200 w-full md:w-[600px] p-5 rounded-md space-y-3",children:[f.jsx("h3",{className:"font-medium",children:"Tu pedido está confirmado"}),f.jsx("p",{className:"text-sm",children:"Gracias por realizar tu compra en Baalak'."}),f.jsx("p",{className:"text-sm",children:"Para realizar la transferencia te compartimos los siguientes	datos"}),f.jsxs("div",{className:"space-y-0.5 text-sm",children:[f.jsx("p",{children:"Banco Santander"}),f.jsx("p",{children:"Razón Social: Francisco Julián Gómez Cancino"}),f.jsx("p",{children:"RFC: GOCF630405PW0"}),f.jsx("p",{children:"Tipo de cuenta: Corriente"}),f.jsx("p",{children:"Número de cuenta: 014050605919441515"})]}),f.jsx("p",{className:"text-sm",children:"Una vez realizada la transferencia, comparte tu comprobante con tu número de pedido por WhatsApp al 9812062582 para procesarla y hacerte la entrega de tu producto a domicilio."})]}),f.jsxs("div",{className:"border border-slate-200 w-full p-5 rounded-md space-y-3 md:w-[600px]",children:[f.jsx("h3",{className:"font-medium",children:"Detalles del pedido"}),f.jsxs("div",{className:"flex flex-col gap-5",children:["Pedido #",t,f.jsx("ul",{className:"space-y-3",children:e.orderItems.map((o,a)=>f.jsxs("li",{className:"flex justify-between items-center gap-3",children:[f.jsx("div",{className:"flex",children:f.jsx("img",{src:o.productImage,alt:o.productName,className:"w-16 h-16 object-contain"})}),f.jsxs("div",{className:"flex-1 space-y-2",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("p",{className:"font-semibold",children:o.productName}),f.jsx("p",{className:"text-sm font-medium text-gray-600 mt-1",children:Pt(o.price)})]}),f.jsx("div",{className:"flex gap-3",children:f.jsxs("p",{className:"text-[13px] text-gray-600",children:[o.target," / ",o.type," / ",o.kg," kg."]})})]})]},a))}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"font-semibold",children:"Total:"}),f.jsx("span",{className:"font-semibold",children:Pt(e.totalAmount)})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[f.jsxs("div",{className:"flex flex-col text-sm",children:[f.jsx("p",{className:"font-semibold",children:"Información de contacto:"}),f.jsx("p",{children:e.customer.email})]}),f.jsxs("div",{className:"flex flex-col text-sm",children:[f.jsx("p",{className:"font-semibold",children:"Métodos de pago:"}),f.jsxs("p",{children:["Transferencia - ",Pt(e.totalAmount)]})]}),f.jsxs("div",{className:"flex flex-col text-sm",children:[f.jsx("p",{className:"font-semibold",children:"Dirección de envío"}),f.jsx("p",{children:e.address.addressLine1}),f.jsx("p",{children:e.address.addressLine2&&e.address.addressLine2}),f.jsx("p",{children:e.address.city}),f.jsx("p",{children:e.address.state}),f.jsx("p",{children:e.address.postalCode})]}),f.jsxs("div",{className:"flex flex-col text-sm",children:[f.jsx("p",{className:"font-semibold",children:"Método de envío"}),f.jsx("p",{children:"Standard"})]})]})]}),f.jsxs("div",{className:"flex flex-col justify-between items-center w-full mb-5 gap-3 sm:flex-row md:w-[600px] md:gap-0",children:[f.jsx("p",{className:"text-sm",children:"¿Necesitas ayuda? Ponte en contacto con nosotros"}),f.jsx(yt,{to:"/products",className:"text-white bg-black py-4 text-sm rounded-md px-5 tracking-tight font-semibold",children:"Seguir comprando"})]})]})]})},h7=["Producto","Cantidad","Total"],p7=()=>{const{id:t}=Ku(),{data:e,isLoading:r}=cC(Number(t)),n=Ut();return r||!e?f.jsx(br,{}):f.jsxs("div",{children:[f.jsxs("div",{className:"flex flex-col justify-between items-center gap-5 md:flex-row md:gap-0",children:[f.jsxs("button",{className:"border rounded-full py-2 border-slate-200 px-5 flex items-center justify-center gap-2 text-xs font-medium uppercase tracking-widest hover:bg-stone-100 transition-all",onClick:()=>n(-1),children:[f.jsx(bv,{size:16}),"Volver"]}),f.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[f.jsxs("h1",{className:"text-3xl font-bold",children:["Pedido #",t]}),f.jsx("p",{className:"text-sm",children:Ju(e.created_at)})]}),f.jsx("div",{}),f.jsx("div",{})]}),f.jsxs("div",{className:"flex flex-col mt-10 mb-5 gap-10",children:[f.jsxs("table",{className:"text-sm w-full caption-bottom overflow-auto",children:[f.jsx("thead",{children:f.jsx("tr",{children:h7.map((s,i)=>f.jsx("th",{className:"h-12 text-center uppercase tracking-wide text-stone-600 font-medium",children:s},i))})}),f.jsx("tbody",{children:e.orderItems.map((s,i)=>f.jsxs("tr",{className:"border-b border-gray-200",children:[f.jsxs("td",{className:"p-4 font-medium tracking-tighter flex gap-3 items-center",children:[f.jsx("img",{src:s.productImage,alt:s.productName,className:"h-20 w-20 object-contain rounded-lg"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("h3",{children:s.productName}),f.jsxs("p",{className:"text-xs",children:[s.target," / ",s.type," / ",s.kg," kg."]}),f.jsx("p",{className:"text-sm",children:Pt(s.price)})]})]}),f.jsx("td",{className:"p-4 font-medium tracking-tighter text-center",children:s.quantity}),f.jsx("td",{className:"p-4 font-medium tracking-tighter text-center",children:Pt(s.price*s.quantity)})]},i))})]}),f.jsxs("div",{className:"flex flex-col gap-3 text-slate-600 text-sm self-end w-1/2",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("p",{children:"Subtotal"}),f.jsx("p",{children:Pt(e.totalAmount)})]}),f.jsxs("div",{className:"flex justify-between text-black font-semibold",children:[f.jsx("p",{children:"Total"}),f.jsx("p",{children:Pt(e.totalAmount)})]})]}),f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsx("h2",{className:"text-lg font-bold",children:"Dirección"}),f.jsxs("div",{className:"border border-stone-300 p-5 flex flex-col gap-5",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsx("h3",{className:"font-medium",children:"Cliente:"}),f.jsx("p",{children:e.customer.full_name})]}),f.jsxs("div",{className:"flex flex-col gap-1 text-sm",children:[f.jsx("h3",{className:"font-medium text-base",children:"Envío:"}),f.jsx("p",{children:e.address.addressLine1}),f.jsx("p",{children:e.address.addressLine2&&e.address.addressLine2}),f.jsx("p",{children:e.address.city}),f.jsx("p",{children:e.address.state}),f.jsx("p",{children:e.address.postalCode})]})]})]})]})]})},m7=()=>f.jsxs("div",{className:"container mx-auto",children:[f.jsx("h1",{className:"text-3xl font-bold text-center my-4",children:"Aviso de privacidad"}),f.jsxs("div",{className:"p-5",children:[f.jsxs("p",{className:"text-base leading-loose text-gray-800",children:[f.jsx("strong",{children:"Última actualización:"})," 15 de mayo de 2025"]}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:f.jsx("span",{className:"text-base leading-normal mb-2",children:"EL PROVEEDOR del presente aviso manifiesta ser el propietario de este establecimiento con domicilio y denominación descrita en este documento, señala como domicilios para oír y recibir notificaciones en el domicilio antes citado, así como manifiesta ser EL RESPONSABLE DEL USO, PROTECCIÓN y MANEJO DEL TRATAMIENTO DE SUS DATOS PERSONALES, al respecto le informo que sus datos personales que recabamos de Usted referente a su EDAD, NOMBRE COMPLETO, SU CLAVE DEL RFC Y CURP, DOMICILIO FISCAL Y PERSONAL ACTUAL COMPLETO, CÓDIGO POSTAL, TELÉFONO DE CASA, TRABAJO, CELULAR, CORREO ELECTRÓNICO,  FACEBOOK, E INSTAGRAM, así como  LOS CONTENIDOS EN EL MATERIAL FOTOGRÁFICO, AUDIO Y VIDEO, DIAGRAMAS, GRÁFICOS, DIBUJOS O REPRESENTACIONES GRÁFICAS QUE TOMAMOS EN NUESTRAS INSTALACIONES DE LAS IMÁGENES de las personas y animales que ingresan y transitan por nuestras instalaciones, serán protegidos de conformidad a lo dispuesto por la Ley General de Protección de Datos Personales en Posesión de Sujetos Obligados, así como todos aquellos ordenamientos que resulten aplicables, y los utilizaremos para uno o más de los siguientes conceptos:"})}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:f.jsx("span",{className:"text-base leading-normal mb-2",children:"1.- Complementar los datos del propietario o poseedor en los contratos, convenios y formatos que usamos para prestar nuestros servicios que le brindamos y en el expediente de nuestros servicios para su animal."})}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:f.jsx("span",{className:"text-base leading-normal mb-2",children:"2.- Expedir sus notas y facturas por nuestros servicios. "})}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:f.jsx("span",{className:"text-base leading-normal mb-2",children:"3.- Para localizarlo de forma oportuna ante alguna emergencia que requiera de su presencia y autorización para la realizar estudio, aprobación de gastos e insumos para atender a su animal, uso de anestesia e intervenciones quirúrgicas en su ser vivo antes citado en caso de ser necesario para salvaguardar su vida."})}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:f.jsx("span",{className:"text-base leading-normal mb-2",children:" 4.- Informarle de forma oportuna el estado que guarda su orden de servicio que nos solicitó."})}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:f.jsx("span",{className:"text-base leading-normal mb-2",children:" 5.- Para usar el MATERIAL FOTOGRÁFICO, AUDIO Y VIDEO en la VIDEO SEGURIDAD de nuestro establecimiento, así como EN LA UTILIZACIÓN DE NUESTRA PUBLICIDAD por cualquier medio respecto a la prestación de nuestros servicios hacia Usted y su animal. "})}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:f.jsx("span",{className:"text-base leading-normal mb-2",children:"6.- Cualquier finalidad análoga o compatible con las anteriores."})}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:f.jsx("span",{className:"text-base leading-normal mb-2",children:"Le manifestamos que la información de sus datos personales que nos proporcione es necesaria para el servicio solicitado, la cual nos permite brindarle una mejor atención y seguridad, por lo que NO requerimos más datos personales adicionales de Usted. La negativa para el uso de sus datos personales para estas finalidades o la negativa a usar el MATERIAL FOTOGRÁFICO, AUDIO Y VIDEO en la VIDEO SEGURIDAD de nuestro establecimiento, así como EN LA UTILIZACIÓN DE NUESTRA PUBLICIDAD, NO es motivo para negarle nuestros los servicios y productos que solicita o contrata con nosotros, salvo las requeridas por la ley al respecto. La autorización para utilizar del MATERIAL FOTOGRÁFICO, AUDIO Y VIDEO en la VIDEO SEGURIDAD de nuestro establecimiento, así como EN LA UTILIZACIÓN DE NUESTRA PUBLICIDAD por cualquier medio respecto a la prestación de nuestros servicios hacia Usted y su animal, estará vigente hasta en tanto no presente por escrito solicitud de negativa a la captación, difusión y utilización de la imagen y voz antes referidas, la cual deberá ser presentada en nuestro domicilio. Para conocer más información de los términos y condiciones en que serán tratados sus datos personales, como los terceros con quienes compartimos su información personal y la forma en que podrá ejercer sus derechos ARCO, puede consultarnos en nuestro domicilio referido al final del presente aviso. Por todo lo antes explicado significa que ha leído, entendido y está de acuerdo con los términos antes expuestos, por lo que otorgo mi consentimiento para que mis datos personales sean tratados conforme a lo señalado en el presente aviso de privacidad y consiento la transmisión de mis datos personales en términos del presente aviso. Otorgando además al escrito de este aviso, autorización expresa para el Uso y difusión  promoción y publicidad de sus servicios en diversos medios de comunicación de mi Imagen y mi animal, para que sean utilizadas y difundidas, indefinidamente, sin restricción, ni contraprestación de ningún tipo, a título gratuito a favor del suscrito de este aviso, por cualquier medio impreso, fílmico e internet, tendiente a la difusión de nuestras actividades, programas y campañas, ya que la autorización antes citada, no me causa daños ni perjuicios morales, ni económicos, con la aparición y utilización de mi nombre o la de mi animal, nuestra imagen en video y/o fotografía y/o voz de mi persona o la de mi animal ya que  NO se lesiona en ningún momento nuestra imagen, fama, reputación o integridad."})}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:f.jsx("span",{className:"text-base leading-normal mb-2",children:"Al leer y no ejercer su posición por escrito a lo antes citado, bien entrar a nuestras instalaciones es sinónimo de haber aceptado a lo antes expresado y lo consideraremos como aceptado el presente Aviso de Privacidad y otorgada su autorización para todos los efectos señalados."})}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:f.jsx("span",{className:"text-base leading-normal mb-2",children:"De igual forma le informamos que no damos consentimiento alguno para que usted grabe de forma alguna ni voz, ni video en nuestras instalaciones de persona alguna o animales en atención a los derechos de personalidad de las personas y sus animales que se encuentren en nuestras instalaciones.    "})}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:f.jsx("strong",{children:f.jsx("span",{className:"text-base leading-normal mb-2",children:"ATENTAMENTE."})})}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:f.jsx("strong",{children:f.jsx("span",{className:"text-base leading-normal mb-2",children:"EL PROVEEDOR Propietario del Establecimiento."})})}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:f.jsx("strong",{children:f.jsx("span",{className:"text-base leading-normal mb-2",children:"M.V.Z. Francisco Julián Gómez Cancino."})})}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:f.jsx("strong",{children:f.jsx("span",{className:"text-base leading-normal mb-2",children:"Domicilio:"})})}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:f.jsx("strong",{children:f.jsx("span",{className:"text-base leading-normal mb-2",children:"Animalia-Baja California No. 402 Col. Petrolera, C.P. 96500. Coatzacoalcos, Ver."})})}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:f.jsx("strong",{children:f.jsx("span",{className:"text-base leading-normal mb-2",children:"Baalak- Av. Central No.33 Col Santa Ana, C.P. 24050. San Fco. De Campeche, Campeche."})})}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:f.jsx("span",{className:"text-base leading-normal mb-2",children:"*El presente aviso se expide y publica con fundamento en los Artículos 6o. y 16 de la Constitución Política de los Estados Unidos Mexicanos, Artículo 12 de la Declaración Universal de los Derechos Humanos, Artículo 17 del Pacto Internacional de Derechos Civiles y Políticos, Artículo 11 de la Convención Americana sobre Derechos Humanos “Pacto de San José”, Artículos 68 y 69 de la Ley General de Transparencia y Acceso a la Información Pública. 16, 113 y 117 de la Ley Federal de Transparencia y Acceso a la Información Pública, Artículos 3, fracciones II, III, X, XXXVII, XXXIII, 7, 18, 19, 20, 21, 22, 23, 26, 27, 28, 43, 47, 65 y demás de la Ley General de Protección de Datos Personales en Posesión de Sujetos Obligados, y demás disposiciones legales aplicables vigentes y demás artículos del Código Civil de la Entidad, así como en términos del artículo 87 de la Ley Federal del Derecho de Autor."})})]})]}),g7=()=>f.jsxs("div",{className:"container mx-auto",children:[f.jsx("h1",{className:"text-3xl font-bold text-center my-4",children:"Términos y condiciones"}),f.jsxs("div",{className:"p-5",children:[f.jsxs("p",{className:"text-base leading-loose text-gray-800",children:[f.jsx("strong",{children:"Última actualización:"})," 15 de mayo de 2025"]}),f.jsxs("p",{className:"text-base leading-loose text-gray-800",children:["Bienvenido a ",f.jsx("strong",{children:"Baalak'"}),". Al acceder y utilizar nuestro sitio web, aceptas los siguientes Términos y Condiciones. Te recomendamos leerlos cuidadosamente antes de utilizar nuestros servicios."]}),f.jsx("h2",{className:"text-2xl mt-5",children:"1. Información General"}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:"Baalak' es una tienda en línea ubicada en Campeche, México, dedicada a la venta de alimentos y productos relacionados para perros y gatos. Al utilizar nuestro sitio, aceptas cumplir con estos términos conforme a las leyes aplicables en México."}),f.jsx("h2",{className:"text-2xl mt-5",children:"2. Cuentas de Usuario"}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:"Para realizar compras o acceder a ciertos servicios, puedes crear una cuenta. Es tu responsabilidad mantener la confidencialidad de tu información de acceso. No compartas tu contraseña con terceros."}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:"Nos reservamos el derecho de suspender o eliminar cuentas que infrinjan estos términos, o que sean utilizadas de manera fraudulenta."}),f.jsx("h2",{className:"text-2xl mt-5",children:"3. Productos y Descripciones"}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:"Hacemos todo lo posible por mostrar descripciones, imágenes y precios precisos. Sin embargo, no garantizamos que toda la información esté libre de errores. Nos reservamos el derecho de modificar o descontinuar productos sin previo aviso."}),f.jsx("h2",{className:"text-2xl mt-5",children:"4. Pagos"}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:"Actualmente, Baalak' no cobra suscripciones ni pagos recurrentes. Los precios están expresados en pesos mexicanos e incluyen impuestos, a menos que se indique lo contrario."}),f.jsx("h2",{className:"text-2xl mt-5",children:"5. Envíos y Entregas"}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:"Ofrecemos entregas dentro de Campeche. Los tiempos de envío y tarifas se informarán al momento de la compra. No nos hacemos responsables por retrasos causados por terceros (paqueterías, clima, etc.)."}),f.jsx("h2",{className:"text-2xl mt-5",children:"6. Devoluciones y Cancelaciones"}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:"Por tratarse de productos alimenticios para mascotas, no se aceptan devoluciones por cambio de opinión. Solo se aceptarán devoluciones si el producto está dañado, defectuoso o mal empacado. Para solicitar una devolución, contáctanos dentro de las primeras 48 horas después de la entrega."}),f.jsx("h2",{className:"text-2xl mt-5",children:"7. Uso del Sitio"}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:"El usuario se compromete a utilizar este sitio únicamente con fines lícitos y de manera que no infrinja los derechos de terceros ni las leyes mexicanas."}),f.jsx("h2",{className:"text-2xl mt-5",children:"8. Propiedad Intelectual"}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:"Todo el contenido de este sitio (textos, imágenes, logotipos, etc.) es propiedad de Baalak' o se utiliza con permiso. Queda prohibido su uso sin autorización previa por escrito."}),f.jsx("h2",{className:"text-2xl mt-5",children:"9. Modificaciones"}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:"Nos reservamos el derecho de modificar estos Términos y Condiciones en cualquier momento. Cualquier cambio será publicado en esta página con su fecha de entrada en vigor."}),f.jsx("h2",{className:"text-2xl mt-5",children:"10. Contacto"}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:"Si tienes dudas sobre estos Términos y Condiciones, puedes contactarnos en:"}),f.jsxs("ul",{className:"list-disc ml-5",children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Correo electrónico:"})," [baalak.atencionaclientes@gmail.com]"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Teléfono:"})," [9812062582]"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Dirección:"})," Av. Central #33, San Francisco de Campeche, Campeche, México"]})]})]})]}),y7=()=>f.jsxs("div",{className:"relative bg-gray-900 text-white items-center",children:[f.jsx("div",{className:"absolute inset-0 bg-cover opacity-50 h-full",style:{backgroundImage:"url(/img/services/transport.png)"}}),f.jsx("div",{className:"absolute inset-0 bg-black opacity-50"}),f.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center py-20 px-4 text-center lg:py-20 lg:px-8",children:[f.jsx("h1",{className:"text-4xl font-bold mb-4 lg:text-4xl",children:"Servicio de transporte"}),f.jsx("p",{className:"text-lg mb-8 lg:text-2xl",children:f.jsx("strong",{children:"¿No puedes traerlo? Llámanos"})}),f.jsx("p",{className:"text-lg mb-8 lg:text-2xl",children:"Con nosotros tu mascota viajará cómoda y segura, vamos por ella a tu casa y te la regresamos feliz."})]}),f.jsx("div",{className:"relative z-10 flex flex-col items-center justify-center py-1 px-2 text-center lg:py-1 lg:px-4",children:f.jsx("button",{className:"rounded-full bg-[#2980b9] uppercase font-semibold p-1",children:f.jsx("a",{href:Il[2].href,target:"_blank",rel:"noreferrer",className:"text-slate-200 py-2 flex items-center justify-center transition-all hover:text-black",children:"Reserva tu cita"})})})]}),v7=()=>f.jsxs("div",{className:"relative bg-gray-900 text-white items-center",children:[f.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-50 h-full",style:{backgroundImage:"url(/img/services/medical.png)"}}),f.jsx("div",{className:"absolute inset-0 bg-black opacity-50"}),f.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center py-5 px-4 text-center lg:py-5 lg:px-8",children:[f.jsx("h1",{className:"text-4xl font-bold mb-4 lg:text-4xl",children:"Servico médico"}),f.jsx("h1",{className:"text-1xl font-bold mb-4 lg:text-2xl",children:"Consultas"}),f.jsx("p",{className:"text-lg mb-8 lg:text-2xl",children:"Nuestro sistema de medicina basada en evidencias, asegura un mayor éxito en los diagnósticos y tratamientos de los problema de salud de su mascota, logrando su recuperación en menor tiempo y con menos estrés."}),f.jsx("h1",{className:"text-1xl font-bold mb-4 lg:text-2xl",children:"Medicina preventiva"}),f.jsx("p",{className:"text-lg mb-8 lg:text-2xl",children:"Como eres un dueño atento y deseas lo mejor para tu mascota. Te animamos a programar un examen de bienestar para mascotas, así prevenimos los problemas antes de que surjan, asegurando una mayor salud y felicidad para su pequeñ@."}),f.jsx("h1",{className:"text-1xl font-bold mb-4 lg:text-2xl",children:"Cirugía y Hospitalización"}),f.jsx("p",{className:"text-lg mb-8 lg:text-2xl",children:"Cuando requieren cuidados médicos especializados o cirugías para recuperar su salud, nosotros nos encargamos de darle la mejor atención con el respeto y cariño que ellos requieren."})]}),f.jsx("div",{className:"relative z-10 flex flex-col items-center justify-center py-1 px-2 text-center lg:py-1 lg:px-4",children:f.jsx("button",{className:"rounded-full bg-[#2980b9] uppercase font-semibold p-1",children:f.jsx("a",{href:Il[2].href,target:"_blank",rel:"noreferrer",className:"text-slate-200 py-2 flex items-center justify-center transition-all hover:text-black",children:"Reserva tu cita"})})})]}),x7=()=>f.jsxs("div",{className:"relative bg-gray-900 text-white items-center",children:[f.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-50 h-full",style:{backgroundImage:"url(/img/services/lab.png)"}}),f.jsx("div",{className:"absolute inset-0 bg-black opacity-50"}),f.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center py-3 px-4 text-center lg:py-3 lg:px-8",children:[f.jsx("h1",{className:"text-4xl font-bold mb-4 lg:text-4xl",children:"Laboratorio"}),f.jsx("h1",{className:"text-1xl font-bold mb-4 lg:text-2xl",children:"Laboratorios de análisis clínicos"}),f.jsx("p",{className:"text-lg mb-8 lg:text-2xl",children:"Es importante realizar análisis clínicos con equipos de alta calidad para obtener resultados confiables que nos ayuden a dar el diagnóstico más preciso."}),f.jsxs("p",{className:"text-lg mb-8 lg:text-2xl",children:["Contamos con equipos de vanguardia, respaldados por laboratorios IDEXX.",f.jsx("a",{href:"https://al.idexx.com/es-xl/",target:"_blank",rel:"noreferrer",className:"text-slate-200 py-3.5 flex items-center justify-center transition-all hover:text-blue-500",children:"https://al.idexx.com/es-xl/"})]}),f.jsx("h1",{className:"text-1xl font-bold mb-4 lg:text-2xl",children:"Radiografia Digital"}),f.jsx("p",{className:"text-lg mb-8 lg:text-2xl",children:"La calidad en las radiografías es un factor determinante para obtener diagnósticos acertados, en Baalak´ contamos con un equipo digital que logra imágenes de alta calidad, de manera instantánea, con menos radiación y sin generar residuos tóxicos o contaminantes."}),f.jsx("h1",{className:"text-1xl font-bold mb-4 lg:text-2xl",children:"Terapia Láser"}),f.jsx("p",{className:"text-lg mb-8 lg:text-2xl",children:"El láser terapéutico ayuda a aliviar dolores, a recuperarse mas rápido de heridas, cirugías, infecciones, etc. Es una herramienta muy efectiva de rehabilitación, amigable y placentera para los pacientes."})]}),f.jsx("div",{className:"relative z-10 flex flex-col items-center justify-center py-1 px-2 text-center lg:py-1 lg:px-4",children:f.jsx("button",{className:"rounded-full bg-[#2980b9] uppercase font-semibold p-1",children:f.jsx("a",{href:Il[2].href,target:"_blank",rel:"noreferrer",className:"text-slate-200 py-2 flex items-center justify-center transition-all hover:text-black",children:"Reserva tu cita"})})})]}),b7=()=>f.jsxs("div",{className:"relative bg-gray-900 text-white items-center",children:[f.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-50 h-full",style:{backgroundImage:"url(/img/services/aesthetics.png)"}}),f.jsx("div",{className:"absolute inset-0 bg-black opacity-50"}),f.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center py-20 px-4 text-center lg:py-20 lg:px-8",children:[f.jsx("h1",{className:"text-4xl font-bold mb-4 lg:text-4xl",children:"Estética"}),f.jsx("h1",{className:"text-1xl font-bold mb-4 lg:text-2xl",children:"¡Tus pequeños limpios, guapos y sanos!"}),f.jsx("p",{className:"text-lg mb-8 lg:text-2xl",children:"Contamos con servicio de baño y corte de pelo para el cuidado higiénico y la presentación de tus pequeños."})]}),f.jsx("div",{className:"relative z-10 flex flex-col items-center justify-center py-1 px-2 text-center lg:py-1 lg:px-4",children:f.jsx("button",{className:"rounded-full bg-[#2980b9] uppercase font-semibold p-1",children:f.jsx("a",{href:Il[2].href,target:"_blank",rel:"noreferrer",className:"text-slate-200 py-2 flex items-center justify-center transition-all hover:text-black",children:"Reserva tu cita"})})})]}),w7=()=>f.jsxs("div",{className:"relative bg-gray-900 text-white items-center",children:[f.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-50 h-full",style:{backgroundImage:"url(/img/services/daycare.png)"}}),f.jsx("div",{className:"absolute inset-0 bg-black opacity-50"}),f.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center py-20 px-4 text-center lg:py-20 lg:px-8",children:[f.jsx("h1",{className:"text-4xl font-bold mb-4 lg:text-4xl",children:"Pensión"}),f.jsx("h1",{className:"text-1xl font-bold mb-4 lg:text-2xl",children:"Se queda en buenas manos"}),f.jsx("p",{className:"text-lg mb-8 lg:text-2xl",children:"Amplios alojamientos, programa de recreos durante el día, alimentación y cuidados personalizados según tus indicaciones, reportes diarios y todo lo que nos pidas para tu mejor amigo cuando tienes que salir de viaje o requieras que lo cuidemos."})]}),f.jsx("div",{className:"relative z-10 flex flex-col items-center justify-center py-1 px-2 text-center lg:py-1 lg:px-4",children:f.jsx("button",{className:"rounded-full bg-[#2980b9] uppercase font-semibold p-1",children:f.jsx("a",{href:Il[2].href,target:"_blank",rel:"noreferrer",className:"text-slate-200 py-2 flex items-center justify-center transition-all hover:text-black",children:"Reserva tu cita"})})})]}),S7=()=>f.jsxs("div",{className:"h-full flex flex-col gap-2",children:[f.jsxs(yt,{to:"/dashboard/productos/new",className:"bg-black text-white flex items-center self-end py-[6px] px-2 rounded-md text-sm gap-1 font-semibold hover:bg-cyan-600",children:[f.jsx(AL,{className:"inline-block"}),"Nuevo Producto"]}),f.jsx(zL,{})]}),k7=()=>f.jsx("div",{children:f.jsx(wN,{titleForm:"Agregar Producto"})}),_7=()=>f.jsx("div",{children:f.jsx(wN,{titleForm:"Editar Producto"})}),E7=()=>{const{data:t,isLoading:e}=uC();return e||!t?f.jsx(br,{}):f.jsxs("div",{className:"space-y-5",children:[f.jsx("h1",{className:"text-2xl font-bold",children:"Órdenes"}),f.jsx(FL,{orders:t})]})},C7=["Producto","Cantidad","Total"],N7=()=>{const t=Ut(),{id:e}=Ku(),{data:r,isLoading:n}=mL(Number(e));return n||!r?f.jsx(br,{}):f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("button",{className:"border rounded-full py-2 border-slate-200 px-5 flex items-center justify-center gap-2 text-xs font-medium uppercase tracking-widest hover:bg-stone-100 transition-all",onClick:()=>t(-1),children:[f.jsx(bv,{size:16}),"Volver"]}),f.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[f.jsxs("h1",{className:"text-3xl font-bold",children:["Pedido #",e]}),f.jsx("p",{className:"text-sm",children:Ju(r.created_at)})]}),f.jsx("div",{}),f.jsx("div",{})]}),f.jsxs("div",{className:"flex flex-col mt-10 mb-5 gap-10",children:[f.jsxs("table",{className:"text-sm w-full caption-bottom overflow-auto",children:[f.jsx("thead",{className:"border-b border-gray-200 pb-3",children:f.jsx("tr",{className:"text-sm font-bold",children:C7.map((s,i)=>f.jsx("th",{className:"h-12 px-4 text-left",children:s},i))})}),f.jsx("tbody",{className:"[&_tr:last-child]:border-0",children:r.orderItems.map((s,i)=>f.jsxs("tr",{className:"border-b border-gray-200",children:[f.jsxs("td",{className:"p-4 font-medium tracking-tighter flex gap-3 items-center",children:[f.jsx("img",{src:s.productImage,alt:s.productName,className:"h-20 w-20 object-contain rounded-lg"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("h3",{children:s.productName}),f.jsxs("p",{className:"text-xs",children:[s.target," / ",s.type," / ",s.kg," kg."]}),f.jsx("p",{className:"text-sm",children:Pt(s.price)})]})]}),f.jsx("td",{className:"p-4 font-medium tracking-tighter text-center",children:s.quantity}),f.jsx("td",{className:"p-4 font-medium tracking-tighter text-center",children:Pt(s.price*s.quantity)})]},i))})]}),f.jsxs("div",{className:"flex flex-col gap-3 text-slate-600 text-sm self-end w-1/2",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("p",{children:"Subtotal"}),f.jsx("p",{children:Pt(r.totalAmount)})]}),f.jsxs("div",{className:"flex justify-between text-black font-semibold",children:[f.jsx("p",{children:"Total"}),f.jsx("p",{children:Pt(r.totalAmount)})]})]}),f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsx("h2",{className:"text-lg font-bold",children:"Dirección"}),f.jsxs("div",{className:"border border-stone-300 p-5 flex flex-col gap-5",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsx("h3",{className:"font-medium",children:"Cliente:"}),f.jsx("p",{children:r.customer.full_name})]}),f.jsxs("div",{className:"flex flex-col gap-1 text-sm",children:[f.jsx("h3",{className:"font-medium text-base",children:"Envío:"}),f.jsx("p",{children:r.address.addressLine1}),f.jsx("p",{children:r.address.addressLine2&&r.address.addressLine2}),f.jsx("p",{children:r.address.city}),f.jsx("p",{children:r.address.state}),f.jsx("p",{children:r.address.postalCode})]})]})]})]})]})},O7=()=>{const[t,e]=C.useState(),[r,n]=C.useState(),[s,i]=C.useState(!0),o=async a=>{if(!t)return f.jsx(br,{});if(a.target.files){const{data:l}=gL({e:a});(await l).length>0?(e(await l),n(a.target.files[0].name),i(!1)):(e(void 0),a.target.value="")}};return f.jsx(f.Fragment,{children:s?f.jsxs("div",{className:"space-y-5",children:[f.jsx("h1",{className:"text-2xl font-bold",children:"Envío de mensajes"}),f.jsxs("div",{className:"lista",id:"divInput",children:[f.jsx("input",{type:"file",id:"inputfile",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",hidden:!0,onChange:o}),f.jsxs("label",{htmlFor:"inputfile",className:"uploadlabel",children:[f.jsx("span",{children:f.jsx("i",{className:"fa fa-cloud-upload fa-3x"})}),f.jsx("p",{children:"Click To Upload List"})]})]})]}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"lista",children:r&&f.jsx("nav",{className:"menuinfo",children:f.jsx("section",{className:"menuinfo__container",children:f.jsx("ul",{className:"menuinfo__links",children:f.jsx("li",{className:"menuinfo__item",children:f.jsxs("label",{className:"menuinfo__link",children:[f.jsx("span",{children:f.jsx("i",{className:"fa fa-file-excel-o fa-1x",style:{color:"green"}})}),f.jsx("span",{className:"infolabel",style:{width:"230px"},children:`${r} (${(t==null?void 0:t.length)??0} Registros)`})]})})})})})}),f.jsx(DB,{clientes:t??[]})]})})},j7=()=>{const{data:t,isLoading:e}=uC();return e||!t?f.jsx(br,{}):f.jsx("div",{className:"space-y-5",children:f.jsx("h1",{className:"text-2xl font-bold",children:"Lista de transportes"})})},T7=NP([{path:"/",element:f.jsx(jL,{}),children:[{index:!0,element:f.jsx(WB,{})},{path:"products",element:f.jsx(QB,{})},{path:"products/:slug",element:f.jsx(n7,{})},{path:"nosotros",element:f.jsx(ZB,{})},{path:"aviso_de_privacidad",element:f.jsx(m7,{})},{path:"terminos_y_condiciones",element:f.jsx(g7,{})},{path:"login",element:f.jsx(s7,{})},{path:"registro",element:f.jsx(i7,{})},{path:"account",element:f.jsx(IL,{}),children:[{path:"",element:f.jsx(Xf,{to:"/account/pedidos"})},{path:"pedidos",element:f.jsx(l7,{})},{path:"pedidos/:id",element:f.jsx(p7,{})}]}]},{path:"/checkout",element:f.jsx(u7,{})},{path:"/checkout/:id/thank-you",element:f.jsx(f7,{})},{path:"/dashboard",element:f.jsx(LB,{}),children:[{index:!0,element:f.jsx(Xf,{to:"/dashboard/productos"})},{path:"productos",element:f.jsx(S7,{})},{path:"productos/new",element:f.jsx(k7,{})},{path:"productos/editar/:slug",element:f.jsx(_7,{})},{path:"ordenes",element:f.jsx(E7,{})},{path:"ordenes/:id",element:f.jsx(N7,{})},{path:"recordatorios",element:f.jsx(O7,{})},{path:"transportes",element:f.jsx(j7,{})}]}]),P7=new oA;__(document.getElementById("root")).render(f.jsx(C.StrictMode,{children:f.jsxs(fA,{client:P7,children:[f.jsx(RP,{router:T7}),f.jsx(eL,{})]})}));export{t0 as g};
