var lx=t=>{throw TypeError(t)};var Tp=(t,e,r)=>e.has(t)||lx("Cannot "+r);var k=(t,e,r)=>(Tp(t,e,"read from private field"),r?r.call(t):e.get(t)),le=(t,e,r)=>e.has(t)?lx("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),W=(t,e,r,n)=>(Tp(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),xe=(t,e,r)=>(Tp(t,e,"access private method"),r);var wd=(t,e,r,n)=>({set _(s){W(t,e,s,r)},get _(){return k(t,e,n)}});function wS(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var fn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function c0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function VN(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var SS={exports:{}},Rh={},kS={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uu=Symbol.for("react.element"),UN=Symbol.for("react.portal"),HN=Symbol.for("react.fragment"),qN=Symbol.for("react.strict_mode"),WN=Symbol.for("react.profiler"),KN=Symbol.for("react.provider"),JN=Symbol.for("react.context"),ZN=Symbol.for("react.forward_ref"),QN=Symbol.for("react.suspense"),GN=Symbol.for("react.memo"),YN=Symbol.for("react.lazy"),cx=Symbol.iterator;function XN(t){return t===null||typeof t!="object"?null:(t=cx&&t[cx]||t["@@iterator"],typeof t=="function"?t:null)}var _S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ES=Object.assign,CS={};function Ml(t,e,r){this.props=t,this.context=e,this.refs=CS,this.updater=r||_S}Ml.prototype.isReactComponent={};Ml.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ml.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function NS(){}NS.prototype=Ml.prototype;function u0(t,e,r){this.props=t,this.context=e,this.refs=CS,this.updater=r||_S}var d0=u0.prototype=new NS;d0.constructor=u0;ES(d0,Ml.prototype);d0.isPureReactComponent=!0;var ux=Array.isArray,jS=Object.prototype.hasOwnProperty,f0={current:null},OS={key:!0,ref:!0,__self:!0,__source:!0};function TS(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)jS.call(e,n)&&!OS.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Uu,type:t,key:i,ref:o,props:s,_owner:f0.current}}function ej(t,e){return{$$typeof:Uu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function h0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Uu}function tj(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var dx=/\/+/g;function Pp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tj(""+t.key):e.toString(36)}function rf(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Uu:case UN:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+Pp(o,0):n,ux(s)?(r="",t!=null&&(r=t.replace(dx,"$&/")+"/"),rf(s,e,r,"",function(c){return c})):s!=null&&(h0(s)&&(s=ej(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(dx,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",ux(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+Pp(i,a);o+=rf(i,e,r,l,s)}else if(l=XN(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+Pp(i,a++),o+=rf(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Sd(t,e,r){if(t==null)return t;var n=[],s=0;return rf(t,n,"","",function(i){return e.call(r,i,s++)}),n}function rj(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var br={current:null},nf={transition:null},nj={ReactCurrentDispatcher:br,ReactCurrentBatchConfig:nf,ReactCurrentOwner:f0};function PS(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:Sd,forEach:function(t,e,r){Sd(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Sd(t,function(){e++}),e},toArray:function(t){return Sd(t,function(e){return e})||[]},only:function(t){if(!h0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pe.Component=Ml;Pe.Fragment=HN;Pe.Profiler=WN;Pe.PureComponent=u0;Pe.StrictMode=qN;Pe.Suspense=QN;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nj;Pe.act=PS;Pe.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=ES({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=f0.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)jS.call(e,l)&&!OS.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Uu,type:t.type,key:s,ref:i,props:n,_owner:o}};Pe.createContext=function(t){return t={$$typeof:JN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:KN,_context:t},t.Consumer=t};Pe.createElement=TS;Pe.createFactory=function(t){var e=TS.bind(null,t);return e.type=t,e};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(t){return{$$typeof:ZN,render:t}};Pe.isValidElement=h0;Pe.lazy=function(t){return{$$typeof:YN,_payload:{_status:-1,_result:t},_init:rj}};Pe.memo=function(t,e){return{$$typeof:GN,type:t,compare:e===void 0?null:e}};Pe.startTransition=function(t){var e=nf.transition;nf.transition={};try{t()}finally{nf.transition=e}};Pe.unstable_act=PS;Pe.useCallback=function(t,e){return br.current.useCallback(t,e)};Pe.useContext=function(t){return br.current.useContext(t)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(t){return br.current.useDeferredValue(t)};Pe.useEffect=function(t,e){return br.current.useEffect(t,e)};Pe.useId=function(){return br.current.useId()};Pe.useImperativeHandle=function(t,e,r){return br.current.useImperativeHandle(t,e,r)};Pe.useInsertionEffect=function(t,e){return br.current.useInsertionEffect(t,e)};Pe.useLayoutEffect=function(t,e){return br.current.useLayoutEffect(t,e)};Pe.useMemo=function(t,e){return br.current.useMemo(t,e)};Pe.useReducer=function(t,e,r){return br.current.useReducer(t,e,r)};Pe.useRef=function(t){return br.current.useRef(t)};Pe.useState=function(t){return br.current.useState(t)};Pe.useSyncExternalStore=function(t,e,r){return br.current.useSyncExternalStore(t,e,r)};Pe.useTransition=function(){return br.current.useTransition()};Pe.version="18.3.1";kS.exports=Pe;var C=kS.exports;const fe=c0(C),sj=wS({__proto__:null,default:fe},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ij=C,oj=Symbol.for("react.element"),aj=Symbol.for("react.fragment"),lj=Object.prototype.hasOwnProperty,cj=ij.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uj={key:!0,ref:!0,__self:!0,__source:!0};function MS(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)lj.call(e,n)&&!uj.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:oj,type:t,key:i,ref:o,props:s,_owner:cj.current}}Rh.Fragment=aj;Rh.jsx=MS;Rh.jsxs=MS;SS.exports=Rh;var d=SS.exports,AS={exports:{}},Qr={},IS={exports:{}},RS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,K){var ie=B.length;B.push(K);e:for(;0<ie;){var Te=ie-1>>>1,Ne=B[Te];if(0<s(Ne,K))B[Te]=K,B[ie]=Ne,ie=Te;else break e}}function r(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var K=B[0],ie=B.pop();if(ie!==K){B[0]=ie;e:for(var Te=0,Ne=B.length,xt=Ne>>>1;Te<xt;){var St=2*(Te+1)-1,cr=B[St],ut=St+1,At=B[ut];if(0>s(cr,ie))ut<Ne&&0>s(At,cr)?(B[Te]=At,B[ut]=ie,Te=ut):(B[Te]=cr,B[St]=ie,Te=St);else if(ut<Ne&&0>s(At,ie))B[Te]=At,B[ut]=ie,Te=ut;else break e}}return K}function s(B,K){var ie=B.sortIndex-K.sortIndex;return ie!==0?ie:B.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,h=3,p=!1,m=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(B){for(var K=r(c);K!==null;){if(K.callback===null)n(c);else if(K.startTime<=B)n(c),K.sortIndex=K.expirationTime,e(l,K);else break;K=r(c)}}function S(B){if(g=!1,b(B),!m)if(r(l)!==null)m=!0,ge(O);else{var K=r(c);K!==null&&Me(S,K.startTime-B)}}function O(B,K){m=!1,g&&(g=!1,v(w),w=-1),p=!0;var ie=h;try{for(b(K),f=r(l);f!==null&&(!(f.expirationTime>K)||B&&!R());){var Te=f.callback;if(typeof Te=="function"){f.callback=null,h=f.priorityLevel;var Ne=Te(f.expirationTime<=K);K=t.unstable_now(),typeof Ne=="function"?f.callback=Ne:f===r(l)&&n(l),b(K)}else n(l);f=r(l)}if(f!==null)var xt=!0;else{var St=r(c);St!==null&&Me(S,St.startTime-K),xt=!1}return xt}finally{f=null,h=ie,p=!1}}var N=!1,T=null,w=-1,M=5,P=-1;function R(){return!(t.unstable_now()-P<M)}function L(){if(T!==null){var B=t.unstable_now();P=B;var K=!0;try{K=T(!0,B)}finally{K?q():(N=!1,T=null)}}else N=!1}var q;if(typeof y=="function")q=function(){y(L)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,de=te.port2;te.port1.onmessage=L,q=function(){de.postMessage(null)}}else q=function(){x(L,0)};function ge(B){T=B,N||(N=!0,q())}function Me(B,K){w=x(function(){B(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,ge(O))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(B){switch(h){case 1:case 2:case 3:var K=3;break;default:K=h}var ie=h;h=K;try{return B()}finally{h=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,K){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ie=h;h=B;try{return K()}finally{h=ie}},t.unstable_scheduleCallback=function(B,K,ie){var Te=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Te+ie:Te):ie=Te,B){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=ie+Ne,B={id:u++,callback:K,priorityLevel:B,startTime:ie,expirationTime:Ne,sortIndex:-1},ie>Te?(B.sortIndex=ie,e(c,B),r(l)===null&&B===r(c)&&(g?(v(w),w=-1):g=!0,Me(S,ie-Te))):(B.sortIndex=Ne,e(l,B),m||p||(m=!0,ge(O))),B},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(B){var K=h;return function(){var ie=h;h=K;try{return B.apply(this,arguments)}finally{h=ie}}}})(RS);IS.exports=RS;var dj=IS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fj=C,Kr=dj;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var DS=new Set,zc={};function Jo(t,e){cl(t,e),cl(t+"Capture",e)}function cl(t,e){for(zc[t]=e,t=0;t<e.length;t++)DS.add(e[t])}var Ms=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ng=Object.prototype.hasOwnProperty,hj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fx={},hx={};function pj(t){return ng.call(hx,t)?!0:ng.call(fx,t)?!1:hj.test(t)?hx[t]=!0:(fx[t]=!0,!1)}function mj(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function gj(t,e,r,n){if(e===null||typeof e>"u"||mj(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function wr(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Qt[t]=new wr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Qt[e]=new wr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Qt[t]=new wr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Qt[t]=new wr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Qt[t]=new wr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Qt[t]=new wr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Qt[t]=new wr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Qt[t]=new wr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Qt[t]=new wr(t,5,!1,t.toLowerCase(),null,!1,!1)});var p0=/[\-:]([a-z])/g;function m0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(p0,m0);Qt[e]=new wr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(p0,m0);Qt[e]=new wr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(p0,m0);Qt[e]=new wr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Qt[t]=new wr(t,1,!1,t.toLowerCase(),null,!1,!1)});Qt.xlinkHref=new wr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Qt[t]=new wr(t,1,!1,t.toLowerCase(),null,!0,!0)});function g0(t,e,r,n){var s=Qt.hasOwnProperty(e)?Qt[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(gj(e,r,s,n)&&(r=null),n||s===null?pj(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var zs=fj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kd=Symbol.for("react.element"),va=Symbol.for("react.portal"),xa=Symbol.for("react.fragment"),y0=Symbol.for("react.strict_mode"),sg=Symbol.for("react.profiler"),LS=Symbol.for("react.provider"),FS=Symbol.for("react.context"),v0=Symbol.for("react.forward_ref"),ig=Symbol.for("react.suspense"),og=Symbol.for("react.suspense_list"),x0=Symbol.for("react.memo"),Xs=Symbol.for("react.lazy"),$S=Symbol.for("react.offscreen"),px=Symbol.iterator;function Kl(t){return t===null||typeof t!="object"?null:(t=px&&t[px]||t["@@iterator"],typeof t=="function"?t:null)}var ct=Object.assign,Mp;function dc(t){if(Mp===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Mp=e&&e[1]||""}return`
`+Mp+t}var Ap=!1;function Ip(t,e){if(!t||Ap)return"";Ap=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ap=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?dc(t):""}function yj(t){switch(t.tag){case 5:return dc(t.type);case 16:return dc("Lazy");case 13:return dc("Suspense");case 19:return dc("SuspenseList");case 0:case 2:case 15:return t=Ip(t.type,!1),t;case 11:return t=Ip(t.type.render,!1),t;case 1:return t=Ip(t.type,!0),t;default:return""}}function ag(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xa:return"Fragment";case va:return"Portal";case sg:return"Profiler";case y0:return"StrictMode";case ig:return"Suspense";case og:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case FS:return(t.displayName||"Context")+".Consumer";case LS:return(t._context.displayName||"Context")+".Provider";case v0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x0:return e=t.displayName||null,e!==null?e:ag(t.type)||"Memo";case Xs:e=t._payload,t=t._init;try{return ag(t(e))}catch{}}return null}function vj(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ag(e);case 8:return e===y0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Di(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function xj(t){var e=zS(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _d(t){t._valueTracker||(t._valueTracker=xj(t))}function BS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=zS(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function jf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function lg(t,e){var r=e.checked;return ct({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function mx(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Di(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function VS(t,e){e=e.checked,e!=null&&g0(t,"checked",e,!1)}function cg(t,e){VS(t,e);var r=Di(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ug(t,e.type,r):e.hasOwnProperty("defaultValue")&&ug(t,e.type,Di(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gx(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function ug(t,e,r){(e!=="number"||jf(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var fc=Array.isArray;function Ra(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Di(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function dg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return ct({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function yx(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(z(92));if(fc(r)){if(1<r.length)throw Error(z(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Di(r)}}function US(t,e){var r=Di(e.value),n=Di(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function vx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function HS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?HS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ed,qS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ed=Ed||document.createElement("div"),Ed.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ed.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Bc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var kc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bj=["Webkit","ms","Moz","O"];Object.keys(kc).forEach(function(t){bj.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),kc[e]=kc[t]})});function WS(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||kc.hasOwnProperty(t)&&kc[t]?(""+e).trim():e+"px"}function KS(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=WS(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var wj=ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hg(t,e){if(e){if(wj[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function pg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mg=null;function b0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gg=null,Da=null,La=null;function xx(t){if(t=Wu(t)){if(typeof gg!="function")throw Error(z(280));var e=t.stateNode;e&&(e=zh(e),gg(t.stateNode,t.type,e))}}function JS(t){Da?La?La.push(t):La=[t]:Da=t}function ZS(){if(Da){var t=Da,e=La;if(La=Da=null,xx(t),e)for(t=0;t<e.length;t++)xx(e[t])}}function QS(t,e){return t(e)}function GS(){}var Rp=!1;function YS(t,e,r){if(Rp)return t(e,r);Rp=!0;try{return QS(t,e,r)}finally{Rp=!1,(Da!==null||La!==null)&&(GS(),ZS())}}function Vc(t,e){var r=t.stateNode;if(r===null)return null;var n=zh(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(z(231,e,typeof r));return r}var yg=!1;if(Ms)try{var Jl={};Object.defineProperty(Jl,"passive",{get:function(){yg=!0}}),window.addEventListener("test",Jl,Jl),window.removeEventListener("test",Jl,Jl)}catch{yg=!1}function Sj(t,e,r,n,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var _c=!1,Of=null,Tf=!1,vg=null,kj={onError:function(t){_c=!0,Of=t}};function _j(t,e,r,n,s,i,o,a,l){_c=!1,Of=null,Sj.apply(kj,arguments)}function Ej(t,e,r,n,s,i,o,a,l){if(_j.apply(this,arguments),_c){if(_c){var c=Of;_c=!1,Of=null}else throw Error(z(198));Tf||(Tf=!0,vg=c)}}function Zo(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function XS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function bx(t){if(Zo(t)!==t)throw Error(z(188))}function Cj(t){var e=t.alternate;if(!e){if(e=Zo(t),e===null)throw Error(z(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return bx(s),t;if(i===n)return bx(s),e;i=i.sibling}throw Error(z(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(z(189))}}if(r.alternate!==n)throw Error(z(190))}if(r.tag!==3)throw Error(z(188));return r.stateNode.current===r?t:e}function ek(t){return t=Cj(t),t!==null?tk(t):null}function tk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=tk(t);if(e!==null)return e;t=t.sibling}return null}var rk=Kr.unstable_scheduleCallback,wx=Kr.unstable_cancelCallback,Nj=Kr.unstable_shouldYield,jj=Kr.unstable_requestPaint,bt=Kr.unstable_now,Oj=Kr.unstable_getCurrentPriorityLevel,w0=Kr.unstable_ImmediatePriority,nk=Kr.unstable_UserBlockingPriority,Pf=Kr.unstable_NormalPriority,Tj=Kr.unstable_LowPriority,sk=Kr.unstable_IdlePriority,Dh=null,es=null;function Pj(t){if(es&&typeof es.onCommitFiberRoot=="function")try{es.onCommitFiberRoot(Dh,t,void 0,(t.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:Ij,Mj=Math.log,Aj=Math.LN2;function Ij(t){return t>>>=0,t===0?32:31-(Mj(t)/Aj|0)|0}var Cd=64,Nd=4194304;function hc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Mf(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=hc(a):(i&=o,i!==0&&(n=hc(i)))}else o=r&~s,o!==0?n=hc(o):i!==0&&(n=hc(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-In(e),s=1<<r,n|=t[r],e&=~s;return n}function Rj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dj(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-In(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=Rj(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function xg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ik(){var t=Cd;return Cd<<=1,!(Cd&4194240)&&(Cd=64),t}function Dp(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Hu(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-In(e),t[e]=r}function Lj(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-In(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function S0(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-In(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var qe=0;function ok(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ak,k0,lk,ck,uk,bg=!1,jd=[],Ei=null,Ci=null,Ni=null,Uc=new Map,Hc=new Map,si=[],Fj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sx(t,e){switch(t){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":Ci=null;break;case"mouseover":case"mouseout":Ni=null;break;case"pointerover":case"pointerout":Uc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hc.delete(e.pointerId)}}function Zl(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Wu(e),e!==null&&k0(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function $j(t,e,r,n,s){switch(e){case"focusin":return Ei=Zl(Ei,t,e,r,n,s),!0;case"dragenter":return Ci=Zl(Ci,t,e,r,n,s),!0;case"mouseover":return Ni=Zl(Ni,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Uc.set(i,Zl(Uc.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Hc.set(i,Zl(Hc.get(i)||null,t,e,r,n,s)),!0}return!1}function dk(t){var e=ao(t.target);if(e!==null){var r=Zo(e);if(r!==null){if(e=r.tag,e===13){if(e=XS(r),e!==null){t.blockedOn=e,uk(t.priority,function(){lk(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=wg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);mg=n,r.target.dispatchEvent(n),mg=null}else return e=Wu(r),e!==null&&k0(e),t.blockedOn=r,!1;e.shift()}return!0}function kx(t,e,r){sf(t)&&r.delete(e)}function zj(){bg=!1,Ei!==null&&sf(Ei)&&(Ei=null),Ci!==null&&sf(Ci)&&(Ci=null),Ni!==null&&sf(Ni)&&(Ni=null),Uc.forEach(kx),Hc.forEach(kx)}function Ql(t,e){t.blockedOn===e&&(t.blockedOn=null,bg||(bg=!0,Kr.unstable_scheduleCallback(Kr.unstable_NormalPriority,zj)))}function qc(t){function e(s){return Ql(s,t)}if(0<jd.length){Ql(jd[0],t);for(var r=1;r<jd.length;r++){var n=jd[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ei!==null&&Ql(Ei,t),Ci!==null&&Ql(Ci,t),Ni!==null&&Ql(Ni,t),Uc.forEach(e),Hc.forEach(e),r=0;r<si.length;r++)n=si[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<si.length&&(r=si[0],r.blockedOn===null);)dk(r),r.blockedOn===null&&si.shift()}var Fa=zs.ReactCurrentBatchConfig,Af=!0;function Bj(t,e,r,n){var s=qe,i=Fa.transition;Fa.transition=null;try{qe=1,_0(t,e,r,n)}finally{qe=s,Fa.transition=i}}function Vj(t,e,r,n){var s=qe,i=Fa.transition;Fa.transition=null;try{qe=4,_0(t,e,r,n)}finally{qe=s,Fa.transition=i}}function _0(t,e,r,n){if(Af){var s=wg(t,e,r,n);if(s===null)Wp(t,e,n,If,r),Sx(t,n);else if($j(s,t,e,r,n))n.stopPropagation();else if(Sx(t,n),e&4&&-1<Fj.indexOf(t)){for(;s!==null;){var i=Wu(s);if(i!==null&&ak(i),i=wg(t,e,r,n),i===null&&Wp(t,e,n,If,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Wp(t,e,n,null,r)}}var If=null;function wg(t,e,r,n){if(If=null,t=b0(n),t=ao(t),t!==null)if(e=Zo(t),e===null)t=null;else if(r=e.tag,r===13){if(t=XS(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return If=t,null}function fk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Oj()){case w0:return 1;case nk:return 4;case Pf:case Tj:return 16;case sk:return 536870912;default:return 16}default:return 16}}var xi=null,E0=null,of=null;function hk(){if(of)return of;var t,e=E0,r=e.length,n,s="value"in xi?xi.value:xi.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return of=s.slice(t,1<n?1-n:void 0)}function af(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Od(){return!0}function _x(){return!1}function Gr(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Od:_x,this.isPropagationStopped=_x,this}return ct(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Od)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Od)},persist:function(){},isPersistent:Od}),e}var Al={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},C0=Gr(Al),qu=ct({},Al,{view:0,detail:0}),Uj=Gr(qu),Lp,Fp,Gl,Lh=ct({},qu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:N0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gl&&(Gl&&t.type==="mousemove"?(Lp=t.screenX-Gl.screenX,Fp=t.screenY-Gl.screenY):Fp=Lp=0,Gl=t),Lp)},movementY:function(t){return"movementY"in t?t.movementY:Fp}}),Ex=Gr(Lh),Hj=ct({},Lh,{dataTransfer:0}),qj=Gr(Hj),Wj=ct({},qu,{relatedTarget:0}),$p=Gr(Wj),Kj=ct({},Al,{animationName:0,elapsedTime:0,pseudoElement:0}),Jj=Gr(Kj),Zj=ct({},Al,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qj=Gr(Zj),Gj=ct({},Al,{data:0}),Cx=Gr(Gj),Yj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=eO[t])?!!e[t]:!1}function N0(){return tO}var rO=ct({},qu,{key:function(t){if(t.key){var e=Yj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=af(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:N0,charCode:function(t){return t.type==="keypress"?af(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?af(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nO=Gr(rO),sO=ct({},Lh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nx=Gr(sO),iO=ct({},qu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:N0}),oO=Gr(iO),aO=ct({},Al,{propertyName:0,elapsedTime:0,pseudoElement:0}),lO=Gr(aO),cO=ct({},Lh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),uO=Gr(cO),dO=[9,13,27,32],j0=Ms&&"CompositionEvent"in window,Ec=null;Ms&&"documentMode"in document&&(Ec=document.documentMode);var fO=Ms&&"TextEvent"in window&&!Ec,pk=Ms&&(!j0||Ec&&8<Ec&&11>=Ec),jx=" ",Ox=!1;function mk(t,e){switch(t){case"keyup":return dO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ba=!1;function hO(t,e){switch(t){case"compositionend":return gk(e);case"keypress":return e.which!==32?null:(Ox=!0,jx);case"textInput":return t=e.data,t===jx&&Ox?null:t;default:return null}}function pO(t,e){if(ba)return t==="compositionend"||!j0&&mk(t,e)?(t=hk(),of=E0=xi=null,ba=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pk&&e.locale!=="ko"?null:e.data;default:return null}}var mO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!mO[t.type]:e==="textarea"}function yk(t,e,r,n){JS(n),e=Rf(e,"onChange"),0<e.length&&(r=new C0("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Cc=null,Wc=null;function gO(t){jk(t,0)}function Fh(t){var e=ka(t);if(BS(e))return t}function yO(t,e){if(t==="change")return e}var vk=!1;if(Ms){var zp;if(Ms){var Bp="oninput"in document;if(!Bp){var Px=document.createElement("div");Px.setAttribute("oninput","return;"),Bp=typeof Px.oninput=="function"}zp=Bp}else zp=!1;vk=zp&&(!document.documentMode||9<document.documentMode)}function Mx(){Cc&&(Cc.detachEvent("onpropertychange",xk),Wc=Cc=null)}function xk(t){if(t.propertyName==="value"&&Fh(Wc)){var e=[];yk(e,Wc,t,b0(t)),YS(gO,e)}}function vO(t,e,r){t==="focusin"?(Mx(),Cc=e,Wc=r,Cc.attachEvent("onpropertychange",xk)):t==="focusout"&&Mx()}function xO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fh(Wc)}function bO(t,e){if(t==="click")return Fh(e)}function wO(t,e){if(t==="input"||t==="change")return Fh(e)}function SO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fn=typeof Object.is=="function"?Object.is:SO;function Kc(t,e){if(Fn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!ng.call(e,s)||!Fn(t[s],e[s]))return!1}return!0}function Ax(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ix(t,e){var r=Ax(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ax(r)}}function bk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?bk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wk(){for(var t=window,e=jf();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=jf(t.document)}return e}function O0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function kO(t){var e=wk(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&bk(r.ownerDocument.documentElement,r)){if(n!==null&&O0(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Ix(r,i);var o=Ix(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _O=Ms&&"documentMode"in document&&11>=document.documentMode,wa=null,Sg=null,Nc=null,kg=!1;function Rx(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;kg||wa==null||wa!==jf(n)||(n=wa,"selectionStart"in n&&O0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Nc&&Kc(Nc,n)||(Nc=n,n=Rf(Sg,"onSelect"),0<n.length&&(e=new C0("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=wa)))}function Td(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Sa={animationend:Td("Animation","AnimationEnd"),animationiteration:Td("Animation","AnimationIteration"),animationstart:Td("Animation","AnimationStart"),transitionend:Td("Transition","TransitionEnd")},Vp={},Sk={};Ms&&(Sk=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function $h(t){if(Vp[t])return Vp[t];if(!Sa[t])return t;var e=Sa[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Sk)return Vp[t]=e[r];return t}var kk=$h("animationend"),_k=$h("animationiteration"),Ek=$h("animationstart"),Ck=$h("transitionend"),Nk=new Map,Dx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ui(t,e){Nk.set(t,e),Jo(e,[t])}for(var Up=0;Up<Dx.length;Up++){var Hp=Dx[Up],EO=Hp.toLowerCase(),CO=Hp[0].toUpperCase()+Hp.slice(1);Ui(EO,"on"+CO)}Ui(kk,"onAnimationEnd");Ui(_k,"onAnimationIteration");Ui(Ek,"onAnimationStart");Ui("dblclick","onDoubleClick");Ui("focusin","onFocus");Ui("focusout","onBlur");Ui(Ck,"onTransitionEnd");cl("onMouseEnter",["mouseout","mouseover"]);cl("onMouseLeave",["mouseout","mouseover"]);cl("onPointerEnter",["pointerout","pointerover"]);cl("onPointerLeave",["pointerout","pointerover"]);Jo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NO=new Set("cancel close invalid load scroll toggle".split(" ").concat(pc));function Lx(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Ej(n,e,void 0,t),t.currentTarget=null}function jk(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Lx(s,a,c),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Lx(s,a,c),i=l}}}if(Tf)throw t=vg,Tf=!1,vg=null,t}function Xe(t,e){var r=e[jg];r===void 0&&(r=e[jg]=new Set);var n=t+"__bubble";r.has(n)||(Ok(e,t,2,!1),r.add(n))}function qp(t,e,r){var n=0;e&&(n|=4),Ok(r,t,n,e)}var Pd="_reactListening"+Math.random().toString(36).slice(2);function Jc(t){if(!t[Pd]){t[Pd]=!0,DS.forEach(function(r){r!=="selectionchange"&&(NO.has(r)||qp(r,!1,t),qp(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Pd]||(e[Pd]=!0,qp("selectionchange",!1,e))}}function Ok(t,e,r,n){switch(fk(e)){case 1:var s=Bj;break;case 4:s=Vj;break;default:s=_0}r=s.bind(null,e,r,t),s=void 0,!yg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Wp(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ao(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}YS(function(){var c=i,u=b0(r),f=[];e:{var h=Nk.get(t);if(h!==void 0){var p=C0,m=t;switch(t){case"keypress":if(af(r)===0)break e;case"keydown":case"keyup":p=nO;break;case"focusin":m="focus",p=$p;break;case"focusout":m="blur",p=$p;break;case"beforeblur":case"afterblur":p=$p;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ex;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=qj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=oO;break;case kk:case _k:case Ek:p=Jj;break;case Ck:p=lO;break;case"scroll":p=Uj;break;case"wheel":p=uO;break;case"copy":case"cut":case"paste":p=Qj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Nx}var g=(e&4)!==0,x=!g&&t==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var y=c,b;y!==null;){b=y;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,v!==null&&(S=Vc(y,v),S!=null&&g.push(Zc(y,S,b)))),x)break;y=y.return}0<g.length&&(h=new p(h,m,null,r,u),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==mg&&(m=r.relatedTarget||r.fromElement)&&(ao(m)||m[As]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?ao(m):null,m!==null&&(x=Zo(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=Ex,S="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=Nx,S="onPointerLeave",v="onPointerEnter",y="pointer"),x=p==null?h:ka(p),b=m==null?h:ka(m),h=new g(S,y+"leave",p,r,u),h.target=x,h.relatedTarget=b,S=null,ao(u)===c&&(g=new g(v,y+"enter",m,r,u),g.target=b,g.relatedTarget=x,S=g),x=S,p&&m)t:{for(g=p,v=m,y=0,b=g;b;b=ia(b))y++;for(b=0,S=v;S;S=ia(S))b++;for(;0<y-b;)g=ia(g),y--;for(;0<b-y;)v=ia(v),b--;for(;y--;){if(g===v||v!==null&&g===v.alternate)break t;g=ia(g),v=ia(v)}g=null}else g=null;p!==null&&Fx(f,h,p,g,!1),m!==null&&x!==null&&Fx(f,x,m,g,!0)}}e:{if(h=c?ka(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var O=yO;else if(Tx(h))if(vk)O=wO;else{O=xO;var N=vO}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(O=bO);if(O&&(O=O(t,c))){yk(f,O,r,u);break e}N&&N(t,h,c),t==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&ug(h,"number",h.value)}switch(N=c?ka(c):window,t){case"focusin":(Tx(N)||N.contentEditable==="true")&&(wa=N,Sg=c,Nc=null);break;case"focusout":Nc=Sg=wa=null;break;case"mousedown":kg=!0;break;case"contextmenu":case"mouseup":case"dragend":kg=!1,Rx(f,r,u);break;case"selectionchange":if(_O)break;case"keydown":case"keyup":Rx(f,r,u)}var T;if(j0)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else ba?mk(t,r)&&(w="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(w="onCompositionStart");w&&(pk&&r.locale!=="ko"&&(ba||w!=="onCompositionStart"?w==="onCompositionEnd"&&ba&&(T=hk()):(xi=u,E0="value"in xi?xi.value:xi.textContent,ba=!0)),N=Rf(c,w),0<N.length&&(w=new Cx(w,t,null,r,u),f.push({event:w,listeners:N}),T?w.data=T:(T=gk(r),T!==null&&(w.data=T)))),(T=fO?hO(t,r):pO(t,r))&&(c=Rf(c,"onBeforeInput"),0<c.length&&(u=new Cx("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=T))}jk(f,e)})}function Zc(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Rf(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Vc(t,r),i!=null&&n.unshift(Zc(t,i,s)),i=Vc(t,e),i!=null&&n.push(Zc(t,i,s))),t=t.return}return n}function ia(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Fx(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,s?(l=Vc(r,i),l!=null&&o.unshift(Zc(r,l,a))):s||(l=Vc(r,i),l!=null&&o.push(Zc(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var jO=/\r\n?/g,OO=/\u0000|\uFFFD/g;function $x(t){return(typeof t=="string"?t:""+t).replace(jO,`
`).replace(OO,"")}function Md(t,e,r){if(e=$x(e),$x(t)!==e&&r)throw Error(z(425))}function Df(){}var _g=null,Eg=null;function Cg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ng=typeof setTimeout=="function"?setTimeout:void 0,TO=typeof clearTimeout=="function"?clearTimeout:void 0,zx=typeof Promise=="function"?Promise:void 0,PO=typeof queueMicrotask=="function"?queueMicrotask:typeof zx<"u"?function(t){return zx.resolve(null).then(t).catch(MO)}:Ng;function MO(t){setTimeout(function(){throw t})}function Kp(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),qc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);qc(e)}function ji(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Bx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Il=Math.random().toString(36).slice(2),Qn="__reactFiber$"+Il,Qc="__reactProps$"+Il,As="__reactContainer$"+Il,jg="__reactEvents$"+Il,AO="__reactListeners$"+Il,IO="__reactHandles$"+Il;function ao(t){var e=t[Qn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[As]||r[Qn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Bx(t);t!==null;){if(r=t[Qn])return r;t=Bx(t)}return e}t=r,r=t.parentNode}return null}function Wu(t){return t=t[Qn]||t[As],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ka(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function zh(t){return t[Qc]||null}var Og=[],_a=-1;function Hi(t){return{current:t}}function tt(t){0>_a||(t.current=Og[_a],Og[_a]=null,_a--)}function Ge(t,e){_a++,Og[_a]=t.current,t.current=e}var Li={},ir=Hi(Li),Or=Hi(!1),Ro=Li;function ul(t,e){var r=t.type.contextTypes;if(!r)return Li;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Tr(t){return t=t.childContextTypes,t!=null}function Lf(){tt(Or),tt(ir)}function Vx(t,e,r){if(ir.current!==Li)throw Error(z(168));Ge(ir,e),Ge(Or,r)}function Tk(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(z(108,vj(t)||"Unknown",s));return ct({},r,n)}function Ff(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Li,Ro=ir.current,Ge(ir,t),Ge(Or,Or.current),!0}function Ux(t,e,r){var n=t.stateNode;if(!n)throw Error(z(169));r?(t=Tk(t,e,Ro),n.__reactInternalMemoizedMergedChildContext=t,tt(Or),tt(ir),Ge(ir,t)):tt(Or),Ge(Or,r)}var _s=null,Bh=!1,Jp=!1;function Pk(t){_s===null?_s=[t]:_s.push(t)}function RO(t){Bh=!0,Pk(t)}function qi(){if(!Jp&&_s!==null){Jp=!0;var t=0,e=qe;try{var r=_s;for(qe=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}_s=null,Bh=!1}catch(s){throw _s!==null&&(_s=_s.slice(t+1)),rk(w0,qi),s}finally{qe=e,Jp=!1}}return null}var Ea=[],Ca=0,$f=null,zf=0,rn=[],nn=0,Do=null,Cs=1,Ns="";function eo(t,e){Ea[Ca++]=zf,Ea[Ca++]=$f,$f=t,zf=e}function Mk(t,e,r){rn[nn++]=Cs,rn[nn++]=Ns,rn[nn++]=Do,Do=t;var n=Cs;t=Ns;var s=32-In(n)-1;n&=~(1<<s),r+=1;var i=32-In(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Cs=1<<32-In(e)+s|r<<s|n,Ns=i+t}else Cs=1<<i|r<<s|n,Ns=t}function T0(t){t.return!==null&&(eo(t,1),Mk(t,1,0))}function P0(t){for(;t===$f;)$f=Ea[--Ca],Ea[Ca]=null,zf=Ea[--Ca],Ea[Ca]=null;for(;t===Do;)Do=rn[--nn],rn[nn]=null,Ns=rn[--nn],rn[nn]=null,Cs=rn[--nn],rn[nn]=null}var Hr=null,Vr=null,st=!1,Nn=null;function Ak(t,e){var r=ln(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Hx(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Hr=t,Vr=ji(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Hr=t,Vr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Do!==null?{id:Cs,overflow:Ns}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ln(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Hr=t,Vr=null,!0):!1;default:return!1}}function Tg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Pg(t){if(st){var e=Vr;if(e){var r=e;if(!Hx(t,e)){if(Tg(t))throw Error(z(418));e=ji(r.nextSibling);var n=Hr;e&&Hx(t,e)?Ak(n,r):(t.flags=t.flags&-4097|2,st=!1,Hr=t)}}else{if(Tg(t))throw Error(z(418));t.flags=t.flags&-4097|2,st=!1,Hr=t}}}function qx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Hr=t}function Ad(t){if(t!==Hr)return!1;if(!st)return qx(t),st=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Cg(t.type,t.memoizedProps)),e&&(e=Vr)){if(Tg(t))throw Ik(),Error(z(418));for(;e;)Ak(t,e),e=ji(e.nextSibling)}if(qx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Vr=ji(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Vr=null}}else Vr=Hr?ji(t.stateNode.nextSibling):null;return!0}function Ik(){for(var t=Vr;t;)t=ji(t.nextSibling)}function dl(){Vr=Hr=null,st=!1}function M0(t){Nn===null?Nn=[t]:Nn.push(t)}var DO=zs.ReactCurrentBatchConfig;function Yl(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(z(309));var n=r.stateNode}if(!n)throw Error(z(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!r._owner)throw Error(z(290,t))}return t}function Id(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Wx(t){var e=t._init;return e(t._payload)}function Rk(t){function e(v,y){if(t){var b=v.deletions;b===null?(v.deletions=[y],v.flags|=16):b.push(y)}}function r(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function n(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function s(v,y){return v=Mi(v,y),v.index=0,v.sibling=null,v}function i(v,y,b){return v.index=b,t?(b=v.alternate,b!==null?(b=b.index,b<y?(v.flags|=2,y):b):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,y,b,S){return y===null||y.tag!==6?(y=tm(b,v.mode,S),y.return=v,y):(y=s(y,b),y.return=v,y)}function l(v,y,b,S){var O=b.type;return O===xa?u(v,y,b.props.children,S,b.key):y!==null&&(y.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Xs&&Wx(O)===y.type)?(S=s(y,b.props),S.ref=Yl(v,y,b),S.return=v,S):(S=pf(b.type,b.key,b.props,null,v.mode,S),S.ref=Yl(v,y,b),S.return=v,S)}function c(v,y,b,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=rm(b,v.mode,S),y.return=v,y):(y=s(y,b.children||[]),y.return=v,y)}function u(v,y,b,S,O){return y===null||y.tag!==7?(y=No(b,v.mode,S,O),y.return=v,y):(y=s(y,b),y.return=v,y)}function f(v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=tm(""+y,v.mode,b),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case kd:return b=pf(y.type,y.key,y.props,null,v.mode,b),b.ref=Yl(v,null,y),b.return=v,b;case va:return y=rm(y,v.mode,b),y.return=v,y;case Xs:var S=y._init;return f(v,S(y._payload),b)}if(fc(y)||Kl(y))return y=No(y,v.mode,b,null),y.return=v,y;Id(v,y)}return null}function h(v,y,b,S){var O=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return O!==null?null:a(v,y,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case kd:return b.key===O?l(v,y,b,S):null;case va:return b.key===O?c(v,y,b,S):null;case Xs:return O=b._init,h(v,y,O(b._payload),S)}if(fc(b)||Kl(b))return O!==null?null:u(v,y,b,S,null);Id(v,b)}return null}function p(v,y,b,S,O){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(b)||null,a(y,v,""+S,O);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case kd:return v=v.get(S.key===null?b:S.key)||null,l(y,v,S,O);case va:return v=v.get(S.key===null?b:S.key)||null,c(y,v,S,O);case Xs:var N=S._init;return p(v,y,b,N(S._payload),O)}if(fc(S)||Kl(S))return v=v.get(b)||null,u(y,v,S,O,null);Id(y,S)}return null}function m(v,y,b,S){for(var O=null,N=null,T=y,w=y=0,M=null;T!==null&&w<b.length;w++){T.index>w?(M=T,T=null):M=T.sibling;var P=h(v,T,b[w],S);if(P===null){T===null&&(T=M);break}t&&T&&P.alternate===null&&e(v,T),y=i(P,y,w),N===null?O=P:N.sibling=P,N=P,T=M}if(w===b.length)return r(v,T),st&&eo(v,w),O;if(T===null){for(;w<b.length;w++)T=f(v,b[w],S),T!==null&&(y=i(T,y,w),N===null?O=T:N.sibling=T,N=T);return st&&eo(v,w),O}for(T=n(v,T);w<b.length;w++)M=p(T,v,w,b[w],S),M!==null&&(t&&M.alternate!==null&&T.delete(M.key===null?w:M.key),y=i(M,y,w),N===null?O=M:N.sibling=M,N=M);return t&&T.forEach(function(R){return e(v,R)}),st&&eo(v,w),O}function g(v,y,b,S){var O=Kl(b);if(typeof O!="function")throw Error(z(150));if(b=O.call(b),b==null)throw Error(z(151));for(var N=O=null,T=y,w=y=0,M=null,P=b.next();T!==null&&!P.done;w++,P=b.next()){T.index>w?(M=T,T=null):M=T.sibling;var R=h(v,T,P.value,S);if(R===null){T===null&&(T=M);break}t&&T&&R.alternate===null&&e(v,T),y=i(R,y,w),N===null?O=R:N.sibling=R,N=R,T=M}if(P.done)return r(v,T),st&&eo(v,w),O;if(T===null){for(;!P.done;w++,P=b.next())P=f(v,P.value,S),P!==null&&(y=i(P,y,w),N===null?O=P:N.sibling=P,N=P);return st&&eo(v,w),O}for(T=n(v,T);!P.done;w++,P=b.next())P=p(T,v,w,P.value,S),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?w:P.key),y=i(P,y,w),N===null?O=P:N.sibling=P,N=P);return t&&T.forEach(function(L){return e(v,L)}),st&&eo(v,w),O}function x(v,y,b,S){if(typeof b=="object"&&b!==null&&b.type===xa&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case kd:e:{for(var O=b.key,N=y;N!==null;){if(N.key===O){if(O=b.type,O===xa){if(N.tag===7){r(v,N.sibling),y=s(N,b.props.children),y.return=v,v=y;break e}}else if(N.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Xs&&Wx(O)===N.type){r(v,N.sibling),y=s(N,b.props),y.ref=Yl(v,N,b),y.return=v,v=y;break e}r(v,N);break}else e(v,N);N=N.sibling}b.type===xa?(y=No(b.props.children,v.mode,S,b.key),y.return=v,v=y):(S=pf(b.type,b.key,b.props,null,v.mode,S),S.ref=Yl(v,y,b),S.return=v,v=S)}return o(v);case va:e:{for(N=b.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(v,y.sibling),y=s(y,b.children||[]),y.return=v,v=y;break e}else{r(v,y);break}else e(v,y);y=y.sibling}y=rm(b,v.mode,S),y.return=v,v=y}return o(v);case Xs:return N=b._init,x(v,y,N(b._payload),S)}if(fc(b))return m(v,y,b,S);if(Kl(b))return g(v,y,b,S);Id(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(v,y.sibling),y=s(y,b),y.return=v,v=y):(r(v,y),y=tm(b,v.mode,S),y.return=v,v=y),o(v)):r(v,y)}return x}var fl=Rk(!0),Dk=Rk(!1),Bf=Hi(null),Vf=null,Na=null,A0=null;function I0(){A0=Na=Vf=null}function R0(t){var e=Bf.current;tt(Bf),t._currentValue=e}function Mg(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function $a(t,e){Vf=t,A0=Na=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Nr=!0),t.firstContext=null)}function hn(t){var e=t._currentValue;if(A0!==t)if(t={context:t,memoizedValue:e,next:null},Na===null){if(Vf===null)throw Error(z(308));Na=t,Vf.dependencies={lanes:0,firstContext:t}}else Na=Na.next=t;return e}var lo=null;function D0(t){lo===null?lo=[t]:lo.push(t)}function Lk(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,D0(e)):(r.next=s.next,s.next=r),e.interleaved=r,Is(t,n)}function Is(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ei=!1;function L0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function js(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Oi(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,$e&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Is(t,r)}return s=n.interleaved,s===null?(e.next=e,D0(n)):(e.next=s.next,s.next=e),n.interleaved=e,Is(t,r)}function lf(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,S0(t,r)}}function Kx(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Uf(t,e,r,n){var s=t.updateQueue;ei=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,u=c=l=null,a=i;do{var h=a.lane,p=a.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,g=a;switch(h=e,p=r,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=ct({},f,h);break e;case 2:ei=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Fo|=o,t.lanes=o,t.memoizedState=f}}function Jx(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(z(191,s));s.call(n)}}}var Ku={},ts=Hi(Ku),Gc=Hi(Ku),Yc=Hi(Ku);function co(t){if(t===Ku)throw Error(z(174));return t}function F0(t,e){switch(Ge(Yc,e),Ge(Gc,t),Ge(ts,Ku),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:fg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=fg(e,t)}tt(ts),Ge(ts,e)}function hl(){tt(ts),tt(Gc),tt(Yc)}function $k(t){co(Yc.current);var e=co(ts.current),r=fg(e,t.type);e!==r&&(Ge(Gc,t),Ge(ts,r))}function $0(t){Gc.current===t&&(tt(ts),tt(Gc))}var at=Hi(0);function Hf(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zp=[];function z0(){for(var t=0;t<Zp.length;t++)Zp[t]._workInProgressVersionPrimary=null;Zp.length=0}var cf=zs.ReactCurrentDispatcher,Qp=zs.ReactCurrentBatchConfig,Lo=0,lt=null,jt=null,Lt=null,qf=!1,jc=!1,Xc=0,LO=0;function Gt(){throw Error(z(321))}function B0(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Fn(t[r],e[r]))return!1;return!0}function V0(t,e,r,n,s,i){if(Lo=i,lt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,cf.current=t===null||t.memoizedState===null?BO:VO,t=r(n,s),jc){i=0;do{if(jc=!1,Xc=0,25<=i)throw Error(z(301));i+=1,Lt=jt=null,e.updateQueue=null,cf.current=UO,t=r(n,s)}while(jc)}if(cf.current=Wf,e=jt!==null&&jt.next!==null,Lo=0,Lt=jt=lt=null,qf=!1,e)throw Error(z(300));return t}function U0(){var t=Xc!==0;return Xc=0,t}function Un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?lt.memoizedState=Lt=t:Lt=Lt.next=t,Lt}function pn(){if(jt===null){var t=lt.alternate;t=t!==null?t.memoizedState:null}else t=jt.next;var e=Lt===null?lt.memoizedState:Lt.next;if(e!==null)Lt=e,jt=t;else{if(t===null)throw Error(z(310));jt=t,t={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Lt===null?lt.memoizedState=Lt=t:Lt=Lt.next=t}return Lt}function eu(t,e){return typeof e=="function"?e(t):e}function Gp(t){var e=pn(),r=e.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=t;var n=jt,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((Lo&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=n):l=l.next=f,lt.lanes|=u,Fo|=u}c=c.next}while(c!==null&&c!==i);l===null?o=n:l.next=a,Fn(n,e.memoizedState)||(Nr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,lt.lanes|=i,Fo|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Yp(t){var e=pn(),r=e.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Fn(i,e.memoizedState)||(Nr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function zk(){}function Bk(t,e){var r=lt,n=pn(),s=e(),i=!Fn(n.memoizedState,s);if(i&&(n.memoizedState=s,Nr=!0),n=n.queue,H0(Hk.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Lt!==null&&Lt.memoizedState.tag&1){if(r.flags|=2048,tu(9,Uk.bind(null,r,n,s,e),void 0,null),$t===null)throw Error(z(349));Lo&30||Vk(r,e,s)}return s}function Vk(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=lt.updateQueue,e===null?(e={lastEffect:null,stores:null},lt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Uk(t,e,r,n){e.value=r,e.getSnapshot=n,qk(e)&&Wk(t)}function Hk(t,e,r){return r(function(){qk(e)&&Wk(t)})}function qk(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Fn(t,r)}catch{return!0}}function Wk(t){var e=Is(t,1);e!==null&&Rn(e,t,1,-1)}function Zx(t){var e=Un();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eu,lastRenderedState:t},e.queue=t,t=t.dispatch=zO.bind(null,lt,t),[e.memoizedState,t]}function tu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=lt.updateQueue,e===null?(e={lastEffect:null,stores:null},lt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Kk(){return pn().memoizedState}function uf(t,e,r,n){var s=Un();lt.flags|=t,s.memoizedState=tu(1|e,r,void 0,n===void 0?null:n)}function Vh(t,e,r,n){var s=pn();n=n===void 0?null:n;var i=void 0;if(jt!==null){var o=jt.memoizedState;if(i=o.destroy,n!==null&&B0(n,o.deps)){s.memoizedState=tu(e,r,i,n);return}}lt.flags|=t,s.memoizedState=tu(1|e,r,i,n)}function Qx(t,e){return uf(8390656,8,t,e)}function H0(t,e){return Vh(2048,8,t,e)}function Jk(t,e){return Vh(4,2,t,e)}function Zk(t,e){return Vh(4,4,t,e)}function Qk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Gk(t,e,r){return r=r!=null?r.concat([t]):null,Vh(4,4,Qk.bind(null,e,t),r)}function q0(){}function Yk(t,e){var r=pn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&B0(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Xk(t,e){var r=pn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&B0(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function e_(t,e,r){return Lo&21?(Fn(r,e)||(r=ik(),lt.lanes|=r,Fo|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Nr=!0),t.memoizedState=r)}function FO(t,e){var r=qe;qe=r!==0&&4>r?r:4,t(!0);var n=Qp.transition;Qp.transition={};try{t(!1),e()}finally{qe=r,Qp.transition=n}}function t_(){return pn().memoizedState}function $O(t,e,r){var n=Pi(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},r_(t))n_(e,r);else if(r=Lk(t,e,r,n),r!==null){var s=mr();Rn(r,t,n,s),s_(r,e,n)}}function zO(t,e,r){var n=Pi(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(r_(t))n_(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,Fn(a,o)){var l=e.interleaved;l===null?(s.next=s,D0(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=Lk(t,e,s,n),r!==null&&(s=mr(),Rn(r,t,n,s),s_(r,e,n))}}function r_(t){var e=t.alternate;return t===lt||e!==null&&e===lt}function n_(t,e){jc=qf=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function s_(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,S0(t,r)}}var Wf={readContext:hn,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},BO={readContext:hn,useCallback:function(t,e){return Un().memoizedState=[t,e===void 0?null:e],t},useContext:hn,useEffect:Qx,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,uf(4194308,4,Qk.bind(null,e,t),r)},useLayoutEffect:function(t,e){return uf(4194308,4,t,e)},useInsertionEffect:function(t,e){return uf(4,2,t,e)},useMemo:function(t,e){var r=Un();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Un();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=$O.bind(null,lt,t),[n.memoizedState,t]},useRef:function(t){var e=Un();return t={current:t},e.memoizedState=t},useState:Zx,useDebugValue:q0,useDeferredValue:function(t){return Un().memoizedState=t},useTransition:function(){var t=Zx(!1),e=t[0];return t=FO.bind(null,t[1]),Un().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=lt,s=Un();if(st){if(r===void 0)throw Error(z(407));r=r()}else{if(r=e(),$t===null)throw Error(z(349));Lo&30||Vk(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,Qx(Hk.bind(null,n,i,t),[t]),n.flags|=2048,tu(9,Uk.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Un(),e=$t.identifierPrefix;if(st){var r=Ns,n=Cs;r=(n&~(1<<32-In(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Xc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=LO++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},VO={readContext:hn,useCallback:Yk,useContext:hn,useEffect:H0,useImperativeHandle:Gk,useInsertionEffect:Jk,useLayoutEffect:Zk,useMemo:Xk,useReducer:Gp,useRef:Kk,useState:function(){return Gp(eu)},useDebugValue:q0,useDeferredValue:function(t){var e=pn();return e_(e,jt.memoizedState,t)},useTransition:function(){var t=Gp(eu)[0],e=pn().memoizedState;return[t,e]},useMutableSource:zk,useSyncExternalStore:Bk,useId:t_,unstable_isNewReconciler:!1},UO={readContext:hn,useCallback:Yk,useContext:hn,useEffect:H0,useImperativeHandle:Gk,useInsertionEffect:Jk,useLayoutEffect:Zk,useMemo:Xk,useReducer:Yp,useRef:Kk,useState:function(){return Yp(eu)},useDebugValue:q0,useDeferredValue:function(t){var e=pn();return jt===null?e.memoizedState=t:e_(e,jt.memoizedState,t)},useTransition:function(){var t=Yp(eu)[0],e=pn().memoizedState;return[t,e]},useMutableSource:zk,useSyncExternalStore:Bk,useId:t_,unstable_isNewReconciler:!1};function bn(t,e){if(t&&t.defaultProps){e=ct({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Ag(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ct({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Uh={isMounted:function(t){return(t=t._reactInternals)?Zo(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=mr(),s=Pi(t),i=js(n,s);i.payload=e,r!=null&&(i.callback=r),e=Oi(t,i,s),e!==null&&(Rn(e,t,s,n),lf(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=mr(),s=Pi(t),i=js(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Oi(t,i,s),e!==null&&(Rn(e,t,s,n),lf(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=mr(),n=Pi(t),s=js(r,n);s.tag=2,e!=null&&(s.callback=e),e=Oi(t,s,n),e!==null&&(Rn(e,t,n,r),lf(e,t,n))}};function Gx(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Kc(r,n)||!Kc(s,i):!0}function i_(t,e,r){var n=!1,s=Li,i=e.contextType;return typeof i=="object"&&i!==null?i=hn(i):(s=Tr(e)?Ro:ir.current,n=e.contextTypes,i=(n=n!=null)?ul(t,s):Li),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Uh,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Yx(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Uh.enqueueReplaceState(e,e.state,null)}function Ig(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},L0(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=hn(i):(i=Tr(e)?Ro:ir.current,s.context=ul(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ag(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Uh.enqueueReplaceState(s,s.state,null),Uf(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function pl(t,e){try{var r="",n=e;do r+=yj(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Xp(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Rg(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var HO=typeof WeakMap=="function"?WeakMap:Map;function o_(t,e,r){r=js(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Jf||(Jf=!0,qg=n),Rg(t,e)},r}function a_(t,e,r){r=js(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Rg(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Rg(t,e),typeof n!="function"&&(Ti===null?Ti=new Set([this]):Ti.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Xx(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new HO;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=sT.bind(null,t,e,r),e.then(t,t))}function e1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function t1(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=js(-1,1),e.tag=2,Oi(r,e,1))),r.lanes|=1),t)}var qO=zs.ReactCurrentOwner,Nr=!1;function hr(t,e,r,n){e.child=t===null?Dk(e,null,r,n):fl(e,t.child,r,n)}function r1(t,e,r,n,s){r=r.render;var i=e.ref;return $a(e,s),n=V0(t,e,r,n,i,s),r=U0(),t!==null&&!Nr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Rs(t,e,s)):(st&&r&&T0(e),e.flags|=1,hr(t,e,n,s),e.child)}function n1(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!X0(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,l_(t,e,i,n,s)):(t=pf(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Kc,r(o,n)&&t.ref===e.ref)return Rs(t,e,s)}return e.flags|=1,t=Mi(i,n),t.ref=e.ref,t.return=e,e.child=t}function l_(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Kc(i,n)&&t.ref===e.ref)if(Nr=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Nr=!0);else return e.lanes=t.lanes,Rs(t,e,s)}return Dg(t,e,r,n,s)}function c_(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(Oa,Lr),Lr|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ge(Oa,Lr),Lr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Ge(Oa,Lr),Lr|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,Ge(Oa,Lr),Lr|=n;return hr(t,e,s,r),e.child}function u_(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Dg(t,e,r,n,s){var i=Tr(r)?Ro:ir.current;return i=ul(e,i),$a(e,s),r=V0(t,e,r,n,i,s),n=U0(),t!==null&&!Nr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Rs(t,e,s)):(st&&n&&T0(e),e.flags|=1,hr(t,e,r,s),e.child)}function s1(t,e,r,n,s){if(Tr(r)){var i=!0;Ff(e)}else i=!1;if($a(e,s),e.stateNode===null)df(t,e),i_(e,r,n),Ig(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=hn(c):(c=Tr(r)?Ro:ir.current,c=ul(e,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&Yx(e,o,n,c),ei=!1;var h=e.memoizedState;o.state=h,Uf(e,n,o,s),l=e.memoizedState,a!==n||h!==l||Or.current||ei?(typeof u=="function"&&(Ag(e,r,u,n),l=e.memoizedState),(a=ei||Gx(e,r,a,n,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Fk(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:bn(e.type,a),o.props=c,f=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=hn(l):(l=Tr(r)?Ro:ir.current,l=ul(e,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Yx(e,o,n,l),ei=!1,h=e.memoizedState,o.state=h,Uf(e,n,o,s);var m=e.memoizedState;a!==f||h!==m||Or.current||ei?(typeof p=="function"&&(Ag(e,r,p,n),m=e.memoizedState),(c=ei||Gx(e,r,c,n,h,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),o.props=n,o.state=m,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Lg(t,e,r,n,i,s)}function Lg(t,e,r,n,s,i){u_(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&Ux(e,r,!1),Rs(t,e,i);n=e.stateNode,qO.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=fl(e,t.child,null,i),e.child=fl(e,null,a,i)):hr(t,e,a,i),e.memoizedState=n.state,s&&Ux(e,r,!0),e.child}function d_(t){var e=t.stateNode;e.pendingContext?Vx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Vx(t,e.context,!1),F0(t,e.containerInfo)}function i1(t,e,r,n,s){return dl(),M0(s),e.flags|=256,hr(t,e,r,n),e.child}var Fg={dehydrated:null,treeContext:null,retryLane:0};function $g(t){return{baseLanes:t,cachePool:null,transitions:null}}function f_(t,e,r){var n=e.pendingProps,s=at.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ge(at,s&1),t===null)return Pg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Wh(o,n,0,null),t=No(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=$g(r),e.memoizedState=Fg,t):W0(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return WO(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Mi(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Mi(a,i):(i=No(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?$g(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Fg,n}return i=t.child,t=i.sibling,n=Mi(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function W0(t,e){return e=Wh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Rd(t,e,r,n){return n!==null&&M0(n),fl(e,t.child,null,r),t=W0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function WO(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=Xp(Error(z(422))),Rd(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Wh({mode:"visible",children:n.children},s,0,null),i=No(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&fl(e,t.child,null,o),e.child.memoizedState=$g(o),e.memoizedState=Fg,i);if(!(e.mode&1))return Rd(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(z(419)),n=Xp(i,n,void 0),Rd(t,e,o,n)}if(a=(o&t.childLanes)!==0,Nr||a){if(n=$t,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Is(t,s),Rn(n,t,s,-1))}return Y0(),n=Xp(Error(z(421))),Rd(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=iT.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Vr=ji(s.nextSibling),Hr=e,st=!0,Nn=null,t!==null&&(rn[nn++]=Cs,rn[nn++]=Ns,rn[nn++]=Do,Cs=t.id,Ns=t.overflow,Do=e),e=W0(e,n.children),e.flags|=4096,e)}function o1(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Mg(t.return,e,r)}function em(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function h_(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(hr(t,e,n.children,r),n=at.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&o1(t,r,e);else if(t.tag===19)o1(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ge(at,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Hf(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),em(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Hf(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}em(e,!0,r,null,i);break;case"together":em(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function df(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Rs(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Fo|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,r=Mi(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Mi(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function KO(t,e,r){switch(e.tag){case 3:d_(e),dl();break;case 5:$k(e);break;case 1:Tr(e.type)&&Ff(e);break;case 4:F0(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Ge(Bf,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ge(at,at.current&1),e.flags|=128,null):r&e.child.childLanes?f_(t,e,r):(Ge(at,at.current&1),t=Rs(t,e,r),t!==null?t.sibling:null);Ge(at,at.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return h_(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ge(at,at.current),n)break;return null;case 22:case 23:return e.lanes=0,c_(t,e,r)}return Rs(t,e,r)}var p_,zg,m_,g_;p_=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};zg=function(){};m_=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,co(ts.current);var i=null;switch(r){case"input":s=lg(t,s),n=lg(t,n),i=[];break;case"select":s=ct({},s,{value:void 0}),n=ct({},n,{value:void 0}),i=[];break;case"textarea":s=dg(t,s),n=dg(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Df)}hg(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(zc.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(zc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Xe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};g_=function(t,e,r,n){r!==n&&(e.flags|=4)};function Xl(t,e){if(!st)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Yt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function JO(t,e,r){var n=e.pendingProps;switch(P0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(e),null;case 1:return Tr(e.type)&&Lf(),Yt(e),null;case 3:return n=e.stateNode,hl(),tt(Or),tt(ir),z0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ad(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Nn!==null&&(Jg(Nn),Nn=null))),zg(t,e),Yt(e),null;case 5:$0(e);var s=co(Yc.current);if(r=e.type,t!==null&&e.stateNode!=null)m_(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(z(166));return Yt(e),null}if(t=co(ts.current),Ad(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Qn]=e,n[Qc]=i,t=(e.mode&1)!==0,r){case"dialog":Xe("cancel",n),Xe("close",n);break;case"iframe":case"object":case"embed":Xe("load",n);break;case"video":case"audio":for(s=0;s<pc.length;s++)Xe(pc[s],n);break;case"source":Xe("error",n);break;case"img":case"image":case"link":Xe("error",n),Xe("load",n);break;case"details":Xe("toggle",n);break;case"input":mx(n,i),Xe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Xe("invalid",n);break;case"textarea":yx(n,i),Xe("invalid",n)}hg(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Md(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Md(n.textContent,a,t),s=["children",""+a]):zc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Xe("scroll",n)}switch(r){case"input":_d(n),gx(n,i,!0);break;case"textarea":_d(n),vx(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Df)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=HS(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Qn]=e,t[Qc]=n,p_(t,e,!1,!1),e.stateNode=t;e:{switch(o=pg(r,n),r){case"dialog":Xe("cancel",t),Xe("close",t),s=n;break;case"iframe":case"object":case"embed":Xe("load",t),s=n;break;case"video":case"audio":for(s=0;s<pc.length;s++)Xe(pc[s],t);s=n;break;case"source":Xe("error",t),s=n;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),s=n;break;case"details":Xe("toggle",t),s=n;break;case"input":mx(t,n),s=lg(t,n),Xe("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=ct({},n,{value:void 0}),Xe("invalid",t);break;case"textarea":yx(t,n),s=dg(t,n),Xe("invalid",t);break;default:s=n}hg(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?KS(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&qS(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Bc(t,l):typeof l=="number"&&Bc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(zc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Xe("scroll",t):l!=null&&g0(t,i,l,o))}switch(r){case"input":_d(t),gx(t,n,!1);break;case"textarea":_d(t),vx(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Di(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Ra(t,!!n.multiple,i,!1):n.defaultValue!=null&&Ra(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Df)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Yt(e),null;case 6:if(t&&e.stateNode!=null)g_(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(z(166));if(r=co(Yc.current),co(ts.current),Ad(e)){if(n=e.stateNode,r=e.memoizedProps,n[Qn]=e,(i=n.nodeValue!==r)&&(t=Hr,t!==null))switch(t.tag){case 3:Md(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Md(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Qn]=e,e.stateNode=n}return Yt(e),null;case 13:if(tt(at),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(st&&Vr!==null&&e.mode&1&&!(e.flags&128))Ik(),dl(),e.flags|=98560,i=!1;else if(i=Ad(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[Qn]=e}else dl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Yt(e),i=!1}else Nn!==null&&(Jg(Nn),Nn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||at.current&1?Tt===0&&(Tt=3):Y0())),e.updateQueue!==null&&(e.flags|=4),Yt(e),null);case 4:return hl(),zg(t,e),t===null&&Jc(e.stateNode.containerInfo),Yt(e),null;case 10:return R0(e.type._context),Yt(e),null;case 17:return Tr(e.type)&&Lf(),Yt(e),null;case 19:if(tt(at),i=e.memoizedState,i===null)return Yt(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)Xl(i,!1);else{if(Tt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Hf(t),o!==null){for(e.flags|=128,Xl(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ge(at,at.current&1|2),e.child}t=t.sibling}i.tail!==null&&bt()>ml&&(e.flags|=128,n=!0,Xl(i,!1),e.lanes=4194304)}else{if(!n)if(t=Hf(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Xl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!st)return Yt(e),null}else 2*bt()-i.renderingStartTime>ml&&r!==1073741824&&(e.flags|=128,n=!0,Xl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=bt(),e.sibling=null,r=at.current,Ge(at,n?r&1|2:r&1),e):(Yt(e),null);case 22:case 23:return G0(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Lr&1073741824&&(Yt(e),e.subtreeFlags&6&&(e.flags|=8192)):Yt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function ZO(t,e){switch(P0(e),e.tag){case 1:return Tr(e.type)&&Lf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return hl(),tt(Or),tt(ir),z0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $0(e),null;case 13:if(tt(at),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));dl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return tt(at),null;case 4:return hl(),null;case 10:return R0(e.type._context),null;case 22:case 23:return G0(),null;case 24:return null;default:return null}}var Dd=!1,rr=!1,QO=typeof WeakSet=="function"?WeakSet:Set,re=null;function ja(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){mt(t,e,n)}else r.current=null}function Bg(t,e,r){try{r()}catch(n){mt(t,e,n)}}var a1=!1;function GO(t,e){if(_g=Af,t=wk(),O0(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,u=0,f=t,h=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(a=o+s),f!==i||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===r&&++c===s&&(a=o),h===i&&++u===n&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Eg={focusedElem:t,selectionRange:r},Af=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,x=m.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:bn(e.type,g),x);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(S){mt(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return m=a1,a1=!1,m}function Oc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Bg(e,r,i)}s=s.next}while(s!==n)}}function Hh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Vg(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function y_(t){var e=t.alternate;e!==null&&(t.alternate=null,y_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Qn],delete e[Qc],delete e[jg],delete e[AO],delete e[IO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function v_(t){return t.tag===5||t.tag===3||t.tag===4}function l1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||v_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ug(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Df));else if(n!==4&&(t=t.child,t!==null))for(Ug(t,e,r),t=t.sibling;t!==null;)Ug(t,e,r),t=t.sibling}function Hg(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Hg(t,e,r),t=t.sibling;t!==null;)Hg(t,e,r),t=t.sibling}var qt=null,kn=!1;function qs(t,e,r){for(r=r.child;r!==null;)x_(t,e,r),r=r.sibling}function x_(t,e,r){if(es&&typeof es.onCommitFiberUnmount=="function")try{es.onCommitFiberUnmount(Dh,r)}catch{}switch(r.tag){case 5:rr||ja(r,e);case 6:var n=qt,s=kn;qt=null,qs(t,e,r),qt=n,kn=s,qt!==null&&(kn?(t=qt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):qt.removeChild(r.stateNode));break;case 18:qt!==null&&(kn?(t=qt,r=r.stateNode,t.nodeType===8?Kp(t.parentNode,r):t.nodeType===1&&Kp(t,r),qc(t)):Kp(qt,r.stateNode));break;case 4:n=qt,s=kn,qt=r.stateNode.containerInfo,kn=!0,qs(t,e,r),qt=n,kn=s;break;case 0:case 11:case 14:case 15:if(!rr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Bg(r,e,o),s=s.next}while(s!==n)}qs(t,e,r);break;case 1:if(!rr&&(ja(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){mt(r,e,a)}qs(t,e,r);break;case 21:qs(t,e,r);break;case 22:r.mode&1?(rr=(n=rr)||r.memoizedState!==null,qs(t,e,r),rr=n):qs(t,e,r);break;default:qs(t,e,r)}}function c1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new QO),e.forEach(function(n){var s=oT.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function yn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:qt=a.stateNode,kn=!1;break e;case 3:qt=a.stateNode.containerInfo,kn=!0;break e;case 4:qt=a.stateNode.containerInfo,kn=!0;break e}a=a.return}if(qt===null)throw Error(z(160));x_(i,o,s),qt=null,kn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){mt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)b_(e,t),e=e.sibling}function b_(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yn(e,t),Vn(t),n&4){try{Oc(3,t,t.return),Hh(3,t)}catch(g){mt(t,t.return,g)}try{Oc(5,t,t.return)}catch(g){mt(t,t.return,g)}}break;case 1:yn(e,t),Vn(t),n&512&&r!==null&&ja(r,r.return);break;case 5:if(yn(e,t),Vn(t),n&512&&r!==null&&ja(r,r.return),t.flags&32){var s=t.stateNode;try{Bc(s,"")}catch(g){mt(t,t.return,g)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&VS(s,i),pg(a,o);var c=pg(a,i);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?KS(s,f):u==="dangerouslySetInnerHTML"?qS(s,f):u==="children"?Bc(s,f):g0(s,u,f,c)}switch(a){case"input":cg(s,i);break;case"textarea":US(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Ra(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Ra(s,!!i.multiple,i.defaultValue,!0):Ra(s,!!i.multiple,i.multiple?[]:"",!1))}s[Qc]=i}catch(g){mt(t,t.return,g)}}break;case 6:if(yn(e,t),Vn(t),n&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){mt(t,t.return,g)}}break;case 3:if(yn(e,t),Vn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{qc(e.containerInfo)}catch(g){mt(t,t.return,g)}break;case 4:yn(e,t),Vn(t);break;case 13:yn(e,t),Vn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Z0=bt())),n&4&&c1(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(rr=(c=rr)||u,yn(e,t),rr=c):yn(e,t),Vn(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(re=t,u=t.child;u!==null;){for(f=re=u;re!==null;){switch(h=re,p=h.child,h.tag){case 0:case 11:case 14:case 15:Oc(4,h,h.return);break;case 1:ja(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){mt(n,r,g)}}break;case 5:ja(h,h.return);break;case 22:if(h.memoizedState!==null){d1(f);continue}}p!==null?(p.return=h,re=p):d1(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=WS("display",o))}catch(g){mt(t,t.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){mt(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:yn(e,t),Vn(t),n&4&&c1(t);break;case 21:break;default:yn(e,t),Vn(t)}}function Vn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(v_(r)){var n=r;break e}r=r.return}throw Error(z(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Bc(s,""),n.flags&=-33);var i=l1(t);Hg(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=l1(t);Ug(t,a,o);break;default:throw Error(z(161))}}catch(l){mt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function YO(t,e,r){re=t,w_(t)}function w_(t,e,r){for(var n=(t.mode&1)!==0;re!==null;){var s=re,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Dd;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||rr;a=Dd;var c=rr;if(Dd=o,(rr=l)&&!c)for(re=s;re!==null;)o=re,l=o.child,o.tag===22&&o.memoizedState!==null?f1(s):l!==null?(l.return=o,re=l):f1(s);for(;i!==null;)re=i,w_(i),i=i.sibling;re=s,Dd=a,rr=c}u1(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,re=i):u1(t)}}function u1(t){for(;re!==null;){var e=re;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:rr||Hh(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!rr)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:bn(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Jx(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Jx(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&qc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}rr||e.flags&512&&Vg(e)}catch(h){mt(e,e.return,h)}}if(e===t){re=null;break}if(r=e.sibling,r!==null){r.return=e.return,re=r;break}re=e.return}}function d1(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var r=e.sibling;if(r!==null){r.return=e.return,re=r;break}re=e.return}}function f1(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Hh(4,e)}catch(l){mt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){mt(e,s,l)}}var i=e.return;try{Vg(e)}catch(l){mt(e,i,l)}break;case 5:var o=e.return;try{Vg(e)}catch(l){mt(e,o,l)}}}catch(l){mt(e,e.return,l)}if(e===t){re=null;break}var a=e.sibling;if(a!==null){a.return=e.return,re=a;break}re=e.return}}var XO=Math.ceil,Kf=zs.ReactCurrentDispatcher,K0=zs.ReactCurrentOwner,un=zs.ReactCurrentBatchConfig,$e=0,$t=null,Ct=null,Zt=0,Lr=0,Oa=Hi(0),Tt=0,ru=null,Fo=0,qh=0,J0=0,Tc=null,Cr=null,Z0=0,ml=1/0,Ss=null,Jf=!1,qg=null,Ti=null,Ld=!1,bi=null,Zf=0,Pc=0,Wg=null,ff=-1,hf=0;function mr(){return $e&6?bt():ff!==-1?ff:ff=bt()}function Pi(t){return t.mode&1?$e&2&&Zt!==0?Zt&-Zt:DO.transition!==null?(hf===0&&(hf=ik()),hf):(t=qe,t!==0||(t=window.event,t=t===void 0?16:fk(t.type)),t):1}function Rn(t,e,r,n){if(50<Pc)throw Pc=0,Wg=null,Error(z(185));Hu(t,r,n),(!($e&2)||t!==$t)&&(t===$t&&(!($e&2)&&(qh|=r),Tt===4&&ii(t,Zt)),Pr(t,n),r===1&&$e===0&&!(e.mode&1)&&(ml=bt()+500,Bh&&qi()))}function Pr(t,e){var r=t.callbackNode;Dj(t,e);var n=Mf(t,t===$t?Zt:0);if(n===0)r!==null&&wx(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&wx(r),e===1)t.tag===0?RO(h1.bind(null,t)):Pk(h1.bind(null,t)),PO(function(){!($e&6)&&qi()}),r=null;else{switch(ok(n)){case 1:r=w0;break;case 4:r=nk;break;case 16:r=Pf;break;case 536870912:r=sk;break;default:r=Pf}r=O_(r,S_.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function S_(t,e){if(ff=-1,hf=0,$e&6)throw Error(z(327));var r=t.callbackNode;if(za()&&t.callbackNode!==r)return null;var n=Mf(t,t===$t?Zt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Qf(t,n);else{e=n;var s=$e;$e|=2;var i=__();($t!==t||Zt!==e)&&(Ss=null,ml=bt()+500,Co(t,e));do try{rT();break}catch(a){k_(t,a)}while(!0);I0(),Kf.current=i,$e=s,Ct!==null?e=0:($t=null,Zt=0,e=Tt)}if(e!==0){if(e===2&&(s=xg(t),s!==0&&(n=s,e=Kg(t,s))),e===1)throw r=ru,Co(t,0),ii(t,n),Pr(t,bt()),r;if(e===6)ii(t,n);else{if(s=t.current.alternate,!(n&30)&&!eT(s)&&(e=Qf(t,n),e===2&&(i=xg(t),i!==0&&(n=i,e=Kg(t,i))),e===1))throw r=ru,Co(t,0),ii(t,n),Pr(t,bt()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(z(345));case 2:to(t,Cr,Ss);break;case 3:if(ii(t,n),(n&130023424)===n&&(e=Z0+500-bt(),10<e)){if(Mf(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){mr(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ng(to.bind(null,t,Cr,Ss),e);break}to(t,Cr,Ss);break;case 4:if(ii(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-In(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=bt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*XO(n/1960))-n,10<n){t.timeoutHandle=Ng(to.bind(null,t,Cr,Ss),n);break}to(t,Cr,Ss);break;case 5:to(t,Cr,Ss);break;default:throw Error(z(329))}}}return Pr(t,bt()),t.callbackNode===r?S_.bind(null,t):null}function Kg(t,e){var r=Tc;return t.current.memoizedState.isDehydrated&&(Co(t,e).flags|=256),t=Qf(t,e),t!==2&&(e=Cr,Cr=r,e!==null&&Jg(e)),t}function Jg(t){Cr===null?Cr=t:Cr.push.apply(Cr,t)}function eT(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Fn(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ii(t,e){for(e&=~J0,e&=~qh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-In(e),n=1<<r;t[r]=-1,e&=~n}}function h1(t){if($e&6)throw Error(z(327));za();var e=Mf(t,0);if(!(e&1))return Pr(t,bt()),null;var r=Qf(t,e);if(t.tag!==0&&r===2){var n=xg(t);n!==0&&(e=n,r=Kg(t,n))}if(r===1)throw r=ru,Co(t,0),ii(t,e),Pr(t,bt()),r;if(r===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,to(t,Cr,Ss),Pr(t,bt()),null}function Q0(t,e){var r=$e;$e|=1;try{return t(e)}finally{$e=r,$e===0&&(ml=bt()+500,Bh&&qi())}}function $o(t){bi!==null&&bi.tag===0&&!($e&6)&&za();var e=$e;$e|=1;var r=un.transition,n=qe;try{if(un.transition=null,qe=1,t)return t()}finally{qe=n,un.transition=r,$e=e,!($e&6)&&qi()}}function G0(){Lr=Oa.current,tt(Oa)}function Co(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,TO(r)),Ct!==null)for(r=Ct.return;r!==null;){var n=r;switch(P0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Lf();break;case 3:hl(),tt(Or),tt(ir),z0();break;case 5:$0(n);break;case 4:hl();break;case 13:tt(at);break;case 19:tt(at);break;case 10:R0(n.type._context);break;case 22:case 23:G0()}r=r.return}if($t=t,Ct=t=Mi(t.current,null),Zt=Lr=e,Tt=0,ru=null,J0=qh=Fo=0,Cr=Tc=null,lo!==null){for(e=0;e<lo.length;e++)if(r=lo[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}lo=null}return t}function k_(t,e){do{var r=Ct;try{if(I0(),cf.current=Wf,qf){for(var n=lt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}qf=!1}if(Lo=0,Lt=jt=lt=null,jc=!1,Xc=0,K0.current=null,r===null||r.return===null){Tt=1,ru=e,Ct=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=Zt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=e1(o);if(p!==null){p.flags&=-257,t1(p,o,a,i,e),p.mode&1&&Xx(i,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){Xx(i,c,e),Y0();break e}l=Error(z(426))}}else if(st&&a.mode&1){var x=e1(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),t1(x,o,a,i,e),M0(pl(l,a));break e}}i=l=pl(l,a),Tt!==4&&(Tt=2),Tc===null?Tc=[i]:Tc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=o_(i,l,e);Kx(i,v);break e;case 1:a=l;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ti===null||!Ti.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=a_(i,a,e);Kx(i,S);break e}}i=i.return}while(i!==null)}C_(r)}catch(O){e=O,Ct===r&&r!==null&&(Ct=r=r.return);continue}break}while(!0)}function __(){var t=Kf.current;return Kf.current=Wf,t===null?Wf:t}function Y0(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),$t===null||!(Fo&268435455)&&!(qh&268435455)||ii($t,Zt)}function Qf(t,e){var r=$e;$e|=2;var n=__();($t!==t||Zt!==e)&&(Ss=null,Co(t,e));do try{tT();break}catch(s){k_(t,s)}while(!0);if(I0(),$e=r,Kf.current=n,Ct!==null)throw Error(z(261));return $t=null,Zt=0,Tt}function tT(){for(;Ct!==null;)E_(Ct)}function rT(){for(;Ct!==null&&!Nj();)E_(Ct)}function E_(t){var e=j_(t.alternate,t,Lr);t.memoizedProps=t.pendingProps,e===null?C_(t):Ct=e,K0.current=null}function C_(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=ZO(r,e),r!==null){r.flags&=32767,Ct=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Tt=6,Ct=null;return}}else if(r=JO(r,e,Lr),r!==null){Ct=r;return}if(e=e.sibling,e!==null){Ct=e;return}Ct=e=t}while(e!==null);Tt===0&&(Tt=5)}function to(t,e,r){var n=qe,s=un.transition;try{un.transition=null,qe=1,nT(t,e,r,n)}finally{un.transition=s,qe=n}return null}function nT(t,e,r,n){do za();while(bi!==null);if($e&6)throw Error(z(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Lj(t,i),t===$t&&(Ct=$t=null,Zt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ld||(Ld=!0,O_(Pf,function(){return za(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=un.transition,un.transition=null;var o=qe;qe=1;var a=$e;$e|=4,K0.current=null,GO(t,r),b_(r,t),kO(Eg),Af=!!_g,Eg=_g=null,t.current=r,YO(r),jj(),$e=a,qe=o,un.transition=i}else t.current=r;if(Ld&&(Ld=!1,bi=t,Zf=s),i=t.pendingLanes,i===0&&(Ti=null),Pj(r.stateNode),Pr(t,bt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Jf)throw Jf=!1,t=qg,qg=null,t;return Zf&1&&t.tag!==0&&za(),i=t.pendingLanes,i&1?t===Wg?Pc++:(Pc=0,Wg=t):Pc=0,qi(),null}function za(){if(bi!==null){var t=ok(Zf),e=un.transition,r=qe;try{if(un.transition=null,qe=16>t?16:t,bi===null)var n=!1;else{if(t=bi,bi=null,Zf=0,$e&6)throw Error(z(331));var s=$e;for($e|=4,re=t.current;re!==null;){var i=re,o=i.child;if(re.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(re=c;re!==null;){var u=re;switch(u.tag){case 0:case 11:case 15:Oc(8,u,i)}var f=u.child;if(f!==null)f.return=u,re=f;else for(;re!==null;){u=re;var h=u.sibling,p=u.return;if(y_(u),u===c){re=null;break}if(h!==null){h.return=p,re=h;break}re=p}}}var m=i.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}re=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,re=o;else e:for(;re!==null;){if(i=re,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Oc(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,re=v;break e}re=i.return}}var y=t.current;for(re=y;re!==null;){o=re;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,re=b;else e:for(o=y;re!==null;){if(a=re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Hh(9,a)}}catch(O){mt(a,a.return,O)}if(a===o){re=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,re=S;break e}re=a.return}}if($e=s,qi(),es&&typeof es.onPostCommitFiberRoot=="function")try{es.onPostCommitFiberRoot(Dh,t)}catch{}n=!0}return n}finally{qe=r,un.transition=e}}return!1}function p1(t,e,r){e=pl(r,e),e=o_(t,e,1),t=Oi(t,e,1),e=mr(),t!==null&&(Hu(t,1,e),Pr(t,e))}function mt(t,e,r){if(t.tag===3)p1(t,t,r);else for(;e!==null;){if(e.tag===3){p1(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ti===null||!Ti.has(n))){t=pl(r,t),t=a_(e,t,1),e=Oi(e,t,1),t=mr(),e!==null&&(Hu(e,1,t),Pr(e,t));break}}e=e.return}}function sT(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=mr(),t.pingedLanes|=t.suspendedLanes&r,$t===t&&(Zt&r)===r&&(Tt===4||Tt===3&&(Zt&130023424)===Zt&&500>bt()-Z0?Co(t,0):J0|=r),Pr(t,e)}function N_(t,e){e===0&&(t.mode&1?(e=Nd,Nd<<=1,!(Nd&130023424)&&(Nd=4194304)):e=1);var r=mr();t=Is(t,e),t!==null&&(Hu(t,e,r),Pr(t,r))}function iT(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),N_(t,r)}function oT(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(z(314))}n!==null&&n.delete(e),N_(t,r)}var j_;j_=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Or.current)Nr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Nr=!1,KO(t,e,r);Nr=!!(t.flags&131072)}else Nr=!1,st&&e.flags&1048576&&Mk(e,zf,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;df(t,e),t=e.pendingProps;var s=ul(e,ir.current);$a(e,r),s=V0(null,e,n,t,s,r);var i=U0();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Tr(n)?(i=!0,Ff(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,L0(e),s.updater=Uh,e.stateNode=s,s._reactInternals=e,Ig(e,n,t,r),e=Lg(null,e,n,!0,i,r)):(e.tag=0,st&&i&&T0(e),hr(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(df(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=lT(n),t=bn(n,t),s){case 0:e=Dg(null,e,n,t,r);break e;case 1:e=s1(null,e,n,t,r);break e;case 11:e=r1(null,e,n,t,r);break e;case 14:e=n1(null,e,n,bn(n.type,t),r);break e}throw Error(z(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:bn(n,s),Dg(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:bn(n,s),s1(t,e,n,s,r);case 3:e:{if(d_(e),t===null)throw Error(z(387));n=e.pendingProps,i=e.memoizedState,s=i.element,Fk(t,e),Uf(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=pl(Error(z(423)),e),e=i1(t,e,n,r,s);break e}else if(n!==s){s=pl(Error(z(424)),e),e=i1(t,e,n,r,s);break e}else for(Vr=ji(e.stateNode.containerInfo.firstChild),Hr=e,st=!0,Nn=null,r=Dk(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(dl(),n===s){e=Rs(t,e,r);break e}hr(t,e,n,r)}e=e.child}return e;case 5:return $k(e),t===null&&Pg(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Cg(n,s)?o=null:i!==null&&Cg(n,i)&&(e.flags|=32),u_(t,e),hr(t,e,o,r),e.child;case 6:return t===null&&Pg(e),null;case 13:return f_(t,e,r);case 4:return F0(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=fl(e,null,n,r):hr(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:bn(n,s),r1(t,e,n,s,r);case 7:return hr(t,e,e.pendingProps,r),e.child;case 8:return hr(t,e,e.pendingProps.children,r),e.child;case 12:return hr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ge(Bf,n._currentValue),n._currentValue=o,i!==null)if(Fn(i.value,o)){if(i.children===s.children&&!Or.current){e=Rs(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=js(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Mg(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Mg(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}hr(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,$a(e,r),s=hn(s),n=n(s),e.flags|=1,hr(t,e,n,r),e.child;case 14:return n=e.type,s=bn(n,e.pendingProps),s=bn(n.type,s),n1(t,e,n,s,r);case 15:return l_(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:bn(n,s),df(t,e),e.tag=1,Tr(n)?(t=!0,Ff(e)):t=!1,$a(e,r),i_(e,n,s),Ig(e,n,s,r),Lg(null,e,n,!0,t,r);case 19:return h_(t,e,r);case 22:return c_(t,e,r)}throw Error(z(156,e.tag))};function O_(t,e){return rk(t,e)}function aT(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(t,e,r,n){return new aT(t,e,r,n)}function X0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lT(t){if(typeof t=="function")return X0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===v0)return 11;if(t===x0)return 14}return 2}function Mi(t,e){var r=t.alternate;return r===null?(r=ln(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function pf(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")X0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case xa:return No(r.children,s,i,e);case y0:o=8,s|=8;break;case sg:return t=ln(12,r,e,s|2),t.elementType=sg,t.lanes=i,t;case ig:return t=ln(13,r,e,s),t.elementType=ig,t.lanes=i,t;case og:return t=ln(19,r,e,s),t.elementType=og,t.lanes=i,t;case $S:return Wh(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case LS:o=10;break e;case FS:o=9;break e;case v0:o=11;break e;case x0:o=14;break e;case Xs:o=16,n=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=ln(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function No(t,e,r,n){return t=ln(7,t,n,e),t.lanes=r,t}function Wh(t,e,r,n){return t=ln(22,t,n,e),t.elementType=$S,t.lanes=r,t.stateNode={isHidden:!1},t}function tm(t,e,r){return t=ln(6,t,null,e),t.lanes=r,t}function rm(t,e,r){return e=ln(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function cT(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dp(0),this.expirationTimes=Dp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dp(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ev(t,e,r,n,s,i,o,a,l){return t=new cT(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ln(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},L0(i),t}function uT(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:va,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function T_(t){if(!t)return Li;t=t._reactInternals;e:{if(Zo(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Tr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var r=t.type;if(Tr(r))return Tk(t,r,e)}return e}function P_(t,e,r,n,s,i,o,a,l){return t=ev(r,n,!0,t,s,i,o,a,l),t.context=T_(null),r=t.current,n=mr(),s=Pi(r),i=js(n,s),i.callback=e??null,Oi(r,i,s),t.current.lanes=s,Hu(t,s,n),Pr(t,n),t}function Kh(t,e,r,n){var s=e.current,i=mr(),o=Pi(s);return r=T_(r),e.context===null?e.context=r:e.pendingContext=r,e=js(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Oi(s,e,o),t!==null&&(Rn(t,s,o,i),lf(t,s,o)),o}function Gf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function m1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function tv(t,e){m1(t,e),(t=t.alternate)&&m1(t,e)}function dT(){return null}var M_=typeof reportError=="function"?reportError:function(t){console.error(t)};function rv(t){this._internalRoot=t}Jh.prototype.render=rv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Kh(t,e,null,null)};Jh.prototype.unmount=rv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$o(function(){Kh(null,t,null,null)}),e[As]=null}};function Jh(t){this._internalRoot=t}Jh.prototype.unstable_scheduleHydration=function(t){if(t){var e=ck();t={blockedOn:null,target:t,priority:e};for(var r=0;r<si.length&&e!==0&&e<si[r].priority;r++);si.splice(r,0,t),r===0&&dk(t)}};function nv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function g1(){}function fT(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Gf(o);i.call(c)}}var o=P_(e,n,t,0,null,!1,!1,"",g1);return t._reactRootContainer=o,t[As]=o.current,Jc(t.nodeType===8?t.parentNode:t),$o(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=Gf(l);a.call(c)}}var l=ev(t,0,!1,null,null,!1,!1,"",g1);return t._reactRootContainer=l,t[As]=l.current,Jc(t.nodeType===8?t.parentNode:t),$o(function(){Kh(e,l,r,n)}),l}function Qh(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Gf(o);a.call(l)}}Kh(e,o,t,s)}else o=fT(r,e,t,s,n);return Gf(o)}ak=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=hc(e.pendingLanes);r!==0&&(S0(e,r|1),Pr(e,bt()),!($e&6)&&(ml=bt()+500,qi()))}break;case 13:$o(function(){var n=Is(t,1);if(n!==null){var s=mr();Rn(n,t,1,s)}}),tv(t,1)}};k0=function(t){if(t.tag===13){var e=Is(t,134217728);if(e!==null){var r=mr();Rn(e,t,134217728,r)}tv(t,134217728)}};lk=function(t){if(t.tag===13){var e=Pi(t),r=Is(t,e);if(r!==null){var n=mr();Rn(r,t,e,n)}tv(t,e)}};ck=function(){return qe};uk=function(t,e){var r=qe;try{return qe=t,e()}finally{qe=r}};gg=function(t,e,r){switch(e){case"input":if(cg(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=zh(n);if(!s)throw Error(z(90));BS(n),cg(n,s)}}}break;case"textarea":US(t,r);break;case"select":e=r.value,e!=null&&Ra(t,!!r.multiple,e,!1)}};QS=Q0;GS=$o;var hT={usingClientEntryPoint:!1,Events:[Wu,ka,zh,JS,ZS,Q0]},ec={findFiberByHostInstance:ao,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pT={bundleType:ec.bundleType,version:ec.version,rendererPackageName:ec.rendererPackageName,rendererConfig:ec.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ek(t),t===null?null:t.stateNode},findFiberByHostInstance:ec.findFiberByHostInstance||dT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fd.isDisabled&&Fd.supportsFiber)try{Dh=Fd.inject(pT),es=Fd}catch{}}Qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hT;Qr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nv(e))throw Error(z(200));return uT(t,e,null,r)};Qr.createRoot=function(t,e){if(!nv(t))throw Error(z(299));var r=!1,n="",s=M_;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ev(t,1,!1,null,null,r,!1,n,s),t[As]=e.current,Jc(t.nodeType===8?t.parentNode:t),new rv(e)};Qr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=ek(e),t=t===null?null:t.stateNode,t};Qr.flushSync=function(t){return $o(t)};Qr.hydrate=function(t,e,r){if(!Zh(e))throw Error(z(200));return Qh(null,t,e,!0,r)};Qr.hydrateRoot=function(t,e,r){if(!nv(t))throw Error(z(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=M_;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=P_(e,null,t,1,r??null,s,!1,i,o),t[As]=e.current,Jc(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Jh(e)};Qr.render=function(t,e,r){if(!Zh(e))throw Error(z(200));return Qh(null,t,e,!1,r)};Qr.unmountComponentAtNode=function(t){if(!Zh(t))throw Error(z(40));return t._reactRootContainer?($o(function(){Qh(null,null,t,!1,function(){t._reactRootContainer=null,t[As]=null})}),!0):!1};Qr.unstable_batchedUpdates=Q0;Qr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Zh(r))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Qh(t,e,r,!1,n)};Qr.version="18.3.1-next-f1338f8080-20240426";function A_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(A_)}catch(t){console.error(t)}}A_(),AS.exports=Qr;var sv=AS.exports;const I_=c0(sv),mT=wS({__proto__:null,default:I_},[sv]);var R_,y1=sv;R_=y1.createRoot,y1.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ot(){return ot=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ot.apply(this,arguments)}var Et;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Et||(Et={}));const v1="popstate";function gT(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:o,hash:a}=n.location;return nu("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:zo(s)}return vT(e,r,null,t)}function Ee(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gl(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yT(){return Math.random().toString(36).substr(2,8)}function x1(t,e){return{usr:t.state,key:t.key,idx:e}}function nu(t,e,r,n){return r===void 0&&(r=null),ot({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Wi(e):e,{state:r,key:e&&e.key||n||yT()})}function zo(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Wi(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function vT(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=Et.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(ot({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function f(){a=Et.Pop;let x=u(),v=x==null?null:x-c;c=x,l&&l({action:a,location:g.location,delta:v})}function h(x,v){a=Et.Push;let y=nu(g.location,x,v);c=u()+1;let b=x1(y,c),S=g.createHref(y);try{o.pushState(b,"",S)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(S)}i&&l&&l({action:a,location:g.location,delta:1})}function p(x,v){a=Et.Replace;let y=nu(g.location,x,v);c=u();let b=x1(y,c),S=g.createHref(y);o.replaceState(b,"",S),i&&l&&l({action:a,location:g.location,delta:0})}function m(x){let v=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof x=="string"?x:zo(x);return y=y.replace(/ $/,"%20"),Ee(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let g={get action(){return a},get location(){return t(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(v1,f),l=x,()=>{s.removeEventListener(v1,f),l=null}},createHref(x){return e(s,x)},createURL:m,encodeLocation(x){let v=m(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(x){return o.go(x)}};return g}var We;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(We||(We={}));const xT=new Set(["lazy","caseSensitive","path","id","index","children"]);function bT(t){return t.index===!0}function su(t,e,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),t.map((s,i)=>{let o=[...r,String(i)],a=typeof s.id=="string"?s.id:o.join("-");if(Ee(s.index!==!0||!s.children,"Cannot specify children on an index route"),Ee(!n[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),bT(s)){let l=ot({},s,e(s),{id:a});return n[a]=l,l}else{let l=ot({},s,e(s),{id:a,children:void 0});return n[a]=l,s.children&&(l.children=su(s.children,e,o,n)),l}})}function no(t,e,r){return r===void 0&&(r="/"),mf(t,e,r,!1)}function mf(t,e,r,n){let s=typeof e=="string"?Wi(e):e,i=Ds(s.pathname||"/",r);if(i==null)return null;let o=D_(t);ST(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=AT(i);a=PT(o[l],c,n)}return a}function wT(t,e){let{route:r,pathname:n,params:s}=t;return{id:r.id,pathname:n,params:s,data:e[r.id],handle:r.handle}}function D_(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Ee(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Os([n,l.relativePath]),u=r.concat(l);i.children&&i.children.length>0&&(Ee(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),D_(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:OT(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of L_(i.path))s(i,o,l)}),e}function L_(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=L_(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function ST(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:TT(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const kT=/^:[\w-]+$/,_T=3,ET=2,CT=1,NT=10,jT=-2,b1=t=>t==="*";function OT(t,e){let r=t.split("/"),n=r.length;return r.some(b1)&&(n+=jT),e&&(n+=ET),r.filter(s=>!b1(s)).reduce((s,i)=>s+(kT.test(i)?_T:i===""?CT:NT),n)}function TT(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function PT(t,e,r){r===void 0&&(r=!1);let{routesMeta:n}=t,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",f=Yf({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=Yf({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Os([i,f.pathname]),pathnameBase:DT(Os([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Os([i,f.pathnameBase]))}return o}function Yf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=MT(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((c,u,f)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let g=a[f]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const m=a[f];return p&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function MT(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),gl(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function AT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gl(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ds(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function IT(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Wi(t):t;return{pathname:r?r.startsWith("/")?r:RT(r,e):e,search:LT(n),hash:FT(s)}}function RT(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function nm(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function F_(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Gh(t,e){let r=F_(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Yh(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=Wi(t):(s=ot({},t),Ee(!s.pathname||!s.pathname.includes("?"),nm("?","pathname","search",s)),Ee(!s.pathname||!s.pathname.includes("#"),nm("#","pathname","hash",s)),Ee(!s.search||!s.search.includes("#"),nm("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let f=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=IT(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Os=t=>t.join("/").replace(/\/\/+/g,"/"),DT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),LT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,FT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Xf{constructor(e,r,n,s){s===void 0&&(s=!1),this.status=e,this.statusText=r||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function Xh(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const $_=["post","put","patch","delete"],$T=new Set($_),zT=["get",...$_],BT=new Set(zT),VT=new Set([301,302,303,307,308]),UT=new Set([307,308]),sm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},HT={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},tc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},iv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qT=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),z_="remix-router-transitions";function WT(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!r;Ee(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(t.mapRouteProperties)s=t.mapRouteProperties;else if(t.detectErrorBoundary){let _=t.detectErrorBoundary;s=j=>({hasErrorBoundary:_(j)})}else s=qT;let i={},o=su(t.routes,s,void 0,i),a,l=t.basename||"/",c=t.unstable_dataStrategy||YT,u=t.unstable_patchRoutesOnNavigation,f=ot({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),h=null,p=new Set,m=1e3,g=new Set,x=null,v=null,y=null,b=t.hydrationData!=null,S=no(o,t.history.location,l),O=null;if(S==null&&!u){let _=fr(404,{pathname:t.history.location.pathname}),{matches:j,route:I}=O1(o);S=j,O={[I.id]:_}}S&&!t.hydrationData&&md(S,o,t.history.location.pathname).active&&(S=null);let N;if(S)if(S.some(_=>_.route.lazy))N=!1;else if(!S.some(_=>_.route.loader))N=!0;else if(f.v7_partialHydration){let _=t.hydrationData?t.hydrationData.loaderData:null,j=t.hydrationData?t.hydrationData.errors:null,I=F=>F.route.loader?typeof F.route.loader=="function"&&F.route.loader.hydrate===!0?!1:_&&_[F.route.id]!==void 0||j&&j[F.route.id]!==void 0:!0;if(j){let F=S.findIndex(ee=>j[ee.route.id]!==void 0);N=S.slice(0,F+1).every(I)}else N=S.every(I)}else N=t.hydrationData!=null;else if(N=!1,S=[],f.v7_partialHydration){let _=md(null,o,t.history.location.pathname);_.active&&_.matches&&(S=_.matches)}let T,w={historyAction:t.history.action,location:t.history.location,matches:S,initialized:N,navigation:sm,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||O,fetchers:new Map,blockers:new Map},M=Et.Pop,P=!1,R,L=!1,q=new Map,te=null,de=!1,ge=!1,Me=[],B=new Set,K=new Map,ie=0,Te=-1,Ne=new Map,xt=new Set,St=new Map,cr=new Map,ut=new Set,At=new Map,Yr=new Map,$l=new Map,Yi;function zl(){if(h=t.history.listen(_=>{let{action:j,location:I,delta:F}=_;if(Yi){Yi(),Yi=void 0;return}gl(Yr.size===0||F!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ee=nx({currentLocation:w.location,nextLocation:I,historyAction:j});if(ee&&F!=null){let ue=new Promise(be=>{Yi=be});t.history.go(F*-1),hd(ee,{state:"blocked",location:I,proceed(){hd(ee,{state:"proceeding",proceed:void 0,reset:void 0,location:I}),ue.then(()=>t.history.go(F))},reset(){let be=new Map(w.blockers);be.set(ee,tc),It({blockers:be})}});return}return hs(j,I)}),r){hP(e,q);let _=()=>pP(e,q);e.addEventListener("pagehide",_),te=()=>e.removeEventListener("pagehide",_)}return w.initialized||hs(Et.Pop,w.location,{initialHydration:!0}),T}function cd(){h&&h(),te&&te(),p.clear(),R&&R.abort(),w.fetchers.forEach((_,j)=>Us(j)),w.blockers.forEach((_,j)=>rx(j))}function Cp(_){return p.add(_),()=>p.delete(_)}function It(_,j){j===void 0&&(j={}),w=ot({},w,_);let I=[],F=[];f.v7_fetcherPersist&&w.fetchers.forEach((ee,ue)=>{ee.state==="idle"&&(ut.has(ue)?F.push(ue):I.push(ue))}),[...p].forEach(ee=>ee(w,{deletedFetchers:F,unstable_viewTransitionOpts:j.viewTransitionOpts,unstable_flushSync:j.flushSync===!0})),f.v7_fetcherPersist&&(I.forEach(ee=>w.fetchers.delete(ee)),F.forEach(ee=>Us(ee)))}function Vs(_,j,I){var F,ee;let{flushSync:ue}=I===void 0?{}:I,be=w.actionData!=null&&w.navigation.formMethod!=null&&_n(w.navigation.formMethod)&&w.navigation.state==="loading"&&((F=_.state)==null?void 0:F._isRedirect)!==!0,J;j.actionData?Object.keys(j.actionData).length>0?J=j.actionData:J=null:be?J=w.actionData:J=null;let me=j.loaderData?N1(w.loaderData,j.loaderData,j.matches||[],j.errors):w.loaderData,oe=w.blockers;oe.size>0&&(oe=new Map(oe),oe.forEach((He,Ye)=>oe.set(Ye,tc)));let ae=P===!0||w.navigation.formMethod!=null&&_n(w.navigation.formMethod)&&((ee=_.state)==null?void 0:ee._isRedirect)!==!0;a&&(o=a,a=void 0),de||M===Et.Pop||(M===Et.Push?t.history.push(_,_.state):M===Et.Replace&&t.history.replace(_,_.state));let ze;if(M===Et.Pop){let He=q.get(w.location.pathname);He&&He.has(_.pathname)?ze={currentLocation:w.location,nextLocation:_}:q.has(_.pathname)&&(ze={currentLocation:_,nextLocation:w.location})}else if(L){let He=q.get(w.location.pathname);He?He.add(_.pathname):(He=new Set([_.pathname]),q.set(w.location.pathname,He)),ze={currentLocation:w.location,nextLocation:_}}It(ot({},j,{actionData:J,loaderData:me,historyAction:M,location:_,initialized:!0,navigation:sm,revalidation:"idle",restoreScrollPosition:ix(_,j.matches||w.matches),preventScrollReset:ae,blockers:oe}),{viewTransitionOpts:ze,flushSync:ue===!0}),M=Et.Pop,P=!1,L=!1,de=!1,ge=!1,Me=[]}async function Bl(_,j){if(typeof _=="number"){t.history.go(_);return}let I=Zg(w.location,w.matches,l,f.v7_prependBasename,_,f.v7_relativeSplatPath,j==null?void 0:j.fromRouteId,j==null?void 0:j.relative),{path:F,submission:ee,error:ue}=w1(f.v7_normalizeFormMethod,!1,I,j),be=w.location,J=nu(w.location,F,j&&j.state);J=ot({},J,t.history.encodeLocation(J));let me=j&&j.replace!=null?j.replace:void 0,oe=Et.Push;me===!0?oe=Et.Replace:me===!1||ee!=null&&_n(ee.formMethod)&&ee.formAction===w.location.pathname+w.location.search&&(oe=Et.Replace);let ae=j&&"preventScrollReset"in j?j.preventScrollReset===!0:void 0,ze=(j&&j.unstable_flushSync)===!0,He=nx({currentLocation:be,nextLocation:J,historyAction:oe});if(He){hd(He,{state:"blocked",location:J,proceed(){hd(He,{state:"proceeding",proceed:void 0,reset:void 0,location:J}),Bl(_,j)},reset(){let Ye=new Map(w.blockers);Ye.set(He,tc),It({blockers:Ye})}});return}return await hs(oe,J,{submission:ee,pendingError:ue,preventScrollReset:ae,replace:j&&j.replace,enableViewTransition:j&&j.unstable_viewTransition,flushSync:ze})}function ud(){if(Ae(),It({revalidation:"loading"}),w.navigation.state!=="submitting"){if(w.navigation.state==="idle"){hs(w.historyAction,w.location,{startUninterruptedRevalidation:!0});return}hs(M||w.historyAction,w.navigation.location,{overrideNavigation:w.navigation,enableViewTransition:L===!0})}}async function hs(_,j,I){R&&R.abort(),R=null,M=_,de=(I&&I.startUninterruptedRevalidation)===!0,FN(w.location,w.matches),P=(I&&I.preventScrollReset)===!0,L=(I&&I.enableViewTransition)===!0;let F=a||o,ee=I&&I.overrideNavigation,ue=no(F,j,l),be=(I&&I.flushSync)===!0,J=md(ue,F,j.pathname);if(J.active&&J.matches&&(ue=J.matches),!ue){let{error:Fe,notFoundMatches:Rt,route:kt}=jp(j.pathname);Vs(j,{matches:Rt,loaderData:{},errors:{[kt.id]:Fe}},{flushSync:be});return}if(w.initialized&&!ge&&sP(w.location,j)&&!(I&&I.submission&&_n(I.submission.formMethod))){Vs(j,{matches:ue},{flushSync:be});return}R=new AbortController;let me=oa(t.history,j,R.signal,I&&I.submission),oe;if(I&&I.pendingError)oe=[Ta(ue).route.id,{type:We.error,error:I.pendingError}];else if(I&&I.submission&&_n(I.submission.formMethod)){let Fe=await Np(me,j,I.submission,ue,J.active,{replace:I.replace,flushSync:be});if(Fe.shortCircuited)return;if(Fe.pendingActionResult){let[Rt,kt]=Fe.pendingActionResult;if(Fr(kt)&&Xh(kt.error)&&kt.error.status===404){R=null,Vs(j,{matches:Fe.matches,loaderData:{},errors:{[Rt]:kt.error}});return}}ue=Fe.matches||ue,oe=Fe.pendingActionResult,ee=im(j,I.submission),be=!1,J.active=!1,me=oa(t.history,me.url,me.signal)}let{shortCircuited:ae,matches:ze,loaderData:He,errors:Ye}=await tx(me,j,ue,J.active,ee,I&&I.submission,I&&I.fetcherSubmission,I&&I.replace,I&&I.initialHydration===!0,be,oe);ae||(R=null,Vs(j,ot({matches:ze||ue},j1(oe),{loaderData:He,errors:Ye})))}async function Np(_,j,I,F,ee,ue){ue===void 0&&(ue={}),Ae();let be=dP(j,I);if(It({navigation:be},{flushSync:ue.flushSync===!0}),ee){let oe=await gd(F,j.pathname,_.signal);if(oe.type==="aborted")return{shortCircuited:!0};if(oe.type==="error"){let{boundaryId:ae,error:ze}=pd(j.pathname,oe);return{matches:oe.partialMatches,pendingActionResult:[ae,{type:We.error,error:ze}]}}else if(oe.matches)F=oe.matches;else{let{notFoundMatches:ae,error:ze,route:He}=jp(j.pathname);return{matches:ae,pendingActionResult:[He.id,{type:We.error,error:ze}]}}}let J,me=mc(F,j);if(!me.route.action&&!me.route.lazy)J={type:We.error,error:fr(405,{method:_.method,pathname:j.pathname,routeId:me.route.id})};else if(J=(await V("action",w,_,[me],F,null))[me.route.id],_.signal.aborted)return{shortCircuited:!0};if(uo(J)){let oe;return ue&&ue.replace!=null?oe=ue.replace:oe=_1(J.response.headers.get("Location"),new URL(_.url),l)===w.location.pathname+w.location.search,await H(_,J,!0,{submission:I,replace:oe}),{shortCircuited:!0}}if(wi(J))throw fr(400,{type:"defer-action"});if(Fr(J)){let oe=Ta(F,me.route.id);return(ue&&ue.replace)!==!0&&(M=Et.Push),{matches:F,pendingActionResult:[oe.route.id,J]}}return{matches:F,pendingActionResult:[me.route.id,J]}}async function tx(_,j,I,F,ee,ue,be,J,me,oe,ae){let ze=ee||im(j,ue),He=ue||be||P1(ze),Ye=!de&&(!f.v7_partialHydration||!me);if(F){if(Ye){let dt=Vl(ae);It(ot({navigation:ze},dt!==void 0?{actionData:dt}:{}),{flushSync:oe})}let _e=await gd(I,j.pathname,_.signal);if(_e.type==="aborted")return{shortCircuited:!0};if(_e.type==="error"){let{boundaryId:dt,error:Ar}=pd(j.pathname,_e);return{matches:_e.partialMatches,loaderData:{},errors:{[dt]:Ar}}}else if(_e.matches)I=_e.matches;else{let{error:dt,notFoundMatches:Ar,route:ft}=jp(j.pathname);return{matches:Ar,loaderData:{},errors:{[ft.id]:dt}}}}let Fe=a||o,[Rt,kt]=S1(t.history,w,I,He,j,f.v7_partialHydration&&me===!0,f.v7_skipActionErrorRevalidation,ge,Me,B,ut,St,xt,Fe,l,ae);if(Op(_e=>!(I&&I.some(dt=>dt.route.id===_e))||Rt&&Rt.some(dt=>dt.route.id===_e)),Te=++ie,Rt.length===0&&kt.length===0){let _e=fd();return Vs(j,ot({matches:I,loaderData:{},errors:ae&&Fr(ae[1])?{[ae[0]]:ae[1].error}:null},j1(ae),_e?{fetchers:new Map(w.fetchers)}:{}),{flushSync:oe}),{shortCircuited:!0}}if(Ye){let _e={};if(!F){_e.navigation=ze;let dt=Vl(ae);dt!==void 0&&(_e.actionData=dt)}kt.length>0&&(_e.fetchers=E(kt)),It(_e,{flushSync:oe})}kt.forEach(_e=>{K.has(_e.key)&&Bn(_e.key),_e.controller&&K.set(_e.key,_e.controller)});let Wl=()=>kt.forEach(_e=>Bn(_e.key));R&&R.signal.addEventListener("abort",Wl);let{loaderResults:ps,fetcherResults:sa}=await ne(w,I,Rt,kt,_);if(_.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",Wl),kt.forEach(_e=>K.delete(_e.key));let Hs=$d(ps);if(Hs)return await H(_,Hs.result,!0,{replace:J}),{shortCircuited:!0};if(Hs=$d(sa),Hs)return xt.add(Hs.key),await H(_,Hs.result,!0,{replace:J}),{shortCircuited:!0};let{loaderData:yd,errors:ms}=C1(w,I,Rt,ps,ae,kt,sa,At);At.forEach((_e,dt)=>{_e.subscribe(Ar=>{(Ar||_e.done)&&At.delete(dt)})}),f.v7_partialHydration&&me&&w.errors&&Object.entries(w.errors).filter(_e=>{let[dt]=_e;return!Rt.some(Ar=>Ar.route.id===dt)}).forEach(_e=>{let[dt,Ar]=_e;ms=Object.assign(ms||{},{[dt]:Ar})});let vd=fd(),xd=ql(Te),bd=vd||xd||kt.length>0;return ot({matches:I,loaderData:yd,errors:ms},bd?{fetchers:new Map(w.fetchers)}:{})}function Vl(_){if(_&&!Fr(_[1]))return{[_[0]]:_[1].data};if(w.actionData)return Object.keys(w.actionData).length===0?null:w.actionData}function E(_){return _.forEach(j=>{let I=w.fetchers.get(j.key),F=rc(void 0,I?I.data:void 0);w.fetchers.set(j.key,F)}),new Map(w.fetchers)}function A(_,j,I,F){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");K.has(_)&&Bn(_);let ee=(F&&F.unstable_flushSync)===!0,ue=a||o,be=Zg(w.location,w.matches,l,f.v7_prependBasename,I,f.v7_relativeSplatPath,j,F==null?void 0:F.relative),J=no(ue,be,l),me=md(J,ue,be);if(me.active&&me.matches&&(J=me.matches),!J){Je(_,j,fr(404,{pathname:be}),{flushSync:ee});return}let{path:oe,submission:ae,error:ze}=w1(f.v7_normalizeFormMethod,!0,be,F);if(ze){Je(_,j,ze,{flushSync:ee});return}let He=mc(J,oe);if(P=(F&&F.preventScrollReset)===!0,ae&&_n(ae.formMethod)){D(_,j,oe,He,J,me.active,ee,ae);return}St.set(_,{routeId:j,path:oe}),Y(_,j,oe,He,J,me.active,ee,ae)}async function D(_,j,I,F,ee,ue,be,J){Ae(),St.delete(_);function me(ft){if(!ft.route.action&&!ft.route.lazy){let gs=fr(405,{method:J.formMethod,pathname:I,routeId:j});return Je(_,j,gs,{flushSync:be}),!0}return!1}if(!ue&&me(F))return;let oe=w.fetchers.get(_);Ue(_,fP(J,oe),{flushSync:be});let ae=new AbortController,ze=oa(t.history,I,ae.signal,J);if(ue){let ft=await gd(ee,I,ze.signal);if(ft.type==="aborted")return;if(ft.type==="error"){let{error:gs}=pd(I,ft);Je(_,j,gs,{flushSync:be});return}else if(ft.matches){if(ee=ft.matches,F=mc(ee,I),me(F))return}else{Je(_,j,fr(404,{pathname:I}),{flushSync:be});return}}K.set(_,ae);let He=ie,Fe=(await V("action",w,ze,[F],ee,_))[F.route.id];if(ze.signal.aborted){K.get(_)===ae&&K.delete(_);return}if(f.v7_fetcherPersist&&ut.has(_)){if(uo(Fe)||Fr(Fe)){Ue(_,Js(void 0));return}}else{if(uo(Fe))if(K.delete(_),Te>He){Ue(_,Js(void 0));return}else return xt.add(_),Ue(_,rc(J)),H(ze,Fe,!1,{fetcherSubmission:J});if(Fr(Fe)){Je(_,j,Fe.error);return}}if(wi(Fe))throw fr(400,{type:"defer-action"});let Rt=w.navigation.location||w.location,kt=oa(t.history,Rt,ae.signal),Wl=a||o,ps=w.navigation.state!=="idle"?no(Wl,w.navigation.location,l):w.matches;Ee(ps,"Didn't find any matches after fetcher action");let sa=++ie;Ne.set(_,sa);let Hs=rc(J,Fe.data);w.fetchers.set(_,Hs);let[yd,ms]=S1(t.history,w,ps,J,Rt,!1,f.v7_skipActionErrorRevalidation,ge,Me,B,ut,St,xt,Wl,l,[F.route.id,Fe]);ms.filter(ft=>ft.key!==_).forEach(ft=>{let gs=ft.key,ax=w.fetchers.get(gs),BN=rc(void 0,ax?ax.data:void 0);w.fetchers.set(gs,BN),K.has(gs)&&Bn(gs),ft.controller&&K.set(gs,ft.controller)}),It({fetchers:new Map(w.fetchers)});let vd=()=>ms.forEach(ft=>Bn(ft.key));ae.signal.addEventListener("abort",vd);let{loaderResults:xd,fetcherResults:bd}=await ne(w,ps,yd,ms,kt);if(ae.signal.aborted)return;ae.signal.removeEventListener("abort",vd),Ne.delete(_),K.delete(_),ms.forEach(ft=>K.delete(ft.key));let _e=$d(xd);if(_e)return H(kt,_e.result,!1);if(_e=$d(bd),_e)return xt.add(_e.key),H(kt,_e.result,!1);let{loaderData:dt,errors:Ar}=C1(w,ps,yd,xd,void 0,ms,bd,At);if(w.fetchers.has(_)){let ft=Js(Fe.data);w.fetchers.set(_,ft)}ql(sa),w.navigation.state==="loading"&&sa>Te?(Ee(M,"Expected pending action"),R&&R.abort(),Vs(w.navigation.location,{matches:ps,loaderData:dt,errors:Ar,fetchers:new Map(w.fetchers)})):(It({errors:Ar,loaderData:N1(w.loaderData,dt,ps,Ar),fetchers:new Map(w.fetchers)}),ge=!1)}async function Y(_,j,I,F,ee,ue,be,J){let me=w.fetchers.get(_);Ue(_,rc(J,me?me.data:void 0),{flushSync:be});let oe=new AbortController,ae=oa(t.history,I,oe.signal);if(ue){let Fe=await gd(ee,I,ae.signal);if(Fe.type==="aborted")return;if(Fe.type==="error"){let{error:Rt}=pd(I,Fe);Je(_,j,Rt,{flushSync:be});return}else if(Fe.matches)ee=Fe.matches,F=mc(ee,I);else{Je(_,j,fr(404,{pathname:I}),{flushSync:be});return}}K.set(_,oe);let ze=ie,Ye=(await V("loader",w,ae,[F],ee,_))[F.route.id];if(wi(Ye)&&(Ye=await ov(Ye,ae.signal,!0)||Ye),K.get(_)===oe&&K.delete(_),!ae.signal.aborted){if(ut.has(_)){Ue(_,Js(void 0));return}if(uo(Ye))if(Te>ze){Ue(_,Js(void 0));return}else{xt.add(_),await H(ae,Ye,!1);return}if(Fr(Ye)){Je(_,j,Ye.error);return}Ee(!wi(Ye),"Unhandled fetcher deferred data"),Ue(_,Js(Ye.data))}}async function H(_,j,I,F){let{submission:ee,fetcherSubmission:ue,replace:be}=F===void 0?{}:F;j.response.headers.has("X-Remix-Revalidate")&&(ge=!0);let J=j.response.headers.get("Location");Ee(J,"Expected a Location header on the redirect Response"),J=_1(J,new URL(_.url),l);let me=nu(w.location,J,{_isRedirect:!0});if(r){let Fe=!1;if(j.response.headers.has("X-Remix-Reload-Document"))Fe=!0;else if(iv.test(J)){const Rt=t.history.createURL(J);Fe=Rt.origin!==e.location.origin||Ds(Rt.pathname,l)==null}if(Fe){be?e.location.replace(J):e.location.assign(J);return}}R=null;let oe=be===!0||j.response.headers.has("X-Remix-Replace")?Et.Replace:Et.Push,{formMethod:ae,formAction:ze,formEncType:He}=w.navigation;!ee&&!ue&&ae&&ze&&He&&(ee=P1(w.navigation));let Ye=ee||ue;if(UT.has(j.response.status)&&Ye&&_n(Ye.formMethod))await hs(oe,me,{submission:ot({},Ye,{formAction:J}),preventScrollReset:P,enableViewTransition:I?L:void 0});else{let Fe=im(me,ee);await hs(oe,me,{overrideNavigation:Fe,fetcherSubmission:ue,preventScrollReset:P,enableViewTransition:I?L:void 0})}}async function V(_,j,I,F,ee,ue){let be,J={};try{be=await XT(c,_,j,I,F,ee,ue,i,s)}catch(me){return F.forEach(oe=>{J[oe.route.id]={type:We.error,error:me}}),J}for(let[me,oe]of Object.entries(be))if(oP(oe)){let ae=oe.result;J[me]={type:We.redirect,response:rP(ae,I,me,ee,l,f.v7_relativeSplatPath)}}else J[me]=await tP(oe);return J}async function ne(_,j,I,F,ee){let ue=_.matches,be=V("loader",_,ee,I,j,null),J=Promise.all(F.map(async ae=>{if(ae.matches&&ae.match&&ae.controller){let He=(await V("loader",_,oa(t.history,ae.path,ae.controller.signal),[ae.match],ae.matches,ae.key))[ae.match.route.id];return{[ae.key]:He}}else return Promise.resolve({[ae.key]:{type:We.error,error:fr(404,{pathname:ae.path})}})})),me=await be,oe=(await J).reduce((ae,ze)=>Object.assign(ae,ze),{});return await Promise.all([cP(j,me,ee.signal,ue,_.loaderData),uP(j,oe,F)]),{loaderResults:me,fetcherResults:oe}}function Ae(){ge=!0,Me.push(...Op()),St.forEach((_,j)=>{K.has(j)&&(B.add(j),Bn(j))})}function Ue(_,j,I){I===void 0&&(I={}),w.fetchers.set(_,j),It({fetchers:new Map(w.fetchers)},{flushSync:(I&&I.flushSync)===!0})}function Je(_,j,I,F){F===void 0&&(F={});let ee=Ta(w.matches,j);Us(_),It({errors:{[ee.route.id]:I},fetchers:new Map(w.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function dd(_){return f.v7_fetcherPersist&&(cr.set(_,(cr.get(_)||0)+1),ut.has(_)&&ut.delete(_)),w.fetchers.get(_)||HT}function Us(_){let j=w.fetchers.get(_);K.has(_)&&!(j&&j.state==="loading"&&Ne.has(_))&&Bn(_),St.delete(_),Ne.delete(_),xt.delete(_),ut.delete(_),B.delete(_),w.fetchers.delete(_)}function Ul(_){if(f.v7_fetcherPersist){let j=(cr.get(_)||0)-1;j<=0?(cr.delete(_),ut.add(_)):cr.set(_,j)}else Us(_);It({fetchers:new Map(w.fetchers)})}function Bn(_){let j=K.get(_);Ee(j,"Expected fetch controller: "+_),j.abort(),K.delete(_)}function Hl(_){for(let j of _){let I=dd(j),F=Js(I.data);w.fetchers.set(j,F)}}function fd(){let _=[],j=!1;for(let I of xt){let F=w.fetchers.get(I);Ee(F,"Expected fetcher: "+I),F.state==="loading"&&(xt.delete(I),_.push(I),j=!0)}return Hl(_),j}function ql(_){let j=[];for(let[I,F]of Ne)if(F<_){let ee=w.fetchers.get(I);Ee(ee,"Expected fetcher: "+I),ee.state==="loading"&&(Bn(I),Ne.delete(I),j.push(I))}return Hl(j),j.length>0}function DN(_,j){let I=w.blockers.get(_)||tc;return Yr.get(_)!==j&&Yr.set(_,j),I}function rx(_){w.blockers.delete(_),Yr.delete(_)}function hd(_,j){let I=w.blockers.get(_)||tc;Ee(I.state==="unblocked"&&j.state==="blocked"||I.state==="blocked"&&j.state==="blocked"||I.state==="blocked"&&j.state==="proceeding"||I.state==="blocked"&&j.state==="unblocked"||I.state==="proceeding"&&j.state==="unblocked","Invalid blocker state transition: "+I.state+" -> "+j.state);let F=new Map(w.blockers);F.set(_,j),It({blockers:F})}function nx(_){let{currentLocation:j,nextLocation:I,historyAction:F}=_;if(Yr.size===0)return;Yr.size>1&&gl(!1,"A router only supports one blocker at a time");let ee=Array.from(Yr.entries()),[ue,be]=ee[ee.length-1],J=w.blockers.get(ue);if(!(J&&J.state==="proceeding")&&be({currentLocation:j,nextLocation:I,historyAction:F}))return ue}function jp(_){let j=fr(404,{pathname:_}),I=a||o,{matches:F,route:ee}=O1(I);return Op(),{notFoundMatches:F,route:ee,error:j}}function pd(_,j){return{boundaryId:Ta(j.partialMatches).route.id,error:fr(400,{type:"route-discovery",pathname:_,message:j.error!=null&&"message"in j.error?j.error:String(j.error)})}}function Op(_){let j=[];return At.forEach((I,F)=>{(!_||_(F))&&(I.cancel(),j.push(F),At.delete(F))}),j}function LN(_,j,I){if(x=_,y=j,v=I||null,!b&&w.navigation===sm){b=!0;let F=ix(w.location,w.matches);F!=null&&It({restoreScrollPosition:F})}return()=>{x=null,y=null,v=null}}function sx(_,j){return v&&v(_,j.map(F=>wT(F,w.loaderData)))||_.key}function FN(_,j){if(x&&y){let I=sx(_,j);x[I]=y()}}function ix(_,j){if(x){let I=sx(_,j),F=x[I];if(typeof F=="number")return F}return null}function md(_,j,I){if(u){if(g.has(I))return{active:!1,matches:_};if(_){if(Object.keys(_[0].params).length>0)return{active:!0,matches:mf(j,I,l,!0)}}else return{active:!0,matches:mf(j,I,l,!0)||[]}}return{active:!1,matches:null}}async function gd(_,j,I){let F=_;for(;;){let ee=a==null,ue=a||o;try{await QT(u,j,F,ue,i,s,$l,I)}catch(me){return{type:"error",error:me,partialMatches:F}}finally{ee&&(o=[...o])}if(I.aborted)return{type:"aborted"};let be=no(ue,j,l);if(be)return ox(j,g),{type:"success",matches:be};let J=mf(ue,j,l,!0);if(!J||F.length===J.length&&F.every((me,oe)=>me.route.id===J[oe].route.id))return ox(j,g),{type:"success",matches:null};F=J}}function ox(_,j){if(j.size>=m){let I=j.values().next().value;j.delete(I)}j.add(_)}function $N(_){i={},a=su(_,s,void 0,i)}function zN(_,j){let I=a==null;V_(_,j,a||o,i,s),I&&(o=[...o],It({}))}return T={get basename(){return l},get future(){return f},get state(){return w},get routes(){return o},get window(){return e},initialize:zl,subscribe:Cp,enableScrollRestoration:LN,navigate:Bl,fetch:A,revalidate:ud,createHref:_=>t.history.createHref(_),encodeLocation:_=>t.history.encodeLocation(_),getFetcher:dd,deleteFetcher:Ul,dispose:cd,getBlocker:DN,deleteBlocker:rx,patchRoutes:zN,_internalFetchControllers:K,_internalActiveDeferreds:At,_internalSetRoutes:$N},T}function KT(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Zg(t,e,r,n,s,i,o,a){let l,c;if(o){l=[];for(let f of e)if(l.push(f),f.route.id===o){c=f;break}}else l=e,c=e[e.length-1];let u=Yh(s||".",Gh(l,i),Ds(t.pathname,r)||t.pathname,a==="path");return s==null&&(u.search=t.search,u.hash=t.hash),(s==null||s===""||s===".")&&c&&c.route.index&&!av(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n&&r!=="/"&&(u.pathname=u.pathname==="/"?r:Os([r,u.pathname])),zo(u)}function w1(t,e,r,n){if(!n||!KT(n))return{path:r};if(n.formMethod&&!lP(n.formMethod))return{path:r,error:fr(405,{method:n.formMethod})};let s=()=>({path:r,error:fr(400,{type:"invalid-body"})}),i=n.formMethod||"get",o=t?i.toUpperCase():i.toLowerCase(),a=U_(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!_n(o))return s();let h=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((p,m)=>{let[g,x]=m;return""+p+g+"="+x+`
`},""):String(n.body);return{path:r,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:void 0,text:h}}}else if(n.formEncType==="application/json"){if(!_n(o))return s();try{let h=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:h,text:void 0}}}catch{return s()}}}Ee(typeof FormData=="function","FormData is not available in this environment");let l,c;if(n.formData)l=Qg(n.formData),c=n.formData;else if(n.body instanceof FormData)l=Qg(n.body),c=n.body;else if(n.body instanceof URLSearchParams)l=n.body,c=E1(l);else if(n.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(n.body),c=E1(l)}catch{return s()}let u={formMethod:o,formAction:a,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(_n(u.formMethod))return{path:r,submission:u};let f=Wi(r);return e&&f.search&&av(f.search)&&l.append("index",""),f.search="?"+l,{path:zo(f),submission:u}}function JT(t,e){let r=t;if(e){let n=t.findIndex(s=>s.route.id===e);n>=0&&(r=t.slice(0,n))}return r}function S1(t,e,r,n,s,i,o,a,l,c,u,f,h,p,m,g){let x=g?Fr(g[1])?g[1].error:g[1].data:void 0,v=t.createURL(e.location),y=t.createURL(s),b=g&&Fr(g[1])?g[0]:void 0,S=b?JT(r,b):r,O=g?g[1].statusCode:void 0,N=o&&O&&O>=400,T=S.filter((M,P)=>{let{route:R}=M;if(R.lazy)return!0;if(R.loader==null)return!1;if(i)return typeof R.loader!="function"||R.loader.hydrate?!0:e.loaderData[R.id]===void 0&&(!e.errors||e.errors[R.id]===void 0);if(ZT(e.loaderData,e.matches[P],M)||l.some(te=>te===M.route.id))return!0;let L=e.matches[P],q=M;return k1(M,ot({currentUrl:v,currentParams:L.params,nextUrl:y,nextParams:q.params},n,{actionResult:x,actionStatus:O,defaultShouldRevalidate:N?!1:a||v.pathname+v.search===y.pathname+y.search||v.search!==y.search||B_(L,q)}))}),w=[];return f.forEach((M,P)=>{if(i||!r.some(de=>de.route.id===M.routeId)||u.has(P))return;let R=no(p,M.path,m);if(!R){w.push({key:P,routeId:M.routeId,path:M.path,matches:null,match:null,controller:null});return}let L=e.fetchers.get(P),q=mc(R,M.path),te=!1;h.has(P)?te=!1:c.has(P)?(c.delete(P),te=!0):L&&L.state!=="idle"&&L.data===void 0?te=a:te=k1(q,ot({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:r[r.length-1].params},n,{actionResult:x,actionStatus:O,defaultShouldRevalidate:N?!1:a})),te&&w.push({key:P,routeId:M.routeId,path:M.path,matches:R,match:q,controller:new AbortController})}),[T,w]}function ZT(t,e,r){let n=!e||r.route.id!==e.route.id,s=t[r.route.id]===void 0;return n||s}function B_(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function k1(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}async function QT(t,e,r,n,s,i,o,a){let l=[e,...r.map(c=>c.route.id)].join("-");try{let c=o.get(l);c||(c=t({path:e,matches:r,patch:(u,f)=>{a.aborted||V_(u,f,n,s,i)}}),o.set(l,c)),c&&iP(c)&&await c}finally{o.delete(l)}}function V_(t,e,r,n,s){if(t){var i;let o=n[t];Ee(o,"No route found to patch children into: routeId = "+t);let a=su(e,s,[t,"patch",String(((i=o.children)==null?void 0:i.length)||"0")],n);o.children?o.children.push(...a):o.children=a}else{let o=su(e,s,["patch",String(r.length||"0")],n);r.push(...o)}}async function GT(t,e,r){if(!t.lazy)return;let n=await t.lazy();if(!t.lazy)return;let s=r[t.id];Ee(s,"No route found in manifest");let i={};for(let o in n){let l=s[o]!==void 0&&o!=="hasErrorBoundary";gl(!l,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!xT.has(o)&&(i[o]=n[o])}Object.assign(s,i),Object.assign(s,ot({},e(s),{lazy:void 0}))}async function YT(t){let{matches:e}=t,r=e.filter(s=>s.shouldLoad);return(await Promise.all(r.map(s=>s.resolve()))).reduce((s,i,o)=>Object.assign(s,{[r[o].route.id]:i}),{})}async function XT(t,e,r,n,s,i,o,a,l,c){let u=i.map(p=>p.route.lazy?GT(p.route,l,a):void 0),f=i.map((p,m)=>{let g=u[m],x=s.some(y=>y.route.id===p.route.id);return ot({},p,{shouldLoad:x,resolve:async y=>(y&&n.method==="GET"&&(p.route.lazy||p.route.loader)&&(x=!0),x?eP(e,n,p,g,y,c):Promise.resolve({type:We.data,result:void 0}))})}),h=await t({matches:f,request:n,params:i[0].params,fetcherKey:o,context:c});try{await Promise.all(u)}catch{}return h}async function eP(t,e,r,n,s,i){let o,a,l=c=>{let u,f=new Promise((m,g)=>u=g);a=()=>u(),e.signal.addEventListener("abort",a);let h=m=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+r.route.id+"]"))):c({request:e,params:r.params,context:i},...m!==void 0?[m]:[]),p=(async()=>{try{return{type:"data",result:await(s?s(g=>h(g)):h())}}catch(m){return{type:"error",result:m}}})();return Promise.race([p,f])};try{let c=r.route[t];if(n)if(c){let u,[f]=await Promise.all([l(c).catch(h=>{u=h}),n]);if(u!==void 0)throw u;o=f}else if(await n,c=r.route[t],c)o=await l(c);else if(t==="action"){let u=new URL(e.url),f=u.pathname+u.search;throw fr(405,{method:e.method,pathname:f,routeId:r.route.id})}else return{type:We.data,result:void 0};else if(c)o=await l(c);else{let u=new URL(e.url),f=u.pathname+u.search;throw fr(404,{pathname:f})}Ee(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:We.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function tP(t){let{result:e,type:r}=t;if(H_(e)){let c;try{let u=e.headers.get("Content-Type");u&&/\bapplication\/json\b/.test(u)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(u){return{type:We.error,error:u}}return r===We.error?{type:We.error,error:new Xf(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:We.data,data:c,statusCode:e.status,headers:e.headers}}if(r===We.error){if(T1(e)){var n;if(e.data instanceof Error){var s;return{type:We.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status}}e=new Xf(((n=e.init)==null?void 0:n.status)||500,void 0,e.data)}return{type:We.error,error:e,statusCode:Xh(e)?e.status:void 0}}if(aP(e)){var i,o;return{type:We.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(T1(e)){var a,l;return{type:We.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:We.data,data:e}}function rP(t,e,r,n,s,i){let o=t.headers.get("Location");if(Ee(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!iv.test(o)){let a=n.slice(0,n.findIndex(l=>l.route.id===r)+1);o=Zg(new URL(e.url),a,s,!0,o,i),t.headers.set("Location",o)}return t}function _1(t,e,r){if(iv.test(t)){let n=t,s=n.startsWith("//")?new URL(e.protocol+n):new URL(n),i=Ds(s.pathname,r)!=null;if(s.origin===e.origin&&i)return s.pathname+s.search+s.hash}return t}function oa(t,e,r,n){let s=t.createURL(U_(e)).toString(),i={signal:r};if(n&&_n(n.formMethod)){let{formMethod:o,formEncType:a}=n;i.method=o.toUpperCase(),a==="application/json"?(i.headers=new Headers({"Content-Type":a}),i.body=JSON.stringify(n.json)):a==="text/plain"?i.body=n.text:a==="application/x-www-form-urlencoded"&&n.formData?i.body=Qg(n.formData):i.body=n.formData}return new Request(s,i)}function Qg(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function E1(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function nP(t,e,r,n,s){let i={},o=null,a,l=!1,c={},u=r&&Fr(r[1])?r[1].error:void 0;return t.forEach(f=>{if(!(f.route.id in e))return;let h=f.route.id,p=e[h];if(Ee(!uo(p),"Cannot handle redirect results in processLoaderData"),Fr(p)){let m=p.error;u!==void 0&&(m=u,u=void 0),o=o||{};{let g=Ta(t,h);o[g.route.id]==null&&(o[g.route.id]=m)}i[h]=void 0,l||(l=!0,a=Xh(p.error)?p.error.status:500),p.headers&&(c[h]=p.headers)}else wi(p)?(n.set(h,p.deferredData),i[h]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(c[h]=p.headers)):(i[h]=p.data,p.statusCode&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(c[h]=p.headers))}),u!==void 0&&r&&(o={[r[0]]:u},i[r[0]]=void 0),{loaderData:i,errors:o,statusCode:a||200,loaderHeaders:c}}function C1(t,e,r,n,s,i,o,a){let{loaderData:l,errors:c}=nP(e,n,s,a);return i.forEach(u=>{let{key:f,match:h,controller:p}=u,m=o[f];if(Ee(m,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(Fr(m)){let g=Ta(t.matches,h==null?void 0:h.route.id);c&&c[g.route.id]||(c=ot({},c,{[g.route.id]:m.error})),t.fetchers.delete(f)}else if(uo(m))Ee(!1,"Unhandled fetcher revalidation redirect");else if(wi(m))Ee(!1,"Unhandled fetcher deferred data");else{let g=Js(m.data);t.fetchers.set(f,g)}}),{loaderData:l,errors:c}}function N1(t,e,r,n){let s=ot({},e);for(let i of r){let o=i.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(s[o]=e[o]):t[o]!==void 0&&i.route.loader&&(s[o]=t[o]),n&&n.hasOwnProperty(o))break}return s}function j1(t){return t?Fr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Ta(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function O1(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function fr(t,e){let{pathname:r,routeId:n,method:s,type:i,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i==="route-discovery"?l='Unable to match URL "'+r+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+o):s&&r&&n?l="You made a "+s+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+n+'" does not match URL "'+r+'"'):t===404?(a="Not Found",l='No route matches URL "'+r+'"'):t===405&&(a="Method Not Allowed",s&&r&&n?l="You made a "+s.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":s&&(l='Invalid request method "'+s.toUpperCase()+'"')),new Xf(t||500,a,new Error(l),!0)}function $d(t){let e=Object.entries(t);for(let r=e.length-1;r>=0;r--){let[n,s]=e[r];if(uo(s))return{key:n,result:s}}}function U_(t){let e=typeof t=="string"?Wi(t):t;return zo(ot({},e,{hash:""}))}function sP(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function iP(t){return typeof t=="object"&&t!=null&&"then"in t}function oP(t){return H_(t.result)&&VT.has(t.result.status)}function wi(t){return t.type===We.deferred}function Fr(t){return t.type===We.error}function uo(t){return(t&&t.type)===We.redirect}function T1(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function aP(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function H_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function lP(t){return BT.has(t.toLowerCase())}function _n(t){return $T.has(t.toLowerCase())}async function cP(t,e,r,n,s){let i=Object.entries(e);for(let o=0;o<i.length;o++){let[a,l]=i[o],c=t.find(h=>(h==null?void 0:h.route.id)===a);if(!c)continue;let u=n.find(h=>h.route.id===c.route.id),f=u!=null&&!B_(u,c)&&(s&&s[c.route.id])!==void 0;wi(l)&&f&&await ov(l,r,!1).then(h=>{h&&(e[a]=h)})}}async function uP(t,e,r){for(let n=0;n<r.length;n++){let{key:s,routeId:i,controller:o}=r[n],a=e[s];t.find(c=>(c==null?void 0:c.route.id)===i)&&wi(a)&&(Ee(o,"Expected an AbortController for revalidating fetcher deferred result"),await ov(a,o.signal,!0).then(c=>{c&&(e[s]=c)}))}}async function ov(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:We.data,data:t.deferredData.unwrappedData}}catch(s){return{type:We.error,error:s}}return{type:We.data,data:t.deferredData.data}}}function av(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function mc(t,e){let r=typeof e=="string"?Wi(e).search:e.search;if(t[t.length-1].route.index&&av(r||""))return t[t.length-1];let n=F_(t);return n[n.length-1]}function P1(t){let{formMethod:e,formAction:r,formEncType:n,text:s,formData:i,json:o}=t;if(!(!e||!r||!n)){if(s!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:o,text:void 0}}}function im(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function dP(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function rc(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function fP(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Js(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function hP(t,e){try{let r=t.sessionStorage.getItem(z_);if(r){let n=JSON.parse(r);for(let[s,i]of Object.entries(n||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function pP(t,e){if(e.size>0){let r={};for(let[n,s]of e)r[n]=[...s];try{t.sessionStorage.setItem(z_,JSON.stringify(r))}catch(n){gl(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eh(){return eh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eh.apply(this,arguments)}const Ju=C.createContext(null),lv=C.createContext(null),Bs=C.createContext(null),cv=C.createContext(null),us=C.createContext({outlet:null,matches:[],isDataRoute:!1}),q_=C.createContext(null);function mP(t,e){let{relative:r}=e===void 0?{}:e;Rl()||Ee(!1);let{basename:n,navigator:s}=C.useContext(Bs),{hash:i,pathname:o,search:a}=ep(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Os([n,o])),s.createHref({pathname:l,search:a,hash:i})}function Rl(){return C.useContext(cv)!=null}function Qo(){return Rl()||Ee(!1),C.useContext(cv).location}function W_(t){C.useContext(Bs).static||C.useLayoutEffect(t)}function Ut(){let{isDataRoute:t}=C.useContext(us);return t?OP():gP()}function gP(){Rl()||Ee(!1);let t=C.useContext(Ju),{basename:e,future:r,navigator:n}=C.useContext(Bs),{matches:s}=C.useContext(us),{pathname:i}=Qo(),o=JSON.stringify(Gh(s,r.v7_relativeSplatPath)),a=C.useRef(!1);return W_(()=>{a.current=!0}),C.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let f=Yh(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Os([e,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[e,n,o,i,t])}const yP=C.createContext(null);function vP(t){let e=C.useContext(us).outlet;return e&&C.createElement(yP.Provider,{value:t},e)}function Zu(){let{matches:t}=C.useContext(us),e=t[t.length-1];return e?e.params:{}}function ep(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=C.useContext(Bs),{matches:s}=C.useContext(us),{pathname:i}=Qo(),o=JSON.stringify(Gh(s,n.v7_relativeSplatPath));return C.useMemo(()=>Yh(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function xP(t,e,r,n){Rl()||Ee(!1);let{navigator:s}=C.useContext(Bs),{matches:i}=C.useContext(us),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Qo(),u;u=c;let f=u.pathname||"/",h=f;if(l!=="/"){let g=l.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(g.length).join("/")}let p=no(t,{pathname:h});return _P(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},a,g.params),pathname:Os([l,s.encodeLocation?s.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:Os([l,s.encodeLocation?s.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r,n)}function bP(){let t=jP(),e=Xh(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),r?C.createElement("pre",{style:s},r):null,null)}const wP=C.createElement(bP,null);class SP extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?C.createElement(us.Provider,{value:this.props.routeContext},C.createElement(q_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kP(t){let{routeContext:e,match:r,children:n}=t,s=C.useContext(Ju);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),C.createElement(us.Provider,{value:e},n)}function _P(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=(s=r)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);u>=0||Ee(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:p}=r,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,f,h)=>{let p,m=!1,g=null,x=null;r&&(p=a&&f.route.id?a[f.route.id]:void 0,g=f.route.errorElement||wP,l&&(c<0&&h===0?(TP("route-fallback"),m=!0,x=null):c===h&&(m=!0,x=f.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,h+1)),y=()=>{let b;return p?b=g:m?b=x:f.route.Component?b=C.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=u,C.createElement(kP,{match:f,routeContext:{outlet:u,matches:v,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?C.createElement(SP,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var K_=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(K_||{}),th=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(th||{});function EP(t){let e=C.useContext(Ju);return e||Ee(!1),e}function CP(t){let e=C.useContext(lv);return e||Ee(!1),e}function NP(t){let e=C.useContext(us);return e||Ee(!1),e}function J_(t){let e=NP(),r=e.matches[e.matches.length-1];return r.route.id||Ee(!1),r.route.id}function jP(){var t;let e=C.useContext(q_),r=CP(th.UseRouteError),n=J_(th.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function OP(){let{router:t}=EP(K_.UseNavigateStable),e=J_(th.UseNavigateStable),r=C.useRef(!1);return W_(()=>{r.current=!0}),C.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,eh({fromRouteId:e},i)))},[t,e])}const M1={};function TP(t,e,r){M1[t]||(M1[t]=!0)}function rh(t){let{to:e,replace:r,state:n,relative:s}=t;Rl()||Ee(!1);let{future:i,static:o}=C.useContext(Bs),{matches:a}=C.useContext(us),{pathname:l}=Qo(),c=Ut(),u=Yh(e,Gh(a,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(u);return C.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:s}),[c,f,s,r,n]),null}function uv(t){return vP(t.context)}function PP(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Et.Pop,navigator:i,static:o=!1,future:a}=t;Rl()&&Ee(!1);let l=e.replace(/^\/*/,"/"),c=C.useMemo(()=>({basename:l,navigator:i,static:o,future:eh({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=Wi(n));let{pathname:u="/",search:f="",hash:h="",state:p=null,key:m="default"}=n,g=C.useMemo(()=>{let x=Ds(u,l);return x==null?null:{location:{pathname:x,search:f,hash:h,state:p,key:m},navigationType:s}},[l,u,f,h,p,m,s]);return g==null?null:C.createElement(Bs.Provider,{value:c},C.createElement(cv.Provider,{children:r,value:g}))}new Promise(()=>{});function MP(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:C.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:C.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:C.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yl(){return yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yl.apply(this,arguments)}function Z_(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function AP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function IP(t,e){return t.button===0&&(!e||e==="_self")&&!AP(t)}const RP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],DP=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],LP="6";try{window.__reactRouterVersion=LP}catch{}function FP(t,e){return WT({basename:void 0,future:yl({},void 0,{v7_prependBasename:!0}),history:gT({window:void 0}),hydrationData:$P(),routes:t,mapRouteProperties:MP,unstable_dataStrategy:void 0,unstable_patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function $P(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=yl({},e,{errors:zP(e.errors)})),e}function zP(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,s]of e)if(s&&s.__type==="RouteErrorResponse")r[n]=new Xf(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let o=new i(s.message);o.stack="",r[n]=o}catch{}}if(r[n]==null){let i=new Error(s.message);i.stack="",r[n]=i}}else r[n]=s;return r}const Q_=C.createContext({isTransitioning:!1}),BP=C.createContext(new Map),VP="startTransition",A1=sj[VP],UP="flushSync",I1=mT[UP];function HP(t){A1?A1(t):t()}function nc(t){I1?I1(t):t()}let qP=class{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}};function WP(t){let{fallbackElement:e,router:r,future:n}=t,[s,i]=C.useState(r.state),[o,a]=C.useState(),[l,c]=C.useState({isTransitioning:!1}),[u,f]=C.useState(),[h,p]=C.useState(),[m,g]=C.useState(),x=C.useRef(new Map),{v7_startTransition:v}=n||{},y=C.useCallback(w=>{v?HP(w):w()},[v]),b=C.useCallback((w,M)=>{let{deletedFetchers:P,unstable_flushSync:R,unstable_viewTransitionOpts:L}=M;P.forEach(te=>x.current.delete(te)),w.fetchers.forEach((te,de)=>{te.data!==void 0&&x.current.set(de,te.data)});let q=r.window==null||r.window.document==null||typeof r.window.document.startViewTransition!="function";if(!L||q){R?nc(()=>i(w)):y(()=>i(w));return}if(R){nc(()=>{h&&(u&&u.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:L.currentLocation,nextLocation:L.nextLocation})});let te=r.window.document.startViewTransition(()=>{nc(()=>i(w))});te.finished.finally(()=>{nc(()=>{f(void 0),p(void 0),a(void 0),c({isTransitioning:!1})})}),nc(()=>p(te));return}h?(u&&u.resolve(),h.skipTransition(),g({state:w,currentLocation:L.currentLocation,nextLocation:L.nextLocation})):(a(w),c({isTransitioning:!0,flushSync:!1,currentLocation:L.currentLocation,nextLocation:L.nextLocation}))},[r.window,h,u,x,y]);C.useLayoutEffect(()=>r.subscribe(b),[r,b]),C.useEffect(()=>{l.isTransitioning&&!l.flushSync&&f(new qP)},[l]),C.useEffect(()=>{if(u&&o&&r.window){let w=o,M=u.promise,P=r.window.document.startViewTransition(async()=>{y(()=>i(w)),await M});P.finished.finally(()=>{f(void 0),p(void 0),a(void 0),c({isTransitioning:!1})}),p(P)}},[y,o,u,r.window]),C.useEffect(()=>{u&&o&&s.location.key===o.location.key&&u.resolve()},[u,h,s.location,o]),C.useEffect(()=>{!l.isTransitioning&&m&&(a(m.state),c({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),g(void 0))},[l.isTransitioning,m]),C.useEffect(()=>{},[]);let S=C.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:w=>r.navigate(w),push:(w,M,P)=>r.navigate(w,{state:M,preventScrollReset:P==null?void 0:P.preventScrollReset}),replace:(w,M,P)=>r.navigate(w,{replace:!0,state:M,preventScrollReset:P==null?void 0:P.preventScrollReset})}),[r]),O=r.basename||"/",N=C.useMemo(()=>({router:r,navigator:S,static:!1,basename:O}),[r,S,O]),T=C.useMemo(()=>({v7_relativeSplatPath:r.future.v7_relativeSplatPath}),[r.future.v7_relativeSplatPath]);return C.createElement(C.Fragment,null,C.createElement(Ju.Provider,{value:N},C.createElement(lv.Provider,{value:s},C.createElement(BP.Provider,{value:x.current},C.createElement(Q_.Provider,{value:l},C.createElement(PP,{basename:O,location:s.location,navigationType:s.historyAction,navigator:S,future:T},s.initialized||r.future.v7_partialHydration?C.createElement(KP,{routes:r.routes,future:r.future,state:s}):e))))),null)}const KP=C.memo(JP);function JP(t){let{routes:e,future:r,state:n}=t;return xP(e,void 0,n,r)}const ZP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vt=C.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:f}=e,h=Z_(e,RP),{basename:p}=C.useContext(Bs),m,g=!1;if(typeof c=="string"&&QP.test(c)&&(m=c,ZP))try{let b=new URL(window.location.href),S=c.startsWith("//")?new URL(b.protocol+c):new URL(c),O=Ds(S.pathname,p);S.origin===b.origin&&O!=null?c=O+S.search+S.hash:g=!0}catch{}let x=mP(c,{relative:s}),v=YP(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,unstable_viewTransition:f});function y(b){n&&n(b),b.defaultPrevented||v(b)}return C.createElement("a",yl({},h,{href:m||x,onClick:g||i?n:y,ref:r,target:l}))}),dv=C.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:l,unstable_viewTransition:c,children:u}=e,f=Z_(e,DP),h=ep(l,{relative:f.relative}),p=Qo(),m=C.useContext(lv),{navigator:g,basename:x}=C.useContext(Bs),v=m!=null&&XP(h)&&c===!0,y=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,b=p.pathname,S=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;s||(b=b.toLowerCase(),S=S?S.toLowerCase():null,y=y.toLowerCase()),S&&x&&(S=Ds(S,x)||S);const O=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let N=b===y||!o&&b.startsWith(y)&&b.charAt(O)==="/",T=S!=null&&(S===y||!o&&S.startsWith(y)&&S.charAt(y.length)==="/"),w={isActive:N,isPending:T,isTransitioning:v},M=N?n:void 0,P;typeof i=="function"?P=i(w):P=[i,N?"active":null,T?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let R=typeof a=="function"?a(w):a;return C.createElement(vt,yl({},f,{"aria-current":M,className:P,ref:r,style:R,to:l,unstable_viewTransition:c}),typeof u=="function"?u(w):u)});var Gg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Gg||(Gg={}));var R1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(R1||(R1={}));function GP(t){let e=C.useContext(Ju);return e||Ee(!1),e}function YP(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Ut(),c=Qo(),u=ep(t,{relative:o});return C.useCallback(f=>{if(IP(f,r)){f.preventDefault();let h=n!==void 0?n:zo(c)===zo(u);l(t,{replace:h,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a})}},[c,l,u,n,s,r,t,i,o,a])}function XP(t,e){e===void 0&&(e={});let r=C.useContext(Q_);r==null&&Ee(!1);let{basename:n}=GP(Gg.useViewTransitionState),s=ep(t,{relative:e.relative});if(!r.isTransitioning)return!1;let i=Ds(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Ds(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Yf(s.pathname,o)!=null||Yf(s.pathname,i)!=null}var G_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},D1=fe.createContext&&fe.createContext(G_),eM=["attr","size","title"];function tM(t,e){if(t==null)return{};var r=rM(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rM(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function nh(){return nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nh.apply(this,arguments)}function L1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function sh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L1(Object(r),!0).forEach(function(n){nM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nM(t,e,r){return e=sM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sM(t){var e=iM(t,"string");return typeof e=="symbol"?e:e+""}function iM(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Y_(t){return t&&t.map((e,r)=>fe.createElement(e.tag,sh({key:r},e.attr),Y_(e.child)))}function De(t){return e=>fe.createElement(oM,nh({attr:sh({},t.attr)},e),Y_(t.child))}function oM(t){var e=r=>{var{attr:n,size:s,title:i}=t,o=tM(t,eM),a=s||r.size||"1em",l;return r.className&&(l=r.className),t.className&&(l=(l?l+" ":"")+t.className),fe.createElement("svg",nh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:l,style:sh(sh({color:t.color||r.color},r.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&fe.createElement("title",null,i),t.children)};return D1!==void 0?fe.createElement(D1.Consumer,null,r=>e(r)):e(G_)}function aM(t){return De({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M80 299.3V512H196V299.3h86.5l18-97.8H196V166.9c0-51.7 20.3-71.5 72.7-71.5c16.3 0 29.4 .4 37 1.2V7.9C291.4 4 256.4 0 236.2 0C129.3 0 80 50.5 80 159.4v42.1H14v97.8H80z"},child:[]}]})(t)}function lM(t){return De({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function cM(t){return De({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM64 256c0-17.7 14.3-32 32-32H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H96c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"},child:[]}]})(t)}function uM(t){return De({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M58.9 42.1c3-6.1 9.6-9.6 16.3-8.7L320 64 564.8 33.4c6.7-.8 13.3 2.7 16.3 8.7l41.7 83.4c9 17.9-.6 39.6-19.8 45.1L439.6 217.3c-13.9 4-28.8-1.9-36.2-14.3L320 64 236.6 203c-7.4 12.4-22.3 18.3-36.2 14.3L37.1 170.6c-19.3-5.5-28.8-27.2-19.8-45.1L58.9 42.1zM321.1 128l54.9 91.4c14.9 24.8 44.6 36.6 72.5 28.6L576 211.6v167c0 22-15 41.2-36.4 46.6l-204.1 51c-10.2 2.6-20.9 2.6-31 0l-204.1-51C79 419.7 64 400.5 64 378.5v-167L191.6 248c27.8 8 57.6-3.8 72.5-28.6L318.9 128h2.2z"},child:[]}]})(t)}function dM(t){return De({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 24C0 10.7 10.7 0 24 0H69.5c22 0 41.5 12.8 50.6 32h411c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3H170.7l5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H199.7c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5H24C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"},child:[]}]})(t)}function fM(t){return De({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M8 256a56 56 0 1 1 112 0A56 56 0 1 1 8 256zm160 0a56 56 0 1 1 112 0 56 56 0 1 1 -112 0zm216-56a56 56 0 1 1 0 112 56 56 0 1 1 0-112z"},child:[]}]})(t)}function hM(t){return De({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M368.6 96l76.8 96H288V96h80.6zM224 80V192H64c-17.7 0-32 14.3-32 32v64c-17.7 0-32 14.3-32 32s14.3 32 32 32H65.1c-.7 5.2-1.1 10.6-1.1 16c0 61.9 50.1 112 112 112s112-50.1 112-112c0-5.4-.4-10.8-1.1-16h66.3c-.7 5.2-1.1 10.6-1.1 16c0 61.9 50.1 112 112 112s112-50.1 112-112c0-5.4-.4-10.8-1.1-16H608c17.7 0 32-14.3 32-32s-14.3-32-32-32V224c0-17.7-14.3-32-32-32H527.4L418.6 56c-12.1-15.2-30.5-24-50-24H272c-26.5 0-48 21.5-48 48zm0 288a48 48 0 1 1 -96 0 48 48 0 1 1 96 0zm288 0a48 48 0 1 1 -96 0 48 48 0 1 1 96 0z"},child:[]}]})(t)}function pM(t){return De({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}function mM(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12.58 19.963a9.906 9.906 0 0 1 -4.88 -.963l-4.7 1l1.3 -3.9c-2.324 -3.437 -1.426 -7.872 2.1 -10.374c3.526 -2.501 8.59 -2.296 11.845 .48c2.13 1.817 3.055 4.368 2.692 6.82"},child:[]},{tag:"path",attr:{d:"M16 22l5 -5"},child:[]},{tag:"path",attr:{d:"M21 21.5v-4.5h-4.5"},child:[]}]})(t)}const X_=[{id:1,title:"Inicio",href:"/"},{id:2,title:"Productos",href:"/products"},{id:3,title:"Sobre Nosotros",href:"/nosotros"}],Dl=[{id:1,title:"Facebook",href:"https://www.facebook.com/baalak.cv",icon:d.jsx(aM,{})},{id:2,title:"Instagram",href:"https://www.instagram.com/baalak.cv",icon:d.jsx(lM,{})},{id:3,title:"WhatsApp",href:"https://wa.me/message/E7HDZJLVTRDML1",icon:d.jsx(pM,{})}],gM=[{id:1,title:"Productos",href:"/dashboard/productos",icon:d.jsx(uM,{size:25})},{id:2,title:"rdenes",href:"/dashboard/ordenes",icon:d.jsx(dM,{size:25})},{id:3,title:"Mensajes",href:"/dashboard/mensajes",icon:d.jsx(mM,{size:25})},{id:4,title:"Transportes",href:"/dashboard/transportes",icon:d.jsx(hM,{size:25})}];function yM(t){return De({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"},child:[]}]})(t)}function eE(t){return De({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},child:[]}]})(t)}function tE(t){return De({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"},child:[]}]})(t)}function vM(t){return De({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},child:[]}]})(t)}const xM=({isDashboard:t})=>d.jsxs(vt,{to:"/",className:`text-2xl font-bold tracking-tighter transition-all ${t&&"hover:scale-105"}`,children:[d.jsx("p",{className:"hidden lg:block",children:d.jsx("img",{src:"/img/Baalak-logo-banner.png",alt:"Baalak"})}),d.jsx("p",{className:"flex lg:hidden",children:d.jsx("img",{src:"/img/Baalak-logo-banner-small.png",alt:"Baalak"})})]}),bM={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_PROJECT_URL_SUPABASE:"https://eqguyubrjvbrzhdxrtix.supabase.co",VITE_SUPABASE_API_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVxZ3V5dWJyanZicnpoZHhydGl4Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0MjQ5OTY2MCwiZXhwIjoyMDU4MDc1NjYwfQ.Gfy00qe5wqsKRPI9mRy_j5mDbW9160yykxqkez443l0"},F1=t=>{let e;const r=new Set,n=(u,f)=>{const h=typeof u=="function"?u(e):u;if(!Object.is(h,e)){const p=e;e=f??(typeof h!="object"||h===null)?h:Object.assign({},e,h),r.forEach(m=>m(e,p))}},s=()=>e,l={setState:n,getState:s,getInitialState:()=>c,subscribe:u=>(r.add(u),()=>r.delete(u)),destroy:()=>{(bM?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},c=e=t(n,s,l);return l},wM=t=>t?F1(t):F1;var rE={exports:{}},nE={},sE={exports:{}},iE={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vl=C;function SM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kM=typeof Object.is=="function"?Object.is:SM,_M=vl.useState,EM=vl.useEffect,CM=vl.useLayoutEffect,NM=vl.useDebugValue;function jM(t,e){var r=e(),n=_M({inst:{value:r,getSnapshot:e}}),s=n[0].inst,i=n[1];return CM(function(){s.value=r,s.getSnapshot=e,om(s)&&i({inst:s})},[t,r,e]),EM(function(){return om(s)&&i({inst:s}),t(function(){om(s)&&i({inst:s})})},[t]),NM(r),r}function om(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!kM(t,r)}catch{return!0}}function OM(t,e){return e()}var TM=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?OM:jM;iE.useSyncExternalStore=vl.useSyncExternalStore!==void 0?vl.useSyncExternalStore:TM;sE.exports=iE;var PM=sE.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp=C,MM=PM;function AM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var IM=typeof Object.is=="function"?Object.is:AM,RM=MM.useSyncExternalStore,DM=tp.useRef,LM=tp.useEffect,FM=tp.useMemo,$M=tp.useDebugValue;nE.useSyncExternalStoreWithSelector=function(t,e,r,n,s){var i=DM(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=FM(function(){function l(p){if(!c){if(c=!0,u=p,p=n(p),s!==void 0&&o.hasValue){var m=o.value;if(s(m,p))return f=m}return f=p}if(m=f,IM(u,p))return m;var g=n(p);return s!==void 0&&s(m,g)?m:(u=p,f=g)}var c=!1,u,f,h=r===void 0?null:r;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,r,n,s]);var a=RM(t,i[0],i[1]);return LM(function(){o.hasValue=!0,o.value=a},[a]),$M(a),a};rE.exports=nE;var zM=rE.exports;const BM=c0(zM),oE={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_PROJECT_URL_SUPABASE:"https://eqguyubrjvbrzhdxrtix.supabase.co",VITE_SUPABASE_API_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVxZ3V5dWJyanZicnpoZHhydGl4Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0MjQ5OTY2MCwiZXhwIjoyMDU4MDc1NjYwfQ.Gfy00qe5wqsKRPI9mRy_j5mDbW9160yykxqkez443l0"},{useDebugValue:VM}=fe,{useSyncExternalStoreWithSelector:UM}=BM;let $1=!1;const HM=t=>t;function qM(t,e=HM,r){(oE?"production":void 0)!=="production"&&r&&!$1&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),$1=!0);const n=UM(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return VM(n),n}const WM=t=>{(oE?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?wM(t):t,r=(n,s)=>qM(e,n,s);return Object.assign(r,e),r},fv=t=>WM,gf={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_PROJECT_URL_SUPABASE:"https://eqguyubrjvbrzhdxrtix.supabase.co",VITE_SUPABASE_API_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVxZ3V5dWJyanZicnpoZHhydGl4Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0MjQ5OTY2MCwiZXhwIjoyMDU4MDc1NjYwfQ.Gfy00qe5wqsKRPI9mRy_j5mDbW9160yykxqkez443l0"},Yg=new Map,zd=t=>{const e=Yg.get(t);return e?Object.fromEntries(Object.entries(e.stores).map(([r,n])=>[r,n.getState()])):{}},KM=(t,e,r)=>{if(t===void 0)return{type:"untracked",connection:e.connect(r)};const n=Yg.get(r.name);if(n)return{type:"tracked",store:t,...n};const s={connection:e.connect(r),stores:{}};return Yg.set(r.name,s),{type:"tracked",store:t,...s}},JM=(t,e={})=>(r,n,s)=>{const{enabled:i,anonymousActionType:o,store:a,...l}=e;let c;try{c=(i??(gf?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!c)return(gf?"production":void 0)!=="production"&&i&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),t(r,n,s);const{connection:u,...f}=KM(a,c,l);let h=!0;s.setState=(g,x,v)=>{const y=r(g,x);if(!h)return y;const b=v===void 0?{type:o||"anonymous"}:typeof v=="string"?{type:v}:v;return a===void 0?(u==null||u.send(b,n()),y):(u==null||u.send({...b,type:`${a}/${b.type}`},{...zd(l.name),[a]:s.getState()}),y)};const p=(...g)=>{const x=h;h=!1,r(...g),h=x},m=t(s.setState,n,s);if(f.type==="untracked"?u==null||u.init(m):(f.stores[f.store]=s,u==null||u.init(Object.fromEntries(Object.entries(f.stores).map(([g,x])=>[g,g===f.store?m:x.getState()])))),s.dispatchFromDevtools&&typeof s.dispatch=="function"){let g=!1;const x=s.dispatch;s.dispatch=(...v)=>{(gf?"production":void 0)!=="production"&&v[0].type==="__setState"&&!g&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),g=!0),x(...v)}}return u.subscribe(g=>{var x;switch(g.type){case"ACTION":if(typeof g.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return am(g.payload,v=>{if(v.type==="__setState"){if(a===void 0){p(v.state);return}Object.keys(v.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const y=v.state[a];if(y==null)return;JSON.stringify(s.getState())!==JSON.stringify(y)&&p(y);return}s.dispatchFromDevtools&&typeof s.dispatch=="function"&&s.dispatch(v)});case"DISPATCH":switch(g.payload.type){case"RESET":return p(m),a===void 0?u==null?void 0:u.init(s.getState()):u==null?void 0:u.init(zd(l.name));case"COMMIT":if(a===void 0){u==null||u.init(s.getState());return}return u==null?void 0:u.init(zd(l.name));case"ROLLBACK":return am(g.state,v=>{if(a===void 0){p(v),u==null||u.init(s.getState());return}p(v[a]),u==null||u.init(zd(l.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return am(g.state,v=>{if(a===void 0){p(v);return}JSON.stringify(s.getState())!==JSON.stringify(v[a])&&p(v[a])});case"IMPORT_STATE":{const{nextLiftedState:v}=g.payload,y=(x=v.computedStates.slice(-1)[0])==null?void 0:x.state;if(!y)return;p(a===void 0?y:y[a]),u==null||u.send(null,v);return}case"PAUSE_RECORDING":return h=!h}return}}),m},hv=JM,am=(t,e)=>{let r;try{r=JSON.parse(t)}catch(n){console.error("[zustand devtools middleware] Could not parse the received json",n)}r!==void 0&&e(r)};function ZM(t,e){let r;try{r=t()}catch{return}return{getItem:s=>{var i;const o=l=>l===null?null:JSON.parse(l,void 0),a=(i=r.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>r.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>r.removeItem(s)}}const iu=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return iu(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return iu(n)(r)}}}},QM=(t,e)=>(r,n,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:x=>x,version:0,merge:(x,v)=>({...v,...x}),...e},o=!1;const a=new Set,l=new Set;let c;try{c=i.getStorage()}catch{}if(!c)return t((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...x)},n,s);const u=iu(i.serialize),f=()=>{const x=i.partialize({...n()});let v;const y=u({state:x,version:i.version}).then(b=>c.setItem(i.name,b)).catch(b=>{v=b});if(v)throw v;return y},h=s.setState;s.setState=(x,v)=>{h(x,v),f()};const p=t((...x)=>{r(...x),f()},n,s);let m;const g=()=>{var x;if(!c)return;o=!1,a.forEach(y=>y(n()));const v=((x=i.onRehydrateStorage)==null?void 0:x.call(i,n()))||void 0;return iu(c.getItem.bind(c))(i.name).then(y=>{if(y)return i.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate)return i.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var b;return m=i.merge(y,(b=n())!=null?b:p),r(m,!0),f()}).then(()=>{v==null||v(m,void 0),o=!0,l.forEach(y=>y(m))}).catch(y=>{v==null||v(void 0,y)})};return s.persist={setOptions:x=>{i={...i,...x},x.getStorage&&(c=x.getStorage())},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:x=>(a.add(x),()=>{a.delete(x)}),onFinishHydration:x=>(l.add(x),()=>{l.delete(x)})},g(),m||p},GM=(t,e)=>(r,n,s)=>{let i={storage:ZM(()=>localStorage),partialize:g=>g,version:0,merge:(g,x)=>({...x,...g}),...e},o=!1;const a=new Set,l=new Set;let c=i.storage;if(!c)return t((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...g)},n,s);const u=()=>{const g=i.partialize({...n()});return c.setItem(i.name,{state:g,version:i.version})},f=s.setState;s.setState=(g,x)=>{f(g,x),u()};const h=t((...g)=>{r(...g),u()},n,s);s.getInitialState=()=>h;let p;const m=()=>{var g,x;if(!c)return;o=!1,a.forEach(y=>{var b;return y((b=n())!=null?b:h)});const v=((x=i.onRehydrateStorage)==null?void 0:x.call(i,(g=n())!=null?g:h))||void 0;return iu(c.getItem.bind(c))(i.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate)return[!0,i.migrate(y.state,y.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var b;const[S,O]=y;if(p=i.merge(O,(b=n())!=null?b:h),r(p,!0),S)return u()}).then(()=>{v==null||v(p,void 0),p=n(),o=!0,l.forEach(y=>y(p))}).catch(y=>{v==null||v(void 0,y)})};return s.persist={setOptions:g=>{i={...i,...g},g.storage&&(c=g.storage)},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:g=>(a.add(g),()=>{a.delete(g)}),onFinishHydration:g=>(l.add(g),()=>{l.delete(g)})},i.skipHydration||m(),p||h},YM=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((gf?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),QM(t,e)):GM(t,e),XM=YM,eA=t=>({isSheetOpen:!1,sheetContent:null,activeNavMobile:!1,openSheet:e=>{t({isSheetOpen:!0,sheetContent:e})},closeSheet:()=>{t({isSheetOpen:!1,sheetContent:null})},setActiveNavMobile:e=>{t({activeNavMobile:e})}}),Ls=fv()(hv(eA)),tA=t=>({items:[],totalItemsInCart:0,totalAmount:0,addItem:e=>{t(r=>{const n=r.items.findIndex(a=>a.variantId===e.variantId);let s;n>=0?s=r.items.map((a,l)=>l===n?{...a,quantity:a.quantity+e.quantity}:a):s=[...r.items,e];const i=s.reduce((a,l)=>a+l.quantity,0),o=s.reduce((a,l)=>a+l.price*l.quantity,0);return{items:s,totalAmount:o,totalItemsInCart:i}})},removeItem:e=>{t(r=>{const n=r.items.filter(o=>o.variantId!==e),s=n.reduce((o,a)=>o+a.quantity,0),i=n.reduce((o,a)=>o+a.price*a.quantity,0);return{items:n,totalAmount:i,totalItemsInCart:s}})},updateQuantity:(e,r)=>{t(n=>{const s=n.items.map(a=>a.variantId===e?{...a,quantity:r}:a),i=s.reduce((a,l)=>a+l.quantity,0),o=s.reduce((a,l)=>a+l.price*l.quantity,0);return{items:s,totalAmount:o,totalItemsInCart:i}})},cleanCart:()=>{t({items:[],totalItemsInCart:0,totalAmount:0})}}),qr=fv()(hv(XM(tA,{name:"cart-store"})));var Go=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xl=typeof window>"u"||"Deno"in globalThis;function en(){}function rA(t,e){return typeof t=="function"?t(e):t}function Xg(t){return typeof t=="number"&&t>=0&&t!==1/0}function aE(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ba(t,e){return typeof t=="function"?t(e):t}function jn(t,e){return typeof t=="function"?t(e):t}function z1(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(n){if(e.queryHash!==pv(o,e.options))return!1}else if(!ou(e.queryKey,o))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function B1(t,e){const{exact:r,status:n,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(Bo(e.options.mutationKey)!==Bo(i))return!1}else if(!ou(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function pv(t,e){return((e==null?void 0:e.queryKeyHashFn)||Bo)(t)}function Bo(t){return JSON.stringify(t,(e,r)=>ey(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function ou(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!ou(t[r],e[r])):!1}function mv(t,e){if(t===e)return t;const r=V1(t)&&V1(e);if(r||ey(t)&&ey(e)){const n=r?t:Object.keys(t),s=n.length,i=r?e:Object.keys(e),o=i.length,a=r?[]:{};let l=0;for(let c=0;c<o;c++){const u=r?c:i[c];(!r&&n.includes(u)||r)&&t[u]===void 0&&e[u]===void 0?(a[u]=void 0,l++):(a[u]=mv(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function ih(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function V1(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ey(t){if(!U1(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!U1(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function U1(t){return Object.prototype.toString.call(t)==="[object Object]"}function nA(t){return new Promise(e=>{setTimeout(e,t)})}function ty(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?mv(t,e):e}function sA(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function iA(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var lE=Symbol();function cE(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===lE?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var yo,di,Za,uS,oA=(uS=class extends Go{constructor(){super();le(this,yo);le(this,di);le(this,Za);W(this,Za,e=>{if(!xl&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){k(this,di)||this.setEventListener(k(this,Za))}onUnsubscribe(){var e;this.hasListeners()||((e=k(this,di))==null||e.call(this),W(this,di,void 0))}setEventListener(e){var r;W(this,Za,e),(r=k(this,di))==null||r.call(this),W(this,di,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){k(this,yo)!==e&&(W(this,yo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof k(this,yo)=="boolean"?k(this,yo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},yo=new WeakMap,di=new WeakMap,Za=new WeakMap,uS),gv=new oA,Qa,fi,Ga,dS,aA=(dS=class extends Go{constructor(){super();le(this,Qa,!0);le(this,fi);le(this,Ga);W(this,Ga,e=>{if(!xl&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){k(this,fi)||this.setEventListener(k(this,Ga))}onUnsubscribe(){var e;this.hasListeners()||((e=k(this,fi))==null||e.call(this),W(this,fi,void 0))}setEventListener(e){var r;W(this,Ga,e),(r=k(this,fi))==null||r.call(this),W(this,fi,e(this.setOnline.bind(this)))}setOnline(e){k(this,Qa)!==e&&(W(this,Qa,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return k(this,Qa)}},Qa=new WeakMap,fi=new WeakMap,Ga=new WeakMap,dS),oh=new aA;function lA(t){return Math.min(1e3*2**t,3e4)}function uE(t){return(t??"online")==="online"?oh.isOnline():!0}var dE=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function lm(t){return t instanceof dE}function fE(t){let e=!1,r=0,n=!1,s,i,o;const a=new Promise((v,y)=>{i=v,o=y}),l=v=>{var y;n||(m(new dE(v)),(y=t.abort)==null||y.call(t))},c=()=>{e=!0},u=()=>{e=!1},f=()=>gv.isFocused()&&(t.networkMode==="always"||oh.isOnline())&&t.canRun(),h=()=>uE(t.networkMode)&&t.canRun(),p=v=>{var y;n||(n=!0,(y=t.onSuccess)==null||y.call(t,v),s==null||s(),i(v))},m=v=>{var y;n||(n=!0,(y=t.onError)==null||y.call(t,v),s==null||s(),o(v))},g=()=>new Promise(v=>{var y;s=b=>{(n||f())&&v(b)},(y=t.onPause)==null||y.call(t)}).then(()=>{var v;s=void 0,n||(v=t.onContinue)==null||v.call(t)}),x=()=>{if(n)return;let v;const y=r===0?t.initialPromise:void 0;try{v=y??t.fn()}catch(b){v=Promise.reject(b)}Promise.resolve(v).then(p).catch(b=>{var w;if(n)return;const S=t.retry??(xl?0:3),O=t.retryDelay??lA,N=typeof O=="function"?O(r,b):O,T=S===!0||typeof S=="number"&&r<S||typeof S=="function"&&S(r,b);if(e||!T){m(b);return}r++,(w=t.onFail)==null||w.call(t,r,b),nA(N).then(()=>f()?void 0:g()).then(()=>{e?m(b):x()})})};return{promise:a,cancel:l,continue:()=>(s==null||s(),a),cancelRetry:c,continueRetry:u,canStart:h,start:()=>(h()?x():g().then(x),a)}}function cA(){let t=[],e=0,r=a=>{a()},n=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{r(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var yt=cA(),vo,fS,hE=(fS=class{constructor(){le(this,vo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Xg(this.gcTime)&&W(this,vo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(xl?1/0:5*60*1e3))}clearGcTimeout(){k(this,vo)&&(clearTimeout(k(this,vo)),W(this,vo,void 0))}},vo=new WeakMap,fS),Ya,Xa,Xr,Xt,Lu,xo,wn,bs,hS,uA=(hS=class extends hE{constructor(e){super();le(this,wn);le(this,Ya);le(this,Xa);le(this,Xr);le(this,Xt);le(this,Lu);le(this,xo);W(this,xo,!1),W(this,Lu,e.defaultOptions),this.setOptions(e.options),this.observers=[],W(this,Xr,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,W(this,Ya,dA(this.options)),this.state=e.state??k(this,Ya),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=k(this,Xt))==null?void 0:e.promise}setOptions(e){this.options={...k(this,Lu),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&k(this,Xr).remove(this)}setData(e,r){const n=ty(this.state.data,e,this.options);return xe(this,wn,bs).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){xe(this,wn,bs).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=k(this,Xt))==null?void 0:n.promise;return(s=k(this,Xt))==null||s.cancel(e),r?r.then(en).catch(en):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(k(this,Ya))}isActive(){return this.observers.some(e=>jn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!aE(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=k(this,Xt))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=k(this,Xt))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),k(this,Xr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(k(this,Xt)&&(k(this,xo)?k(this,Xt).cancel({revert:!0}):k(this,Xt).cancelRetry()),this.scheduleGc()),k(this,Xr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||xe(this,wn,bs).call(this,{type:"invalidate"})}fetch(e,r){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(k(this,Xt))return k(this,Xt).continueRetry(),k(this,Xt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(W(this,xo,!0),n.signal)})},i=()=>{const f=cE(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return s(h),W(this,xo,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(l=this.options.behavior)==null||l.onFetch(o,this),W(this,Xa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&xe(this,wn,bs).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const a=f=>{var h,p,m,g;lm(f)&&f.silent||xe(this,wn,bs).call(this,{type:"error",error:f}),lm(f)||((p=(h=k(this,Xr).config).onError)==null||p.call(h,f,this),(g=(m=k(this,Xr).config).onSettled)==null||g.call(m,this.state.data,f,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return W(this,Xt,fE({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,p,m,g;if(f===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(x){a(x);return}(p=(h=k(this,Xr).config).onSuccess)==null||p.call(h,f,this),(g=(m=k(this,Xr).config).onSettled)==null||g.call(m,f,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:a,onFail:(f,h)=>{xe(this,wn,bs).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{xe(this,wn,bs).call(this,{type:"pause"})},onContinue:()=>{xe(this,wn,bs).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),k(this,Xt).start()}},Ya=new WeakMap,Xa=new WeakMap,Xr=new WeakMap,Xt=new WeakMap,Lu=new WeakMap,xo=new WeakMap,wn=new WeakSet,bs=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...pE(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return lm(s)&&s.revert&&k(this,Xa)?{...k(this,Xa),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),yt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),k(this,Xr).notify({query:this,type:"updated",action:e})})},hS);function pE(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:uE(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function dA(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Wn,pS,fA=(pS=class extends Go{constructor(e={}){super();le(this,Wn);this.config=e,W(this,Wn,new Map)}build(e,r,n){const s=r.queryKey,i=r.queryHash??pv(s,r);let o=this.get(i);return o||(o=new uA({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){k(this,Wn).has(e.queryHash)||(k(this,Wn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=k(this,Wn).get(e.queryHash);r&&(e.destroy(),r===e&&k(this,Wn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){yt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return k(this,Wn).get(e)}getAll(){return[...k(this,Wn).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>z1(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>z1(e,n)):r}notify(e){yt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){yt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){yt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Wn=new WeakMap,pS),Kn,ur,bo,Jn,Zs,mS,hA=(mS=class extends hE{constructor(e){super();le(this,Jn);le(this,Kn);le(this,ur);le(this,bo);this.mutationId=e.mutationId,W(this,ur,e.mutationCache),W(this,Kn,[]),this.state=e.state||mE(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){k(this,Kn).includes(e)||(k(this,Kn).push(e),this.clearGcTimeout(),k(this,ur).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){W(this,Kn,k(this,Kn).filter(r=>r!==e)),this.scheduleGc(),k(this,ur).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){k(this,Kn).length||(this.state.status==="pending"?this.scheduleGc():k(this,ur).remove(this))}continue(){var e;return((e=k(this,bo))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,a,l,c,u,f,h,p,m,g,x,v,y,b,S,O,N,T;W(this,bo,fE({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(w,M)=>{xe(this,Jn,Zs).call(this,{type:"failed",failureCount:w,error:M})},onPause:()=>{xe(this,Jn,Zs).call(this,{type:"pause"})},onContinue:()=>{xe(this,Jn,Zs).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>k(this,ur).canRun(this)}));const r=this.state.status==="pending",n=!k(this,bo).canStart();try{if(!r){xe(this,Jn,Zs).call(this,{type:"pending",variables:e,isPaused:n}),await((i=(s=k(this,ur).config).onMutate)==null?void 0:i.call(s,e,this));const M=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));M!==this.state.context&&xe(this,Jn,Zs).call(this,{type:"pending",context:M,variables:e,isPaused:n})}const w=await k(this,bo).start();return await((c=(l=k(this,ur).config).onSuccess)==null?void 0:c.call(l,w,e,this.state.context,this)),await((f=(u=this.options).onSuccess)==null?void 0:f.call(u,w,e,this.state.context)),await((p=(h=k(this,ur).config).onSettled)==null?void 0:p.call(h,w,null,this.state.variables,this.state.context,this)),await((g=(m=this.options).onSettled)==null?void 0:g.call(m,w,null,e,this.state.context)),xe(this,Jn,Zs).call(this,{type:"success",data:w}),w}catch(w){try{throw await((v=(x=k(this,ur).config).onError)==null?void 0:v.call(x,w,e,this.state.context,this)),await((b=(y=this.options).onError)==null?void 0:b.call(y,w,e,this.state.context)),await((O=(S=k(this,ur).config).onSettled)==null?void 0:O.call(S,void 0,w,this.state.variables,this.state.context,this)),await((T=(N=this.options).onSettled)==null?void 0:T.call(N,void 0,w,e,this.state.context)),w}finally{xe(this,Jn,Zs).call(this,{type:"error",error:w})}}finally{k(this,ur).runNext(this)}}},Kn=new WeakMap,ur=new WeakMap,bo=new WeakMap,Jn=new WeakSet,Zs=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),yt.batch(()=>{k(this,Kn).forEach(n=>{n.onMutationUpdate(e)}),k(this,ur).notify({mutation:this,type:"updated",action:e})})},mS);function mE(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Rr,Fu,gS,pA=(gS=class extends Go{constructor(e={}){super();le(this,Rr);le(this,Fu);this.config=e,W(this,Rr,new Map),W(this,Fu,Date.now())}build(e,r,n){const s=new hA({mutationCache:this,mutationId:++wd(this,Fu)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){const r=Bd(e),n=k(this,Rr).get(r)??[];n.push(e),k(this,Rr).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=Bd(e);if(k(this,Rr).has(r)){const s=(n=k(this,Rr).get(r))==null?void 0:n.filter(i=>i!==e);s&&(s.length===0?k(this,Rr).delete(r):k(this,Rr).set(r,s))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=k(this,Rr).get(Bd(e)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=k(this,Rr).get(Bd(e)))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){yt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...k(this,Rr).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>B1(r,n))}findAll(e={}){return this.getAll().filter(r=>B1(e,r))}notify(e){yt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return yt.batch(()=>Promise.all(e.map(r=>r.continue().catch(en))))}},Rr=new WeakMap,Fu=new WeakMap,gS);function Bd(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function mA(t){return{onFetch:(e,r)=>{const n=async()=>{var m,g,x,v,y;const s=e.options,i=(x=(g=(m=e.fetchOptions)==null?void 0:m.meta)==null?void 0:g.fetchMore)==null?void 0:x.direction,o=((v=e.state.data)==null?void 0:v.pages)||[],a=((y=e.state.data)==null?void 0:y.pageParams)||[],l={pages:[],pageParams:[]};let c=!1;const u=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?c=!0:e.signal.addEventListener("abort",()=>{c=!0}),e.signal)})},f=cE(e.options,e.fetchOptions),h=async(b,S,O)=>{if(c)return Promise.reject();if(S==null&&b.pages.length)return Promise.resolve(b);const N={queryKey:e.queryKey,pageParam:S,direction:O?"backward":"forward",meta:e.options.meta};u(N);const T=await f(N),{maxPages:w}=e.options,M=O?iA:sA;return{pages:M(b.pages,T,w),pageParams:M(b.pageParams,S,w)}};let p;if(i&&o.length){const b=i==="backward",S=b?gA:H1,O={pages:o,pageParams:a},N=S(s,O);p=await h(O,N,b)}else{p=await h(l,a[0]??s.initialPageParam);const b=t??o.length;for(let S=1;S<b;S++){const O=H1(s,p);if(O==null)break;p=await h(p,O)}}return p};e.options.persister?e.fetchFn=()=>{var s,i;return(i=(s=e.options).persister)==null?void 0:i.call(s,n,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=n}}}function H1(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function gA(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var ht,hi,pi,el,tl,mi,rl,nl,yS,yA=(yS=class{constructor(t={}){le(this,ht);le(this,hi);le(this,pi);le(this,el);le(this,tl);le(this,mi);le(this,rl);le(this,nl);W(this,ht,t.queryCache||new fA),W(this,hi,t.mutationCache||new pA),W(this,pi,t.defaultOptions||{}),W(this,el,new Map),W(this,tl,new Map),W(this,mi,0)}mount(){wd(this,mi)._++,k(this,mi)===1&&(W(this,rl,gv.subscribe(async t=>{t&&(await this.resumePausedMutations(),k(this,ht).onFocus())})),W(this,nl,oh.subscribe(async t=>{t&&(await this.resumePausedMutations(),k(this,ht).onOnline())})))}unmount(){var t,e;wd(this,mi)._--,k(this,mi)===0&&((t=k(this,rl))==null||t.call(this),W(this,rl,void 0),(e=k(this,nl))==null||e.call(this),W(this,nl,void 0))}isFetching(t){return k(this,ht).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return k(this,hi).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=k(this,ht).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=k(this,ht).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(Ba(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return k(this,ht).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=k(this,ht).get(n.queryHash),i=s==null?void 0:s.state.data,o=rA(e,i);if(o!==void 0)return k(this,ht).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return yt.batch(()=>k(this,ht).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=k(this,ht).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=k(this,ht);yt.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=k(this,ht),n={type:"active",...t};return yt.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=yt.batch(()=>k(this,ht).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(en).catch(en)}invalidateQueries(t={},e={}){return yt.batch(()=>{if(k(this,ht).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=yt.batch(()=>k(this,ht).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(en)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(en)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=k(this,ht).build(this,e);return r.isStaleByTime(Ba(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(en).catch(en)}fetchInfiniteQuery(t){return t.behavior=mA(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(en).catch(en)}resumePausedMutations(){return oh.isOnline()?k(this,hi).resumePausedMutations():Promise.resolve()}getQueryCache(){return k(this,ht)}getMutationCache(){return k(this,hi)}getDefaultOptions(){return k(this,pi)}setDefaultOptions(t){W(this,pi,t)}setQueryDefaults(t,e){k(this,el).set(Bo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...k(this,el).values()];let r={};return e.forEach(n=>{ou(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){k(this,tl).set(Bo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...k(this,tl).values()];let r={};return e.forEach(n=>{ou(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...k(this,pi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=pv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===lE&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...k(this,pi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){k(this,ht).clear(),k(this,hi).clear()}},ht=new WeakMap,hi=new WeakMap,pi=new WeakMap,el=new WeakMap,tl=new WeakMap,mi=new WeakMap,rl=new WeakMap,nl=new WeakMap,yS),_r,Ie,$u,dr,wo,sl,Zn,zu,il,ol,So,ko,gi,al,Ve,gc,ry,ny,sy,iy,oy,ay,ly,gE,vS,yv=(vS=class extends Go{constructor(e,r){super();le(this,Ve);le(this,_r);le(this,Ie);le(this,$u);le(this,dr);le(this,wo);le(this,sl);le(this,Zn);le(this,zu);le(this,il);le(this,ol);le(this,So);le(this,ko);le(this,gi);le(this,al,new Set);this.options=r,W(this,_r,e),W(this,Zn,null),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(k(this,Ie).addObserver(this),q1(k(this,Ie),this.options)?xe(this,Ve,gc).call(this):this.updateResult(),xe(this,Ve,iy).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return cy(k(this,Ie),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return cy(k(this,Ie),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,xe(this,Ve,oy).call(this),xe(this,Ve,ay).call(this),k(this,Ie).removeObserver(this)}setOptions(e,r){const n=this.options,s=k(this,Ie);if(this.options=k(this,_r).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof jn(this.options.enabled,k(this,Ie))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");xe(this,Ve,ly).call(this),k(this,Ie).setOptions(this.options),n._defaulted&&!ih(this.options,n)&&k(this,_r).getQueryCache().notify({type:"observerOptionsUpdated",query:k(this,Ie),observer:this});const i=this.hasListeners();i&&W1(k(this,Ie),s,this.options,n)&&xe(this,Ve,gc).call(this),this.updateResult(r),i&&(k(this,Ie)!==s||jn(this.options.enabled,k(this,Ie))!==jn(n.enabled,k(this,Ie))||Ba(this.options.staleTime,k(this,Ie))!==Ba(n.staleTime,k(this,Ie)))&&xe(this,Ve,ry).call(this);const o=xe(this,Ve,ny).call(this);i&&(k(this,Ie)!==s||jn(this.options.enabled,k(this,Ie))!==jn(n.enabled,k(this,Ie))||o!==k(this,gi))&&xe(this,Ve,sy).call(this,o)}getOptimisticResult(e){const r=k(this,_r).getQueryCache().build(k(this,_r),e),n=this.createResult(r,e);return xA(this,n)&&(W(this,dr,n),W(this,sl,this.options),W(this,wo,k(this,Ie).state)),n}getCurrentResult(){return k(this,dr)}trackResult(e,r){const n={};return Object.keys(e).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),e[s])})}),n}trackProp(e){k(this,al).add(e)}getCurrentQuery(){return k(this,Ie)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=k(this,_r).defaultQueryOptions(e),n=k(this,_r).getQueryCache().build(k(this,_r),r);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,r))}fetch(e){return xe(this,Ve,gc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),k(this,dr)))}createResult(e,r){var T;const n=k(this,Ie),s=this.options,i=k(this,dr),o=k(this,wo),a=k(this,sl),c=e!==n?e.state:k(this,$u),{state:u}=e;let f={...u},h=!1,p;if(r._optimisticResults){const w=this.hasListeners(),M=!w&&q1(e,r),P=w&&W1(e,n,r,s);(M||P)&&(f={...f,...pE(u.data,e.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:m,errorUpdatedAt:g,status:x}=f;if(r.select&&f.data!==void 0)if(i&&f.data===(o==null?void 0:o.data)&&r.select===k(this,zu))p=k(this,il);else try{W(this,zu,r.select),p=r.select(f.data),p=ty(i==null?void 0:i.data,p,r),W(this,il,p),W(this,Zn,null)}catch(w){W(this,Zn,w)}else p=f.data;if(r.placeholderData!==void 0&&p===void 0&&x==="pending"){let w;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData))w=i.data;else if(w=typeof r.placeholderData=="function"?r.placeholderData((T=k(this,ol))==null?void 0:T.state.data,k(this,ol)):r.placeholderData,r.select&&w!==void 0)try{w=r.select(w),W(this,Zn,null)}catch(M){W(this,Zn,M)}w!==void 0&&(x="success",p=ty(i==null?void 0:i.data,w,r),h=!0)}k(this,Zn)&&(m=k(this,Zn),p=k(this,il),g=Date.now(),x="error");const v=f.fetchStatus==="fetching",y=x==="pending",b=x==="error",S=y&&v,O=p!==void 0;return{status:x,fetchStatus:f.fetchStatus,isPending:y,isSuccess:x==="success",isError:b,isInitialLoading:S,isLoading:S,data:p,dataUpdatedAt:f.dataUpdatedAt,error:m,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:v,isRefetching:v&&!y,isLoadingError:b&&!O,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:b&&O,isStale:vv(e,r),refetch:this.refetch}}updateResult(e){const r=k(this,dr),n=this.createResult(k(this,Ie),this.options);if(W(this,wo,k(this,Ie).state),W(this,sl,this.options),k(this,wo).data!==void 0&&W(this,ol,k(this,Ie)),ih(n,r))return;W(this,dr,n);const s={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!k(this,al).size)return!0;const l=new Set(a??k(this,al));return this.options.throwOnError&&l.add("error"),Object.keys(k(this,dr)).some(c=>{const u=c;return k(this,dr)[u]!==r[u]&&l.has(u)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),xe(this,Ve,gE).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&xe(this,Ve,iy).call(this)}},_r=new WeakMap,Ie=new WeakMap,$u=new WeakMap,dr=new WeakMap,wo=new WeakMap,sl=new WeakMap,Zn=new WeakMap,zu=new WeakMap,il=new WeakMap,ol=new WeakMap,So=new WeakMap,ko=new WeakMap,gi=new WeakMap,al=new WeakMap,Ve=new WeakSet,gc=function(e){xe(this,Ve,ly).call(this);let r=k(this,Ie).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(en)),r},ry=function(){xe(this,Ve,oy).call(this);const e=Ba(this.options.staleTime,k(this,Ie));if(xl||k(this,dr).isStale||!Xg(e))return;const n=aE(k(this,dr).dataUpdatedAt,e)+1;W(this,So,setTimeout(()=>{k(this,dr).isStale||this.updateResult()},n))},ny=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(k(this,Ie)):this.options.refetchInterval)??!1},sy=function(e){xe(this,Ve,ay).call(this),W(this,gi,e),!(xl||jn(this.options.enabled,k(this,Ie))===!1||!Xg(k(this,gi))||k(this,gi)===0)&&W(this,ko,setInterval(()=>{(this.options.refetchIntervalInBackground||gv.isFocused())&&xe(this,Ve,gc).call(this)},k(this,gi)))},iy=function(){xe(this,Ve,ry).call(this),xe(this,Ve,sy).call(this,xe(this,Ve,ny).call(this))},oy=function(){k(this,So)&&(clearTimeout(k(this,So)),W(this,So,void 0))},ay=function(){k(this,ko)&&(clearInterval(k(this,ko)),W(this,ko,void 0))},ly=function(){const e=k(this,_r).getQueryCache().build(k(this,_r),this.options);if(e===k(this,Ie))return;const r=k(this,Ie);W(this,Ie,e),W(this,$u,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},gE=function(e){yt.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(k(this,dr))}),k(this,_r).getQueryCache().notify({query:k(this,Ie),type:"observerResultsUpdated"})})},vS);function vA(t,e){return jn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function q1(t,e){return vA(t,e)||t.state.data!==void 0&&cy(t,e,e.refetchOnMount)}function cy(t,e,r){if(jn(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&vv(t,e)}return!1}function W1(t,e,r,n){return(t!==e||jn(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&vv(t,r)}function vv(t,e){return jn(e.enabled,t)!==!1&&t.isStaleByTime(Ba(e.staleTime,t))}function xA(t,e){return!ih(t.getCurrentResult(),e)}function K1(t,e){return t.filter(r=>!e.includes(r))}function bA(t,e,r){const n=t.slice(0);return n[e]=r,n}var _o,Sn,ll,Dr,Eo,Bu,Vu,Zr,yE,uy,dy,fy,xS,wA=(xS=class extends Go{constructor(e,r,n){super();le(this,Zr);le(this,_o);le(this,Sn);le(this,ll);le(this,Dr);le(this,Eo);le(this,Bu);le(this,Vu);W(this,_o,e),W(this,ll,[]),W(this,Dr,[]),W(this,Sn,[]),this.setQueries(r)}onSubscribe(){this.listeners.size===1&&k(this,Dr).forEach(e=>{e.subscribe(r=>{xe(this,Zr,dy).call(this,e,r)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,k(this,Dr).forEach(e=>{e.destroy()})}setQueries(e,r,n){W(this,ll,e),yt.batch(()=>{const s=k(this,Dr),i=xe(this,Zr,uy).call(this,k(this,ll));i.forEach(c=>c.observer.setOptions(c.defaultedQueryOptions,n));const o=i.map(c=>c.observer),a=o.map(c=>c.getCurrentResult()),l=o.some((c,u)=>c!==s[u]);s.length===o.length&&!l||(W(this,Dr,o),W(this,Sn,a),this.hasListeners()&&(K1(s,o).forEach(c=>{c.destroy()}),K1(o,s).forEach(c=>{c.subscribe(u=>{xe(this,Zr,dy).call(this,c,u)})}),xe(this,Zr,fy).call(this)))})}getCurrentResult(){return k(this,Sn)}getQueries(){return k(this,Dr).map(e=>e.getCurrentQuery())}getObservers(){return k(this,Dr)}getOptimisticResult(e,r){const n=xe(this,Zr,uy).call(this,e),s=n.map(i=>i.observer.getOptimisticResult(i.defaultedQueryOptions));return[s,i=>xe(this,Zr,yE).call(this,i??s,r),()=>n.map((i,o)=>{const a=s[o];return i.defaultedQueryOptions.notifyOnChangeProps?a:i.observer.trackResult(a,l=>{n.forEach(c=>{c.observer.trackProp(l)})})})]}},_o=new WeakMap,Sn=new WeakMap,ll=new WeakMap,Dr=new WeakMap,Eo=new WeakMap,Bu=new WeakMap,Vu=new WeakMap,Zr=new WeakSet,yE=function(e,r){return r?((!k(this,Eo)||k(this,Sn)!==k(this,Vu)||r!==k(this,Bu))&&(W(this,Bu,r),W(this,Vu,k(this,Sn)),W(this,Eo,mv(k(this,Eo),r(e)))),k(this,Eo)):e},uy=function(e){const r=k(this,Dr),n=new Map(r.map(f=>[f.options.queryHash,f])),s=e.map(f=>k(this,_o).defaultQueryOptions(f)),i=s.flatMap(f=>{const h=n.get(f.queryHash);return h!=null?[{defaultedQueryOptions:f,observer:h}]:[]}),o=new Set(i.map(f=>f.defaultedQueryOptions.queryHash)),a=s.filter(f=>!o.has(f.queryHash)),l=f=>{const h=k(this,_o).defaultQueryOptions(f);return k(this,Dr).find(m=>m.options.queryHash===h.queryHash)??new yv(k(this,_o),h)},c=a.map(f=>({defaultedQueryOptions:f,observer:l(f)})),u=(f,h)=>s.indexOf(f.defaultedQueryOptions)-s.indexOf(h.defaultedQueryOptions);return i.concat(c).sort(u)},dy=function(e,r){const n=k(this,Dr).indexOf(e);n!==-1&&(W(this,Sn,bA(k(this,Sn),n,r)),xe(this,Zr,fy).call(this))},fy=function(){yt.batch(()=>{this.listeners.forEach(e=>{e(k(this,Sn))})})},xS),yi,vi,Er,Es,Ps,yf,hy,bS,SA=(bS=class extends Go{constructor(r,n){super();le(this,Ps);le(this,yi);le(this,vi);le(this,Er);le(this,Es);W(this,yi,r),this.setOptions(n),this.bindMethods(),xe(this,Ps,yf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=k(this,yi).defaultMutationOptions(r),ih(this.options,n)||k(this,yi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:k(this,Er),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Bo(n.mutationKey)!==Bo(this.options.mutationKey)?this.reset():((s=k(this,Er))==null?void 0:s.state.status)==="pending"&&k(this,Er).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=k(this,Er))==null||r.removeObserver(this)}onMutationUpdate(r){xe(this,Ps,yf).call(this),xe(this,Ps,hy).call(this,r)}getCurrentResult(){return k(this,vi)}reset(){var r;(r=k(this,Er))==null||r.removeObserver(this),W(this,Er,void 0),xe(this,Ps,yf).call(this),xe(this,Ps,hy).call(this)}mutate(r,n){var s;return W(this,Es,n),(s=k(this,Er))==null||s.removeObserver(this),W(this,Er,k(this,yi).getMutationCache().build(k(this,yi),this.options)),k(this,Er).addObserver(this),k(this,Er).execute(r)}},yi=new WeakMap,vi=new WeakMap,Er=new WeakMap,Es=new WeakMap,Ps=new WeakSet,yf=function(){var n;const r=((n=k(this,Er))==null?void 0:n.state)??mE();W(this,vi,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},hy=function(r){yt.batch(()=>{var n,s,i,o,a,l,c,u;if(k(this,Es)&&this.hasListeners()){const f=k(this,vi).variables,h=k(this,vi).context;(r==null?void 0:r.type)==="success"?((s=(n=k(this,Es)).onSuccess)==null||s.call(n,r.data,f,h),(o=(i=k(this,Es)).onSettled)==null||o.call(i,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((l=(a=k(this,Es)).onError)==null||l.call(a,r.error,f,h),(u=(c=k(this,Es)).onSettled)==null||u.call(c,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(k(this,vi))})})},bS),vE=C.createContext(void 0),ds=t=>{const e=C.useContext(vE);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},kA=({client:t,children:e})=>(C.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(vE.Provider,{value:t,children:e})),xE=C.createContext(!1),bE=()=>C.useContext(xE);xE.Provider;function _A(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var EA=C.createContext(_A()),wE=()=>C.useContext(EA);function SE(t,e){return typeof t=="function"?t(...e):!!t}function CA(){}var kE=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},_E=t=>{C.useEffect(()=>{t.clearReset()},[t])},EE=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&SE(r,[t.error,n]),CE=t=>{t.suspense&&(typeof t.staleTime!="number"&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},NA=(t,e)=>t.isLoading&&t.isFetching&&!e,py=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,my=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function jA({queries:t,...e},r){const n=ds(),s=bE(),i=wE(),o=C.useMemo(()=>t.map(m=>{const g=n.defaultQueryOptions(m);return g._optimisticResults=s?"isRestoring":"optimistic",g}),[t,n,s]);o.forEach(m=>{CE(m),kE(m,i)}),_E(i);const[a]=C.useState(()=>new wA(n,o,e)),[l,c,u]=a.getOptimisticResult(o,e.combine);C.useSyncExternalStore(C.useCallback(m=>s?()=>{}:a.subscribe(yt.batchCalls(m)),[a,s]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),C.useEffect(()=>{a.setQueries(o,e,{listeners:!1})},[o,e,a]);const h=l.some((m,g)=>py(o[g],m))?l.flatMap((m,g)=>{const x=o[g];if(x){const v=new yv(n,x);if(py(x,m))return my(x,v,i);NA(m,s)&&my(x,v,i)}return[]}):[];if(h.length>0)throw Promise.all(h);const p=l.find((m,g)=>{const x=o[g];return x&&EE({result:m,errorResetBoundary:i,throwOnError:x.throwOnError,query:n.getQueryCache().get(x.queryHash)})});if(p!=null&&p.error)throw p.error;return c(u())}function OA(t,e,r){var c,u,f,h;const n=ds(),s=bE(),i=wE(),o=n.defaultQueryOptions(t);(u=(c=n.getDefaultOptions().queries)==null?void 0:c._experimental_beforeQuery)==null||u.call(c,o),o._optimisticResults=s?"isRestoring":"optimistic",CE(o),kE(o,i),_E(i);const[a]=C.useState(()=>new e(n,o)),l=a.getOptimisticResult(o);if(C.useSyncExternalStore(C.useCallback(p=>{const m=s?()=>{}:a.subscribe(yt.batchCalls(p));return a.updateResult(),m},[a,s]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),C.useEffect(()=>{a.setOptions(o,{listeners:!1})},[o,a]),py(o,l))throw my(o,a,i);if(EE({result:l,errorResetBoundary:i,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw l.error;return(h=(f=n.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||h.call(f,o,l),o.notifyOnChangeProps?l:a.trackResult(l)}function fs(t,e){return OA(t,yv)}function Yo(t,e){const r=ds(),[n]=C.useState(()=>new SA(r,t));C.useEffect(()=>{n.setOptions(t)},[n,t]);const s=C.useSyncExternalStore(C.useCallback(o=>n.subscribe(yt.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=C.useCallback((o,a)=>{n.mutate(o,a).catch(CA)},[n]);if(s.error&&SE(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const Pt=t=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"MXN",minimumFractionDigits:2,maximumFractionDigits:2}).format(t),gy=t=>t.map(e=>{const r=e.variants.reduce((s,i)=>{const o=s.find(a=>a.target===i.target);return o?o.price=Math.min(o.price,i.price):s.push({target:i.target,type:i.type,kg:i.kg,price:i.price}),s},[]),n=Math.min(...r.map(s=>s.price));return{...e,price:n,targets:r.map(({target:s,type:i,kg:o})=>({target:s,type:i,kg:o})),variants:e.variants}}),TA=t=>t.reduce((e,r)=>(e.find(s=>s.nombre===rt(r[0].toString()))||e.push({nombre:rt(r[0].toString()),telefono:RA(r[1].toString()),mascotas:[],mensaje:[],status:!1}),e.find(s=>{s.nombre===rt(r[0].toString())&&!s.mascotas.find(i=>i.nombre===rt(r[2].toString()))&&s.mascotas.push({nombre:rt(r[2].toString()),recordatorios:[]}),s.nombre===rt(r[0].toString())&&s.mascotas.find(i=>i.nombre===rt(r[2].toString()))&&s.mascotas.find(i=>{i.nombre===rt(r[2].toString())&&!i.recordatorios.find(o=>o.nombre===rt(r[3].toString()))&&i.recordatorios.push({nombre:rt(r[3].toString()),tipos:[]})}),s.nombre===rt(r[0].toString())&&s.mascotas.find(i=>i.nombre===rt(r[2].toString()))&&s.mascotas.find(i=>i.nombre===rt(r[2].toString())&&i.recordatorios.find(o=>{o.nombre===rt(r[3].toString())&&!o.tipos.find(a=>a.nombre===rt(r[4].toString()))&&o.tipos.push({nombre:rt(r[4].toString()),fecha:r[5].toString()})}))}),e),[]),rp=t=>new Date(t).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}),PA=t=>new Date(t).toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"numeric"}),MA=t=>{switch(t){case"Pending":return"Pendiente";case"Paid":return"Pagado";case"Shipped":return"Enviado";case"Delivered":return"Entregado";default:return t}},AA=t=>t.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),IA=t=>{const e=t.split("/storage/v1/object/public/product-images/");if(e.length!==2)throw new Error(`URL de imagen no vlida: ${t}`);return e[1]},rt=t=>{if(t===null||t==="")return"";let e="";return e=t.replace(/[-_]/g," "),e.toLowerCase().split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")},RA=t=>{const e="0123456789";let r="";for(let n=0;n<t.length;n++)for(let s=0;s<e.length;s++)if(t.charAt(n)===e.charAt(s)){r+=t.charAt(n);break}return r},DA="modulepreload",LA=function(t){return"/"+t},J1={},bl=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.all(r.map(a=>{if(a=LA(a),a in J1)return;J1[a]=!0;const l=a.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":DA,l||(u.as="script"),u.crossOrigin="",u.href=a,o&&u.setAttribute("nonce",o),document.head.appendChild(u),l)return new Promise((f,h)=>{u.addEventListener("load",f),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})}))}return s.then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},FA=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>bl(async()=>{const{default:n}=await Promise.resolve().then(()=>Ll);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class xv extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class $A extends xv{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class zA extends xv{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class BA extends xv{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var yy;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(yy||(yy={}));var VA=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class UA{constructor(e,{headers:r={},customFetch:n,region:s=yy.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=FA(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return VA(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(m=>{throw new $A(m)}),f=u.headers.get("x-relay-error");if(f&&f==="true")throw new zA(u);if(!u.ok)throw new BA(u);let h=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield u.json():h==="application/octet-stream"?p=yield u.blob():h==="text/event-stream"?p=u:h==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var sn={},bv={},np={},Qu={},sp={},ip={},HA=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},wl=HA();const qA=wl.fetch,NE=wl.fetch.bind(wl),jE=wl.Headers,WA=wl.Request,KA=wl.Response,Ll=Object.freeze(Object.defineProperty({__proto__:null,Headers:jE,Request:WA,Response:KA,default:NE,fetch:qA},Symbol.toStringTag,{value:"Module"})),JA=VN(Ll);var wv={};Object.defineProperty(wv,"__esModule",{value:!0});class ZA extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}wv.default=ZA;var OE=fn&&fn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ip,"__esModule",{value:!0});const QA=OE(JA),GA=OE(wv);let YA=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=QA.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,u=null,f=null,h=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=v:u=JSON.parse(v))}const g=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");g&&x&&x.length>1&&(f=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,h=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const g=await i.text();try{c=JSON.parse(g),Array.isArray(c)&&i.status===404&&(u=[],c=null,h=200,p="OK")}catch{i.status===404&&g===""?(h=204,p="No Content"):c={message:g}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,p="OK"),c&&this.shouldThrowOnError)throw new GA.default(c)}return{error:c,data:u,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}};ip.default=YA;var XA=fn&&fn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(sp,"__esModule",{value:!0});const eI=XA(ip);let tI=class extends eI.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};sp.default=tI;var rI=fn&&fn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qu,"__esModule",{value:!0});const nI=rI(sp);let sI=class extends nI.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Qu.default=sI;var iI=fn&&fn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(np,"__esModule",{value:!0});const sc=iI(Qu);let oI=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new sc.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new sc.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new sc.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new sc.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new sc.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};np.default=oI;var op={},ap={};Object.defineProperty(ap,"__esModule",{value:!0});ap.version=void 0;ap.version="0.0.0-automated";Object.defineProperty(op,"__esModule",{value:!0});op.DEFAULT_HEADERS=void 0;const aI=ap;op.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${aI.version}`};var TE=fn&&fn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bv,"__esModule",{value:!0});const lI=TE(np),cI=TE(Qu),uI=op;let dI=class PE{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},uI.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new lI.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new PE(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([u,f])=>f!==void 0).map(([u,f])=>[u,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([u,f])=>{a.searchParams.append(u,f)})):(o="POST",l=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new cI.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};bv.default=dI;var Gu=fn&&fn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(sn,"__esModule",{value:!0});sn.PostgrestBuilder=sn.PostgrestTransformBuilder=sn.PostgrestFilterBuilder=sn.PostgrestQueryBuilder=sn.PostgrestClient=void 0;const ME=Gu(bv);sn.PostgrestClient=ME.default;const AE=Gu(np);sn.PostgrestQueryBuilder=AE.default;const IE=Gu(Qu);sn.PostgrestFilterBuilder=IE.default;const RE=Gu(sp);sn.PostgrestTransformBuilder=RE.default;const DE=Gu(ip);sn.PostgrestBuilder=DE.default;var fI=sn.default={PostgrestClient:ME.default,PostgrestQueryBuilder:AE.default,PostgrestFilterBuilder:IE.default,PostgrestTransformBuilder:RE.default,PostgrestBuilder:DE.default};const{PostgrestClient:hI,PostgrestQueryBuilder:uV,PostgrestFilterBuilder:dV,PostgrestTransformBuilder:fV,PostgrestBuilder:hV}=fI,pI="2.10.2",mI={"X-Client-Info":`realtime-js/${pI}`},gI="1.0.0",LE=1e4,yI=1e3;var Va;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Va||(Va={}));var Ir;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ir||(Ir={}));var En;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(En||(En={}));var vy;(function(t){t.websocket="websocket"})(vy||(vy={}));var so;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(so||(so={}));class vI{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+s));o=o+s;const l=n.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class FE{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ze;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ze||(Ze={}));const Z1=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=xI(o,t,e,s),i),{})},xI=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?$E(i,o):xy(o)},$E=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return kI(e,r)}switch(t){case Ze.bool:return bI(e);case Ze.float4:case Ze.float8:case Ze.int2:case Ze.int4:case Ze.int8:case Ze.numeric:case Ze.oid:return wI(e);case Ze.json:case Ze.jsonb:return SI(e);case Ze.timestamp:return _I(e);case Ze.abstime:case Ze.date:case Ze.daterange:case Ze.int4range:case Ze.int8range:case Ze.money:case Ze.reltime:case Ze.text:case Ze.time:case Ze.timestamptz:case Ze.timetz:case Ze.tsrange:case Ze.tstzrange:return xy(e);default:return xy(e)}},xy=t=>t,bI=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},wI=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},SI=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},kI=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>$E(e,a))}return t},_I=t=>typeof t=="string"?t.replace(" ","T"):t,zE=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class cm{constructor(e,r,n={},s=LE){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Q1;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Q1||(Q1={}));class Mc{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Mc.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Mc.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Mc.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const f=i[c];if(f){const h=u.map(x=>x.presence_ref),p=f.map(x=>x.presence_ref),m=u.filter(x=>p.indexOf(x.presence_ref)<0),g=f.filter(x=>h.indexOf(x.presence_ref)<0);m.length>0&&(a[c]=m),g.length>0&&(l[c]=g)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const f=e[a].map(p=>p.presence_ref),h=u.filter(p=>f.indexOf(p.presence_ref)<0);e[a].unshift(...h)}n(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var G1;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(G1||(G1={}));var Y1;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes"})(Y1||(Y1={}));var X1;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(X1||(X1={}));class Sv{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Ir.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new cm(this,En.join,this.params,this.timeout),this.rejoinTimer=new FE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ir.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ir.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ir.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ir.errored,this.rejoinTimer.scheduleTimeout())}),this._on(En.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Mc(this),this.broadcastEndpointURL=zE(this.socket.endPoint)+"/api/broadcast"}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>e&&e("CHANNEL_ERROR",u)),this._onClose(()=>e&&e("CLOSED"));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",({postgres_changes:u})=>{var f;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),u===void 0){e&&e("SUBSCRIBED");return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,m=[];for(let g=0;g<p;g++){const x=h[g],{filter:{event:v,schema:y,table:b,filter:S}}=x,O=u&&u[g];if(O&&O.event===v&&O.schema===y&&O.table===b&&O.filter===S)m.push(Object.assign(Object.assign({},x),{id:O.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e("SUBSCRIBED");return}}).receive("error",u=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=l.body)===null||s===void 0?void 0:s.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ir.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(En.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new cm(this,En.leave,{},e);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new cm(this,e,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=En;if(n&&[a,l,c,u].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var m,g,x;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((x=(g=p.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var m,g,x,v,y,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const S=p.id,O=(m=p.filter)===null||m===void 0?void 0:m.event;return S&&((g=r.ids)===null||g===void 0?void 0:g.includes(S))&&(O==="*"||(O==null?void 0:O.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const S=(y=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return S==="*"||S===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:g,table:x,commit_timestamp:v,type:y,errors:b}=m;h=Object.assign(Object.assign({},{schema:g,table:x,commit_timestamp:v,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(m))}p.callback(h,n)})}_isClosed(){return this.state===Ir.closed}_isJoined(){return this.state===Ir.joined}_isJoining(){return this.state===Ir.joining}_isLeaving(){return this.state===Ir.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Sv.isEqual(s.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(En.close,{},e)}_onError(e){this._on(En.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ir.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Z1(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Z1(e.columns,e.old_record)),r}}const EI=()=>{},CI=typeof WebSocket<"u";class NI{constructor(e,r){var n;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=mI,this.params={},this.timeout=LE,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=EI,this.conn=null,this.sendBuffer=[],this.serializer=new vI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>bl(async()=>{const{default:l}=await Promise.resolve().then(()=>Ll);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${vy.websocket}`,this.httpEndpoint=zE(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;s&&(this.accessToken=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new FE(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(CI){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new jI(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),bl(async()=>{const{default:e}=await import("./browser-HYQID54D.js").then(r=>r.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Va.connecting:return so.Connecting;case Va.open:return so.Open;case Va.closing:return so.Closing;default:return so.Closed}}isConnected(){return this.connectionState()===so.Open}channel(e,r={config:{}}){const n=new Sv(`realtime:${e}`,r,this);return this.channels.push(n),n}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(r=>{e&&r.updateJoinPayload({access_token:e}),r.joinedOnce&&r._isJoined()&&r._push(En.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:gI}))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;(o&&o===this.pendingHeartbeatRef||s===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(En.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(yI,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class jI{constructor(e,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Va.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class kv extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Dt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class OI extends kv{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class by extends kv{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var TI=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const BE=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>bl(async()=>{const{default:n}=await Promise.resolve().then(()=>Ll);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},PI=()=>TI(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield bl(()=>Promise.resolve().then(()=>Ll),void 0)).Response:Response}),wy=t=>{if(Array.isArray(t))return t.map(r=>wy(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=wy(n)}),e};var Xo=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const um=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),MI=(t,e,r)=>Xo(void 0,void 0,void 0,function*(){const n=yield PI();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{e(new OI(um(s),t.status||500))}).catch(s=>{e(new by(um(s),s))}):e(new by(um(t),t))}),AI=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Yu(t,e,r,n,s,i){return Xo(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,AI(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>MI(l,a,n))})})}function ah(t,e,r,n){return Xo(this,void 0,void 0,function*(){return Yu(t,"GET",e,r,n)})}function ti(t,e,r,n,s){return Xo(this,void 0,void 0,function*(){return Yu(t,"POST",e,n,s,r)})}function II(t,e,r,n,s){return Xo(this,void 0,void 0,function*(){return Yu(t,"PUT",e,n,s,r)})}function RI(t,e,r,n){return Xo(this,void 0,void 0,function*(){return Yu(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function VE(t,e,r,n,s){return Xo(this,void 0,void 0,function*(){return Yu(t,"DELETE",e,n,s,r)})}var kr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const DI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},eb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class LI{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=BE(s)}uploadOrUpdate(e,r,n,s){return kr(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},eb),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),i.append("",n),l&&i.append("metadata",this.encodeMetadata(l))):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Dt(i))return{data:null,error:i};throw i}})}upload(e,r,n){return kr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return kr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:eb.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(Dt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return kr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield ti(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new kv("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(Dt(n))return{data:null,error:n};throw n}})}update(e,r,n){return kr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return kr(this,void 0,void 0,function*(){try{return{data:yield ti(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Dt(s))return{data:null,error:s};throw s}})}copy(e,r,n){return kr(this,void 0,void 0,function*(){try{return{data:{path:(yield ti(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Dt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return kr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield ti(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Dt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return kr(this,void 0,void 0,function*(){try{const s=yield ti(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Dt(s))return{data:null,error:s};throw s}})}download(e,r){return kr(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield ah(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Dt(a))return{data:null,error:a};throw a}})}info(e){return kr(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield ah(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:wy(n),error:null}}catch(n){if(Dt(n))return{data:null,error:n};throw n}})}exists(e){return kr(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield RI(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Dt(n)&&n instanceof by){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return kr(this,void 0,void 0,function*(){try{return{data:yield VE(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(Dt(r))return{data:null,error:r};throw r}})}list(e,r,n){return kr(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},DI),r),{prefix:e||""});return{data:yield ti(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Dt(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const FI="2.7.0",$I={"X-Client-Info":`storage-js/${FI}`};var aa=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class zI{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},$I),r),this.fetch=BE(n)}listBuckets(){return aa(this,void 0,void 0,function*(){try{return{data:yield ah(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Dt(e))return{data:null,error:e};throw e}})}getBucket(e){return aa(this,void 0,void 0,function*(){try{return{data:yield ah(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(Dt(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return aa(this,void 0,void 0,function*(){try{return{data:yield ti(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Dt(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return aa(this,void 0,void 0,function*(){try{return{data:yield II(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Dt(n))return{data:null,error:n};throw n}})}emptyBucket(e){return aa(this,void 0,void 0,function*(){try{return{data:yield ti(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Dt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return aa(this,void 0,void 0,function*(){try{return{data:yield VE(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(Dt(r))return{data:null,error:r};throw r}})}}class BI extends zI{constructor(e,r={},n){super(e,r,n)}from(e){return new LI(this.url,this.headers,e,this.fetch)}}const VI="2.45.4";let yc="";typeof Deno<"u"?yc="deno":typeof document<"u"?yc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yc="react-native":yc="node";const UI={"X-Client-Info":`supabase-js-${yc}/${VI}`},HI={headers:UI},qI={schema:"public"},WI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},KI={};var JI=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const ZI=t=>{let e;return t?e=t:typeof fetch>"u"?e=NE:e=fetch,(...r)=>e(...r)},QI=()=>typeof Headers>"u"?jE:Headers,GI=(t,e,r)=>{const n=ZI(r),s=QI();return(i,o)=>JI(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var YI=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};function XI(t){return t.replace(/\/$/,"")}function eR(t,e){const{db:r,auth:n,realtime:s,global:i}=t,{db:o,auth:a,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>YI(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const UE="2.65.0",tR="http://localhost:9999",rR="supabase.auth.token",nR={"X-Client-Info":`gotrue-js/${UE}`},tb=10,Sy="X-Supabase-Api-Version",HE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function sR(t){return Math.round(Date.now()/1e3)+t}function iR(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const xn=()=>typeof document<"u",Xi={tested:!1,writable:!1},Ac=()=>{if(!xn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xi.tested)return Xi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Xi.tested=!0,Xi.writable=!0}catch{Xi.tested=!0,Xi.writable=!1}return Xi.writable};function dm(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const qE=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>bl(async()=>{const{default:n}=await Promise.resolve().then(()=>Ll);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},oR=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",WE=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Vd=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ud=async(t,e)=>{await t.removeItem(e)};function aR(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,s,i,o,a,l,c,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)o=e.indexOf(t.charAt(u++)),a=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),n=o<<2|a>>4,s=(a&15)<<4|l>>2,i=(l&3)<<6|c,r=r+String.fromCharCode(n),l!=64&&s!=0&&(r=r+String.fromCharCode(s)),c!=64&&i!=0&&(r=r+String.fromCharCode(i));return r}class lp{constructor(){this.promise=new lp.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}lp.promiseConstructor=Promise;function rb(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=t.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(aR(n))}async function lR(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function cR(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function uR(t){return("0"+t.toString(16)).substr(-2)}function dR(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,uR).join("")}async function fR(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function hR(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pR(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await fR(t);return hR(r)}async function la(t,e,r=!1){const n=dR();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await WE(t,`${e}-code-verifier`,s);const i=await pR(n);return[i,n===i?"plain":"s256"]}const mR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function gR(t){const e=t.headers.get(Sy);if(!e||!e.match(mR))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class _v extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function je(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class yR extends _v{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function vR(t){return je(t)&&t.name==="AuthApiError"}class KE extends _v{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class ea extends _v{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Qs extends ea{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function xR(t){return je(t)&&t.name==="AuthSessionMissingError"}class fm extends ea{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Hd extends ea{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class qd extends ea{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class nb extends ea{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ky extends ea{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function hm(t){return je(t)&&t.name==="AuthRetryableFetchError"}class sb extends ea{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var bR=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const ro=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),wR=[502,503,504];async function ib(t){var e;if(!oR(t))throw new ky(ro(t),0);if(wR.includes(t.status))throw new ky(ro(t),t.status);let r;try{r=await t.json()}catch(i){throw new KE(ro(i),i)}let n;const s=gR(t);if(s&&s.getTime()>=HE["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new sb(ro(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Qs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new sb(ro(r),t.status,r.weak_password.reasons);throw new yR(ro(r),t.status||500,n)}const SR=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Re(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Sy]||(i[Sy]=HE["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await kR(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function kR(t,e,r,n,s,i){const o=SR(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new ky(ro(l),0)}if(a.ok||await ib(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await ib(l)}}function Gs(t){var e;let r=null;NR(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=sR(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function ob(t){const e=Gs(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function oi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function _R(t){return{data:t,error:null}}function ER(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=bR(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function CR(t){return t}function NR(t){return t.access_token&&t.refresh_token&&t.expires_in}var jR=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class OR{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=qE(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r="global"){try{return await Re(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Re(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:oi})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=jR(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:ER,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(je(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Re(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:oi})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:CR});if(u.error)throw u.error;const f=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(m.split(";")[1].split("=")[1]);c[`${x}Page`]=g}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(je(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await Re(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:oi})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){try{return await Re(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:oi})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){try{return await Re(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:oi})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:r,error:n}=await Re(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(je(r))return{data:null,error:r};throw r}}async _deleteFactor(e){try{return{data:await Re(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}}}const TR={getItem:t=>Ac()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Ac()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Ac()&&globalThis.localStorage.removeItem(t)}};function ab(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function PR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ca={debug:!!(globalThis&&Ac()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class JE extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class MR extends JE{}async function AR(t,e,r){ca.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),ca.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){ca.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{ca.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw ca.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new MR(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ca.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}PR();const IR={url:tR,storageKey:rR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:nR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},ic=30*1e3,lb=3;async function cb(t,e,r){return await r()}class au{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=au.nextInstanceID,au.nextInstanceID+=1,this.instanceID>0&&xn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},IR),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new OR({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=qE(s.fetch),this.lock=s.lock||cb,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:xn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=AR:this.lock=cb,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ac()?this.storage=TR:(this.memoryStorage={},this.storage=ab(this.memoryStorage)):(this.memoryStorage={},this.storage=ab(this.memoryStorage)),xn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${UE}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=xn()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:r,error:n}=await this._getSessionFromURL(e);if(n)return this._debug("#_initialize()","error detecting session from URL",n),(n==null?void 0:n.message)==="Identity is already linked"||(n==null?void 0:n.message)==="Identity is already linked to another user"?{error:n}:(await this._removeSession(),{error:n});const{session:s,redirectType:i}=r;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return je(e)?{error:e}:{error:new KE("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Gs}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(je(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:u,password:f,options:h}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await la(this.storage,this.storageKey)),i=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:Gs})}else if("phone"in e){const{phone:u,password:f,options:h}=e;i=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Gs})}else throw new Hd("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(je(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ob})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ob})}else throw new Hd("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new fm}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(je(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const r=await Vd(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Gs});if(await Ud(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new fm}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(je(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await Re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Gs}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new fm}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(je(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await la(this.storage,this.storageKey));const{error:f}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Hd("You must provide either an email or phone number.")}catch(a){if(je(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await Re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Gs});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(je(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await la(this.storage,this.storageKey)),await Re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:_R})}catch(i){if(je(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Qs;const{error:s}=await Re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(je(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await Re(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await Re(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Hd("You must provide either an email or phone number and a type")}catch(r){if(je(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Vd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:oi}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qs}:await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:oi})})}catch(r){if(je(r))return xR(r)&&(await this._removeSession(),await Ud(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Qs;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await la(this.storage,this.storageKey));const{data:c,error:u}=await Re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:oi});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(je(n))return{data:{user:null},error:n};throw n}}_decodeJWT(e){return rb(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Qs;const r=Date.now()/1e3;let n=r,s=!0,i=null;const o=rb(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(je(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Qs;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(je(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e){try{if(!xn())throw new qd("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new qd("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new nb("Not a valid PKCE flow url.");const r=dm(window.location.href);if(e){if(!r.code)throw new nb("No code detected.");const{data:y,error:b}=await this._exchangeCodeForSession(r.code);if(b)throw b;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:y.session,redirectType:null},error:null}}if(r.error||r.error_description||r.error_code)throw new qd(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=r;if(!i||!a||!o||!c)throw new qd("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(a);let h=u+f;l&&(h=parseInt(l));const p=h-u;p*1e3<=ic&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,u);const{data:g,error:x}=await this._getUser(i);if(x)throw x;const v={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:r.type},error:null}}catch(r){if(je(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantFlow(){const e=dm(window.location.href);return!!(xn()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=dm(window.location.href),r=await Vd(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(vR(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ud(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){const r=iR(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await la(this.storage,this.storageKey,!0));try{return await Re(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(je(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,c,u;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Re(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return xn()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(je(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await Re(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(je(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await cR(async s=>(s>0&&await lR(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Gs})),(s,i)=>{const o=200*Math.pow(2,s);return i&&hm(i)&&Date.now()+o-n<ic})}catch(n){if(this._debug(r,"error",n),je(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),xn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Vd(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((e=n.expires_at)!==null&&e!==void 0?e:1/0)<s+tb;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${tb}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),hm(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Qs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new lp;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Qs;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),je(i)){const o={session:null,error:i};return hm(i)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await WE(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ud(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&xn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ic);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/ic);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ic}ms, refresh threshold is ${lb} ticks`),s<=lb&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof JE)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await la(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Re(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(je(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await Re(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="phone"&&delete l.totp,e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(je(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await Re(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(je(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Re(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(je(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}au.nextInstanceID=0;const RR=au;class DR extends RR{constructor(e){super(e)}}var LR=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(f){o(f)}}function l(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class FR{constructor(e,r,n){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=XI(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:qI,realtime:KI,auth:Object.assign(Object.assign({},WI),{storageKey:l}),global:HI},u=eR(n??{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=GI(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},u.realtime)),this.rest=new hI(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new UA(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new BI(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return LR(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,u){var f;const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new DR({url:this.authUrl,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:(f="Authorization"in this.headers)!==null&&f!==void 0?f:!1})}_initRealtimeClient(e){return new NI(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.realtime.setAuth(n??null),this.changedAccessToken=n):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const $R=(t,e,r)=>new FR(t,e,r),zR="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVxZ3V5dWJyanZicnpoZHhydGl4Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0MjQ5OTY2MCwiZXhwIjoyMDU4MDc1NjYwfQ.Gfy00qe5wqsKRPI9mRy_j5mDbW9160yykxqkez443l0",BR="https://eqguyubrjvbrzhdxrtix.supabase.co",he=$R(BR,zR),VR=async t=>{const r=(t-1)*10,n=r+10-1,{data:s,error:i,count:o}=await he.from("products").select("*, variants(*)",{count:"exact"}).order("created_at",{ascending:!1}).range(r,n);if(i)throw console.log(i.message),new Error(i.message);return{products:s,count:o}},UR=async({page:t=1,brands:e=[]})=>{const n=(t-1)*10,s=n+10-1;let i=he.from("products").select("*, variants(*)",{count:"exact"}).order("created_at",{ascending:!1}).range(n,s);e.length>0&&(i=i.in("brand",e));const{data:o,error:a,count:l}=await i;if(a)throw console.log(a.message),new Error(a.message);return{data:o,count:l}},HR=async()=>{const{data:t,error:e}=await he.from("products").select("*, variants(*)").order("created_at",{ascending:!1}).limit(4);if(e)throw console.log(e.message),new Error(e.message);return t},qR=async()=>{const{data:t,error:e}=await he.from("products").select("*, variants(*)").limit(20);if(e)throw console.log(e.message),new Error(e.message);return t.sort(()=>.5-Math.random()).slice(0,4)},WR=async t=>{const{data:e,error:r}=await he.from("products").select("*, variants(*)").eq("slug",t).single();if(r)throw console.log(r.message),new Error(r.message);return e},KR=async t=>{const{data:e,error:r}=await he.from("products").select("*, variants(*)").ilike("name",`%${t}%`);if(r)throw console.log(r.message),new Error(r.message);return e},JR=async t=>{try{const{data:e,error:r}=await he.from("products").insert({name:t.name,brand:t.brand,slug:t.slug,description:t.description,images:[]}).select().single();if(r)throw new Error(r.message);const n=e.id,s=await Promise.all(t.images.map(async l=>{const{data:c,error:u}=await he.storage.from("product-images").upload(`${n}/${e.id}-${l.name}`,l);if(u)throw new Error(u.message);return`${he.storage.from("product-images").getPublicUrl(c.path).data.publicUrl}`})),{error:i}=await he.from("products").update({images:s}).eq("id",e.id);if(i)throw new Error(i.message);const o=t.variants.map(l=>({product_id:e.id,stock:l.stock,price:l.price,type:l.type,target:l.target,kg:l.kg})),{error:a}=await he.from("variants").insert(o);if(a)throw new Error(a.message);return e}catch(e){throw console.log(e),new Error("Error inesperado, Vuelva a intentarlo")}},ZR=async t=>{const{error:e}=await he.from("variants").delete().eq("product_id",t);if(e)throw new Error(e.message);const{data:r,error:n}=await he.from("products").select("images").eq("id",t).single();if(n)throw new Error(n.message);const{error:s}=await he.from("products").delete().eq("id",t);if(s)throw new Error(s.message);if(r.images.length>0){const i=t,o=r.images.map(l=>{const c=l.split("/").pop();return`${i}/${c}`}),{error:a}=await he.storage.from("product-images").remove(o);if(a)throw new Error(a.message)}return!0},QR=async(t,e)=>{const{data:r,error:n}=await he.from("products").select("images").eq("id",t).single();if(n)throw new Error(n.message);const s=r.images||[],{data:i,error:o}=await he.from("products").update({name:e.name,brand:e.brand,slug:e.slug,description:e.description}).eq("id",t).select().single();if(o)throw new Error(o.message);const a=t,l=e.images.filter(y=>y),u=s.filter(y=>!l.includes(y)).map(IA);if(u.length>0){const{error:y}=await he.storage.from("product-images").remove(u);if(y)throw console.log(y),new Error(y.message);console.log(`Imagenes eliminadas: ${u.join(", ")}`)}const f=await Promise.all(l.map(async y=>{if(y instanceof File){const{data:b,error:S}=await he.storage.from("product-images").upload(`${a}/${t}-${y.name}`,y);if(S)throw new Error(S.message);return he.storage.from("product-images").getPublicUrl(b.path).data.publicUrl}else{if(typeof y=="string")return y;throw new Error("Tipo de imagen no soportado")}})),{error:h}=await he.from("products").update({images:f}).eq("id",t);if(h)throw new Error(h.message);const p=e.variants.filter(y=>y.id),m=e.variants.filter(y=>!y.id);if(p.length>0){const{error:y}=await he.from("variants").upsert(p.map(b=>({id:b.id,product_id:t,stock:b.stock,price:b.price,type:b.type,target:b.target,kg:b.kg})),{onConflict:"id"});if(y)throw new Error(y.message)}let g=[];if(m.length>0){const{data:y,error:b}=await he.from("variants").insert(m.map(S=>({product_id:t,stock:S.stock,price:S.price,type:S.type,target:S.target,kg:S.kg}))).select();if(b)throw new Error(b.message);g=y.map(S=>S.id)}const x=[...p.map(y=>y.id),...g],{error:v}=await he.from("variants").delete().eq("product_id",t).not("id","in",`(${x?x.join(","):0})`);if(v)throw new Error(v.message);return i},GR=async({email:t,password:e,fullName:r,phone:n})=>{var s;try{const{data:i,error:o}=await he.auth.signUp({email:t,password:e});if(o)throw new Error(o.message);const a=(s=i.user)==null?void 0:s.id;if(!a)throw new Error("Error al obtener el id del usuario");const{error:l}=await he.auth.signInWithPassword({email:t,password:e});if(l)throw console.log(l),new Error("Email o contrasea incorrectos");const{error:c}=await he.from("user_roles").insert({user_id:a,role:"customer"});if(c)throw console.log(c),new Error("Error al registrar el rol del usuario");const{error:u}=await he.from("customers").insert({user_id:a,full_name:r,phone:n,email:t});if(u)throw console.log(u),new Error("Error al registrar los datos del usuario");return i}catch(i){throw console.log(i),new Error("Error al registrar el usuario")}},YR=async({email:t,password:e})=>{const{data:r,error:n}=await he.auth.signInWithPassword({email:t,password:e});if(n)throw console.log(n),new Error("Email o contrasea incorrectos");return r},ZE=async()=>{const{error:t}=await he.auth.signOut();if(t)throw console.log(t),new Error("Error al cerrar sesin")},QE=async()=>{const{data:t,error:e}=await he.auth.getSession();if(e)throw console.log(e),new Error("Error al obtener la sesin");return t},XR=async t=>{const{data:e,error:r}=await he.from("customers").select("*").eq("user_id",t).single();if(r)throw console.log(r),new Error("Error al obtener los datos del usuario");return e},GE=async t=>{const{data:e,error:r}=await he.from("user_roles").select("role").eq("user_id",t).single();if(r)throw console.log(r),new Error("Error al obtener el rol del usuario");return e.role},e3=async t=>{const{data:e,error:r}=await he.auth.getUser();if(r)throw console.log(r),new Error(r.message);const n=e.user.id,{data:s,error:i}=await he.from("customers").select("id").eq("user_id",n).single();if(i)throw console.log(i),new Error(i.message);const o=s.id;for(const p of t.cartItems){const{data:m,error:g}=await he.from("variants").select("stock").eq("id",p.variantId).single();if(g)throw console.log(g),new Error(g.message);if(m.stock<p.quantity)throw new Error("No hay stock suficiente los artculos seleccionados")}const{data:a,error:l}=await he.from("addresses").insert({address_line1:t.address.addressLine1,address_line2:t.address.addressLine2,city:t.address.city,state:t.address.state,postal_code:t.address.postalCode,customer_id:o}).select().single();if(l)throw console.log(l),new Error(l.message);const{data:c,error:u}=await he.from("orders").insert({customer_id:o,address_id:a.id,total_amount:t.totalAmount,status:"Pending"}).select().single();if(u)throw console.log(u),new Error(u.message);const f=t.cartItems.map(p=>({order_id:c.id,variant_id:p.variantId,quantity:p.quantity,price:p.price})),{error:h}=await he.from("order_items").insert(f);if(h)throw console.log(h),new Error(h.message);for(const p of t.cartItems){const{data:m}=await he.from("variants").select("stock").eq("id",p.variantId).single();if(!m)throw new Error("No se encontr la variante");const g=m.stock-p.quantity,{error:x}=await he.from("variants").update({stock:g}).eq("id",p.variantId);if(x)throw console.log(x),new Error("No se pudo actualizar el stock de la variante")}return c},t3=async()=>{const{data:t,error:e}=await he.auth.getUser();if(e)throw console.log(e),new Error(e.message);const{data:r,error:n}=await he.from("customers").select("id").eq("user_id",t.user.id).single();if(n)throw console.log(n),new Error(n.message);const s=r.id,{data:i,error:o}=await he.from("orders").select("id, total_amount, status, created_at").eq("customer_id",s).order("created_at",{ascending:!1});if(o)throw console.log(o),new Error(o.message);return i},YE=async t=>{var l,c,u,f,h,p,m;const{data:e,error:r}=await he.auth.getUser();if(r)throw console.log(r),new Error(r.message);const{data:n,error:s}=await he.from("customers").select("id").eq("user_id",e.user.id).single();if(s)throw console.log(s),new Error(s.message);const i=n.id,{data:o,error:a}=await he.from("orders").select("*, addresses(*), customers(full_name, email), order_items(quantity, price, variants(target, type, kg, products(name, images)))").eq("customer_id",i).eq("id",t).single();if(a)throw console.log(a),new Error(a.message);return{customer:{email:(l=o==null?void 0:o.customers)==null?void 0:l.email,full_name:(c=o.customers)==null?void 0:c.full_name},totalAmount:o.total_amount,status:o.status,created_at:o.created_at,address:{addressLine1:(u=o.addresses)==null?void 0:u.address_line1,addressLine2:(f=o.addresses)==null?void 0:f.address_line2,city:(h=o.addresses)==null?void 0:h.city,state:(p=o.addresses)==null?void 0:p.state,postalCode:(m=o.addresses)==null?void 0:m.postal_code},orderItems:o.order_items.map(g=>{var x,v,y,b,S,O,N;return{quantity:g.quantity,price:g.price,target:(x=g.variants)==null?void 0:x.target,type:(v=g.variants)==null?void 0:v.type,kg:(y=g.variants)==null?void 0:y.kg,productName:(S=(b=g.variants)==null?void 0:b.products)==null?void 0:S.name,productImage:(N=(O=g.variants)==null?void 0:O.products)==null?void 0:N.images[0]}})}},r3=async()=>{const{data:t,error:e}=await he.from("orders").select("id, total_amount, status, created_at, customers(full_name, email)").order("created_at",{ascending:!1});if(e)throw console.log(e),new Error(e.message);return t},n3=async({id:t,status:e})=>{const{error:r}=await he.from("orders").update({status:e}).eq("id",t);if(r)throw console.log(r),new Error(r.message)},s3={createDocument:function(e){return new DOMParser().parseFromString(e.trim(),"text/xml")}};var $r=Uint8Array,fo=Uint16Array,XE=Uint32Array,eC=new $r([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),tC=new $r([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),i3=new $r([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),rC=function(t,e){for(var r=new fo(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var s=new XE(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return[r,s]},nC=rC(eC,2),sC=nC[0],o3=nC[1];sC[28]=258,o3[258]=28;var a3=rC(tC,0),l3=a3[0],_y=new fo(32768);for(var et=0;et<32768;++et){var Ws=(et&43690)>>>1|(et&21845)<<1;Ws=(Ws&52428)>>>2|(Ws&13107)<<2,Ws=(Ws&61680)>>>4|(Ws&3855)<<4,_y[et]=((Ws&65280)>>>8|(Ws&255)<<8)>>>1}var Ic=function(t,e,r){for(var n=t.length,s=0,i=new fo(e);s<n;++s)t[s]&&++i[t[s]-1];var o=new fo(e);for(s=0;s<e;++s)o[s]=o[s-1]+i[s-1]<<1;var a;if(r){a=new fo(1<<e);var l=15-e;for(s=0;s<n;++s)if(t[s])for(var c=s<<4|t[s],u=e-t[s],f=o[t[s]-1]++<<u,h=f|(1<<u)-1;f<=h;++f)a[_y[f]>>>l]=c}else for(a=new fo(n),s=0;s<n;++s)t[s]&&(a[s]=_y[o[t[s]-1]++]>>>15-t[s]);return a},Xu=new $r(288);for(var et=0;et<144;++et)Xu[et]=8;for(var et=144;et<256;++et)Xu[et]=9;for(var et=256;et<280;++et)Xu[et]=7;for(var et=280;et<288;++et)Xu[et]=8;var iC=new $r(32);for(var et=0;et<32;++et)iC[et]=5;var c3=Ic(Xu,9,1),u3=Ic(iC,5,1),pm=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},vn=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},mm=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},d3=function(t){return(t+7)/8|0},Ev=function(t,e,r){(e==null||e<0)&&(e=0),(r==null||r>t.length)&&(r=t.length);var n=new(t.BYTES_PER_ELEMENT==2?fo:t.BYTES_PER_ELEMENT==4?XE:$r)(r-e);return n.set(t.subarray(e,r)),n},f3=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Cn=function(t,e,r){var n=new Error(e||f3[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,Cn),!r)throw n;return n},h3=function(t,e,r){var n=t.length;if(!n||r&&r.f&&!r.l)return e||new $r(0);var s=!e||r,i=!r||r.i;r||(r={}),e||(e=new $r(n*3));var o=function(ut){var At=e.length;if(ut>At){var Yr=new $r(Math.max(At*2,ut));Yr.set(e),e=Yr}},a=r.f||0,l=r.p||0,c=r.b||0,u=r.l,f=r.d,h=r.m,p=r.n,m=n*8;do{if(!u){a=vn(t,l,1);var g=vn(t,l+1,3);if(l+=3,g)if(g==1)u=c3,f=u3,h=9,p=5;else if(g==2){var b=vn(t,l,31)+257,S=vn(t,l+10,15)+4,O=b+vn(t,l+5,31)+1;l+=14;for(var N=new $r(O),T=new $r(19),w=0;w<S;++w)T[i3[w]]=vn(t,l+w*3,7);l+=S*3;for(var M=pm(T),P=(1<<M)-1,R=Ic(T,M,1),w=0;w<O;){var L=R[vn(t,l,P)];l+=L&15;var x=L>>>4;if(x<16)N[w++]=x;else{var q=0,te=0;for(x==16?(te=3+vn(t,l,3),l+=2,q=N[w-1]):x==17?(te=3+vn(t,l,7),l+=3):x==18&&(te=11+vn(t,l,127),l+=7);te--;)N[w++]=q}}var de=N.subarray(0,b),ge=N.subarray(b);h=pm(de),p=pm(ge),u=Ic(de,h,1),f=Ic(ge,p,1)}else Cn(1);else{var x=d3(l)+4,v=t[x-4]|t[x-3]<<8,y=x+v;if(y>n){i&&Cn(0);break}s&&o(c+v),e.set(t.subarray(x,y),c),r.b=c+=v,r.p=l=y*8,r.f=a;continue}if(l>m){i&&Cn(0);break}}s&&o(c+131072);for(var Me=(1<<h)-1,B=(1<<p)-1,K=l;;K=l){var q=u[mm(t,l)&Me],ie=q>>>4;if(l+=q&15,l>m){i&&Cn(0);break}if(q||Cn(2),ie<256)e[c++]=ie;else if(ie==256){K=l,u=null;break}else{var Te=ie-254;if(ie>264){var w=ie-257,Ne=eC[w];Te=vn(t,l,(1<<Ne)-1)+sC[w],l+=Ne}var xt=f[mm(t,l)&B],St=xt>>>4;xt||Cn(3),l+=xt&15;var ge=l3[St];if(St>3){var Ne=tC[St];ge+=mm(t,l)&(1<<Ne)-1,l+=Ne}if(l>m){i&&Cn(0);break}s&&o(c+131072);for(var cr=c+Te;c<cr;c+=4)e[c]=e[c-ge],e[c+1]=e[c+1-ge],e[c+2]=e[c+2-ge],e[c+3]=e[c+3-ge];c=cr}}r.l=u,r.p=K,r.b=c,r.f=a,u&&(a=1,r.m=h,r.d=f,r.n=p)}while(!a);return c==e.length?e:Ev(e,0,c)},p3=new $r(0),Gn=function(t,e){return t[e]|t[e+1]<<8},On=function(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0},gm=function(t,e){return On(t,e)+On(t,e+4)*4294967296};function m3(t,e){return h3(t,e)}var Ey=typeof TextDecoder<"u"&&new TextDecoder,g3=0;try{Ey.decode(p3,{stream:!0}),g3=1}catch{}var y3=function(t){for(var e="",r=0;;){var n=t[r++],s=(n>127)+(n>223)+(n>239);if(r+s>t.length)return[e,Ev(t,r-1)];s?s==3?(n=((n&15)<<18|(t[r++]&63)<<12|(t[r++]&63)<<6|t[r++]&63)-65536,e+=String.fromCharCode(55296|n>>10,56320|n&1023)):s&1?e+=String.fromCharCode((n&31)<<6|t[r++]&63):e+=String.fromCharCode((n&15)<<12|(t[r++]&63)<<6|t[r++]&63):e+=String.fromCharCode(n)}};function oC(t,e){if(e){for(var r="",n=0;n<t.length;n+=16384)r+=String.fromCharCode.apply(null,t.subarray(n,n+16384));return r}else{if(Ey)return Ey.decode(t);var s=y3(t),i=s[0],o=s[1];return o.length&&Cn(8),i}}var v3=function(t,e){return e+30+Gn(t,e+26)+Gn(t,e+28)},x3=function(t,e,r){var n=Gn(t,e+28),s=oC(t.subarray(e+46,e+46+n),!(Gn(t,e+8)&2048)),i=e+46+n,o=On(t,e+20),a=r&&o==4294967295?b3(t,i):[o,On(t,e+24),On(t,e+42)],l=a[0],c=a[1],u=a[2];return[Gn(t,e+10),l,c,s,i+Gn(t,e+30)+Gn(t,e+32),u]},b3=function(t,e){for(;Gn(t,e)!=1;e+=4+Gn(t,e+2));return[gm(t,e+12),gm(t,e+4),gm(t,e+20)]};function w3(t,e){for(var r={},n=t.length-22;On(t,n)!=101010256;--n)(!n||t.length-n>65558)&&Cn(13);var s=Gn(t,n+8);if(!s)return{};var i=On(t,n+16),o=i==4294967295||s==65535;if(o){var a=On(t,n-12);o=On(t,a)==101075792,o&&(s=On(t,a+32),i=On(t,a+48))}for(var l=0;l<s;++l){var c=x3(t,i,o),u=c[0],f=c[1],h=c[2],p=c[3],m=c[4],g=c[5],x=v3(t,g);i=m,u?u==8?r[p]=m3(t.subarray(x,x+f),new $r(h)):Cn(14,"unknown compression type "+u):r[p]=Ev(t,x,x+f)}return r}function S3(t){return t instanceof File||t instanceof Blob?t.arrayBuffer().then(ym):ym(t)}function ym(t){var e=new Uint8Array(t),r=w3(e);return Promise.resolve(k3(r))}function k3(t){for(var e=[],r=0,n=Object.keys(t);r<n.length;r++){var s=n[r];e[s]=oC(t[s])}return e}function ns(t,e){for(var r=0;r<t.childNodes.length;){var n=t.childNodes[r];if(n.nodeType===1&&Vo(n)===e)return n;r++}}function ed(t,e){for(var r=[],n=0;n<t.childNodes.length;){var s=t.childNodes[n];s.nodeType===1&&Vo(s)===e&&r.push(s),n++}return r}function lh(t,e,r){for(var n=0;n<t.childNodes.length;){var s=t.childNodes[n];e?s.nodeType===1&&Vo(s)===e&&r(s,n):r(s,n),n++}}function _3(t,e,r){var n=[];return lh(t,e,function(s,i){n.push(r(s,i))}),n}var E3=/.+\:/;function Vo(t){return t.tagName.replace(E3,"")}function aC(t){if(t.nodeType!==1)return t.textContent;for(var e="<"+Vo(t),r=0;r<t.attributes.length;)e+=" "+t.attributes[r].name+'="'+t.attributes[r].value+'"',r++;e+=">";for(var n=0;n<t.childNodes.length;)e+=aC(t.childNodes[n]),n++;return e+="</"+Vo(t)+">",e}function C3(t){var e=t.documentElement,r=ns(e,"sheetData"),n=[];return lh(r,"row",function(s){lh(s,"c",function(i){n.push(i)})}),n}function N3(t,e){return ns(e,"v")}function j3(t,e){if(e.firstChild&&Vo(e.firstChild)==="is"&&e.firstChild.firstChild&&Vo(e.firstChild.firstChild)==="t")return e.firstChild.firstChild.textContent}function O3(t){var e=t.documentElement,r=ns(e,"dimension");if(r)return r.getAttribute("ref")}function T3(t){var e=t.documentElement,r=ns(e,"cellStyleXfs");return r?ed(r,"xf"):[]}function P3(t){var e=t.documentElement,r=ns(e,"cellXfs");return r?ed(r,"xf"):[]}function M3(t){var e=t.documentElement,r=ns(e,"numFmts");return r?ed(r,"numFmt"):[]}function A3(t){var e=t.documentElement;return _3(e,"si",function(r){var n=ns(r,"t");if(n)return n.textContent;var s="";return lh(r,"r",function(i){s+=ns(i,"t").textContent}),s})}function I3(t){var e=t.documentElement;return ns(e,"workbookPr")}function R3(t){var e=t.documentElement;return ed(e,"Relationship")}function D3(t){var e=t.documentElement,r=ns(e,"sheets");return ed(r,"sheet")}function L3(t,e){var r=e.createDocument(t),n={},s=I3(r);s&&s.getAttribute("date1904")==="1"&&(n.epoch1904=!0),n.sheets=[];var i=function(a){a.getAttribute("name")&&n.sheets.push({id:a.getAttribute("sheetId"),name:a.getAttribute("name"),relationId:a.getAttribute("r:id")})};return D3(r).forEach(i),n}function F3(t,e){var r=e.createDocument(t),n={sheets:{},sharedStrings:void 0,styles:void 0},s=function(o){var a=o.getAttribute("Target"),l=o.getAttribute("Type");switch(l){case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles":n.styles=vm(a);break;case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings":n.sharedStrings=vm(a);break;case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet":n.sheets[o.getAttribute("Id")]=vm(a);break}};return R3(r).forEach(s),n}function vm(t){return t[0]==="/"?t.slice(1):"xl/"+t}function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}function ub(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function db(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ub(Object(r),!0).forEach(function(n){$3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ub(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $3(t,e,r){return e=z3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z3(t){var e=B3(t,"string");return lu(e)==="symbol"?e:String(e)}function B3(t,e){if(lu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(lu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function V3(t,e){if(!t)return{};var r=e.createDocument(t),n=T3(r).map(xm),s=M3(r).map(U3).reduce(function(o,a){return o[a.id]=a,o},[]),i=function(a){return a.hasAttribute("xfId")?db(db({},n[a.xfId]),xm(a,s)):xm(a,s)};return P3(r).map(i)}function U3(t){return{id:t.getAttribute("numFmtId"),template:t.getAttribute("formatCode")}}function xm(t,e){var r={};if(t.hasAttribute("numFmtId")){var n=t.getAttribute("numFmtId");e[n]?r.numberFormat=e[n]:r.numberFormat={id:n}}return r}function H3(t,e){return t?A3(e.createDocument(t)):[]}function lC(t,e){e&&e.epoch1904&&(t+=1462);var r=70*365+19,n=60*60*1e3;return new Date(Math.round((t-r)*24*n))}function q3(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=W3(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W3(t,e){if(t){if(typeof t=="string")return fb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fb(t,e)}}function fb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function K3(t,e,r){if(t){var n=e[t];if(!n)throw new Error("Cell style not found: ".concat(t));if(!n.numberFormat)return!1;if(J3.indexOf(Number(n.numberFormat.id))>=0||r.dateFormat&&n.numberFormat.template===r.dateFormat||r.smartDateParser!==!1&&n.numberFormat.template&&G3(n.numberFormat.template))return!0}}var J3=[14,15,16,17,18,19,20,21,22,27,30,36,45,46,47,50,57],Z3=/^\[\$-414\]/,Q3=/;@$/;function G3(t){t=t.toLowerCase(),t=t.replace(Z3,""),t=t.replace(Q3,"");for(var e=t.split(/\W+/),r=q3(e),n;!(n=r()).done;){var s=n.value;if(Y3.indexOf(s)<0)return!1}return!0}var Y3=["ss","mm","h","hh","am","pm","d","dd","m","mm","mmm","mmmm","yy","yyyy","e"];function X3(t,e,r){var n=r.getInlineStringValue,s=r.getInlineStringXml,i=r.getStyleId,o=r.styles,a=r.values,l=r.properties,c=r.options;switch(e||(e="n"),e){case"str":t=bm(t,c);break;case"inlineStr":if(t=n(),t===void 0)throw new Error('Unsupported "inline string" cell value structure: '.concat(s()));t=bm(t,c);break;case"s":var u=Number(t);if(isNaN(u))throw new Error('Invalid "shared" string index: '.concat(t));if(u>=a.length)throw new Error('An out-of-bounds "shared" string index: '.concat(t));t=a[u],t=bm(t,c);break;case"b":if(t==="1")t=!0;else if(t==="0")t=!1;else throw new Error('Unsupported "boolean" cell value: '.concat(t));break;case"z":t=void 0;break;case"e":t=e4(t);break;case"d":if(t===void 0)break;var f=new Date(t);if(isNaN(f.valueOf()))throw new Error('Unsupported "date" cell value: '.concat(t));t=f;break;case"n":if(t===void 0)break;var h=K3(i(),o,c);h?(t=hb(t),t=lC(t,l)):t=(c.parseNumber||hb)(t);break;default:throw new TypeError("Cell type not supported: ".concat(e))}return t===void 0&&(t=null),t}function e4(t){switch(t){case 0:return"#NULL!";case 7:return"#DIV/0!";case 15:return"#VALUE!";case 23:return"#REF!";case 29:return"#NAME?";case 36:return"#NUM!";case 42:return"#N/A";case 43:return"#GETTING_DATA";default:return"#ERROR_".concat(t)}}function bm(t,e){return e.trim!==!1&&(t=t.trim()),t===""&&(t=void 0),t}function hb(t){var e=Number(t);if(isNaN(e))throw new Error('Invalid "numeric" cell value: '.concat(t));return e}var t4=["","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];function r4(t){var e=function(c,u){return c-u},r=t.map(function(l){return l.row}).sort(e),n=t.map(function(l){return l.column}).sort(e),s=r[0],i=r[r.length-1],o=n[0],a=n[n.length-1];return[{row:s,column:o},{row:i,column:a}]}function n4(t){for(var e=0,r=0;r<t.length;)e*=26,e+=t4.indexOf(t[r]),r++;return e}function cC(t){return t=t.split(/(\d+)/),[parseInt(t[1]),n4(t[0].trim())]}function s4(t,e,r,n,s,i,o){var a=cC(t.getAttribute("r")),l=N3(e,t),c=l&&l.textContent,u;return t.hasAttribute("t")&&(u=t.getAttribute("t")),{row:a[0],column:a[1],value:X3(c,u,{getInlineStringValue:function(){return j3(e,t)},getInlineStringXml:function(){return aC(t)},getStyleId:function(){return t.getAttribute("s")},styles:s,values:n,properties:i,options:o})}}function i4(t,e,r,n,s,i){var o=C3(t);return o.length===0?[]:o.map(function(a){return s4(a,t,e,r,n,s,i)})}function o4(t,e){return u4(t)||c4(t,e)||l4(t,e)||a4()}function a4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l4(t,e){if(t){if(typeof t=="string")return pb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pb(t,e)}}function pb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c4(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,a=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,s=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw s}}return a}}function u4(t){if(Array.isArray(t))return t}function d4(t){var e=O3(t);if(e)return e=e.split(":").map(cC).map(function(r){var n=o4(r,2),s=n[0],i=n[1];return{row:s,column:i}}),e.length===1&&(e=[e[0],e[0]]),e}function f4(t,e,r,n,s,i){var o=e.createDocument(t),a=i4(o,e,r,n,s,i),l=d4(o)||r4(a);return{cells:a,dimensions:l}}function h4(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=p4(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p4(t,e){if(t){if(typeof t=="string")return mb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mb(t,e)}}function mb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function m4(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.rowIndexMap,n=e.accessor,s=n===void 0?function(f){return f}:n,i=e.onlyTrimAtTheEnd,o=t.length-1;o>=0;){for(var a=!0,l=h4(t[o]),c;!(c=l()).done;){var u=c.value;if(s(u)!==null){a=!1;break}}if(a)t.splice(o,1),r&&r.splice(o,1);else if(i)break;o--}return t}function g4(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=y4(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y4(t,e){if(t){if(typeof t=="string")return gb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gb(t,e)}}function gb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function v4(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.accessor,n=r===void 0?function(f){return f}:r,s=e.onlyTrimAtTheEnd,i=t[0].length-1;i>=0;){for(var o=!0,a=g4(t),l;!(l=a()).done;){var c=l.value;if(n(c[i])!==null){o=!1;break}}if(o)for(var u=0;u<t.length;)t[u].splice(i,1),u++;else if(s)break;i--}return t}function x4(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=uC(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b4(t,e){return k4(t)||S4(t,e)||uC(t,e)||w4()}function w4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uC(t,e){if(t){if(typeof t=="string")return yb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yb(t,e)}}function yb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function S4(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,a=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,s=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw s}}return a}}function k4(t){if(Array.isArray(t))return t}function _4(t,e){var r=t.dimensions,n=t.cells;if(n.length===0)return[];var s=b4(r,2);s[0];for(var i=s[1],o=i.column,a=i.row,l=new Array(a),c=0;c<a;){l[c]=new Array(o);for(var u=0;u<o;)l[c][u]=null,u++;c++}for(var f=x4(n),h;!(h=f()).done;){var p=h.value,m=p.row-1,g=p.column-1;g<o&&m<a&&(l[m][g]=p.value)}var x=e.rowMap;if(x)for(var v=0;v<l.length;)x[v]=v,v++;return l=m4(v4(l,{onlyTrimAtTheEnd:!0}),{onlyTrimAtTheEnd:!0,rowIndexMap:x}),e.transformData&&(l=e.transformData(l)),l}function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}function E4(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=C4(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C4(t,e){if(t){if(typeof t=="string")return vb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vb(t,e)}}function vb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function bb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xb(Object(r),!0).forEach(function(n){N4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function N4(t,e,r){return e=j4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j4(t){var e=O4(t,"string");return cu(e)==="symbol"?e:String(e)}function O4(t,e){if(cu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(cu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T4(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};r.sheet||(r=bb({sheet:1},r));var n=function(h){if(!t[h])throw new Error('"'.concat(h,'" file not found inside the *.xlsx file zip archive'));return t[h]},s=F3(n("xl/_rels/workbook.xml.rels"),e),i=s.sharedStrings?H3(n(s.sharedStrings),e):[],o=s.styles?V3(n(s.styles),e):{},a=L3(n("xl/workbook.xml"),e);if(r.getSheets)return a.sheets.map(function(f){var h=f.name;return{name:h}});var l=P4(r.sheet,a.sheets);if(!l||!s.sheets[l])throw M4(r.sheet,a.sheets);var c=f4(n(s.sheets[l]),e,i,o,a,r);r=bb({rowMap:[]},r);var u=_4(c,r);return r.properties?{data:u,properties:a}:u}function P4(t,e){if(typeof t=="number"){var r=e[t-1];return r&&r.relationId}for(var n=E4(e),s;!(s=n()).done;){var i=s.value;if(i.name===t)return i.relationId}}function M4(t,e){var r=e&&e.map(function(n,s){return'"'.concat(n.name,'" (#').concat(s+1,")")}).join(", ");return new Error("Sheet ".concat(typeof t=="number"?"#"+t:'"'+t+'"'," not found in the *.xlsx file.").concat(e?" Available sheets: "+r+".":""))}function Cy(t){"@babel/helpers - typeof";return Cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cy(t)}function A4(t,e,r){return Object.defineProperty(t,"prototype",{writable:!1}),t}function I4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R4(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uu(t,e)}function D4(t){var e=dC();return function(){var n=du(t),s;if(e){var i=du(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return L4(this,s)}}function L4(t,e){if(e&&(Cy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F4(t)}function F4(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ny(t){var e=typeof Map=="function"?new Map:void 0;return Ny=function(n){if(n===null||!$4(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,s)}function s(){return vf(n,arguments,du(this).constructor)}return s.prototype=Object.create(n.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),uu(s,n)},Ny(t)}function vf(t,e,r){return dC()?vf=Reflect.construct.bind():vf=function(s,i,o){var a=[null];a.push.apply(a,i);var l=Function.bind.apply(s,a),c=new l;return o&&uu(c,o.prototype),c},vf.apply(null,arguments)}function dC(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $4(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function uu(t,e){return uu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},uu(t,e)}function du(t){return du=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},du(t)}var zr=function(t){R4(r,t);var e=D4(r);function r(n){var s;return I4(this,r),s=e.call(this,"invalid"),s.reason=n,s}return A4(r)}(Ny(Error));function z4(t){if(typeof t=="string"){var e=t;if(t=Number(t),String(t)!==e)throw new zr("not_a_number")}if(typeof t!="number")throw new zr("not_a_number");if(isNaN(t))throw new zr("invalid_number");if(!isFinite(t))throw new zr("out_of_bounds");return t}function B4(t){if(typeof t=="string")return t;if(typeof t=="number"){if(isNaN(t))throw new zr("invalid_number");if(!isFinite(t))throw new zr("out_of_bounds");return String(t)}throw new zr("not_a_string")}function V4(t){if(typeof t=="boolean")return t;throw new zr("not_a_boolean")}function U4(t,e){var r=e.properties;if(t instanceof Date){if(isNaN(t.valueOf()))throw new zr("out_of_bounds");return t}if(typeof t=="number"){if(isNaN(t))throw new zr("invalid_number");if(!isFinite(t))throw new zr("out_of_bounds");var n=lC(t,r);if(isNaN(n.valueOf()))throw new zr("out_of_bounds");return n}throw new zr("not_a_date")}function H4(t,e){return K4(t)||W4(t,e)||fC(t,e)||q4()}function q4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W4(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,a=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,s=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw s}}return a}}function K4(t){if(Array.isArray(t))return t}function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}function J4(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=fC(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fC(t,e){if(t){if(typeof t=="string")return wb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wb(t,e)}}function wb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Sb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function kb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Sb(Object(r),!0).forEach(function(n){Z4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Sb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Z4(t,e,r){return e=Q4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q4(t){var e=G4(t,"string");return Sl(e)==="symbol"?e:String(e)}function G4(t,e){if(Sl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Sl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _b={schemaPropertyValueForMissingColumn:void 0,schemaPropertyValueForUndefinedCellValue:void 0,schemaPropertyValueForNullCellValue:null,schemaPropertyShouldSkipRequiredValidationForMissingColumn:function(){return!1},getEmptyObjectValue:function(){return null},getEmptyArrayValue:function(){return null},isColumnOriented:!1,arrayValueSeparator:","};function Y4(t,e,r){r?r=kb(kb({},_b),r):r=_b;var n=r,s=n.isColumnOriented,i=n.rowIndexMap;rD(e),s&&(t=tD(t));for(var o=t[0],a=[],l=[],c=1;c<t.length;c++){var u=hC(e,t[c],c,void 0,o,l,r);a.push(u)}if(i)for(var f=J4(l),h;!(h=f()).done;){var p=h.value;p.row=i[p.row-1]+1}return{rows:a,errors:l}}function hC(t,e,r,n,s,i,o){for(var a={},l=!0,c=function(w){var M=w.column,P=w.value,R=w.error,L=w.reason,q={error:R,row:r+1,column:M,value:P};return L&&(q.reason=L),t[M].type&&(q.type=t[M].type),q},u=[],f=function(){var w=p[h],M=t[w],P=Sl(M.type)==="object"&&!Array.isArray(M.type),R="".concat(n||"",".").concat(M.prop),L,q=s.indexOf(w),te=q<0;te||(L=e[q]);var de,ge,Me;if(P)de=hC(M.type,e,r,R,s,i,o);else if(te)de=o.schemaPropertyValueForMissingColumn;else if(L===void 0)de=o.schemaPropertyValueForUndefinedCellValue;else if(L===null)de=o.schemaPropertyValueForNullCellValue;else if(Array.isArray(M.type)){var B=eD(L,o.arrayValueSeparator).map(function(Te){if(!ge){var Ne=Eb(Te,M,o);return Ne.error&&(de=Te,ge=Ne.error,Me=Ne.reason),Ne.value}});if(!ge){var K=B.every(wm);de=K?o.getEmptyArrayValue(B,{path:R}):B}}else{var ie=Eb(L,M,o);ge=ie.error,Me=ie.reason,de=ge?L:ie.value}!ge&&wm(de)&&M.required&&u.push({column:w,value:de,isMissingColumn:te}),ge?i.push(c({column:w,value:de,error:ge,reason:Me})):(l&&!wm(de)&&(l=!1),de!==void 0&&(a[M.prop]=de))},h=0,p=Object.keys(t);h<p.length;h++)f();if(l)return o.getEmptyObjectValue(a,{path:n});for(var m=0,g=u;m<g.length;m++){var x=g[m],v=x.column,y=x.value,b=x.isMissingColumn,S=b&&o.schemaPropertyShouldSkipRequiredValidationForMissingColumn(v,{object:a});if(!S){var O=t[v].required,N=typeof O=="boolean"?O:O(a);N&&i.push(c({column:v,value:y,error:"required"}))}}return a}function Eb(t,e,r){if(t===null)return{value:null};var n;if(e.parse?n=ha(t,e.parse):e.type?n=X4(t,Array.isArray(e.type)?e.type[0]:e.type,r):n={value:t},n.error)return n;if(n.value!==null){if(e.oneOf&&e.oneOf.indexOf(n.value)<0)return{error:"invalid",reason:"unknown"};if(e.validate)try{e.validate(n.value)}catch(s){return{error:s.message}}}return n}function ha(t,e){try{var r=e(t);return r===void 0?{value:null}:{value:r}}catch(s){var n={error:s.message};return s.reason&&(n.reason=s.reason),n}}function X4(t,e,r){switch(e){case String:return ha(t,B4);case Number:return ha(t,z4);case Date:return ha(t,function(n){return U4(n,{properties:r.properties})});case Boolean:return ha(t,V4);default:if(typeof e=="function")return ha(t,e);throw new Error("Unsupported schema type: ".concat(e&&e.name||e))}}function pC(t,e,r){for(var n=0,s="";r+n<t.length;){var i=t[r+n];if(i===e)return[s,n];if(i==='"'){var o=pC(t,'"',r+n+1);s+=o[0],n+=1+o[1]+1}else s+=i,n++}return[s,n]}function eD(t,e){for(var r=[],n=0;n<t.length;){var s=pC(t,e,n),i=H4(s,2),o=i[0],a=i[1];n+=a+e.length,r.push(o.trim())}return r}var tD=function(e){return e[0].map(function(r,n){return e.map(function(s){return s[n]})})};function rD(t){for(var e=0,r=Object.keys(t);e<r.length;e++){var n=r[e],s=t[n];if(!s.prop)throw new Error('"prop" not defined for schema entry "'.concat(n,'".'))}}function wm(t){return t==null}function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}function Cb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Nb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Cb(Object(r),!0).forEach(function(n){nD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Cb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nD(t,e,r){return e=sD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sD(t){var e=iD(t,"string");return fu(e)==="symbol"?e:String(e)}function iD(t,e){if(fu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(fu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oD(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=r.includeNullValues,s=r.ignoreEmptyRows,i=r.isColumnOriented,o=r.rowMap,a={schemaPropertyValueForMissingColumn:void 0,schemaPropertyValueForUndefinedCellValue:void 0,schemaPropertyValueForNullCellValue:void 0,schemaPropertyShouldSkipRequiredValidationForMissingColumn:function(u,f){return f.path,!1},getEmptyObjectValue:function(u,f){var h=f.path;return h?void 0:null},getEmptyArrayValue:function(){return null},arrayValueSeparator:","};n&&(a.schemaPropertyValueForMissingColumn=null,a.schemaPropertyValueForUndefinedCellValue=null,a.schemaPropertyValueForNullCellValue=null,a.getEmptyObjectValue=function(c,u){return u.path,null});var l=Y4(t,e,Nb(Nb({},a),{},{rowIndexMap:o,isColumnOriented:i}));return s!==!1&&(l.rows=l.rows.filter(function(c){return c!==a.getEmptyObjectValue(c,{path:void 0})})),l}function hu(t){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(t)}var aD=["schemaPropertyValueForEmptyCell"];function jb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ob(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jb(Object(r),!0).forEach(function(n){lD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lD(t,e,r){return e=cD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cD(t){var e=uD(t,"string");return hu(e)==="symbol"?e:String(e)}function uD(t,e){if(hu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(hu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dD(t,e){if(t==null)return{};var r=fD(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fD(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function hD(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n.schemaPropertyValueForEmptyCell,i=dD(n,aD);return t(e,r,Ob(Ob({},i),{},{schemaPropertyValueForNullCellValue:s}))}function jy(t){"@babel/helpers - typeof";return jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jy(t)}function mC(t){for(var e={},r=0,n=Object.keys(t);r<n.length;r++){var s=n[r],i=t[s],o=void 0;jy(i)==="object"&&(i=Object.keys(t[s])[0],o=mC(t[s][i])),e[s]={prop:i},o&&(e[s].type=o)}return e}function pu(t){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}var pD=["schema","map"];function Tb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Wd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Tb(Object(r),!0).forEach(function(n){mD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mD(t,e,r){return e=gD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gD(t){var e=yD(t,"string");return pu(e)==="symbol"?e:String(e)}function yD(t,e){if(pu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(pu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vD(t,e){if(t==null)return{};var r=xD(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xD(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function bD(t,e,r){var n=r.schema,s=r.map,i=vD(r,pD);!n&&s&&(n=mC(s));var o=T4(t,e,Wd(Wd({},i),{},{properties:n||i.properties}));return n?hD(oD,o.data,n,Wd(Wd({},i),{},{properties:o.properties})):o}function wD(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return S3(t).then(function(r){return bD(r,s3,e)})}let SD={data:""},kD=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||SD,_D=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,ED=/\/\*[^]*?\*\/|  +/g,Pb=/\n+/g,ai=(t,e)=>{let r="",n="",s="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?ai(o,i):i+"{"+ai(o,i[1]=="k"?"":e)+"}":typeof o=="object"?n+=ai(o,e?e.replace(/([^,])+/g,a=>i.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=ai.p?ai.p(i,o):i+":"+o+";")}return r+(e&&s?e+"{"+s+"}":s)+n},ys={},gC=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+gC(t[r]);return e}return t},CD=(t,e,r,n,s)=>{let i=gC(t),o=ys[i]||(ys[i]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(i));if(!ys[o]){let l=i!==t?t:(c=>{let u,f,h=[{}];for(;u=_D.exec(c.replace(ED,""));)u[4]?h.shift():u[3]?(f=u[3].replace(Pb," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][u[1]]=u[2].replace(Pb," ").trim();return h[0]})(t);ys[o]=ai(s?{["@keyframes "+o]:l}:l,r?"":"."+o)}let a=r&&ys.g?ys.g:null;return r&&(ys.g=ys[o]),((l,c,u,f)=>{f?c.data=c.data.replace(f,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(ys[o],e,n,a),o},ND=(t,e,r)=>t.reduce((n,s,i)=>{let o=e[i];if(o&&o.call){let a=o(r),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":ai(a,""):a===!1?"":a}return n+s+(o??"")},"");function cp(t){let e=this||{},r=t.call?t(e.p):t;return CD(r.unshift?r.raw?ND(r,[].slice.call(arguments,1),e.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(e.p):s),{}):r,kD(e.target),e.g,e.o,e.k)}let yC,Oy,Ty;cp.bind({g:1});let Fs=cp.bind({k:1});function jD(t,e,r,n){ai.p=e,yC=t,Oy=r,Ty=n}function Ki(t,e){let r=this||{};return function(){let n=arguments;function s(i,o){let a=Object.assign({},i),l=a.className||s.className;r.p=Object.assign({theme:Oy&&Oy()},a),r.o=/ *go\d+/.test(l),a.className=cp.apply(r,n)+(l?" "+l:"");let c=t;return t[0]&&(c=a.as||t,delete a.as),Ty&&c[0]&&Ty(a),yC(c,a)}return s}}var OD=t=>typeof t=="function",ch=(t,e)=>OD(t)?t(e):t,TD=(()=>{let t=0;return()=>(++t).toString()})(),vC=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),PD=20,xf=new Map,MD=1e3,Mb=t=>{if(xf.has(t))return;let e=setTimeout(()=>{xf.delete(t),ta({type:4,toastId:t})},MD);xf.set(t,e)},AD=t=>{let e=xf.get(t);e&&clearTimeout(e)},Py=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,PD)};case 1:return e.toast.id&&AD(e.toast.id),{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:r}=e;return t.toasts.find(i=>i.id===r.id)?Py(t,{type:1,toast:r}):Py(t,{type:0,toast:r});case 3:let{toastId:n}=e;return n?Mb(n):t.toasts.forEach(i=>{Mb(i.id)}),{...t,toasts:t.toasts.map(i=>i.id===n||n===void 0?{...i,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},bf=[],wf={toasts:[],pausedAt:void 0},ta=t=>{wf=Py(wf,t),bf.forEach(e=>{e(wf)})},ID={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},RD=(t={})=>{let[e,r]=C.useState(wf);C.useEffect(()=>(bf.push(r),()=>{let s=bf.indexOf(r);s>-1&&bf.splice(s,1)}),[e]);let n=e.toasts.map(s=>{var i,o;return{...t,...t[s.type],...s,duration:s.duration||((i=t[s.type])==null?void 0:i.duration)||(t==null?void 0:t.duration)||ID[s.type],style:{...t.style,...(o=t[s.type])==null?void 0:o.style,...s.style}}});return{...e,toasts:n}},DD=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||TD()}),td=t=>(e,r)=>{let n=DD(e,t,r);return ta({type:2,toast:n}),n.id},Ur=(t,e)=>td("blank")(t,e);Ur.error=td("error");Ur.success=td("success");Ur.loading=td("loading");Ur.custom=td("custom");Ur.dismiss=t=>{ta({type:3,toastId:t})};Ur.remove=t=>ta({type:4,toastId:t});Ur.promise=(t,e,r)=>{let n=Ur.loading(e.loading,{...r,...r==null?void 0:r.loading});return t.then(s=>(Ur.success(ch(e.success,s),{id:n,...r,...r==null?void 0:r.success}),s)).catch(s=>{Ur.error(ch(e.error,s),{id:n,...r,...r==null?void 0:r.error})}),t};var LD=(t,e)=>{ta({type:1,toast:{id:t,height:e}})},FD=()=>{ta({type:5,time:Date.now()})},$D=t=>{let{toasts:e,pausedAt:r}=RD(t);C.useEffect(()=>{if(r)return;let i=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(l<0){a.visible&&Ur.dismiss(a.id);return}return setTimeout(()=>Ur.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,r]);let n=C.useCallback(()=>{r&&ta({type:6,time:Date.now()})},[r]),s=C.useCallback((i,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=o||{},u=e.filter(p=>(p.position||c)===(i.position||c)&&p.height),f=u.findIndex(p=>p.id===i.id),h=u.filter((p,m)=>m<f&&p.visible).length;return u.filter(p=>p.visible).slice(...a?[h+1]:[0,h]).reduce((p,m)=>p+(m.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:LD,startPause:FD,endPause:n,calculateOffset:s}}},zD=Fs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,BD=Fs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,VD=Fs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,UD=Ki("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${zD} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${BD} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${VD} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,HD=Fs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,qD=Ki("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${HD} 1s linear infinite;
`,WD=Fs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,KD=Fs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,JD=Ki("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${WD} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${KD} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ZD=Ki("div")`
  position: absolute;
`,QD=Ki("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,GD=Fs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,YD=Ki("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${GD} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,XD=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?C.createElement(YD,null,e):e:r==="blank"?null:C.createElement(QD,null,C.createElement(qD,{...n}),r!=="loading"&&C.createElement(ZD,null,r==="error"?C.createElement(UD,{...n}):C.createElement(JD,{...n})))},e5=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,t5=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,r5="0%{opacity:0;} 100%{opacity:1;}",n5="0%{opacity:1;} 100%{opacity:0;}",s5=Ki("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,i5=Ki("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,o5=(t,e)=>{let r=t.includes("top")?1:-1,[n,s]=vC()?[r5,n5]:[e5(r),t5(r)];return{animation:e?`${Fs(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Fs(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},a5=C.memo(({toast:t,position:e,style:r,children:n})=>{let s=t.height?o5(t.position||e||"top-center",t.visible):{opacity:0},i=C.createElement(XD,{toast:t}),o=C.createElement(i5,{...t.ariaProps},ch(t.message,t));return C.createElement(s5,{className:t.className,style:{...s,...r,...t.style}},typeof n=="function"?n({icon:i,message:o}):C.createElement(C.Fragment,null,i,o))});jD(C.createElement);var l5=({id:t,className:e,style:r,onHeightUpdate:n,children:s})=>{let i=C.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;n(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return C.createElement("div",{ref:i,className:e,style:r},s)},c5=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:vC()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...s}},u5=cp`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Kd=16,d5=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:a,handlers:l}=$D(r);return C.createElement("div",{style:{position:"fixed",zIndex:9999,top:Kd,left:Kd,right:Kd,bottom:Kd,pointerEvents:"none",...i},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let u=c.position||e,f=l.calculateOffset(c,{reverseOrder:t,gutter:n,defaultPosition:e}),h=c5(u,f);return C.createElement(l5,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?u5:"",style:h},c.type==="custom"?ch(c.message,c):s?s(c):C.createElement(a5,{toast:c,position:u}))}))},mn=Ur;const f5=async({e:t})=>{if(!t.target.files||t.target.files.length===0)throw new Error("No file selected.");const e=await wD(t.target.files[0]),r=()=>{const o=["CLIENTE","TELFONO 1","MASCOTA","TIPO DE RECORDATORIO","VACUNA","PRXIMA FECHA"];return e[0][0]!==o[0]||e[0][1]!==o[1]||e[0][2]!==o[2]||e[0][3]!==o[3]||e[0][4]!==o[4]||e[0][5]!==o[5]?(mn.error(`Error: La hoja de Excel no contiene la informacin requerida. (${o})`,{position:"bottom-right"}),[]):e.length<=1?(mn.error("Error: La hoja de Excel no contiene informacin",{position:"bottom-right"}),[]):n(TA(e.slice(1)))},n=o=>(o.forEach(a=>{const l=a.mascotas;let c;if(a.mensaje.push(`Hola ${a.nombre}.`),l.length===1)c="su mascota '"+l[0].nombre+"',"+s(l[0]);else{c="sus mascotas: '";for(let u=0;u<l.length;u++)u===0?c+=l[u].nombre+"',"+s(l[u]):u===l.length-1?c+=" y '"+l[u].nombre+"',"+s(l[u]):c+=", '"+l[u].nombre+"',"+s(l[u])}c+=" el da "+l[0].recordatorios[0].tipos[0].fecha+".",a.mensaje.push(`La clnica veterinaria Baalak', le informa que ${c}`)}),o),s=o=>{let a=" tiene pendiente la aplicacin de ";const l=o.recordatorios;if(l.length===1)a+=l[0].nombre+i(l[0]);else for(let c=0;c<l.length;c++)c===0?a+=l[c].nombre+i(l[c]):c===l.length-1?a+=" y "+l[c].nombre+i(l[c]):a+=", "+l[c].nombre+i(l[c]);return a},i=o=>{let a="";const l=o.tipos;if(l.length===1)a+=" ("+l[0].nombre+")";else for(let c=0;c<l.length;c++)c===0?a+=" ("+l[c].nombre:c===l.length-1?a+=" y "+l[c].nombre+")":a+=", "+l[c].nombre;return a};return r()},h5=({page:t=1})=>{const{data:e,isLoading:r}=fs({queryKey:["products",t],queryFn:()=>VR(t),staleTime:3e5});return{products:e==null?void 0:e.products,isLoading:r,totalProducts:(e==null?void 0:e.count)??0}},p5=({page:t,brands:e})=>{const{data:r,isLoading:n}=fs({queryKey:["filteredProducts",t,e],queryFn:()=>UR({page:t,brands:e}),retry:!1});return{data:r==null?void 0:r.data,isLoading:n,totalProducts:(r==null?void 0:r.count)??0}},m5=()=>{const t=jA({queries:[{queryKey:["recentProducts"],queryFn:HR},{queryKey:["popularProducts"],queryFn:qR}]}),[e,r]=t,n=e.isLoading||r.isLoading,s=e.isError||r.isError;return{recentProducts:e.data||[],popularProducts:r.data||[],isLoading:n,isError:s}},g5=()=>{const t=ds(),e=Ut(),{mutate:r,isPending:n}=Yo({mutationFn:JR,onSuccess:()=>{t.invalidateQueries({queryKey:["products"]}),e("/dashboard/productos")},onError:s=>{mn.error("Ocurri un error al crear el producto"),console.log(s)}});return{mutate:r,isPending:n}},xC=t=>{const{data:e,isLoading:r,isError:n}=fs({queryKey:["product",t],queryFn:()=>WR(t),retry:!1});return{product:e,isError:n,isLoading:r}},y5=()=>{const t=ds(),{mutate:e,isPending:r}=Yo({mutationFn:ZR,onSuccess:()=>{t.invalidateQueries({queryKey:["products"]}),mn.success("Producto eliminado correctamente",{position:"bottom-right"})},onError:n=>{console.log(n),mn.error("Ocurri un error al eliminar el producto",{position:"bottom-right"})}});return{mutate:e,isPending:r}},v5=t=>{const e=ds(),r=Ut(),{mutate:n,isPending:s}=Yo({mutationFn:async i=>QR(t,i),onSuccess:()=>{e.invalidateQueries({queryKey:["products"]}),mn.success("Producto actualizado",{position:"bottom-right"}),r("/dashboard/productos")},onError:i=>{console.log(i),mn.error("Ocurri un error al actualizar el producto",{position:"bottom-right"})}});return{mutate:n,isPending:s}},x5=()=>{const t=Ut(),e=ds(),{mutate:r,isPending:n}=Yo({mutationFn:YR,onSuccess:()=>{e.invalidateQueries({queryKey:["user"]}),t("/")},onError:s=>{mn.error(s.message,{position:"bottom-right"})}});return{mutate:r,isPending:n}},b5=()=>{const t=Ut(),e=ds(),{mutate:r,isPending:n}=Yo({mutationFn:GR,onSuccess:()=>{e.invalidateQueries({queryKey:["user"]}),t("/")},onError:s=>{mn.error(s.message,{position:"bottom-right"})}});return{mutate:r,isPending:n}},ra=()=>{const{data:t,isLoading:e}=fs({queryKey:["user"],queryFn:QE,retry:!1,refetchOnWindowFocus:!0});return{session:t==null?void 0:t.session,isLoading:e}},w5=t=>{const{data:e,isLoading:r}=fs({queryKey:["customer",t],queryFn:()=>XR(t),enabled:!!t,retry:!1,refetchOnWindowFocus:!0});return{data:e,isLoading:r}},S5=t=>{const{data:e,isLoading:r}=fs({queryKey:["rol-user"],queryFn:async()=>await GE(t),enabled:!!t});return{data:e,isLoading:r}},k5=()=>{const t=ds(),e=Ut(),{mutate:r,isPending:n}=Yo({mutationFn:e3,onSuccess:s=>{t.invalidateQueries({queryKey:["orders"]}),e(`/checkout/${s.id}/thank-you`)},onError:s=>{mn.error(s.message,{position:"bottom-right"})}});return{mutate:r,isPending:n}},bC=t=>{const{data:e,isLoading:r,isError:n}=fs({queryKey:["order",t],queryFn:()=>YE(t),enabled:!!t,retry:!1});return{data:e,isLoading:r,isError:n}},_5=()=>{const{data:t,isLoading:e}=fs({queryKey:["orders"],queryFn:t3,retry:!1});return{data:t,isLoading:e}},wC=()=>{const{data:t,isLoading:e}=fs({queryKey:["orders","admin"],queryFn:r3});return{data:t,isLoading:e}},E5=()=>{const t=ds(),{mutate:e,isPending:r}=Yo({mutationFn:n3,onSuccess:()=>{t.invalidateQueries({queryKey:["orders","admin"]})},onError:n=>{console.log(n),mn.error("No se pudo actualizar el estado de la orden",{position:"bottom-right"})}});return{mutate:e,isPending:r}},C5=t=>{const{data:e,isLoading:r}=fs({queryKey:["order","admin",t],queryFn:()=>YE(t),enabled:!!t,retry:!1});return{data:e,isLoading:r}},N5=({e:t})=>({data:f5({e:t})});function Cv(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12a9 9 0 1 1-6.219-8.56"},child:[]}]})(t)}function SC(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12h14"},child:[]}]})(t)}function kC(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12h14"},child:[]},{tag:"path",attr:{d:"M12 5v14"},child:[]}]})(t)}const j5=()=>{const t=Ls(l=>l.openSheet),e=qr(l=>l.totalItemsInCart),r=Ls(l=>l.setActiveNavMobile),{session:n,isLoading:s}=ra(),i=n==null?void 0:n.user.id,{data:o}=w5(i),{data:a}=S5(i);return d.jsxs("header",{className:"bg-white text-black py-4 flex items-center justify-between px-5 border-b border-slate-200 lg:px-12",children:[d.jsx(xM,{}),d.jsx("nav",{className:"space-x-5 hidden md:flex",children:X_.map(l=>d.jsx(dv,{to:l.href,className:({isActive:c})=>`${c?"text-cyan-600 underline":""} transition-all duration-300 font-medium hover:text-cyan-600 hover:underline `,children:l.title},l.id))}),d.jsxs("div",{className:"flex gap-5 items-center",children:[d.jsx("button",{onClick:()=>t("search"),children:d.jsx(eE,{size:25})}),s?d.jsx(Cv,{className:"animate-spin",size:60}):n?d.jsx("div",{className:"relative",children:d.jsx(vt,{to:a==="admin"?"/dashboard":"/account",className:"border-2 border-slate-700 w-9 h-9 rounded-full grid place-items-center text-lg font-bold",children:o&&o.full_name[0]})}):d.jsx(vt,{to:"/login",children:d.jsx(vM,{size:25})}),d.jsxs("button",{className:"relative",onClick:()=>t("cart"),children:[d.jsx("span",{className:"absolute -bottom-2 -right-2 w-5 h-5 grid place-items-center bg-black text-white text-xs rounded-full",children:e}),d.jsx(tE,{size:25})]})]}),d.jsx("button",{className:"md:hidden",onClick:()=>r(!0),children:d.jsx(cM,{size:25})})]})},pa=({children:t,isOpen:e,closeModal:r})=>{const n=s=>s.stopPropagation();return d.jsx("article",{className:`modal ${e&&"is-open"}`,onClick:r,children:d.jsx("div",{className:"modal-container",onClick:n,children:t})})},O5=()=>{const[t,e]=C.useState(!1),r=()=>e(!0),n=()=>e(!1);return d.jsxs("footer",{className:"py-4 bg-gray-950 px-2 flex justify-between gap-8 text-slate-200 text-sm flex-wrap mt-5 md:flex-nowrap",children:[d.jsx(vt,{to:"/",className:"tracking-tighter flex-5",children:d.jsx("img",{src:"/img/Baalak-logo-footer.png",alt:"Baalak"})}),d.jsxs("div",{className:"flex flex-col gap-4 flex-1",children:[d.jsx("p",{className:"font-semibold uppercase tracking-tighter",children:"Horarios de atencin"}),d.jsxs("nav",{className:"flex flex-col gap-2 text-xs font-medium",children:[d.jsx("span",{className:"text-slate-300 hover:text-white",children:"Lun - Vier  8:00 a.m. - 8:00 p.m."}),d.jsx("span",{className:"text-slate-300 hover:text-white",children:"Sab         8:00 a.m. - 5:00 p.m."}),d.jsx("span",{className:"text-slate-300 hover:text-white",children:"Dom/Fest    8:00 a.m. - 4:00 p.m."})]})]}),d.jsxs("div",{className:"flex flex-col gap-4 flex-1",children:[d.jsx("p",{className:"font-semibold uppercase tracking-tighter",children:"Ubicacin"}),d.jsx("nav",{className:"flex flex-col gap-2 text-xs font-medium",children:d.jsxs("div",{className:"flex relative group overflow-hidden items-center gap-6",children:[d.jsx("span",{className:"text-slate-300 hover:text-white",children:"Av. Central #33, Barrio de Santa Ana, 24050, San Francisco de Campeche, Campeche, Mxico."}),d.jsx("button",{className:"bg-white text-black border border-slate-200 absolute w-full bottom-0 py-3 rounded-3xl flex items-center justify-center gap-1 text-sm font-medium hover:bg-stone-100 translate-y-[100%] transition-all duration-300 group-hover:translate-y-0",onClick:r,children:"Ver Ubicacin en el mapa"}),d.jsx(pa,{isOpen:t,closeModal:n,children:d.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3181.4274111452305!2d-90.53723282564627!3d19.83129032782944!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x85f833e7e7ee3b57%3A0x890db96f7ed2ac60!2sBaalak'%20Clinica%20Veterinaria!5e1!3m2!1ses-419!2smx!4v1748715086040!5m2!1ses-419!2smx",width:"100%",height:"100%",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]})})]}),d.jsxs("div",{className:"flex flex-col gap-4 flex-1",children:[d.jsx("p",{className:"font-semibold uppercase tracking-tighter",children:"Contacto"}),d.jsxs("nav",{className:"flex flex-col gap-2 text-xs font-medium",children:[d.jsx("span",{className:"text-slate-300 hover:text-white",children:"baalak.cv@gmail.com"}),d.jsx("span",{className:"text-slate-300 hover:text-white",children:"981 811 7853"}),d.jsx("span",{className:"text-slate-300 hover:text-white",children:"981 206 2582"})]})]}),d.jsxs("div",{className:"flex flex-col gap-4 flex-1",children:[d.jsx("p",{className:"font-semibold uppercase tracking-tighter",children:"Polticas"}),d.jsxs("nav",{className:"flex flex-col gap-2 text-xs font-medium",children:[d.jsx(vt,{to:"/aviso_de_privacidad",className:"text-slate-300 hover:text-white",children:"Polticas de privacidad"}),d.jsx(vt,{to:"/terminos_y_condiciones",className:"text-slate-300 hover:text-white",children:"Trminos y condiciones"})]})]}),d.jsxs("div",{className:"flex flex-col gap-4 flex-1",children:[d.jsx("p",{className:"font-semibold uppercase tracking-tighter",children:"Sguenos en nuestras redes sociales"}),d.jsx("div",{className:"flex",children:Dl.map(s=>d.jsx("a",{href:s.href,target:"_blank",rel:"noreferrer",className:"text-slate-300 border border-gray-8000 w-full h-full py-3.5 flex items-center justify-center transition-all hover:bg-white hover:text-gray-950",children:s.icon},s.id))})]})]})},T5=()=>d.jsxs("div",{className:"relative bg-gray-900 text-white",children:[d.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-70 h-full",style:{backgroundImage:"url(/img/background-banner.png)"}}),d.jsx("div",{className:"absolute inset-0 bg-black opacity-50"}),d.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center py-20 px-4 text-center lg:py-20 lg:px-8",children:[d.jsx("h1",{className:"text-4xl font-bold mb-4 lg:text-6xl",children:"Los mejores productos para el bienestar de tus mascotas"}),d.jsx("p",{className:"text-lg mb-8 lg:text-2xl",children:"Descubre las ofertas exclusivas y las ltimas novedades para el cuidado de tus mascotas"})]})]}),P5=()=>d.jsx("div",{className:"relative bg-gray-500 text-white py-40",children:d.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-70 h-full",style:{backgroundImage:"url(/img/background-newsletter.png)"}})});function M5(t){return De({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M346.5 240H272v-74.5c0-8.8-7.2-16-16-16s-16 7.2-16 16V240h-74.5c-8.8 0-16 6-16 16s7.5 16 16 16H240v74.5c0 9.5 7 16 16 16s16-7.2 16-16V272h74.5c8.8 0 16-7.2 16-16s-7.2-16-16-16z"},child:[]},{tag:"path",attr:{d:"M256 76c48.1 0 93.3 18.7 127.3 52.7S436 207.9 436 256s-18.7 93.3-52.7 127.3S304.1 436 256 436c-48.1 0-93.3-18.7-127.3-52.7S76 304.1 76 256s18.7-93.3 52.7-127.3S207.9 76 256 76m0-28C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48z"},child:[]}]})(t)}function A5(t){return De({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"},child:[]}]})(t)}function _C(t){return De({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M331.3 308.7L278.6 256l52.7-52.7c6.2-6.2 6.2-16.4 0-22.6-6.2-6.2-16.4-6.2-22.6 0L256 233.4l-52.7-52.7c-6.2-6.2-15.6-7.1-22.6 0-7.1 7.1-6 16.6 0 22.6l52.7 52.7-52.7 52.7c-6.7 6.7-6.4 16.3 0 22.6 6.4 6.4 16.4 6.2 22.6 0l52.7-52.7 52.7 52.7c6.2 6.2 16.4 6.2 22.6 0 6.3-6.2 6.3-16.4 0-22.6z"},child:[]},{tag:"path",attr:{d:"M256 76c48.1 0 93.3 18.7 127.3 52.7S436 207.9 436 256s-18.7 93.3-52.7 127.3S304.1 436 256 436c-48.1 0-93.3-18.7-127.3-52.7S76 304.1 76 256s18.7-93.3 52.7-127.3S207.9 76 256 76m0-28C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48z"},child:[]}]})(t)}function Nv(t){return De({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"},child:[]}]})(t)}function I5(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11.0049 2L18.3032 4.28071C18.7206 4.41117 19.0049 4.79781 19.0049 5.23519V7H21.0049C21.5572 7 22.0049 7.44772 22.0049 8V16C22.0049 16.5523 21.5572 17 21.0049 17L17.7848 17.0011C17.3982 17.5108 16.9276 17.9618 16.3849 18.3318L11.0049 22L5.62486 18.3318C3.98563 17.2141 3.00488 15.3584 3.00488 13.3744V5.23519C3.00488 4.79781 3.28913 4.41117 3.70661 4.28071L11.0049 2ZM11.0049 4.094L5.00488 5.97V13.3744C5.00488 14.6193 5.58406 15.7884 6.56329 16.5428L6.75154 16.6793L11.0049 19.579L14.7869 17H10.0049C9.4526 17 9.00488 16.5523 9.00488 16V8C9.00488 7.44772 9.4526 7 10.0049 7H17.0049V5.97L11.0049 4.094ZM11.0049 12V15H20.0049V12H11.0049ZM11.0049 10H20.0049V9H11.0049V10Z"},child:[]}]})(t)}const R5=({item:t})=>{const e=qr(i=>i.removeItem),r=qr(i=>i.updateQuantity),n=()=>{r(t.variantId,t.quantity+1)},s=()=>{t.quantity>1&&r(t.variantId,t.quantity-1)};return d.jsxs("li",{className:"flex justify-between items-center gap-5",children:[d.jsx("div",{className:"flex",children:d.jsx("img",{src:t.image,alt:t.name,className:"w-20 h-20 object-contain"})}),d.jsxs("div",{className:"flex-1 space-y-3",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("p",{className:"font-semibold",children:t.name}),d.jsx("p",{className:"text-sm font-medium text-gray-600 mt-1",children:Pt(t.price)})]}),d.jsx("div",{className:"flex gap-3",children:d.jsxs("p",{className:"text-[13px] text-gray-600",children:[t.type," / ",t.target," / ",t.kg," kg."]})}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("div",{className:"flex items-center gap-5 px-2 py-1 border border-slate-200 w-fit rounded-full",children:[d.jsx("button",{onClick:s,disabled:t.quantity===1,children:d.jsx(SC,{size:15})}),d.jsx("span",{className:"text-slate-500 text-sm",children:t.quantity}),d.jsx("button",{onClick:n,children:d.jsx(kC,{size:15})})]}),d.jsx("button",{className:"underline font-medium text-[10px]",onClick:()=>e(t.variantId),children:"Eliminar"})]})]})]})},D5=()=>{const t=Ls(s=>s.closeSheet),e=qr(s=>s.items),r=qr(s=>s.cleanCart),n=qr(s=>s.totalItemsInCart);return d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsxs("div",{className:"px-5 py-7 flex justify-between items-center border-b border-slate-200",children:[d.jsxs("span",{className:"flex gap-3 items-center font-semibold",children:[d.jsx(tE,{size:20}),n," artculos"]}),d.jsx("button",{onClick:t,children:d.jsx(Nv,{size:25,className:"text-black"})})]}),n>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"p-7 overflow-auto flex-1",children:d.jsx("ul",{className:"space-y-9",children:e.map(s=>d.jsx(R5,{item:s},s.variantId))})}),d.jsxs("div",{className:"mt-4 p-7",children:[d.jsxs(vt,{to:"/checkout",className:"w-full bg-black text-white py-3.5 rounded-full flex items-center justify-center gap-3",children:[d.jsx(I5,{size:24}),"Continuar con la compra"]}),d.jsx("button",{className:"mt-3 w-full text-black border border-black rounded-full py-3",onClick:r,children:"Limpiar Carrito"})]})]}):d.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-7",children:[d.jsx("p",{className:"text-sm font-medium tracking-tight",children:"Su carro est vaco"}),d.jsx(vt,{to:"/products",className:"py-4 bg-black rounded-full text-white px-7 text-xs uppercase tracking-widest font-semibold",onClick:t,children:"Empezar a comprar"})]})]})},L5=()=>{const[t,e]=C.useState(""),[r,n]=C.useState([]),s=Ls(a=>a.closeSheet),i=Ut(),o=async a=>{if(a.preventDefault(),t.trim()){const l=await KR(t);n(l)}};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"py-5 px-7 flex gap-10 items-center border-b border-slate-200",children:[d.jsxs("form",{className:"flex gap-3 items-center flex-1",onSubmit:o,children:[d.jsx(eE,{size:22}),d.jsx("input",{type:"text",placeholder:"Qu busca?",className:"outline-none w-full text-sm ",value:t,onChange:a=>e(a.target.value)})]}),d.jsx("button",{onClick:s,children:d.jsx(Nv,{size:25,className:"text-black"})})]}),d.jsx("div",{className:"p-5",children:r.length>0?d.jsx("ul",{children:r.map(a=>d.jsx("li",{className:"py-2 group",children:d.jsxs("button",{className:"flex items-center gap-3",onClick:()=>{i(`/products/${a.slug}`),s()},children:[d.jsx("img",{src:a.images[0],alt:a.name,className:"h-20 w-20 object-contain p-3"}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("p",{className:"text-sm font-semibold group-hover:underline",children:a.name}),d.jsxs("p",{className:"text-[13px] text-gray-600",children:[a.variants[0].target," /"," ",a.variants[0].type," /"," ",a.variants[0].kg," kg."]}),d.jsx("p",{className:"text-sm font-medium text-gray-600",children:Pt(a.variants[0].price)})]})]})},a.id))}):d.jsx("p",{className:"text-sm text-gray-600",children:"No se encontraron resultados"})})]})},F5=()=>{const t=Ls(s=>s.sheetContent),e=Ls(s=>s.closeSheet),r=C.useRef(null);C.useEffect(()=>{document.body.style.overflow="hidden";const s=i=>{r.current&&!r.current.contains(i.target)&&e()};return document.addEventListener("mousedown",s),()=>{document.body.style.overflow="unset",document.removeEventListener("mousedown",s)}},[e]);const n=()=>{switch(t){case"cart":return d.jsx(D5,{});case"search":return d.jsx(L5,{});default:return null}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-end animate-fade-in",children:d.jsx("div",{ref:r,className:"bg-white text-black h-screen w-[500px] shadow-lg animate-slide-in",children:n()})})},$5=()=>{const t=Ls(e=>e.setActiveNavMobile);return d.jsxs("div",{className:"bg-white text-black h-screen w-full shadow-lg animate-slide-in-left fixed z-50 flex justify-center py-32",children:[d.jsx("button",{className:"absolute top-5 right-5",onClick:()=>t(!1),children:d.jsx(Nv,{size:30,className:"text-black"})}),d.jsxs("div",{className:"flex flex-col gap-20",children:[d.jsx(vt,{to:"/",className:"text-4xl font-bold tracking-tighter transition-all",onClick:()=>t(!1),children:d.jsx("p",{children:d.jsx("img",{src:"/img/Baalak-logo-banner-small.png",alt:"Baalak"})})}),d.jsx("nav",{className:"flex flex-col items-center gap-5",children:X_.map(e=>d.jsx(dv,{to:e.href,className:({isActive:r})=>`
                                ${r?"text-cyan-600 underline":""} transition-all duration-300 font-semibold text-xl hover:text-cyan-600 hover:underline
                            `,onClick:()=>t(!1),children:e.title},e.id))})]})]})},z5=()=>{const{pathname:t}=Qo(),e=Ls(n=>n.isSheetOpen),r=Ls(n=>n.activeNavMobile);return d.jsxs("div",{className:"h-screen flex flex-col font-montserrat",children:[d.jsx(j5,{}),t==="/"&&d.jsx(T5,{}),d.jsx("main",{className:"container my-5 flex-1",children:d.jsx(uv,{})}),t==="/"&&d.jsx(P5,{}),e&&d.jsx(F5,{}),r&&d.jsx($5,{}),d.jsx(O5,{})]})};function B5(t){return De({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8c-0.020-1.045-0.247-2.086-0.665-3.038-0.417-0.953-1.023-1.817-1.766-2.53s-1.624-1.278-2.578-1.651c-0.953-0.374-1.978-0.552-2.991-0.531-1.013 0.020-2.021 0.24-2.943 0.646-0.923 0.405-1.758 0.992-2.449 1.712s-1.237 1.574-1.597 2.497c-0.361 0.923-0.533 1.914-0.512 2.895 0.020 0.981 0.234 1.955 0.627 2.847 0.392 0.892 0.961 1.7 1.658 2.368s1.523 1.195 2.416 1.543c0.892 0.348 1.851 0.514 2.799 0.493 0.949-0.020 1.89-0.227 2.751-0.608 0.862-0.379 1.642-0.929 2.287-1.604s1.154-1.472 1.488-2.335c0.204-0.523 0.342-1.069 0.415-1.622 0.019 0.001 0.039 0.002 0.059 0.002 0.552 0 1-0.448 1-1 0-0.028-0.001-0.056-0.004-0.083h0.004zM14.411 10.655c-0.367 0.831-0.898 1.584-1.55 2.206s-1.422 1.112-2.254 1.434c-0.832 0.323-1.723 0.476-2.608 0.454-0.884-0.020-1.759-0.215-2.56-0.57-0.801-0.354-1.526-0.867-2.125-1.495s-1.071-1.371-1.38-2.173c-0.31-0.801-0.457-1.66-0.435-2.512s0.208-1.694 0.551-2.464c0.342-0.77 0.836-1.468 1.441-2.044s1.321-1.029 2.092-1.326c0.771-0.298 1.596-0.438 2.416-0.416s1.629 0.202 2.368 0.532c0.74 0.329 1.41 0.805 1.963 1.387s0.988 1.27 1.272 2.011c0.285 0.74 0.418 1.532 0.397 2.32h0.004c-0.002 0.027-0.004 0.055-0.004 0.083 0 0.516 0.39 0.94 0.892 0.994-0.097 0.544-0.258 1.075-0.481 1.578z"},child:[]}]})(t)}function V5(t){return De({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 0c-4.355 0-7.898 3.481-7.998 7.812 0.092-3.779 2.966-6.812 6.498-6.812 3.59 0 6.5 3.134 6.5 7 0 0.828 0.672 1.5 1.5 1.5s1.5-0.672 1.5-1.5c0-4.418-3.582-8-8-8zM8 16c4.355 0 7.898-3.481 7.998-7.812-0.092 3.779-2.966 6.812-6.498 6.812-3.59 0-6.5-3.134-6.5-7 0-0.828-0.672-1.5-1.5-1.5s-1.5 0.672-1.5 1.5c0 4.418 3.582 8 8 8z"},child:[]}]})(t)}function U5(t){return De({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14.942 12.57l-4.942-8.235v-3.335h0.5c0.275 0 0.5-0.225 0.5-0.5s-0.225-0.5-0.5-0.5h-5c-0.275 0-0.5 0.225-0.5 0.5s0.225 0.5 0.5 0.5h0.5v3.335l-4.942 8.235c-1.132 1.886-0.258 3.43 1.942 3.43h10c2.2 0 3.074-1.543 1.942-3.43zM3.766 10l3.234-5.39v-3.61h2v3.61l3.234 5.39h-8.468z"},child:[]}]})(t)}const Sr=()=>d.jsx("div",{className:"flex items-center justify-center h-screen",children:d.jsx(V5,{className:"animate-spin",size:70})});function H5(t){return De({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 176v160m80-80H176"},child:[]}]})(t)}function jv(t){return De({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M328 112 184 256l144 144"},child:[]}]})(t)}function EC(t){return De({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M304 336v40a40 40 0 0 1-40 40H104a40 40 0 0 1-40-40V136a40 40 0 0 1 40-40h152c22.09 0 48 17.91 48 40v40m64 160 80-80-80-80m-192 80h256"},child:[]}]})(t)}const q5=()=>{const{isLoading:t}=ra(),e=Ut();if(C.useEffect(()=>{he.auth.onAuthStateChange(async(n,s)=>{(n==="SIGNED_OUT"||!s)&&e("/login",{replace:!0})})},[e]),t)return d.jsx(Sr,{});const r=async()=>{await ZE()};return d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx("div",{className:"flex justify-end",children:d.jsxs("button",{className:"bg-cyan-600 py-[10px] rounded-md flex justify-center gap-2 font-semibold text-sm hover:bg-red-500",onClick:r,children:[d.jsx("span",{className:"hidden lg:block",children:"Cerrar sesin"}),d.jsx(EC,{size:20,className:"inline-block"})]})}),d.jsx("main",{className:"container mt-12 flex-1",children:d.jsx(uv,{})})]})},W5=()=>{const t=async()=>{await ZE()};return d.jsxs("div",{className:"w-[120px] bg-stone-800 text-white flex flex-col gap-10 items-center p-5 fixed h-screen lg:w-[220px]",children:[d.jsx(vt,{className:"w-full",to:"/",children:d.jsxs("button",{className:"border w-full rounded-md py-2 border-slate-200 px-5 flex items-center justify-center gap-2 text-xs font-medium uppercase tracking-widest hover:bg-cyan-600 transition-all",children:[d.jsx(jv,{size:20}),"Volver"]})}),d.jsx("nav",{className:"w-full space-y-5 flex-1",children:gM.map(e=>d.jsxs(dv,{to:e.href,className:({isActive:r})=>`flex items-center justify-center gap-3 pl-0 py-3 transition-all duration-300 rounded-md ${r?"text-white bg-cyan-600":"hover:text-white hover:bg-cyan-600"} lg:pl-5 lg:justify-start`,children:[e.icon,d.jsx("p",{className:"font-semibold hidden lg:block",children:e.title})]},e.id))}),d.jsxs("button",{className:"bg-red-500 w-full py-[10px] rounded-md flex items-center justify-center gap-2 font-semibold text-sm hover:bg-cyan-600",onClick:t,children:[d.jsx("span",{className:"hidden lg:block",children:"Cerrar sesin"}),d.jsx(EC,{size:20,className:"inline-block"})]})]})},K5=["Orden","Cliente","Fecha","Estado","Total"],J5=[{value:"Pending",label:"Pendiente"},{value:"Paid",label:"Pagado"},{value:"Shipped",label:"Enviado"},{value:"Delivered",label:"Entregado"}],Z5=({orders:t})=>{const e=Ut(),{mutate:r}=E5(),n=(s,i)=>{r({id:s,status:i})};return d.jsx("div",{className:"relative w-full h-full",children:d.jsxs("table",{className:"text-sm w-full caption-bottom overflow-auto",children:[d.jsx("thead",{className:"border-b border-gray-200 pb-3",children:d.jsx("tr",{className:"text-sm font-bold",children:K5.map((s,i)=>d.jsx("th",{className:"h-12 px-4 text-left",children:s},i))})}),d.jsx("tbody",{className:"[&_tr:last-child]:border-0",children:t.map(s=>{var i,o;return d.jsxs("tr",{className:"cursor-pointer hover:bg-gray-200 transition-colors duration-200",onClick:()=>e(`/dashboard/ordenes/${s.id}`),children:[d.jsx("td",{className:"p-4 font-medium tracking-tighter",children:s.id}),d.jsxs("td",{className:"p-4 font-medium tracking-tighter flex flex-col gap-1",children:[d.jsx("span",{className:"font-semibold",children:(i=s.customers)==null?void 0:i.full_name}),d.jsx("span",{children:(o=s.customers)==null?void 0:o.email})]}),d.jsx("td",{className:"p-4 font-medium tracking-tighter",children:rp(s.created_at)}),d.jsx("td",{className:"p-4 font-medium tracking-tighter",children:d.jsx("select",{value:s.status||"",onClick:a=>a.stopPropagation(),className:"border border-gray-300 p-2 rounded",onChange:a=>n(s.id,a.target.value),children:J5.map(a=>d.jsx("option",{value:a.value,children:a.label},a.value))})}),d.jsx("td",{className:"p-4 font-medium tracking-tighter",children:Pt(s.total_amount)})]},s.id)})})]})})},CC=({totalItems:t,page:e,setPage:r})=>{const n=()=>{r(e+1)},s=()=>{r(u=>Math.max(u-1,1))},o=t?Math.ceil(t/10):1,a=e>=o,l=(e-1)*10+1,c=Math.min(e*10,t);return d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("p",{className:"text-xs font-medium",children:[" Mostrando"," ",d.jsxs("span",{className:"font-bold",children:[" ",l," - ",c," "]})," "," de",d.jsxs("span",{className:"font-bold",children:[" ",t," "]})," productos"]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{className:"btn-paginated",onClick:s,disabled:e===1,children:" Anterior"}),d.jsx("button",{className:"btn-paginated",onClick:n,disabled:a,children:" Siguiente"})]})]})},Jd=({content:t})=>d.jsx("td",{className:"p-4 font-medium tracking-tighter",children:t}),Q5=["","Nombre","Variante","Precio","Stock","Fecha de creacin",""],G5=()=>{const[t,e]=C.useState(null),[r,n]=C.useState({}),[s,i]=C.useState(1),{products:o,isLoading:a,totalProducts:l}=h5({page:s}),{mutate:c,isPending:u}=y5(),f=m=>{e(t===m?null:m)},h=(m,g)=>{n({...r,[m]:g})},p=m=>{c(m),e(null)};return!o||a||!l||u?d.jsx(Sr,{}):d.jsxs("div",{className:"flex flex-col flex-1 border border-gray-200 rounded-lg p-5 bg-white",children:[d.jsx("h1",{className:"font-bold text-xl",children:"Productos"}),d.jsx("p",{className:"text-sm mt-1 mb-8 font-regular text-gray-500",children:"Gestiona tus productos y mira las estadsticas de tus ventas"}),d.jsx("div",{className:"relative w-full h-full",children:d.jsxs("table",{className:"text-sm w-full caption-bottom overflow-auto",children:[d.jsx("thead",{className:"border-b border-gray-200 pb-3",children:d.jsx("tr",{className:"text-sm font-bold",children:Q5.map((m,g)=>d.jsx("th",{className:"h-12 px-4 text-left",children:m},g))})}),d.jsx("tbody",{children:o.map((m,g)=>{const x=r[m.id]??0,v=m.variants[x]||{};return d.jsxs("tr",{children:[d.jsx("td",{className:"p-4 align-middle sm:table-cell",children:d.jsx("img",{src:m.images[0]||"https://ui.shadcn.com/placeholder.svg",alt:"Imagen Product",loading:"lazy",decoding:"async",className:"w-16 h-16 aspect-square rounded-md object-contain"})}),d.jsx(Jd,{content:m.name}),d.jsx("td",{className:"p-4 font-medium tracking-tighter",children:d.jsx("select",{className:"border border-gray-300 rounded-md p-1 w-full",onChange:y=>h(m.id,Number(y.target.value)),value:x,children:m.variants.map((y,b)=>d.jsxs("option",{value:b,children:[y.target," - ",y.type," - ",y.kg," kg."]},y.id))})}),d.jsx(Jd,{content:Pt(v==null?void 0:v.price)}),d.jsx(Jd,{content:(v.stock||0).toString()}),d.jsx(Jd,{content:PA(m.created_at)}),d.jsxs("td",{className:"relative",children:[d.jsx("button",{className:"text-slate-900",onClick:()=>f(g),children:d.jsx(fM,{})}),t===g&&d.jsxs("div",{className:"absolute right-0 mt-2 bg-white border border-gray-200 rounded-md shadow-xl z-10 w-[120px]",role:"menu",children:[d.jsxs(vt,{to:`/dashboard/productos/editar/${m.slug}`,className:"flex items-center gap-1 w-full text-left px-4 py-2 text-xs font-medium text-gray-700 hover:bg-gray-100",children:["Editar",d.jsx(yM,{size:13,className:"inline-block"})]}),d.jsx("button",{className:"block w-full text-left px-4 py-2 text-xs font-medium text-gray-700 hover:bg-gray-100",onClick:()=>p(m.id),children:"Eliminar"})]})]})]},g)})})]})}),d.jsx(CC,{page:s,setPage:i,totalItems:l})]})};var rd=t=>t.type==="checkbox",ho=t=>t instanceof Date,pr=t=>t==null;const NC=t=>typeof t=="object";var wt=t=>!pr(t)&&!Array.isArray(t)&&NC(t)&&!ho(t),Y5=t=>wt(t)&&t.target?rd(t.target)?t.target.checked:t.target.value:t,X5=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,eL=(t,e)=>t.has(X5(e)),tL=t=>{const e=t.constructor&&t.constructor.prototype;return wt(e)&&e.hasOwnProperty("isPrototypeOf")},Ov=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function pt(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Ov&&(t instanceof Blob||n))&&(r||wt(t)))if(e=r?[]:{},!r&&!tL(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=pt(t[s]));else return t;return e}var nd=t=>Array.isArray(t)?t.filter(Boolean):[],nt=t=>t===void 0,Q=(t,e,r)=>{if(!e||!wt(t))return r;const n=nd(e.split(/[,[\].]+?/)).reduce((s,i)=>pr(s)?s:s[i],t);return nt(n)||n===t?nt(t[e])?r:t[e]:n},qn=t=>typeof t=="boolean",Tv=t=>/^\w*$/.test(t),jC=t=>nd(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Be=(t,e,r)=>{let n=-1;const s=Tv(e)?[e]:jC(e),i=s.length,o=i-1;for(;++n<i;){const a=s[n];let l=r;if(n!==o){const c=t[a];l=wt(c)||Array.isArray(c)?c:isNaN(+s[n+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=l,t=t[a]}};const Ab={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},on={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},vs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},rL=fe.createContext(null),nL=()=>fe.useContext(rL);var sL=(t,e,r,n=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==on.all&&(e._proxyFormState[o]=!n||on.all),t[o]}});return s},Yn=t=>typeof t=="string",iL=(t,e,r,n,s)=>Yn(t)?(n&&e.watch.add(t),Q(r,t,s)):Array.isArray(t)?t.map(i=>(n&&e.watch.add(i),Q(r,i))):(n&&(e.watchAll=!0),r),OC=(t,e,r,n,s)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:s||!0}}:{},jr=t=>Array.isArray(t)?t:[t],Ib=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},My=t=>pr(t)||!NC(t);function li(t,e){if(My(t)||My(e))return t===e;if(ho(t)&&ho(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const s of r){const i=t[s];if(!n.includes(s))return!1;if(s!=="ref"){const o=e[s];if(ho(i)&&ho(o)||wt(i)&&wt(o)||Array.isArray(i)&&Array.isArray(o)?!li(i,o):i!==o)return!1}}return!0}var er=t=>wt(t)&&!Object.keys(t).length,Pv=t=>t.type==="file",Pn=t=>typeof t=="function",uh=t=>{if(!Ov)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},TC=t=>t.type==="select-multiple",Mv=t=>t.type==="radio",oL=t=>Mv(t)||rd(t),Sm=t=>uh(t)&&t.isConnected;function aL(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=nt(t)?n++:t[e[n++]];return t}function lL(t){for(const e in t)if(t.hasOwnProperty(e)&&!nt(t[e]))return!1;return!0}function _t(t,e){const r=Array.isArray(e)?e:Tv(e)?[e]:jC(e),n=r.length===1?t:aL(t,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(wt(n)&&er(n)||Array.isArray(n)&&lL(n))&&_t(t,r.slice(0,-1)),t}var PC=t=>{for(const e in t)if(Pn(t[e]))return!0;return!1};function dh(t,e={}){const r=Array.isArray(t);if(wt(t)||r)for(const n in t)Array.isArray(t[n])||wt(t[n])&&!PC(t[n])?(e[n]=Array.isArray(t[n])?[]:{},dh(t[n],e[n])):pr(t[n])||(e[n]=!0);return e}function MC(t,e,r){const n=Array.isArray(t);if(wt(t)||n)for(const s in t)Array.isArray(t[s])||wt(t[s])&&!PC(t[s])?nt(e)||My(r[s])?r[s]=Array.isArray(t[s])?dh(t[s],[]):{...dh(t[s])}:MC(t[s],pr(e)?{}:e[s],r[s]):r[s]=!li(t[s],e[s]);return r}var oc=(t,e)=>MC(t,e,dh(e));const Rb={value:!1,isValid:!1},Db={value:!0,isValid:!0};var AC=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!nt(t[0].attributes.value)?nt(t[0].value)||t[0].value===""?Db:{value:t[0].value,isValid:!0}:Db:Rb}return Rb},IC=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>nt(t)?t:e?t===""?NaN:t&&+t:r&&Yn(t)?new Date(t):n?n(t):t;const Lb={isValid:!1,value:null};var RC=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,Lb):Lb;function Fb(t){const e=t.ref;return Pv(e)?e.files:Mv(e)?RC(t.refs).value:TC(e)?[...e.selectedOptions].map(({value:r})=>r):rd(e)?AC(t.refs).value:IC(nt(e.value)?t.ref.value:e.value,t)}var cL=(t,e,r,n)=>{const s={};for(const i of t){const o=Q(e,i);o&&Be(s,i,o._f)}return{criteriaMode:r,names:[...t],fields:s,shouldUseNativeValidation:n}},fh=t=>t instanceof RegExp,ac=t=>nt(t)?t:fh(t)?t.source:wt(t)?fh(t.value)?t.value.source:t.value:t,Pa=t=>({isOnSubmit:!t||t===on.onSubmit,isOnBlur:t===on.onBlur,isOnChange:t===on.onChange,isOnAll:t===on.all,isOnTouch:t===on.onTouched});const $b="AsyncFunction";var uL=t=>!!t&&!!t.validate&&!!(Pn(t.validate)&&t.validate.constructor.name===$b||wt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===$b)),dL=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Ay=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Ua=(t,e,r,n)=>{for(const s of r||Object.keys(t)){const i=Q(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(Ua(a,e))break}else if(wt(a)&&Ua(a,e))break}}};function zb(t,e,r){const n=Q(t,r);if(n||Tv(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=Q(e,i),a=Q(t,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:r}}var fL=(t,e,r,n)=>{r(t);const{name:s,...i}=t;return er(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!n||on.all))},hL=(t,e,r)=>!t||!e||t===e||jr(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),pL=(t,e,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(e||t):(r?n.isOnBlur:s.isOnBlur)?!t:(r?n.isOnChange:s.isOnChange)?t:!0,mL=(t,e)=>!nd(Q(t,e)).length&&_t(t,e),DC=(t,e,r)=>{const n=jr(Q(t,r));return Be(n,"root",e[r]),Be(t,r,n),t},Sf=t=>Yn(t);function Bb(t,e,r="validate"){if(Sf(t)||Array.isArray(t)&&t.every(Sf)||qn(t)&&!t)return{type:r,message:Sf(t)?t:"",ref:e}}var ua=t=>wt(t)&&!fh(t)?t:{value:t,message:""},Iy=async(t,e,r,n,s,i)=>{const{ref:o,refs:a,required:l,maxLength:c,minLength:u,min:f,max:h,pattern:p,validate:m,name:g,valueAsNumber:x,mount:v}=t._f,y=Q(r,g);if(!v||e.has(g))return{};const b=a?a[0]:o,S=L=>{s&&b.reportValidity&&(b.setCustomValidity(qn(L)?"":L||""),b.reportValidity())},O={},N=Mv(o),T=rd(o),w=N||T,M=(x||Pv(o))&&nt(o.value)&&nt(y)||uh(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,P=OC.bind(null,g,n,O),R=(L,q,te,de=vs.maxLength,ge=vs.minLength)=>{const Me=L?q:te;O[g]={type:L?de:ge,message:Me,ref:o,...P(L?de:ge,Me)}};if(i?!Array.isArray(y)||!y.length:l&&(!w&&(M||pr(y))||qn(y)&&!y||T&&!AC(a).isValid||N&&!RC(a).isValid)){const{value:L,message:q}=Sf(l)?{value:!!l,message:l}:ua(l);if(L&&(O[g]={type:vs.required,message:q,ref:b,...P(vs.required,q)},!n))return S(q),O}if(!M&&(!pr(f)||!pr(h))){let L,q;const te=ua(h),de=ua(f);if(!pr(y)&&!isNaN(y)){const ge=o.valueAsNumber||y&&+y;pr(te.value)||(L=ge>te.value),pr(de.value)||(q=ge<de.value)}else{const ge=o.valueAsDate||new Date(y),Me=ie=>new Date(new Date().toDateString()+" "+ie),B=o.type=="time",K=o.type=="week";Yn(te.value)&&y&&(L=B?Me(y)>Me(te.value):K?y>te.value:ge>new Date(te.value)),Yn(de.value)&&y&&(q=B?Me(y)<Me(de.value):K?y<de.value:ge<new Date(de.value))}if((L||q)&&(R(!!L,te.message,de.message,vs.max,vs.min),!n))return S(O[g].message),O}if((c||u)&&!M&&(Yn(y)||i&&Array.isArray(y))){const L=ua(c),q=ua(u),te=!pr(L.value)&&y.length>+L.value,de=!pr(q.value)&&y.length<+q.value;if((te||de)&&(R(te,L.message,q.message),!n))return S(O[g].message),O}if(p&&!M&&Yn(y)){const{value:L,message:q}=ua(p);if(fh(L)&&!y.match(L)&&(O[g]={type:vs.pattern,message:q,ref:o,...P(vs.pattern,q)},!n))return S(q),O}if(m){if(Pn(m)){const L=await m(y,r),q=Bb(L,b);if(q&&(O[g]={...q,...P(vs.validate,q.message)},!n))return S(q.message),O}else if(wt(m)){let L={};for(const q in m){if(!er(L)&&!n)break;const te=Bb(await m[q](y,r),b,q);te&&(L={...te,...P(q,te.message)},S(te.message),n&&(O[g]=L))}if(!er(L)&&(O[g]={ref:b,...L},!n))return O}}return S(!0),O};const gL={mode:on.onSubmit,reValidateMode:on.onChange,shouldFocusError:!0};function yL(t={}){let e={...gL,...t},r={submitCount:0,isDirty:!1,isLoading:Pn(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const n={};let s=wt(e.defaultValues)||wt(e.values)?pt(e.values||e.defaultValues)||{}:{},i=e.shouldUnregister?{}:pt(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...u};const h={array:Ib(),state:Ib()},p=Pa(e.mode),m=Pa(e.reValidateMode),g=e.criteriaMode===on.all,x=E=>A=>{clearTimeout(c),c=setTimeout(E,A)},v=async E=>{if(!e.disabled&&(u.isValid||f.isValid||E)){const A=e.resolver?er((await M()).errors):await R(n,!0);A!==r.isValid&&h.state.next({isValid:A})}},y=(E,A)=>{!e.disabled&&(u.isValidating||u.validatingFields||f.isValidating||f.validatingFields)&&((E||Array.from(a.mount)).forEach(D=>{D&&(A?Be(r.validatingFields,D,A):_t(r.validatingFields,D))}),h.state.next({validatingFields:r.validatingFields,isValidating:!er(r.validatingFields)}))},b=(E,A=[],D,Y,H=!0,V=!0)=>{if(Y&&D&&!e.disabled){if(o.action=!0,V&&Array.isArray(Q(n,E))){const ne=D(Q(n,E),Y.argA,Y.argB);H&&Be(n,E,ne)}if(V&&Array.isArray(Q(r.errors,E))){const ne=D(Q(r.errors,E),Y.argA,Y.argB);H&&Be(r.errors,E,ne),mL(r.errors,E)}if((u.touchedFields||f.touchedFields)&&V&&Array.isArray(Q(r.touchedFields,E))){const ne=D(Q(r.touchedFields,E),Y.argA,Y.argB);H&&Be(r.touchedFields,E,ne)}(u.dirtyFields||f.dirtyFields)&&(r.dirtyFields=oc(s,i)),h.state.next({name:E,isDirty:q(E,A),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Be(i,E,A)},S=(E,A)=>{Be(r.errors,E,A),h.state.next({errors:r.errors})},O=E=>{r.errors=E,h.state.next({errors:r.errors,isValid:!1})},N=(E,A,D,Y)=>{const H=Q(n,E);if(H){const V=Q(i,E,nt(D)?Q(s,E):D);nt(V)||Y&&Y.defaultChecked||A?Be(i,E,A?V:Fb(H._f)):ge(E,V),o.mount&&v()}},T=(E,A,D,Y,H)=>{let V=!1,ne=!1;const Ae={name:E};if(!e.disabled){if(!D||Y){(u.isDirty||f.isDirty)&&(ne=r.isDirty,r.isDirty=Ae.isDirty=q(),V=ne!==Ae.isDirty);const Ue=li(Q(s,E),A);ne=!!Q(r.dirtyFields,E),Ue?_t(r.dirtyFields,E):Be(r.dirtyFields,E,!0),Ae.dirtyFields=r.dirtyFields,V=V||(u.dirtyFields||f.dirtyFields)&&ne!==!Ue}if(D){const Ue=Q(r.touchedFields,E);Ue||(Be(r.touchedFields,E,D),Ae.touchedFields=r.touchedFields,V=V||(u.touchedFields||f.touchedFields)&&Ue!==D)}V&&H&&h.state.next(Ae)}return V?Ae:{}},w=(E,A,D,Y)=>{const H=Q(r.errors,E),V=(u.isValid||f.isValid)&&qn(A)&&r.isValid!==A;if(e.delayError&&D?(l=x(()=>S(E,D)),l(e.delayError)):(clearTimeout(c),l=null,D?Be(r.errors,E,D):_t(r.errors,E)),(D?!li(H,D):H)||!er(Y)||V){const ne={...Y,...V&&qn(A)?{isValid:A}:{},errors:r.errors,name:E};r={...r,...ne},h.state.next(ne)}},M=async E=>{y(E,!0);const A=await e.resolver(i,e.context,cL(E||a.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return y(E),A},P=async E=>{const{errors:A}=await M(E);if(E)for(const D of E){const Y=Q(A,D);Y?Be(r.errors,D,Y):_t(r.errors,D)}else r.errors=A;return A},R=async(E,A,D={valid:!0})=>{for(const Y in E){const H=E[Y];if(H){const{_f:V,...ne}=H;if(V){const Ae=a.array.has(V.name),Ue=H._f&&uL(H._f);Ue&&u.validatingFields&&y([Y],!0);const Je=await Iy(H,a.disabled,i,g,e.shouldUseNativeValidation&&!A,Ae);if(Ue&&u.validatingFields&&y([Y]),Je[V.name]&&(D.valid=!1,A))break;!A&&(Q(Je,V.name)?Ae?DC(r.errors,Je,V.name):Be(r.errors,V.name,Je[V.name]):_t(r.errors,V.name))}!er(ne)&&await R(ne,A,D)}}return D.valid},L=()=>{for(const E of a.unMount){const A=Q(n,E);A&&(A._f.refs?A._f.refs.every(D=>!Sm(D)):!Sm(A._f.ref))&&$l(E)}a.unMount=new Set},q=(E,A)=>!e.disabled&&(E&&A&&Be(i,E,A),!li(Ne(),s)),te=(E,A,D)=>iL(E,a,{...o.mount?i:nt(A)?s:Yn(E)?{[E]:A}:A},D,A),de=E=>nd(Q(o.mount?i:s,E,e.shouldUnregister?Q(s,E,[]):[])),ge=(E,A,D={})=>{const Y=Q(n,E);let H=A;if(Y){const V=Y._f;V&&(!V.disabled&&Be(i,E,IC(A,V)),H=uh(V.ref)&&pr(A)?"":A,TC(V.ref)?[...V.ref.options].forEach(ne=>ne.selected=H.includes(ne.value)):V.refs?rd(V.ref)?V.refs.length>1?V.refs.forEach(ne=>(!ne.defaultChecked||!ne.disabled)&&(ne.checked=Array.isArray(H)?!!H.find(Ae=>Ae===ne.value):H===ne.value)):V.refs[0]&&(V.refs[0].checked=!!H):V.refs.forEach(ne=>ne.checked=ne.value===H):Pv(V.ref)?V.ref.value="":(V.ref.value=H,V.ref.type||h.state.next({name:E,values:pt(i)})))}(D.shouldDirty||D.shouldTouch)&&T(E,H,D.shouldTouch,D.shouldDirty,!0),D.shouldValidate&&Te(E)},Me=(E,A,D)=>{for(const Y in A){const H=A[Y],V=`${E}.${Y}`,ne=Q(n,V);(a.array.has(E)||wt(H)||ne&&!ne._f)&&!ho(H)?Me(V,H,D):ge(V,H,D)}},B=(E,A,D={})=>{const Y=Q(n,E),H=a.array.has(E),V=pt(A);Be(i,E,V),H?(h.array.next({name:E,values:pt(i)}),(u.isDirty||u.dirtyFields||f.isDirty||f.dirtyFields)&&D.shouldDirty&&h.state.next({name:E,dirtyFields:oc(s,i),isDirty:q(E,V)})):Y&&!Y._f&&!pr(V)?Me(E,V,D):ge(E,V,D),Ay(E,a)&&h.state.next({...r}),h.state.next({name:o.mount?E:void 0,values:pt(i)})},K=async E=>{o.mount=!0;const A=E.target;let D=A.name,Y=!0;const H=Q(n,D),V=ne=>{Y=Number.isNaN(ne)||ho(ne)&&isNaN(ne.getTime())||li(ne,Q(i,D,ne))};if(H){let ne,Ae;const Ue=A.type?Fb(H._f):Y5(E),Je=E.type===Ab.BLUR||E.type===Ab.FOCUS_OUT,dd=!dL(H._f)&&!e.resolver&&!Q(r.errors,D)&&!H._f.deps||pL(Je,Q(r.touchedFields,D),r.isSubmitted,m,p),Us=Ay(D,a,Je);Be(i,D,Ue),Je?(H._f.onBlur&&H._f.onBlur(E),l&&l(0)):H._f.onChange&&H._f.onChange(E);const Ul=T(D,Ue,Je),Bn=!er(Ul)||Us;if(!Je&&h.state.next({name:D,type:E.type,values:pt(i)}),dd)return(u.isValid||f.isValid)&&(e.mode==="onBlur"?Je&&v():Je||v()),Bn&&h.state.next({name:D,...Us?{}:Ul});if(!Je&&Us&&h.state.next({...r}),e.resolver){const{errors:Hl}=await M([D]);if(V(Ue),Y){const fd=zb(r.errors,n,D),ql=zb(Hl,n,fd.name||D);ne=ql.error,D=ql.name,Ae=er(Hl)}}else y([D],!0),ne=(await Iy(H,a.disabled,i,g,e.shouldUseNativeValidation))[D],y([D]),V(Ue),Y&&(ne?Ae=!1:(u.isValid||f.isValid)&&(Ae=await R(n,!0)));Y&&(H._f.deps&&Te(H._f.deps),w(D,Ae,ne,Ul))}},ie=(E,A)=>{if(Q(r.errors,A)&&E.focus)return E.focus(),1},Te=async(E,A={})=>{let D,Y;const H=jr(E);if(e.resolver){const V=await P(nt(E)?E:H);D=er(V),Y=E?!H.some(ne=>Q(V,ne)):D}else E?(Y=(await Promise.all(H.map(async V=>{const ne=Q(n,V);return await R(ne&&ne._f?{[V]:ne}:ne)}))).every(Boolean),!(!Y&&!r.isValid)&&v()):Y=D=await R(n);return h.state.next({...!Yn(E)||(u.isValid||f.isValid)&&D!==r.isValid?{}:{name:E},...e.resolver||!E?{isValid:D}:{},errors:r.errors}),A.shouldFocus&&!Y&&Ua(n,ie,E?H:a.mount),Y},Ne=E=>{const A={...o.mount?i:s};return nt(E)?A:Yn(E)?Q(A,E):E.map(D=>Q(A,D))},xt=(E,A)=>({invalid:!!Q((A||r).errors,E),isDirty:!!Q((A||r).dirtyFields,E),error:Q((A||r).errors,E),isValidating:!!Q(r.validatingFields,E),isTouched:!!Q((A||r).touchedFields,E)}),St=E=>{E&&jr(E).forEach(A=>_t(r.errors,A)),h.state.next({errors:E?r.errors:{}})},cr=(E,A,D)=>{const Y=(Q(n,E,{_f:{}})._f||{}).ref,H=Q(r.errors,E)||{},{ref:V,message:ne,type:Ae,...Ue}=H;Be(r.errors,E,{...Ue,...A,ref:Y}),h.state.next({name:E,errors:r.errors,isValid:!1}),D&&D.shouldFocus&&Y&&Y.focus&&Y.focus()},ut=(E,A)=>Pn(E)?h.state.subscribe({next:D=>E(te(void 0,A),D)}):te(E,A,!0),At=E=>h.state.subscribe({next:A=>{hL(E.name,A.name,E.exact)&&fL(A,E.formState||u,Np,E.reRenderRoot)&&E.callback({values:{...i},...r,...A})}}).unsubscribe,Yr=E=>(o.mount=!0,f={...f,...E.formState},At({...E,formState:f})),$l=(E,A={})=>{for(const D of E?jr(E):a.mount)a.mount.delete(D),a.array.delete(D),A.keepValue||(_t(n,D),_t(i,D)),!A.keepError&&_t(r.errors,D),!A.keepDirty&&_t(r.dirtyFields,D),!A.keepTouched&&_t(r.touchedFields,D),!A.keepIsValidating&&_t(r.validatingFields,D),!e.shouldUnregister&&!A.keepDefaultValue&&_t(s,D);h.state.next({values:pt(i)}),h.state.next({...r,...A.keepDirty?{isDirty:q()}:{}}),!A.keepIsValid&&v()},Yi=({disabled:E,name:A})=>{(qn(E)&&o.mount||E||a.disabled.has(A))&&(E?a.disabled.add(A):a.disabled.delete(A))},zl=(E,A={})=>{let D=Q(n,E);const Y=qn(A.disabled)||qn(e.disabled);return Be(n,E,{...D||{},_f:{...D&&D._f?D._f:{ref:{name:E}},name:E,mount:!0,...A}}),a.mount.add(E),D?Yi({disabled:qn(A.disabled)?A.disabled:e.disabled,name:E}):N(E,!0,A.value),{...Y?{disabled:A.disabled||e.disabled}:{},...e.progressive?{required:!!A.required,min:ac(A.min),max:ac(A.max),minLength:ac(A.minLength),maxLength:ac(A.maxLength),pattern:ac(A.pattern)}:{},name:E,onChange:K,onBlur:K,ref:H=>{if(H){zl(E,A),D=Q(n,E);const V=nt(H.value)&&H.querySelectorAll&&H.querySelectorAll("input,select,textarea")[0]||H,ne=oL(V),Ae=D._f.refs||[];if(ne?Ae.find(Ue=>Ue===V):V===D._f.ref)return;Be(n,E,{_f:{...D._f,...ne?{refs:[...Ae.filter(Sm),V,...Array.isArray(Q(s,E))?[{}]:[]],ref:{type:V.type,name:E}}:{ref:V}}}),N(E,!1,void 0,V)}else D=Q(n,E,{}),D._f&&(D._f.mount=!1),(e.shouldUnregister||A.shouldUnregister)&&!(eL(a.array,E)&&o.action)&&a.unMount.add(E)}}},cd=()=>e.shouldFocusError&&Ua(n,ie,a.mount),Cp=E=>{qn(E)&&(h.state.next({disabled:E}),Ua(n,(A,D)=>{const Y=Q(n,D);Y&&(A.disabled=Y._f.disabled||E,Array.isArray(Y._f.refs)&&Y._f.refs.forEach(H=>{H.disabled=Y._f.disabled||E}))},0,!1))},It=(E,A)=>async D=>{let Y;D&&(D.preventDefault&&D.preventDefault(),D.persist&&D.persist());let H=pt(i);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:V,values:ne}=await M();r.errors=V,H=ne}else await R(n);if(a.disabled.size)for(const V of a.disabled)Be(H,V,void 0);if(_t(r.errors,"root"),er(r.errors)){h.state.next({errors:{}});try{await E(H,D)}catch(V){Y=V}}else A&&await A({...r.errors},D),cd(),setTimeout(cd);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:er(r.errors)&&!Y,submitCount:r.submitCount+1,errors:r.errors}),Y)throw Y},Vs=(E,A={})=>{Q(n,E)&&(nt(A.defaultValue)?B(E,pt(Q(s,E))):(B(E,A.defaultValue),Be(s,E,pt(A.defaultValue))),A.keepTouched||_t(r.touchedFields,E),A.keepDirty||(_t(r.dirtyFields,E),r.isDirty=A.defaultValue?q(E,pt(Q(s,E))):q()),A.keepError||(_t(r.errors,E),u.isValid&&v()),h.state.next({...r}))},Bl=(E,A={})=>{const D=E?pt(E):s,Y=pt(D),H=er(E),V=H?s:Y;if(A.keepDefaultValues||(s=D),!A.keepValues){if(A.keepDirtyValues){const ne=new Set([...a.mount,...Object.keys(oc(s,i))]);for(const Ae of Array.from(ne))Q(r.dirtyFields,Ae)?Be(V,Ae,Q(i,Ae)):B(Ae,Q(V,Ae))}else{if(Ov&&nt(E))for(const ne of a.mount){const Ae=Q(n,ne);if(Ae&&Ae._f){const Ue=Array.isArray(Ae._f.refs)?Ae._f.refs[0]:Ae._f.ref;if(uh(Ue)){const Je=Ue.closest("form");if(Je){Je.reset();break}}}}for(const ne of a.mount)B(ne,Q(V,ne))}i=pt(V),h.array.next({values:{...V}}),h.state.next({values:{...V}})}a={mount:A.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!A.keepIsValid||!!A.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:A.keepSubmitCount?r.submitCount:0,isDirty:H?!1:A.keepDirty?r.isDirty:!!(A.keepDefaultValues&&!li(E,s)),isSubmitted:A.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:H?{}:A.keepDirtyValues?A.keepDefaultValues&&i?oc(s,i):r.dirtyFields:A.keepDefaultValues&&E?oc(s,E):A.keepDirty?r.dirtyFields:{},touchedFields:A.keepTouched?r.touchedFields:{},errors:A.keepErrors?r.errors:{},isSubmitSuccessful:A.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},ud=(E,A)=>Bl(Pn(E)?E(i):E,A),hs=(E,A={})=>{const D=Q(n,E),Y=D&&D._f;if(Y){const H=Y.refs?Y.refs[0]:Y.ref;H.focus&&(H.focus(),A.shouldSelect&&Pn(H.select)&&H.select())}},Np=E=>{r={...r,...E}},Vl={control:{register:zl,unregister:$l,getFieldState:xt,handleSubmit:It,setError:cr,_subscribe:At,_runSchema:M,_getWatch:te,_getDirty:q,_setValid:v,_setFieldArray:b,_setDisabledField:Yi,_setErrors:O,_getFieldArray:de,_reset:Bl,_resetDefaultValues:()=>Pn(e.defaultValues)&&e.defaultValues().then(E=>{ud(E,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:L,_disableForm:Cp,_subjects:h,_proxyFormState:u,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(E){o=E},get _defaultValues(){return s},get _names(){return a},set _names(E){a=E},get _formState(){return r},get _options(){return e},set _options(E){e={...e,...E}}},subscribe:Yr,trigger:Te,register:zl,handleSubmit:It,watch:ut,setValue:B,getValues:Ne,reset:ud,resetField:Vs,clearErrors:St,unregister:$l,setError:cr,setFocus:hs,getFieldState:xt};return{...Vl,formControl:Vl}}var Ks=()=>{const t=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const r=(Math.random()*16+t)%16|0;return(e=="x"?r:r&3|8).toString(16)})},km=(t,e,r={})=>r.shouldFocus||nt(r.shouldFocus)?r.focusName||`${t}.${nt(r.focusIndex)?e:r.focusIndex}.`:"",_m=(t,e)=>[...t,...jr(e)],Em=t=>Array.isArray(t)?t.map(()=>{}):void 0;function Cm(t,e,r){return[...t.slice(0,e),...jr(r),...t.slice(e)]}var Nm=(t,e,r)=>Array.isArray(t)?(nt(t[r])&&(t[r]=void 0),t.splice(r,0,t.splice(e,1)[0]),t):[],jm=(t,e)=>[...jr(e),...jr(t)];function vL(t,e){let r=0;const n=[...t];for(const s of e)n.splice(s-r,1),r++;return nd(n).length?n:[]}var Om=(t,e)=>nt(e)?[]:vL(t,jr(e).sort((r,n)=>r-n)),Tm=(t,e,r)=>{[t[e],t[r]]=[t[r],t[e]]},Vb=(t,e,r)=>(t[e]=r,t);function xL(t){const e=nL(),{control:r=e.control,name:n,keyName:s="id",shouldUnregister:i,rules:o}=t,[a,l]=fe.useState(r._getFieldArray(n)),c=fe.useRef(r._getFieldArray(n).map(Ks)),u=fe.useRef(a),f=fe.useRef(n),h=fe.useRef(!1);f.current=n,u.current=a,r._names.array.add(n),o&&r.register(n,o),fe.useEffect(()=>r._subjects.array.subscribe({next:({values:N,name:T})=>{if(T===f.current||!T){const w=Q(N,f.current);Array.isArray(w)&&(l(w),c.current=w.map(Ks))}}}).unsubscribe,[r]);const p=fe.useCallback(N=>{h.current=!0,r._setFieldArray(n,N)},[r,n]),m=(N,T)=>{const w=jr(pt(N)),M=_m(r._getFieldArray(n),w);r._names.focus=km(n,M.length-1,T),c.current=_m(c.current,w.map(Ks)),p(M),l(M),r._setFieldArray(n,M,_m,{argA:Em(N)})},g=(N,T)=>{const w=jr(pt(N)),M=jm(r._getFieldArray(n),w);r._names.focus=km(n,0,T),c.current=jm(c.current,w.map(Ks)),p(M),l(M),r._setFieldArray(n,M,jm,{argA:Em(N)})},x=N=>{const T=Om(r._getFieldArray(n),N);c.current=Om(c.current,N),p(T),l(T),!Array.isArray(Q(r._fields,n))&&Be(r._fields,n,void 0),r._setFieldArray(n,T,Om,{argA:N})},v=(N,T,w)=>{const M=jr(pt(T)),P=Cm(r._getFieldArray(n),N,M);r._names.focus=km(n,N,w),c.current=Cm(c.current,N,M.map(Ks)),p(P),l(P),r._setFieldArray(n,P,Cm,{argA:N,argB:Em(T)})},y=(N,T)=>{const w=r._getFieldArray(n);Tm(w,N,T),Tm(c.current,N,T),p(w),l(w),r._setFieldArray(n,w,Tm,{argA:N,argB:T},!1)},b=(N,T)=>{const w=r._getFieldArray(n);Nm(w,N,T),Nm(c.current,N,T),p(w),l(w),r._setFieldArray(n,w,Nm,{argA:N,argB:T},!1)},S=(N,T)=>{const w=pt(T),M=Vb(r._getFieldArray(n),N,w);c.current=[...M].map((P,R)=>!P||R===N?Ks():c.current[R]),p(M),l([...M]),r._setFieldArray(n,M,Vb,{argA:N,argB:w},!0,!1)},O=N=>{const T=jr(pt(N));c.current=T.map(Ks),p([...T]),l([...T]),r._setFieldArray(n,[...T],w=>w,{},!0,!1)};return fe.useEffect(()=>{if(r._state.action=!1,Ay(n,r._names)&&r._subjects.state.next({...r._formState}),h.current&&(!Pa(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!Pa(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([n]).then(N=>{const T=Q(N.errors,n),w=Q(r._formState.errors,n);(w?!T&&w.type||T&&(w.type!==T.type||w.message!==T.message):T&&T.type)&&(T?Be(r._formState.errors,n,T):_t(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const N=Q(r._fields,n);N&&N._f&&!(Pa(r._options.reValidateMode).isOnSubmit&&Pa(r._options.mode).isOnSubmit)&&Iy(N,r._names.disabled,r._formValues,r._options.criteriaMode===on.all,r._options.shouldUseNativeValidation,!0).then(T=>!er(T)&&r._subjects.state.next({errors:DC(r._formState.errors,T,n)}))}r._subjects.state.next({name:n,values:pt(r._formValues)}),r._names.focus&&Ua(r._fields,(N,T)=>{if(r._names.focus&&T.startsWith(r._names.focus)&&N.focus)return N.focus(),1}),r._names.focus="",r._setValid(),h.current=!1},[a,n,r]),fe.useEffect(()=>(!Q(r._formValues,n)&&r._setFieldArray(n),()=>{const N=(T,w)=>{const M=Q(r._fields,T);M&&M._f&&(M._f.mount=w)};r._options.shouldUnregister||i?r.unregister(n):N(n,!1)}),[n,r,s,i]),{swap:fe.useCallback(y,[p,n,r]),move:fe.useCallback(b,[p,n,r]),prepend:fe.useCallback(g,[p,n,r]),append:fe.useCallback(m,[p,n,r]),remove:fe.useCallback(x,[p,n,r]),insert:fe.useCallback(v,[p,n,r]),update:fe.useCallback(S,[p,n,r]),replace:fe.useCallback(O,[p,n,r]),fields:fe.useMemo(()=>a.map((N,T)=>({...N,[s]:c.current[T]||Ks()})),[a,s])}}function Av(t={}){const e=fe.useRef(void 0),r=fe.useRef(void 0),[n,s]=fe.useState({isDirty:!1,isValidating:!1,isLoading:Pn(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Pn(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:yL(t),formState:n},t.formControl&&t.defaultValues&&!Pn(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const i=e.current.control;return i._options=t,fe.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0}),[i]),fe.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),fe.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),fe.useEffect(()=>{t.values&&!li(t.values,r.current)?(i._reset(t.values,i._options.resetOptions),r.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),fe.useEffect(()=>{t.errors&&!er(t.errors)&&i._setErrors(t.errors)},[t.errors,i]),fe.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),fe.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[t.shouldUnregister,i]),e.current.formState=sL(n,i),e.current}const Ub=(t,e,r)=>{if(t&&"reportValidity"in t){const n=Q(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},LC=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?Ub(n.ref,r,t):n.refs&&n.refs.forEach(s=>Ub(s,r,t))}},bL=(t,e)=>{e.shouldUseNativeValidation&&LC(t,e);const r={};for(const n in t){const s=Q(e.fields,n),i=Object.assign(t[n]||{},{ref:s&&s.ref});if(wL(e.names||Object.keys(t),n)){const o=Object.assign({},Q(r,n));Be(o,"root",i),Be(r,n,o)}else Be(r,n,i)}return r},wL=(t,e)=>t.some(r=>r.startsWith(e+"."));var SL=function(t,e){for(var r={};t.length;){var n=t[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var a=n.unionErrors[0].errors[0];r[o]={message:a.message,type:a.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(u){return u.errors.forEach(function(f){return t.push(f)})}),e){var l=r[o].types,c=l&&l[n.code];r[o]=OC(o,e,r,s,c?[].concat(c,n.message):n.message)}t.shift()}return r},Iv=function(t,e,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(c){return i.shouldUseNativeValidation&&LC({},i),{errors:{},values:r.raw?n:c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:bL(SL(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Le;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Le||(Le={}));var Ry;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Ry||(Ry={}));const X=Le.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ci=t=>{switch(typeof t){case"undefined":return X.undefined;case"string":return X.string;case"number":return isNaN(t)?X.nan:X.number;case"boolean":return X.boolean;case"function":return X.function;case"bigint":return X.bigint;case"symbol":return X.symbol;case"object":return Array.isArray(t)?X.array:t===null?X.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?X.promise:typeof Map<"u"&&t instanceof Map?X.map:typeof Set<"u"&&t instanceof Set?X.set:typeof Date<"u"&&t instanceof Date?X.date:X.object;default:return X.unknown}},U=Le.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),kL=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Wr extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(r(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return s(this),n}static assert(e){if(!(e instanceof Wr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Le.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Wr.create=t=>new Wr(t);const kl=(t,e)=>{let r;switch(t.code){case U.invalid_type:t.received===X.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case U.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Le.jsonStringifyReplacer)}`;break;case U.unrecognized_keys:r=`Unrecognized key(s) in object: ${Le.joinValues(t.keys,", ")}`;break;case U.invalid_union:r="Invalid input";break;case U.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Le.joinValues(t.options)}`;break;case U.invalid_enum_value:r=`Invalid enum value. Expected ${Le.joinValues(t.options)}, received '${t.received}'`;break;case U.invalid_arguments:r="Invalid function arguments";break;case U.invalid_return_type:r="Invalid function return type";break;case U.invalid_date:r="Invalid date";break;case U.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Le.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case U.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case U.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case U.custom:r="Invalid input";break;case U.invalid_intersection_types:r="Intersection results could not be merged";break;case U.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case U.not_finite:r="Number must be finite";break;default:r=e.defaultError,Le.assertNever(t)}return{message:r}};let FC=kl;function _L(t){FC=t}function hh(){return FC}const ph=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=n.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}},EL=[];function Z(t,e){const r=hh(),n=ph({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===kl?void 0:kl].filter(s=>!!s)});t.common.issues.push(n)}class or{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return ve;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return or.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return ve;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:e.value,value:n}}}const ve=Object.freeze({status:"aborted"}),Ma=t=>({status:"dirty",value:t}),gr=t=>({status:"valid",value:t}),Dy=t=>t.status==="aborted",Ly=t=>t.status==="dirty",mu=t=>t.status==="valid",gu=t=>typeof Promise<"u"&&t instanceof Promise;function mh(t,e,r,n){if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function $C(t,e,r,n,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var ce;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ce||(ce={}));var vc,xc;class ss{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Hb=(t,e)=>{if(mu(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Wr(t.common.issues);return this._error=r,this._error}}};function Se(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{var l,c;const{message:u}=t;return o.code==="invalid_enum_value"?{message:u??a.defaultError}:typeof a.data>"u"?{message:(l=u??n)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(c=u??r)!==null&&c!==void 0?c:a.defaultError}},description:s}}class Ce{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return ci(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:ci(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new or,ctx:{common:e.parent.common,data:e.data,parsedType:ci(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(gu(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ci(e)},i=this._parseSync({data:e,path:s.path,parent:s});return Hb(s,i)}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ci(e)},s=this._parse({data:e,path:n.path,parent:n}),i=await(gu(s)?s:Promise.resolve(s));return Hb(n,i)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:U.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new $n({schema:this,typeName:ye.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return rs.create(this,this._def)}nullable(){return Bi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Dn.create(this,this._def)}promise(){return El.create(this,this._def)}or(e){return bu.create([this,e],this._def)}and(e){return wu.create(this,e,this._def)}transform(e){return new $n({...Se(this._def),schema:this,typeName:ye.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Cu({...Se(this._def),innerType:this,defaultValue:r,typeName:ye.ZodDefault})}brand(){return new Rv({typeName:ye.ZodBranded,type:this,...Se(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Nu({...Se(this._def),innerType:this,catchValue:r,typeName:ye.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return sd.create(this,e)}readonly(){return ju.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const CL=/^c[^\s-]{8,}$/i,NL=/^[0-9a-z]+$/,jL=/^[0-9A-HJKMNP-TV-Z]{26}$/,OL=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,TL=/^[a-z0-9_-]{21}$/i,PL=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ML=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,AL="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Pm;const IL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,RL=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,DL=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,zC="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",LL=new RegExp(`^${zC}$`);function BC(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function FL(t){return new RegExp(`^${BC(t)}$`)}function VC(t){let e=`${zC}T${BC(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function $L(t,e){return!!((e==="v4"||!e)&&IL.test(t)||(e==="v6"||!e)&&RL.test(t))}class An extends Ce{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==X.string){const i=this._getOrReturnCtx(e);return Z(i,{code:U.invalid_type,expected:X.string,received:i.parsedType}),ve}const n=new or;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),Z(s,{code:U.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),Z(s,{code:U.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?Z(s,{code:U.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&Z(s,{code:U.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")ML.test(e.data)||(s=this._getOrReturnCtx(e,s),Z(s,{validation:"email",code:U.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Pm||(Pm=new RegExp(AL,"u")),Pm.test(e.data)||(s=this._getOrReturnCtx(e,s),Z(s,{validation:"emoji",code:U.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")OL.test(e.data)||(s=this._getOrReturnCtx(e,s),Z(s,{validation:"uuid",code:U.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")TL.test(e.data)||(s=this._getOrReturnCtx(e,s),Z(s,{validation:"nanoid",code:U.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")CL.test(e.data)||(s=this._getOrReturnCtx(e,s),Z(s,{validation:"cuid",code:U.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")NL.test(e.data)||(s=this._getOrReturnCtx(e,s),Z(s,{validation:"cuid2",code:U.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")jL.test(e.data)||(s=this._getOrReturnCtx(e,s),Z(s,{validation:"ulid",code:U.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Z(s,{validation:"url",code:U.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Z(s,{validation:"regex",code:U.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),Z(s,{code:U.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),Z(s,{code:U.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),Z(s,{code:U.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?VC(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Z(s,{code:U.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?LL.test(e.data)||(s=this._getOrReturnCtx(e,s),Z(s,{code:U.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?FL(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Z(s,{code:U.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?PL.test(e.data)||(s=this._getOrReturnCtx(e,s),Z(s,{validation:"duration",code:U.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?$L(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Z(s,{validation:"ip",code:U.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?DL.test(e.data)||(s=this._getOrReturnCtx(e,s),Z(s,{validation:"base64",code:U.invalid_string,message:i.message}),n.dirty()):Le.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:U.invalid_string,...ce.errToObj(n)})}_addCheck(e){return new An({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ce.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ce.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ce.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ce.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ce.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ce.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ce.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ce.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ce.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ce.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...ce.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ce.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ce.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...ce.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...ce.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...ce.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...ce.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...ce.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...ce.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...ce.errToObj(r)})}nonempty(e){return this.min(1,ce.errToObj(e))}trim(){return new An({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new An({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new An({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}An.create=t=>{var e;return new An({checks:[],typeName:ye.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Se(t)})};function zL(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Fi extends Ce{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==X.number){const i=this._getOrReturnCtx(e);return Z(i,{code:U.invalid_type,expected:X.number,received:i.parsedType}),ve}let n;const s=new or;for(const i of this._def.checks)i.kind==="int"?Le.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Z(n,{code:U.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),Z(n,{code:U.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),Z(n,{code:U.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?zL(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),Z(n,{code:U.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Z(n,{code:U.not_finite,message:i.message}),s.dirty()):Le.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,ce.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ce.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ce.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ce.toString(r))}setLimit(e,r,n,s){return new Fi({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ce.toString(s)}]})}_addCheck(e){return new Fi({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ce.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ce.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ce.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ce.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ce.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ce.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:ce.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ce.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ce.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Le.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Fi.create=t=>new Fi({checks:[],typeName:ye.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Se(t)});class $i extends Ce{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==X.bigint){const i=this._getOrReturnCtx(e);return Z(i,{code:U.invalid_type,expected:X.bigint,received:i.parsedType}),ve}let n;const s=new or;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),Z(n,{code:U.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),Z(n,{code:U.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Z(n,{code:U.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Le.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,ce.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ce.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ce.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ce.toString(r))}setLimit(e,r,n,s){return new $i({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ce.toString(s)}]})}_addCheck(e){return new $i({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ce.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ce.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ce.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ce.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ce.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}$i.create=t=>{var e;return new $i({checks:[],typeName:ye.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Se(t)})};class yu extends Ce{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==X.boolean){const n=this._getOrReturnCtx(e);return Z(n,{code:U.invalid_type,expected:X.boolean,received:n.parsedType}),ve}return gr(e.data)}}yu.create=t=>new yu({typeName:ye.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Se(t)});class Uo extends Ce{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==X.date){const i=this._getOrReturnCtx(e);return Z(i,{code:U.invalid_type,expected:X.date,received:i.parsedType}),ve}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Z(i,{code:U.invalid_date}),ve}const n=new or;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),Z(s,{code:U.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),Z(s,{code:U.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Le.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Uo({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:ce.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:ce.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Uo.create=t=>new Uo({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ye.ZodDate,...Se(t)});class gh extends Ce{_parse(e){if(this._getType(e)!==X.symbol){const n=this._getOrReturnCtx(e);return Z(n,{code:U.invalid_type,expected:X.symbol,received:n.parsedType}),ve}return gr(e.data)}}gh.create=t=>new gh({typeName:ye.ZodSymbol,...Se(t)});class vu extends Ce{_parse(e){if(this._getType(e)!==X.undefined){const n=this._getOrReturnCtx(e);return Z(n,{code:U.invalid_type,expected:X.undefined,received:n.parsedType}),ve}return gr(e.data)}}vu.create=t=>new vu({typeName:ye.ZodUndefined,...Se(t)});class xu extends Ce{_parse(e){if(this._getType(e)!==X.null){const n=this._getOrReturnCtx(e);return Z(n,{code:U.invalid_type,expected:X.null,received:n.parsedType}),ve}return gr(e.data)}}xu.create=t=>new xu({typeName:ye.ZodNull,...Se(t)});class _l extends Ce{constructor(){super(...arguments),this._any=!0}_parse(e){return gr(e.data)}}_l.create=t=>new _l({typeName:ye.ZodAny,...Se(t)});class jo extends Ce{constructor(){super(...arguments),this._unknown=!0}_parse(e){return gr(e.data)}}jo.create=t=>new jo({typeName:ye.ZodUnknown,...Se(t)});class $s extends Ce{_parse(e){const r=this._getOrReturnCtx(e);return Z(r,{code:U.invalid_type,expected:X.never,received:r.parsedType}),ve}}$s.create=t=>new $s({typeName:ye.ZodNever,...Se(t)});class yh extends Ce{_parse(e){if(this._getType(e)!==X.undefined){const n=this._getOrReturnCtx(e);return Z(n,{code:U.invalid_type,expected:X.void,received:n.parsedType}),ve}return gr(e.data)}}yh.create=t=>new yh({typeName:ye.ZodVoid,...Se(t)});class Dn extends Ce{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==X.array)return Z(r,{code:U.invalid_type,expected:X.array,received:r.parsedType}),ve;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,a=r.data.length<s.exactLength.value;(o||a)&&(Z(r,{code:o?U.too_big:U.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(Z(r,{code:U.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(Z(r,{code:U.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>s.type._parseAsync(new ss(r,o,r.path,a)))).then(o=>or.mergeArray(n,o));const i=[...r.data].map((o,a)=>s.type._parseSync(new ss(r,o,r.path,a)));return or.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new Dn({...this._def,minLength:{value:e,message:ce.toString(r)}})}max(e,r){return new Dn({...this._def,maxLength:{value:e,message:ce.toString(r)}})}length(e,r){return new Dn({...this._def,exactLength:{value:e,message:ce.toString(r)}})}nonempty(e){return this.min(1,e)}}Dn.create=(t,e)=>new Dn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ye.ZodArray,...Se(e)});function ma(t){if(t instanceof it){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=rs.create(ma(n))}return new it({...t._def,shape:()=>e})}else return t instanceof Dn?new Dn({...t._def,type:ma(t.element)}):t instanceof rs?rs.create(ma(t.unwrap())):t instanceof Bi?Bi.create(ma(t.unwrap())):t instanceof is?is.create(t.items.map(e=>ma(e))):t}class it extends Ce{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Le.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==X.object){const c=this._getOrReturnCtx(e);return Z(c,{code:U.invalid_type,expected:X.object,received:c.parsedType}),ve}const{status:n,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof $s&&this._def.unknownKeys==="strip"))for(const c in s.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const u=i[c],f=s.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new ss(s,f,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof $s){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(c==="strict")a.length>0&&(Z(s,{code:U.unrecognized_keys,keys:a}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const f=s.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new ss(s,f,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const f=await u.key,h=await u.value;c.push({key:f,value:h,alwaysSet:u.alwaysSet})}return c}).then(c=>or.mergeObjectSync(n,c)):or.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return ce.errToObj,new it({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var s,i,o,a;const l=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=ce.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new it({...this._def,unknownKeys:"strip"})}passthrough(){return new it({...this._def,unknownKeys:"passthrough"})}extend(e){return new it({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new it({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ye.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new it({...this._def,catchall:e})}pick(e){const r={};return Le.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new it({...this._def,shape:()=>r})}omit(e){const r={};return Le.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new it({...this._def,shape:()=>r})}deepPartial(){return ma(this)}partial(e){const r={};return Le.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}),new it({...this._def,shape:()=>r})}required(e){const r={};return Le.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof rs;)i=i._def.innerType;r[n]=i}}),new it({...this._def,shape:()=>r})}keyof(){return UC(Le.objectKeys(this.shape))}}it.create=(t,e)=>new it({shape:()=>t,unknownKeys:"strip",catchall:$s.create(),typeName:ye.ZodObject,...Se(e)});it.strictCreate=(t,e)=>new it({shape:()=>t,unknownKeys:"strict",catchall:$s.create(),typeName:ye.ZodObject,...Se(e)});it.lazycreate=(t,e)=>new it({shape:t,unknownKeys:"strip",catchall:$s.create(),typeName:ye.ZodObject,...Se(e)});class bu extends Ce{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new Wr(a.ctx.common.issues));return Z(r,{code:U.invalid_union,unionErrors:o}),ve}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of n){const c={...r,common:{...r.common,issues:[]},parent:null},u=l._parseSync({data:r.data,path:r.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new Wr(l));return Z(r,{code:U.invalid_union,unionErrors:a}),ve}}get options(){return this._def.options}}bu.create=(t,e)=>new bu({options:t,typeName:ye.ZodUnion,...Se(e)});const ws=t=>t instanceof ku?ws(t.schema):t instanceof $n?ws(t.innerType()):t instanceof _u?[t.value]:t instanceof zi?t.options:t instanceof Eu?Le.objectValues(t.enum):t instanceof Cu?ws(t._def.innerType):t instanceof vu?[void 0]:t instanceof xu?[null]:t instanceof rs?[void 0,...ws(t.unwrap())]:t instanceof Bi?[null,...ws(t.unwrap())]:t instanceof Rv||t instanceof ju?ws(t.unwrap()):t instanceof Nu?ws(t._def.innerType):[];class up extends Ce{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==X.object)return Z(r,{code:U.invalid_type,expected:X.object,received:r.parsedType}),ve;const n=this.discriminator,s=r.data[n],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(Z(r,{code:U.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),ve)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const s=new Map;for(const i of r){const o=ws(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new up({typeName:ye.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,...Se(n)})}}function Fy(t,e){const r=ci(t),n=ci(e);if(t===e)return{valid:!0,data:t};if(r===X.object&&n===X.object){const s=Le.objectKeys(e),i=Le.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=Fy(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(r===X.array&&n===X.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=Fy(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return r===X.date&&n===X.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class wu extends Ce{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(i,o)=>{if(Dy(i)||Dy(o))return ve;const a=Fy(i.value,o.value);return a.valid?((Ly(i)||Ly(o))&&r.dirty(),{status:r.value,value:a.data}):(Z(n,{code:U.invalid_intersection_types}),ve)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}wu.create=(t,e,r)=>new wu({left:t,right:e,typeName:ye.ZodIntersection,...Se(r)});class is extends Ce{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==X.array)return Z(n,{code:U.invalid_type,expected:X.array,received:n.parsedType}),ve;if(n.data.length<this._def.items.length)return Z(n,{code:U.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ve;!this._def.rest&&n.data.length>this._def.items.length&&(Z(n,{code:U.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new ss(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>or.mergeArray(r,o)):or.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new is({...this._def,rest:e})}}is.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new is({items:t,typeName:ye.ZodTuple,rest:null,...Se(e)})};class Su extends Ce{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==X.object)return Z(n,{code:U.invalid_type,expected:X.object,received:n.parsedType}),ve;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in n.data)s.push({key:i._parse(new ss(n,a,n.path,a)),value:o._parse(new ss(n,n.data[a],n.path,a)),alwaysSet:a in n.data});return n.common.async?or.mergeObjectAsync(r,s):or.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof Ce?new Su({keyType:e,valueType:r,typeName:ye.ZodRecord,...Se(n)}):new Su({keyType:An.create(),valueType:e,typeName:ye.ZodRecord,...Se(r)})}}class vh extends Ce{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==X.map)return Z(n,{code:U.invalid_type,expected:X.map,received:n.parsedType}),ve;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([a,l],c)=>({key:s._parse(new ss(n,a,n.path,[c,"key"])),value:i._parse(new ss(n,l,n.path,[c,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return ve;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(c.value,u.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return ve;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(c.value,u.value)}return{status:r.value,value:a}}}}vh.create=(t,e,r)=>new vh({valueType:e,keyType:t,typeName:ye.ZodMap,...Se(r)});class Ho extends Ce{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==X.set)return Z(n,{code:U.invalid_type,expected:X.set,received:n.parsedType}),ve;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(Z(n,{code:U.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(Z(n,{code:U.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(l){const c=new Set;for(const u of l){if(u.status==="aborted")return ve;u.status==="dirty"&&r.dirty(),c.add(u.value)}return{status:r.value,value:c}}const a=[...n.data.values()].map((l,c)=>i._parse(new ss(n,l,n.path,c)));return n.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,r){return new Ho({...this._def,minSize:{value:e,message:ce.toString(r)}})}max(e,r){return new Ho({...this._def,maxSize:{value:e,message:ce.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Ho.create=(t,e)=>new Ho({valueType:t,minSize:null,maxSize:null,typeName:ye.ZodSet,...Se(e)});class Ha extends Ce{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==X.function)return Z(r,{code:U.invalid_type,expected:X.function,received:r.parsedType}),ve;function n(a,l){return ph({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,hh(),kl].filter(c=>!!c),issueData:{code:U.invalid_arguments,argumentsError:l}})}function s(a,l){return ph({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,hh(),kl].filter(c=>!!c),issueData:{code:U.invalid_return_type,returnTypeError:l}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof El){const a=this;return gr(async function(...l){const c=new Wr([]),u=await a._def.args.parseAsync(l,i).catch(p=>{throw c.addIssue(n(l,p)),c}),f=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(f,i).catch(p=>{throw c.addIssue(s(f,p)),c})})}else{const a=this;return gr(function(...l){const c=a._def.args.safeParse(l,i);if(!c.success)throw new Wr([n(l,c.error)]);const u=Reflect.apply(o,this,c.data),f=a._def.returns.safeParse(u,i);if(!f.success)throw new Wr([s(u,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ha({...this._def,args:is.create(e).rest(jo.create())})}returns(e){return new Ha({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new Ha({args:e||is.create([]).rest(jo.create()),returns:r||jo.create(),typeName:ye.ZodFunction,...Se(n)})}}class ku extends Ce{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}ku.create=(t,e)=>new ku({getter:t,typeName:ye.ZodLazy,...Se(e)});class _u extends Ce{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Z(r,{received:r.data,code:U.invalid_literal,expected:this._def.value}),ve}return{status:"valid",value:e.data}}get value(){return this._def.value}}_u.create=(t,e)=>new _u({value:t,typeName:ye.ZodLiteral,...Se(e)});function UC(t,e){return new zi({values:t,typeName:ye.ZodEnum,...Se(e)})}class zi extends Ce{constructor(){super(...arguments),vc.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Z(r,{expected:Le.joinValues(n),received:r.parsedType,code:U.invalid_type}),ve}if(mh(this,vc)||$C(this,vc,new Set(this._def.values)),!mh(this,vc).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return Z(r,{received:r.data,code:U.invalid_enum_value,options:n}),ve}return gr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return zi.create(e,{...this._def,...r})}exclude(e,r=this._def){return zi.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}vc=new WeakMap;zi.create=UC;class Eu extends Ce{constructor(){super(...arguments),xc.set(this,void 0)}_parse(e){const r=Le.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==X.string&&n.parsedType!==X.number){const s=Le.objectValues(r);return Z(n,{expected:Le.joinValues(s),received:n.parsedType,code:U.invalid_type}),ve}if(mh(this,xc)||$C(this,xc,new Set(Le.getValidEnumValues(this._def.values))),!mh(this,xc).has(e.data)){const s=Le.objectValues(r);return Z(n,{received:n.data,code:U.invalid_enum_value,options:s}),ve}return gr(e.data)}get enum(){return this._def.values}}xc=new WeakMap;Eu.create=(t,e)=>new Eu({values:t,typeName:ye.ZodNativeEnum,...Se(e)});class El extends Ce{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==X.promise&&r.common.async===!1)return Z(r,{code:U.invalid_type,expected:X.promise,received:r.parsedType}),ve;const n=r.parsedType===X.promise?r.data:Promise.resolve(r.data);return gr(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}El.create=(t,e)=>new El({type:t,typeName:ye.ZodPromise,...Se(e)});class $n extends Ce{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ye.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{Z(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async a=>{if(r.value==="aborted")return ve;const l=await this._def.schema._parseAsync({data:a,path:n.path,parent:n});return l.status==="aborted"?ve:l.status==="dirty"||r.value==="dirty"?Ma(l.value):l});{if(r.value==="aborted")return ve;const a=this._def.schema._parseSync({data:o,path:n.path,parent:n});return a.status==="aborted"?ve:a.status==="dirty"||r.value==="dirty"?Ma(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?ve:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?ve:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!mu(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>mu(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:r.value,value:a})):o);Le.assertNever(s)}}$n.create=(t,e,r)=>new $n({schema:t,typeName:ye.ZodEffects,effect:e,...Se(r)});$n.createWithPreprocess=(t,e,r)=>new $n({schema:e,effect:{type:"preprocess",transform:t},typeName:ye.ZodEffects,...Se(r)});class rs extends Ce{_parse(e){return this._getType(e)===X.undefined?gr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}rs.create=(t,e)=>new rs({innerType:t,typeName:ye.ZodOptional,...Se(e)});class Bi extends Ce{_parse(e){return this._getType(e)===X.null?gr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Bi.create=(t,e)=>new Bi({innerType:t,typeName:ye.ZodNullable,...Se(e)});class Cu extends Ce{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===X.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Cu.create=(t,e)=>new Cu({innerType:t,typeName:ye.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Se(e)});class Nu extends Ce{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return gu(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Wr(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Wr(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Nu.create=(t,e)=>new Nu({innerType:t,typeName:ye.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Se(e)});class xh extends Ce{_parse(e){if(this._getType(e)!==X.nan){const n=this._getOrReturnCtx(e);return Z(n,{code:U.invalid_type,expected:X.nan,received:n.parsedType}),ve}return{status:"valid",value:e.data}}}xh.create=t=>new xh({typeName:ye.ZodNaN,...Se(t)});const BL=Symbol("zod_brand");class Rv extends Ce{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class sd extends Ce{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?ve:i.status==="dirty"?(r.dirty(),Ma(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?ve:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new sd({in:e,out:r,typeName:ye.ZodPipeline})}}class ju extends Ce{_parse(e){const r=this._def.innerType._parse(e),n=s=>(mu(s)&&(s.value=Object.freeze(s.value)),s);return gu(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}ju.create=(t,e)=>new ju({innerType:t,typeName:ye.ZodReadonly,...Se(e)});function HC(t,e={},r){return t?_l.create().superRefine((n,s)=>{var i,o;if(!t(n)){const a=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,l=(o=(i=a.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0,c=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...c,fatal:l})}}):_l.create()}const VL={object:it.lazycreate};var ye;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ye||(ye={}));const UL=(t,e={message:`Input not instance of ${t.name}`})=>HC(r=>r instanceof t,e),qC=An.create,WC=Fi.create,HL=xh.create,qL=$i.create,KC=yu.create,WL=Uo.create,KL=gh.create,JL=vu.create,ZL=xu.create,QL=_l.create,GL=jo.create,YL=$s.create,XL=yh.create,e6=Dn.create,t6=it.create,r6=it.strictCreate,n6=bu.create,s6=up.create,i6=wu.create,o6=is.create,a6=Su.create,l6=vh.create,c6=Ho.create,u6=Ha.create,d6=ku.create,f6=_u.create,h6=zi.create,p6=Eu.create,m6=El.create,qb=$n.create,g6=rs.create,y6=Bi.create,v6=$n.createWithPreprocess,x6=sd.create,b6=()=>qC().optional(),w6=()=>WC().optional(),S6=()=>KC().optional(),k6={string:t=>An.create({...t,coerce:!0}),number:t=>Fi.create({...t,coerce:!0}),boolean:t=>yu.create({...t,coerce:!0}),bigint:t=>$i.create({...t,coerce:!0}),date:t=>Uo.create({...t,coerce:!0})},_6=ve;var Qe=Object.freeze({__proto__:null,defaultErrorMap:kl,setErrorMap:_L,getErrorMap:hh,makeIssue:ph,EMPTY_PATH:EL,addIssueToContext:Z,ParseStatus:or,INVALID:ve,DIRTY:Ma,OK:gr,isAborted:Dy,isDirty:Ly,isValid:mu,isAsync:gu,get util(){return Le},get objectUtil(){return Ry},ZodParsedType:X,getParsedType:ci,ZodType:Ce,datetimeRegex:VC,ZodString:An,ZodNumber:Fi,ZodBigInt:$i,ZodBoolean:yu,ZodDate:Uo,ZodSymbol:gh,ZodUndefined:vu,ZodNull:xu,ZodAny:_l,ZodUnknown:jo,ZodNever:$s,ZodVoid:yh,ZodArray:Dn,ZodObject:it,ZodUnion:bu,ZodDiscriminatedUnion:up,ZodIntersection:wu,ZodTuple:is,ZodRecord:Su,ZodMap:vh,ZodSet:Ho,ZodFunction:Ha,ZodLazy:ku,ZodLiteral:_u,ZodEnum:zi,ZodNativeEnum:Eu,ZodPromise:El,ZodEffects:$n,ZodTransformer:$n,ZodOptional:rs,ZodNullable:Bi,ZodDefault:Cu,ZodCatch:Nu,ZodNaN:xh,BRAND:BL,ZodBranded:Rv,ZodPipeline:sd,ZodReadonly:ju,custom:HC,Schema:Ce,ZodSchema:Ce,late:VL,get ZodFirstPartyTypeKind(){return ye},coerce:k6,any:QL,array:e6,bigint:qL,boolean:KC,date:WL,discriminatedUnion:s6,effect:qb,enum:h6,function:u6,instanceof:UL,intersection:i6,lazy:d6,literal:f6,map:l6,nan:HL,nativeEnum:p6,never:YL,null:ZL,nullable:y6,number:WC,object:t6,oboolean:S6,onumber:w6,optional:g6,ostring:b6,pipeline:x6,preprocess:v6,promise:m6,record:a6,set:c6,strictObject:r6,string:qC,symbol:KL,transformer:qb,tuple:o6,undefined:JL,union:n6,unknown:GL,void:XL,NEVER:_6,ZodIssueCode:U,quotelessJson:kL,ZodError:Wr});const E6=Qe.object({email:Qe.string().email("El correo electrnico no es vlido"),password:Qe.string().min(6,"La contrasea debe tener al menos 6 caracteres"),fullName:Qe.string().min(1,"El nombre completo es requerido"),phone:Qe.string().min(10,"El numero de telfono debe ser de 10 digitos")}),C6=Qe.object({addressLine1:Qe.string().min(1,"La direccin es requerida").max(100,"La direccin no debe exceder los 100 carcteres"),addressLine2:Qe.string().max(100,"La direccin no debe exceder los 100 carcteres").optional(),city:Qe.string().min(1,"La ciudad es requerida").max(50,"La ciudad no debe exceder los 50 carcteres"),state:Qe.string().min(1,"El estado es requerido").max(50,"El estado no debe exceder los 50 carcteres"),postalCode:Qe.string().max(5,"El cdigo postal no debe exceder los 5 carcteres")}),N6=t=>!t||!Array.isArray(t.content)||t.content.length==0?!0:!t.content.some(e=>e.type==="paragraph"&&e.content&&Array.isArray(e.content)&&e.content.some(r=>r.type==="text"&&r.text&&r.text.trim()!=="")),j6=Qe.object({name:Qe.string().min(1,"El nombre del producto es obligatorio"),brand:Qe.string().min(1,"La marca del producto es obligatoria"),slug:Qe.string().min(1,"El slug del producto es obligatorio").regex(/^[a-z0-9]+(?:-[a-z0-9]+)*$/,"Slug invlido"),description:Qe.custom(t=>!N6(t),{message:"La descripcin no puede estar vaca"}),variants:Qe.array(Qe.object({id:Qe.string().optional(),stock:Qe.number(),price:Qe.number().min(.01,"El precio debe ser mayor a 0"),target:Qe.string().min(1,"El objetivo es requerido"),type:Qe.string().min(1,"El tipo es requerido"),kg:Qe.number().min(.01,"El peso es requerido")})).min(1,"Debe haber al menos una variante"),images:Qe.array(Qe.any()).min(1,"Debe haber al menos una imagen")}),lc=({className:t,titleSection:e,children:r})=>d.jsxs("div",{className:`bg-white border border-gray-300 shadow-sm rounded-md flex flex-col gap-4 p-7 h-fit ${t}`,children:[e&&d.jsxs("h2",{className:"font-bold tracking-tight text-xl",children:[e,":"]}),r]}),Mm=({className:t,label:e,placeholder:r,type:n,name:s,register:i,errors:o,required:a})=>d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("label",{htmlFor:s,className:"text-xs font-bold tracking-tight capitalize text-slate-900",children:[e,":"]}),a&&d.jsx("span",{className:`${a&&"text-red-500 text-sm mr-3"} font-bold self-end`,children:"*"})]}),d.jsx("div",{className:`border border-gray-300 rounded-md overflow-hidden gap-5 items-center ${o[s]?"border-red-500":""}`,children:d.jsx("input",{type:n,placeholder:r,id:s,className:`py-1.5 text-sm px-3 font-medium tracking-tighter w-full text-slate-600 outline-none focus:outline-none ${t}`,autoComplete:"off",...i(s)})})]}),O6=["Stock","Precio","Objetivo","Tipo","Peso",""],T6=({control:t,errors:e,register:r})=>{const{fields:n,remove:s,append:i}=xL({control:t,name:"variants"}),o=()=>{i({stock:0,price:0,target:"",type:"",kg:0})},a=l=>{s(l)};return d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("div",{className:"space-y-4 border-b border-slate-200 pb-6",children:[d.jsx("div",{className:"grid grid-cols-5 gap-4 justify-start",children:O6.map((l,c)=>d.jsx("p",{className:"text-xs font-semibold text-slate-800",children:l},c))}),n.map((l,c)=>d.jsxs("div",{children:[d.jsxs("div",{className:"grid grid-cols-5 gap-4 items-center",children:[d.jsx("input",{type:"number",placeholder:"Stock",...r(`variants.${c}.stock`,{valueAsNumber:!0}),className:"border rounded-md px-3 py-1.5 text-xs font-semibold placeholder:font-normal focus:outline-none appearance-none"}),d.jsx("input",{type:"number",step:"0.01",placeholder:"Precio",...r(`variants.${c}.price`,{valueAsNumber:!0}),className:"border rounded-md px-3 py-1.5 text-xs font-semibold placeholder:font-normal focus:outline-none appearance-none"}),d.jsx("input",{type:"text",placeholder:"Target",...r(`variants.${c}.target`),onChange:u=>{rt(u.target.value)},className:"border rounded-md px-3 py-1.5 text-xs font-semibold placeholder:font-normal focus:outline-none appearance-none"}),d.jsx("input",{type:"text",placeholder:"Type",...r(`variants.${c}.type`),onChange:u=>{rt(u.target.value)},className:"border rounded-md px-3 py-1.5 text-xs font-semibold placeholder:font-normal focus:outline-none appearance-none"}),d.jsx("input",{type:"number",placeholder:"Kg",...r(`variants.${c}.kg`,{valueAsNumber:!0}),step:"0.01",className:"border rounded-md px-3 py-1.5 text-xs font-semibold placeholder:font-normal focus:outline-none appearance-none"}),d.jsx("div",{className:"flex justify-end",children:d.jsx("button",{type:"button",onClick:()=>a(c),className:"p-1",children:d.jsx(_C,{size:20})})})]}),e.variants&&e.variants[c]&&d.jsx("p",{className:"text-red-500 text-xs mt-1"})]},l.id))]}),d.jsxs("button",{type:"button",onClick:o,className:"px-4 py-2 text-slate-800 rounded-md text-sm font-semibold tracking-tight flex items-center gap-1 self-center hover:bg-slate-100",children:[d.jsx(M5,{size:16}),"Aadir Variante"]}),n.length===0&&e.variants&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Debes aadir al menos una variante"})]})},P6=({setValue:t,errors:e,watch:r})=>{const[n,s]=C.useState([]),i=r("images");C.useEffect(()=>{if(i&&i.length>0&&n.length==0){const l=i.map(c=>({previewUrl:c}));s(l),t("images",i)}},[i,n.length,t]);const o=l=>{if(l.target.files){const c=Array.from(l.target.files).map(f=>({file:f,previewUrl:URL.createObjectURL(f)})),u=[...n,...c];s(u),t("images",u.map(f=>f.file||f.previewUrl))}},a=l=>{const c=n.filter((u,f)=>f!==l);s(c),t("images",c.map(u=>u.file||u.previewUrl))};return d.jsxs(d.Fragment,{children:[d.jsx("input",{type:"file",id:"inputfile",accept:"image/*",multiple:!0,onChange:o,hidden:!0}),d.jsxs("label",{htmlFor:"inputfile",className:"bg-black w-full text-white flex items-center self-end py-[6px] px-2 rounded-md text-sm gap-1 font-semibold hover:bg-cyan-600",children:[d.jsx("span",{children:d.jsx("i",{className:"fa fa-cloud-upload fa-2x"})}),d.jsx("p",{children:"Click To Upload File"})]}),d.jsx("div",{className:"grid grid-cols-4 lg:grid-cols-2 gap-4",children:n.map((l,c)=>d.jsx("div",{children:d.jsxs("div",{className:"border border-gray-200 w-full h-20 rounded-md p-1 relative lg:h-28",children:[d.jsx("img",{src:l.previewUrl,alt:`Preview ${c}`,className:"rounded-md w-full h-full object-contain"}),d.jsx("button",{type:"button",onClick:()=>a(c),className:"flex justify-end absolute -top-3 -right-4 hover:scale-110 transition-all z-10",children:d.jsx(_C,{size:22,className:"text-red-500"})})]})},c))}),(i==null?void 0:i.length)===0&&e.images&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:e.images.message})]})};function Wt(t){this.content=t}Wt.prototype={constructor:Wt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,r){var n=r&&r!=t?this.remove(r):this,s=n.find(t),i=n.content.slice();return s==-1?i.push(r||t,e):(i[s+1]=e,r&&(i[s]=r)),new Wt(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var r=this.content.slice();return r.splice(e,2),new Wt(r)},addToStart:function(t,e){return new Wt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var r=this.remove(t).content.slice();return r.push(t,e),new Wt(r)},addBefore:function(t,e,r){var n=this.remove(e),s=n.content.slice(),i=n.find(t);return s.splice(i==-1?s.length:i,0,e,r),new Wt(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Wt.from(t),t.size?new Wt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Wt.from(t),t.size?new Wt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Wt.from(t);for(var r=0;r<t.content.length;r+=2)e=e.remove(t.content[r]);return e},toObject:function(){var t={};return this.forEach(function(e,r){t[e]=r}),t},get size(){return this.content.length>>1}};Wt.from=function(t){if(t instanceof Wt)return t;var e=[];if(t)for(var r in t)e.push(r,t[r]);return new Wt(e)};function JC(t,e,r){for(let n=0;;n++){if(n==t.childCount||n==e.childCount)return t.childCount==e.childCount?null:r;let s=t.child(n),i=e.child(n);if(s==i){r+=s.nodeSize;continue}if(!s.sameMarkup(i))return r;if(s.isText&&s.text!=i.text){for(let o=0;s.text[o]==i.text[o];o++)r++;return r}if(s.content.size||i.content.size){let o=JC(s.content,i.content,r+1);if(o!=null)return o}r+=s.nodeSize}}function ZC(t,e,r,n){for(let s=t.childCount,i=e.childCount;;){if(s==0||i==0)return s==i?null:{a:r,b:n};let o=t.child(--s),a=e.child(--i),l=o.nodeSize;if(o==a){r-=l,n-=l;continue}if(!o.sameMarkup(a))return{a:r,b:n};if(o.isText&&o.text!=a.text){let c=0,u=Math.min(o.text.length,a.text.length);for(;c<u&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,r--,n--;return{a:r,b:n}}if(o.content.size||a.content.size){let c=ZC(o.content,a.content,r-1,n-1);if(c)return c}r-=l,n-=l}}class ${constructor(e,r){if(this.content=e,this.size=r||0,r==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,r,n,s=0,i){for(let o=0,a=0;a<r;o++){let l=this.content[o],c=a+l.nodeSize;if(c>e&&n(l,s+a,i||null,o)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,r-u),n,s+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,r,n,s){let i="",o=!0;return this.nodesBetween(e,r,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,r-l):a.isLeaf?s?typeof s=="function"?s(a):s:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&n&&(o?o=!1:i+=n),i+=c},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let r=this.lastChild,n=e.firstChild,s=this.content.slice(),i=0;for(r.isText&&r.sameMarkup(n)&&(s[s.length-1]=r.withText(r.text+n.text),i=1);i<e.content.length;i++)s.push(e.content[i]);return new $(s,this.size+e.size)}cut(e,r=this.size){if(e==0&&r==this.size)return this;let n=[],s=0;if(r>e)for(let i=0,o=0;o<r;i++){let a=this.content[i],l=o+a.nodeSize;l>e&&((o<e||l>r)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,r-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,r-o-1))),n.push(a),s+=a.nodeSize),o=l}return new $(n,s)}cutByIndex(e,r){return e==r?$.empty:e==0&&r==this.content.length?this:new $(this.content.slice(e,r))}replaceChild(e,r){let n=this.content[e];if(n==r)return this;let s=this.content.slice(),i=this.size+r.nodeSize-n.nodeSize;return s[e]=r,new $(s,i)}addToStart(e){return new $([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new $(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(e.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let r=this.content[e];if(!r)throw new RangeError("Index "+e+" out of range for "+this);return r}maybeChild(e){return this.content[e]||null}forEach(e){for(let r=0,n=0;r<this.content.length;r++){let s=this.content[r];e(s,n,r),n+=s.nodeSize}}findDiffStart(e,r=0){return JC(this,e,r)}findDiffEnd(e,r=this.size,n=e.size){return ZC(this,e,r,n)}findIndex(e,r=-1){if(e==0)return Zd(0,e);if(e==this.size)return Zd(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,s=0;;n++){let i=this.child(n),o=s+i.nodeSize;if(o>=e)return o==e||r>0?Zd(n+1,o):Zd(n,s);s=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,r){if(!r)return $.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new $(r.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return $.empty;let r,n=0;for(let s=0;s<e.length;s++){let i=e[s];n+=i.nodeSize,s&&i.isText&&e[s-1].sameMarkup(i)?(r||(r=e.slice(0,s)),r[r.length-1]=i.withText(r[r.length-1].text+i.text)):r&&r.push(i)}return new $(r||e,n)}static from(e){if(!e)return $.empty;if(e instanceof $)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new $([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}$.empty=new $([],0);const Am={index:0,offset:0};function Zd(t,e){return Am.index=t,Am.offset=e,Am}function bh(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let r=Array.isArray(t);if(Array.isArray(e)!=r)return!1;if(r){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!bh(t[n],e[n]))return!1}else{for(let n in t)if(!(n in e)||!bh(t[n],e[n]))return!1;for(let n in e)if(!(n in t))return!1}return!0}let Ke=class $y{constructor(e,r){this.type=e,this.attrs=r}addToSet(e){let r,n=!1;for(let s=0;s<e.length;s++){let i=e[s];if(this.eq(i))return e;if(this.type.excludes(i.type))r||(r=e.slice(0,s));else{if(i.type.excludes(this.type))return e;!n&&i.type.rank>this.type.rank&&(r||(r=e.slice(0,s)),r.push(this),n=!0),r&&r.push(i)}}return r||(r=e.slice()),n||r.push(this),r}removeFromSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return e.slice(0,r).concat(e.slice(r+1));return e}isInSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return!0;return!1}eq(e){return this==e||this.type==e.type&&bh(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[r.type];if(!n)throw new RangeError(`There is no mark type ${r.type} in this schema`);let s=n.create(r.attrs);return n.checkAttrs(s.attrs),s}static sameSet(e,r){if(e==r)return!0;if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(r[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return $y.none;if(e instanceof $y)return[e];let r=e.slice();return r.sort((n,s)=>n.type.rank-s.type.rank),r}};Ke.none=[];class wh extends Error{}class G{constructor(e,r,n){this.content=e,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,r){let n=GC(this.content,e+this.openStart,r);return n&&new G(n,this.openStart,this.openEnd)}removeBetween(e,r){return new G(QC(this.content,e+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,r){if(!r)return G.empty;let n=r.openStart||0,s=r.openEnd||0;if(typeof n!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new G($.fromJSON(e,r.content),n,s)}static maxOpen(e,r=!0){let n=0,s=0;for(let i=e.firstChild;i&&!i.isLeaf&&(r||!i.type.spec.isolating);i=i.firstChild)n++;for(let i=e.lastChild;i&&!i.isLeaf&&(r||!i.type.spec.isolating);i=i.lastChild)s++;return new G(e,n,s)}}G.empty=new G($.empty,0,0);function QC(t,e,r){let{index:n,offset:s}=t.findIndex(e),i=t.maybeChild(n),{index:o,offset:a}=t.findIndex(r);if(s==e||i.isText){if(a!=r&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(r))}if(n!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(n,i.copy(QC(i.content,e-s-1,r-s-1)))}function GC(t,e,r,n){let{index:s,offset:i}=t.findIndex(e),o=t.maybeChild(s);if(i==e||o.isText)return t.cut(0,e).append(r).append(t.cut(e));let a=GC(o.content,e-i-1,r);return a&&t.replaceChild(s,o.copy(a))}function M6(t,e,r){if(r.openStart>t.depth)throw new wh("Inserted content deeper than insertion position");if(t.depth-r.openStart!=e.depth-r.openEnd)throw new wh("Inconsistent open depths");return YC(t,e,r,0)}function YC(t,e,r,n){let s=t.index(n),i=t.node(n);if(s==e.index(n)&&n<t.depth-r.openStart){let o=YC(t,e,r,n+1);return i.copy(i.content.replaceChild(s,o))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&t.depth==n&&e.depth==n){let o=t.parent,a=o.content;return To(o,a.cut(0,t.parentOffset).append(r.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=A6(r,t);return To(i,e2(t,o,a,e,n))}else return To(i,Sh(t,e,n))}function XC(t,e){if(!e.type.compatibleContent(t.type))throw new wh("Cannot join "+e.type.name+" onto "+t.type.name)}function zy(t,e,r){let n=t.node(r);return XC(n,e.node(r)),n}function Oo(t,e){let r=e.length-1;r>=0&&t.isText&&t.sameMarkup(e[r])?e[r]=t.withText(e[r].text+t.text):e.push(t)}function Rc(t,e,r,n){let s=(e||t).node(r),i=0,o=e?e.index(r):s.childCount;t&&(i=t.index(r),t.depth>r?i++:t.textOffset&&(Oo(t.nodeAfter,n),i++));for(let a=i;a<o;a++)Oo(s.child(a),n);e&&e.depth==r&&e.textOffset&&Oo(e.nodeBefore,n)}function To(t,e){return t.type.checkContent(e),t.copy(e)}function e2(t,e,r,n,s){let i=t.depth>s&&zy(t,e,s+1),o=n.depth>s&&zy(r,n,s+1),a=[];return Rc(null,t,s,a),i&&o&&e.index(s)==r.index(s)?(XC(i,o),Oo(To(i,e2(t,e,r,n,s+1)),a)):(i&&Oo(To(i,Sh(t,e,s+1)),a),Rc(e,r,s,a),o&&Oo(To(o,Sh(r,n,s+1)),a)),Rc(n,null,s,a),new $(a)}function Sh(t,e,r){let n=[];if(Rc(null,t,r,n),t.depth>r){let s=zy(t,e,r+1);Oo(To(s,Sh(t,e,r+1)),n)}return Rc(e,null,r,n),new $(n)}function A6(t,e){let r=e.depth-t.openStart,s=e.node(r).copy(t.content);for(let i=r-1;i>=0;i--)s=e.node(i).copy($.from(s));return{start:s.resolveNoCache(t.openStart+r),end:s.resolveNoCache(s.content.size-t.openEnd-r)}}class Ou{constructor(e,r,n){this.pos=e,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,r=this.index(this.depth);if(r==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],s=e.child(r);return n?e.child(r).cut(n):s}get nodeBefore(){let e=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(e).cut(0,r):e==0?null:this.parent.child(e-1)}posAtIndex(e,r){r=this.resolveDepth(r);let n=this.path[r*3],s=r==0?0:this.path[r*3-1]+1;for(let i=0;i<e;i++)s+=n.child(i).nodeSize;return s}marks(){let e=this.parent,r=this.index();if(e.content.size==0)return Ke.none;if(this.textOffset)return e.child(r).marks;let n=e.maybeChild(r-1),s=e.maybeChild(r);if(!n){let a=n;n=s,s=a}let i=n.marks;for(var o=0;o<i.length;o++)i[o].type.spec.inclusive===!1&&(!s||!i[o].isInSet(s.marks))&&(i=i[o--].removeFromSet(i));return i}marksAcross(e){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,s=e.parent.maybeChild(e.index());for(var i=0;i<n.length;i++)n[i].type.spec.inclusive===!1&&(!s||!n[i].isInSet(s.marks))&&(n=n[i--].removeFromSet(n));return n}sharedDepth(e){for(let r=this.depth;r>0;r--)if(this.start(r)<=e&&this.end(r)>=e)return r;return 0}blockRange(e=this,r){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!r||r(this.node(n))))return new kh(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let r=1;r<=this.depth;r++)e+=(e?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return e+":"+this.parentOffset}static resolve(e,r){if(!(r>=0&&r<=e.content.size))throw new RangeError("Position "+r+" out of range");let n=[],s=0,i=r;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(i),c=i-l;if(n.push(o,a,s+l),!c||(o=o.child(a),o.isText))break;i=c-1,s+=l+1}return new Ou(r,n,i)}static resolveCached(e,r){let n=Wb.get(e);if(n)for(let i=0;i<n.elts.length;i++){let o=n.elts[i];if(o.pos==r)return o}else Wb.set(e,n=new I6);let s=n.elts[n.i]=Ou.resolve(e,r);return n.i=(n.i+1)%R6,s}}class I6{constructor(){this.elts=[],this.i=0}}const R6=12,Wb=new WeakMap;class kh{constructor(e,r,n){this.$from=e,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const D6=Object.create(null);let Po=class By{constructor(e,r,n,s=Ke.none){this.type=e,this.attrs=r,this.marks=s,this.content=n||$.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,r,n,s=0){this.content.nodesBetween(e,r,n,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,r,n,s){return this.content.textBetween(e,r,n,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,r,n){return this.type==e&&bh(this.attrs,r||e.defaultAttrs||D6)&&Ke.sameSet(this.marks,n||Ke.none)}copy(e=null){return e==this.content?this:new By(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new By(this.type,this.attrs,this.content,e)}cut(e,r=this.content.size){return e==0&&r==this.content.size?this:this.copy(this.content.cut(e,r))}slice(e,r=this.content.size,n=!1){if(e==r)return G.empty;let s=this.resolve(e),i=this.resolve(r),o=n?0:s.sharedDepth(r),a=s.start(o),c=s.node(o).content.cut(s.pos-a,i.pos-a);return new G(c,s.depth-o,i.depth-o)}replace(e,r,n){return M6(this.resolve(e),this.resolve(r),n)}nodeAt(e){for(let r=this;;){let{index:n,offset:s}=r.content.findIndex(e);if(r=r.maybeChild(n),!r)return null;if(s==e||r.isText)return r;e-=s+1}}childAfter(e){let{index:r,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(r),index:r,offset:n};let s=this.content.child(r-1);return{node:s,index:r-1,offset:n-s.nodeSize}}resolve(e){return Ou.resolveCached(this,e)}resolveNoCache(e){return Ou.resolve(this,e)}rangeHasMark(e,r,n){let s=!1;return r>e&&this.nodesBetween(e,r,i=>(n.isInSet(i.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),t2(this.marks,e)}contentMatchAt(e){let r=this.type.contentMatch.matchFragment(this.content,0,e);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(e,r,n=$.empty,s=0,i=n.childCount){let o=this.contentMatchAt(e).matchFragment(n,s,i),a=o&&o.matchFragment(this.content,r);if(!a||!a.validEnd)return!1;for(let l=s;l<i;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0}canReplaceWith(e,r,n,s){if(s&&!this.type.allowsMarks(s))return!1;let i=this.contentMatchAt(e).matchType(n),o=i&&i.matchFragment(this.content,r);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Ke.none;for(let r=0;r<this.marks.length;r++){let n=this.marks[r];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!Ke.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(r=>r.toJSON())),e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(e.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(r.text,n)}let s=$.fromJSON(e,r.content),i=e.nodeType(r.type).create(r.attrs,s,n);return i.type.checkAttrs(i.attrs),i}};Po.prototype.text=void 0;class _h extends Po{constructor(e,r,n,s){if(super(e,r,null,s),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):t2(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,r){return this.text.slice(e,r)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new _h(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new _h(this.type,this.attrs,e,this.marks)}cut(e=0,r=this.text.length){return e==0&&r==this.text.length?this:this.withText(this.text.slice(e,r))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function t2(t,e){for(let r=t.length-1;r>=0;r--)e=t[r].type.name+"("+e+")";return e}class qo{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,r){let n=new L6(e,r);if(n.next==null)return qo.empty;let s=r2(n);n.next&&n.err("Unexpected trailing text");let i=H6(U6(s));return q6(i,n),i}matchType(e){for(let r=0;r<this.next.length;r++)if(this.next[r].type==e)return this.next[r].next;return null}matchFragment(e,r=0,n=e.childCount){let s=this;for(let i=r;s&&i<n;i++)s=s.matchType(e.child(i).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:r}=this.next[e];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(e){for(let r=0;r<this.next.length;r++)for(let n=0;n<e.next.length;n++)if(this.next[r].type==e.next[n].type)return!0;return!1}fillBefore(e,r=!1,n=0){let s=[this];function i(o,a){let l=o.matchFragment(e,n);if(l&&(!r||l.validEnd))return $.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:u,next:f}=o.next[c];if(!(u.isText||u.hasRequiredAttrs())&&s.indexOf(f)==-1){s.push(f);let h=i(f,a.concat(u));if(h)return h}}return null}return i(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let r=this.computeWrapping(e);return this.wrapCache.push(e,r),r}computeWrapping(e){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let s=n.shift(),i=s.match;if(i.matchType(e)){let o=[];for(let a=s;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<i.next.length;o++){let{type:a,next:l}=i.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in r)&&(!s.type||l.validEnd)&&(n.push({match:a.contentMatch,type:a,via:s}),r[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function r(n){e.push(n);for(let s=0;s<n.next.length;s++)e.indexOf(n.next[s].next)==-1&&r(n.next[s].next)}return r(this),e.map((n,s)=>{let i=s+(n.validEnd?"*":" ")+" ";for(let o=0;o<n.next.length;o++)i+=(o?", ":"")+n.next[o].type.name+"->"+e.indexOf(n.next[o].next);return i}).join(`
`)}}qo.empty=new qo(!0);class L6{constructor(e,r){this.string=e,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function r2(t){let e=[];do e.push(F6(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function F6(t){let e=[];do e.push($6(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function $6(t){let e=V6(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=z6(t,e);else break;return e}function Kb(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function z6(t,e){let r=Kb(t),n=r;return t.eat(",")&&(t.next!="}"?n=Kb(t):n=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}function B6(t,e){let r=t.nodeTypes,n=r[e];if(n)return[n];let s=[];for(let i in r){let o=r[i];o.groups.indexOf(e)>-1&&s.push(o)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function V6(t){if(t.eat("(")){let e=r2(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=B6(t,t.next).map(r=>(t.inline==null?t.inline=r.isInline:t.inline!=r.isInline&&t.err("Mixing inline and block content"),{type:"name",value:r}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function U6(t){let e=[[]];return s(i(t,0),r()),e;function r(){return e.push([])-1}function n(o,a,l){let c={term:l,to:a};return e[o].push(c),c}function s(o,a){o.forEach(l=>l.to=a)}function i(o,a){if(o.type=="choice")return o.exprs.reduce((l,c)=>l.concat(i(c,a)),[]);if(o.type=="seq")for(let l=0;;l++){let c=i(o.exprs[l],a);if(l==o.exprs.length-1)return c;s(c,a=r())}else if(o.type=="star"){let l=r();return n(a,l),s(i(o.expr,l),l),[n(l)]}else if(o.type=="plus"){let l=r();return s(i(o.expr,a),l),s(i(o.expr,l),l),[n(l)]}else{if(o.type=="opt")return[n(a)].concat(i(o.expr,a));if(o.type=="range"){let l=a;for(let c=0;c<o.min;c++){let u=r();s(i(o.expr,l),u),l=u}if(o.max==-1)s(i(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let u=r();n(l,u),s(i(o.expr,l),u),l=u}return[n(l)]}else{if(o.type=="name")return[n(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function n2(t,e){return e-t}function Jb(t,e){let r=[];return n(e),r.sort(n2);function n(s){let i=t[s];if(i.length==1&&!i[0].term)return n(i[0].to);r.push(s);for(let o=0;o<i.length;o++){let{term:a,to:l}=i[o];!a&&r.indexOf(l)==-1&&n(l)}}}function H6(t){let e=Object.create(null);return r(Jb(t,0));function r(n){let s=[];n.forEach(o=>{t[o].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<s.length;u++)s[u][0]==a&&(c=s[u][1]);Jb(t,l).forEach(u=>{c||s.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let i=e[n.join(",")]=new qo(n.indexOf(t.length-1)>-1);for(let o=0;o<s.length;o++){let a=s[o][1].sort(n2);i.next.push({type:s[o][0],next:e[a.join(",")]||r(a)})}return i}}function q6(t,e){for(let r=0,n=[t];r<n.length;r++){let s=n[r],i=!s.validEnd,o=[];for(let a=0;a<s.next.length;a++){let{type:l,next:c}=s.next[a];o.push(l.name),i&&!(l.isText||l.hasRequiredAttrs())&&(i=!1),n.indexOf(c)==-1&&n.push(c)}i&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function s2(t){let e=Object.create(null);for(let r in t){let n=t[r];if(!n.hasDefault)return null;e[r]=n.default}return e}function i2(t,e){let r=Object.create(null);for(let n in t){let s=e&&e[n];if(s===void 0){let i=t[n];if(i.hasDefault)s=i.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=s}return r}function o2(t,e,r,n){for(let s in e)if(!(s in t))throw new RangeError(`Unsupported attribute ${s} for ${r} of type ${s}`);for(let s in t){let i=t[s];i.validate&&i.validate(e[s])}}function a2(t,e){let r=Object.create(null);if(e)for(let n in e)r[n]=new K6(t,n,e[n]);return r}let Zb=class l2{constructor(e,r,n){this.name=e,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=a2(e,n.attrs),this.defaultAttrs=s2(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==qo.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:i2(this.attrs,e)}create(e=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Po(this,this.computeAttrs(e),$.from(r),Ke.setFrom(n))}createChecked(e=null,r,n){return r=$.from(r),this.checkContent(r),new Po(this,this.computeAttrs(e),r,Ke.setFrom(n))}createAndFill(e=null,r,n){if(e=this.computeAttrs(e),r=$.from(r),r.size){let o=this.contentMatch.fillBefore(r);if(!o)return null;r=o.append(r)}let s=this.contentMatch.matchFragment(r),i=s&&s.fillBefore($.empty,!0);return i?new Po(this,e,r.append(i),Ke.setFrom(n)):null}validContent(e){let r=this.contentMatch.matchFragment(e);if(!r||!r.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){o2(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let r=0;r<e.length;r++)if(!this.allowsMarkType(e[r].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let r;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?r&&r.push(e[n]):r||(r=e.slice(0,n));return r?r.length?r:Ke.none:e}static compile(e,r){let n=Object.create(null);e.forEach((i,o)=>n[i]=new l2(i,r,o));let s=r.spec.topNode||"doc";if(!n[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let i in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function W6(t,e,r){let n=r.split("|");return s=>{let i=s===null?"null":typeof s;if(n.indexOf(i)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${t}, got ${i}`)}}class K6{constructor(e,r,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?W6(e,r,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class dp{constructor(e,r,n,s){this.name=e,this.rank=r,this.schema=n,this.spec=s,this.attrs=a2(e,s.attrs),this.excluded=null;let i=s2(this.attrs);this.instance=i?new Ke(this,i):null}create(e=null){return!e&&this.instance?this.instance:new Ke(this,i2(this.attrs,e))}static compile(e,r){let n=Object.create(null),s=0;return e.forEach((i,o)=>n[i]=new dp(i,s++,r,o)),n}removeFromSet(e){for(var r=0;r<e.length;r++)e[r].type==this&&(e=e.slice(0,r).concat(e.slice(r+1)),r--);return e}isInSet(e){for(let r=0;r<e.length;r++)if(e[r].type==this)return e[r]}checkAttrs(e){o2(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class c2{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let s in e)r[s]=e[s];r.nodes=Wt.from(e.nodes),r.marks=Wt.from(e.marks||{}),this.nodes=Zb.compile(this.spec.nodes,this),this.marks=dp.compile(this.spec.marks,this);let n=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let i=this.nodes[s],o=i.spec.content||"",a=i.spec.marks;if(i.contentMatch=n[o]||(n[o]=qo.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=a=="_"?null:a?Qb(this,a.split(" ")):a==""||!i.inlineContent?[]:null}for(let s in this.marks){let i=this.marks[s],o=i.spec.excludes;i.excluded=o==null?[i]:o==""?[]:Qb(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,r=null,n,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Zb){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(r,n,s)}text(e,r){let n=this.nodes.text;return new _h(n,n.defaultAttrs,e,Ke.setFrom(r))}mark(e,r){return typeof e=="string"&&(e=this.marks[e]),e.create(r)}nodeFromJSON(e){return Po.fromJSON(this,e)}markFromJSON(e){return Ke.fromJSON(this,e)}nodeType(e){let r=this.nodes[e];if(!r)throw new RangeError("Unknown node type: "+e);return r}}function Qb(t,e){let r=[];for(let n=0;n<e.length;n++){let s=e[n],i=t.marks[s],o=i;if(i)r.push(i);else for(let a in t.marks){let l=t.marks[a];(s=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(s)>-1)&&r.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return r}function J6(t){return t.tag!=null}function Z6(t){return t.style!=null}let Dc=class Vy{constructor(e,r){this.schema=e,this.rules=r,this.tags=[],this.styles=[];let n=this.matchedStyles=[];r.forEach(s=>{if(J6(s))this.tags.push(s);else if(Z6(s)){let i=/[^=]*/.exec(s.style)[0];n.indexOf(i)<0&&n.push(i),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let i=e.nodes[s.node];return i.contentMatch.matchType(i)})}parse(e,r={}){let n=new Yb(this,r,!1);return n.addAll(e,Ke.none,r.from,r.to),n.finish()}parseSlice(e,r={}){let n=new Yb(this,r,!0);return n.addAll(e,Ke.none,r.from,r.to),G.maxOpen(n.finish())}matchTag(e,r,n){for(let s=n?this.tags.indexOf(n)+1:0;s<this.tags.length;s++){let i=this.tags[s];if(Y6(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||r.matchesContext(i.context))){if(i.getAttrs){let o=i.getAttrs(e);if(o===!1)continue;i.attrs=o||void 0}return i}}}matchStyle(e,r,n,s){for(let i=s?this.styles.indexOf(s)+1:0;i<this.styles.length;i++){let o=this.styles[i],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!n.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=r))){if(o.getAttrs){let l=o.getAttrs(r);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let r=[];function n(s){let i=s.priority==null?50:s.priority,o=0;for(;o<r.length;o++){let a=r[o];if((a.priority==null?50:a.priority)<i)break}r.splice(o,0,s)}for(let s in e.marks){let i=e.marks[s].spec.parseDOM;i&&i.forEach(o=>{n(o=Xb(o)),o.mark||o.ignore||o.clearMark||(o.mark=s)})}for(let s in e.nodes){let i=e.nodes[s].spec.parseDOM;i&&i.forEach(o=>{n(o=Xb(o)),o.node||o.ignore||o.mark||(o.node=s)})}return r}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Vy(e,Vy.schemaRules(e)))}};const u2={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Q6={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},d2={ol:!0,ul:!0},Eh=1,Ch=2,Lc=4;function Gb(t,e,r){return e!=null?(e?Eh:0)|(e==="full"?Ch:0):t&&t.whitespace=="pre"?Eh|Ch:r&~Lc}class Qd{constructor(e,r,n,s,i,o){this.type=e,this.attrs=r,this.marks=n,this.solid=s,this.options=o,this.content=[],this.activeMarks=Ke.none,this.match=i||(o&Lc?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore($.from(e));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,s;return(s=n.findWrapping(e.type))?(this.match=n,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Eh)){let n=this.content[this.content.length-1],s;if(n&&n.isText&&(s=/[ \t\r\n\u000c]+$/.exec(n.text))){let i=n;n.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-s[0].length))}}let r=$.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore($.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!u2.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Yb{constructor(e,r,n){this.parser=e,this.options=r,this.isOpen=n,this.open=0;let s=r.topNode,i,o=Gb(null,r.preserveWhitespace,0)|(n?Lc:0);s?i=new Qd(s.type,s.attrs,Ke.none,!0,r.topMatch||s.type.contentMatch,o):n?i=new Qd(null,null,Ke.none,!0,null,o):i=new Qd(e.schema.topNodeType,null,Ke.none,!0,null,o),this.nodes=[i],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,r){e.nodeType==3?this.addTextNode(e,r):e.nodeType==1&&this.addElement(e,r)}addTextNode(e,r){let n=e.nodeValue,s=this.top;if(s.options&Ch||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(s.options&Eh)s.options&Ch?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=s.content[s.content.length-1],o=e.previousSibling;(!i||o&&o.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),r),this.findInText(e)}else this.findInside(e)}addElement(e,r,n){let s=e.nodeName.toLowerCase(),i;d2.hasOwnProperty(s)&&this.parser.normalizeLists&&G6(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,n));if(o?o.ignore:Q6.hasOwnProperty(s))this.findInside(e),this.ignoreFallback(e,r);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let a,l=this.top,c=this.needsBlock;if(u2.hasOwnProperty(s))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),a=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,r);return}let u=o&&o.skip?r:this.readStyles(e,r);u&&this.addAll(e,u),a&&this.sync(l),this.needsBlock=c}else{let a=this.readStyles(e,r);a&&this.addElementByRule(e,o,a,o.consuming===!1?i:void 0)}}leafFallback(e,r){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),r)}ignoreFallback(e,r){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r)}readStyles(e,r){let n=e.style;if(n&&n.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let i=this.parser.matchedStyles[s],o=n.getPropertyValue(i);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(i,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?r=r.filter(c=>!l.clearMark(c)):r=r.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return r}addElementByRule(e,r,n,s){let i,o;if(r.node)if(o=this.parser.schema.nodes[r.node],o.isLeaf)this.insertNode(o.create(r.attrs),n)||this.leafFallback(e,n);else{let l=this.enter(o,r.attrs||null,n,r.preserveWhitespace);l&&(i=!0,n=l)}else{let l=this.parser.schema.marks[r.mark];n=n.concat(l.create(r.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(s)this.addElement(e,n,s);else if(r.getContent)this.findInside(e),r.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,n));else{let l=e;typeof r.contentElement=="string"?l=e.querySelector(r.contentElement):typeof r.contentElement=="function"?l=r.contentElement(e):r.contentElement&&(l=r.contentElement),this.findAround(e,l,!0),this.addAll(l,n)}i&&this.sync(a)&&this.open--}addAll(e,r,n,s){let i=n||0;for(let o=n?e.childNodes[n]:e.firstChild,a=s==null?null:e.childNodes[s];o!=a;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o,r);this.findAtPoint(e,i)}findPlace(e,r){let n,s;for(let i=this.open;i>=0;i--){let o=this.nodes[i],a=o.findWrapping(e);if(a&&(!n||n.length>a.length)&&(n=a,s=o,!a.length)||o.solid)break}if(!n)return null;this.sync(s);for(let i=0;i<n.length;i++)r=this.enterInner(n[i],null,r,!1);return r}insertNode(e,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(r=this.enterInner(s,null,r))}let n=this.findPlace(e,r);if(n){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let i=Ke.none;for(let o of n.concat(e.marks))(s.type?s.type.allowsMarkType(o.type):ew(o.type,e.type))&&(i=o.addToSet(i));return s.content.push(e.mark(i)),!0}return!1}enter(e,r,n,s){let i=this.findPlace(e.create(r),n);return i&&(i=this.enterInner(e,r,n,!0,s)),i}enterInner(e,r,n,s=!1,i){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=Gb(e,i,o.options);o.options&Lc&&o.content.length==0&&(a|=Lc);let l=Ke.none;return n=n.filter(c=>(o.type?o.type.allowsMarkType(c.type):ew(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new Qd(e,r,l,s,null,a)),this.open++,n}closeExtra(e=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let r=this.open;r>=0;r--)if(this.nodes[r]==e)return this.open=r,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let s=n.length-1;s>=0;s--)e+=n[s].nodeSize;r&&e++}return e}findAtPoint(e,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(e,r,n){if(e!=r&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&r.compareDocumentPosition(this.find[s].node)&(n?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&(this.find[r].pos=this.currentPos-(e.nodeValue.length-this.find[r].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let r=e.split("/"),n=this.options.context,s=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),i=-(n?n.depth+1:0)+(s?0:1),o=(a,l)=>{for(;a>=0;a--){let c=r[a];if(c==""){if(a==r.length-1||a==0)continue;for(;l>=i;l--)if(o(a-1,l))return!0;return!1}else{let u=l>0||l==0&&s?this.nodes[l].type:n&&l>=i?n.node(l-i).type:null;if(!u||u.name!=c&&u.groups.indexOf(c)==-1)return!1;l--}}return!0};return o(r.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let r=e.depth;r>=0;r--){let n=e.node(r).contentMatchAt(e.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}}function G6(t){for(let e=t.firstChild,r=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&d2.hasOwnProperty(n)&&r?(r.appendChild(e),e=r):n=="li"?r=e:n&&(r=null)}}function Y6(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function Xb(t){let e={};for(let r in t)e[r]=t[r];return e}function ew(t,e){let r=e.schema.nodes;for(let n in r){let s=r[n];if(!s.allowsMarkType(t))continue;let i=[],o=a=>{i.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||i.indexOf(u)<0&&o(u))return!0}};if(o(s.contentMatch))return!0}}class na{constructor(e,r){this.nodes=e,this.marks=r}serializeFragment(e,r={},n){n||(n=Im(r).createDocumentFragment());let s=n,i=[];return e.forEach(o=>{if(i.length||o.marks.length){let a=0,l=0;for(;a<i.length&&l<o.marks.length;){let c=o.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(i[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<i.length;)s=i.pop()[1];for(;l<o.marks.length;){let c=o.marks[l++],u=this.serializeMark(c,o.isInline,r);u&&(i.push([c,s]),s.appendChild(u.dom),s=u.contentDOM||u.dom)}}s.appendChild(this.serializeNodeInner(o,r))}),n}serializeNodeInner(e,r){let{dom:n,contentDOM:s}=kf(Im(r),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,r,s)}return n}serializeNode(e,r={}){let n=this.serializeNodeInner(e,r);for(let s=e.marks.length-1;s>=0;s--){let i=this.serializeMark(e.marks[s],e.isInline,r);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom)}return n}serializeMark(e,r,n={}){let s=this.marks[e.type.name];return s&&kf(Im(n),s(e,r),null,e.attrs)}static renderSpec(e,r,n=null,s){return kf(e,r,n,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new na(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let r=tw(e.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(e){return tw(e.marks)}}function tw(t){let e={};for(let r in t){let n=t[r].spec.toDOM;n&&(e[r]=n)}return e}function Im(t){return t.document||window.document}const rw=new WeakMap;function X6(t){let e=rw.get(t);return e===void 0&&rw.set(t,e=eF(t)),e}function eF(t){let e=null;function r(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let s=0;s<n.length;s++)r(n[s]);else for(let s in n)r(n[s])}return r(t),e}function kf(t,e,r,n){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],i;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(i=X6(n))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=s.indexOf(" ");o>0&&(r=s.slice(0,o),s=s.slice(o+1));let a,l=r?t.createElementNS(r,s):t.createElement(s),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let f in c)if(c[f]!=null){let h=f.indexOf(" ");h>0?l.setAttributeNS(f.slice(0,h),f.slice(h+1),c[f]):l.setAttribute(f,c[f])}}for(let f=u;f<e.length;f++){let h=e[f];if(h===0){if(f<e.length-1||f>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:p,contentDOM:m}=kf(t,h,r,n);if(l.appendChild(p),m){if(a)throw new RangeError("Multiple content holes");a=m}}}return{dom:l,contentDOM:a}}const f2=65535,h2=Math.pow(2,16);function tF(t,e){return t+e*h2}function nw(t){return t&f2}function rF(t){return(t-(t&f2))/h2}const p2=1,m2=2,_f=4,g2=8;class Uy{constructor(e,r,n){this.pos=e,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&g2)>0}get deletedBefore(){return(this.delInfo&(p2|_f))>0}get deletedAfter(){return(this.delInfo&(m2|_f))>0}get deletedAcross(){return(this.delInfo&_f)>0}}class Br{constructor(e,r=!1){if(this.ranges=e,this.inverted=r,!e.length&&Br.empty)return Br.empty}recover(e){let r=0,n=nw(e);if(!this.inverted)for(let s=0;s<n;s++)r+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[n*3]+r+rF(e)}mapResult(e,r=1){return this._map(e,r,!1)}map(e,r=1){return this._map(e,r,!0)}_map(e,r,n){let s=0,i=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?s:0);if(l>e)break;let c=this.ranges[a+i],u=this.ranges[a+o],f=l+c;if(e<=f){let h=c?e==l?-1:e==f?1:r:r,p=l+s+(h<0?0:u);if(n)return p;let m=e==(r<0?l:f)?null:tF(a/3,e-l),g=e==l?m2:e==f?p2:_f;return(r<0?e!=l:e!=f)&&(g|=g2),new Uy(p,g,m)}s+=u-c}return n?e+s:new Uy(e+s,0,null)}touches(e,r){let n=0,s=nw(r),i=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?n:0);if(l>e)break;let c=this.ranges[a+i],u=l+c;if(e<=u&&a==s*3)return!0;n+=this.ranges[a+o]-c}return!1}forEach(e){let r=this.inverted?2:1,n=this.inverted?1:2;for(let s=0,i=0;s<this.ranges.length;s+=3){let o=this.ranges[s],a=o-(this.inverted?i:0),l=o+(this.inverted?0:i),c=this.ranges[s+r],u=this.ranges[s+n];e(a,a+c,l,l+u),i+=u-c}}invert(){return new Br(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Br.empty:new Br(e<0?[0,-e,0]:[0,0,e])}}Br.empty=new Br([]);class qa{constructor(e=[],r,n=0,s=e.length){this.maps=e,this.mirror=r,this.from=n,this.to=s}slice(e=0,r=this.maps.length){return new qa(this.maps,this.mirror,e,r)}copy(){return new qa(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,r){this.to=this.maps.push(e),r!=null&&this.setMirror(this.maps.length-1,r)}appendMapping(e){for(let r=0,n=this.maps.length;r<e.maps.length;r++){let s=e.getMirror(r);this.appendMap(e.maps[r],s!=null&&s<r?n+s:void 0)}}getMirror(e){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==e)return this.mirror[r+(r%2?-1:1)]}}setMirror(e,r){this.mirror||(this.mirror=[]),this.mirror.push(e,r)}appendMappingInverted(e){for(let r=e.maps.length-1,n=this.maps.length+e.maps.length;r>=0;r--){let s=e.getMirror(r);this.appendMap(e.maps[r].invert(),s!=null&&s>r?n-s-1:void 0)}}invert(){let e=new qa;return e.appendMappingInverted(this),e}map(e,r=1){if(this.mirror)return this._map(e,r,!0);for(let n=this.from;n<this.to;n++)e=this.maps[n].map(e,r);return e}mapResult(e,r=1){return this._map(e,r,!1)}_map(e,r,n){let s=0;for(let i=this.from;i<this.to;i++){let o=this.maps[i],a=o.mapResult(e,r);if(a.recover!=null){let l=this.getMirror(i);if(l!=null&&l>i&&l<this.to){i=l,e=this.maps[l].recover(a.recover);continue}}s|=a.delInfo,e=a.pos}return n?e:new Uy(e,s,null)}}const Rm=Object.create(null);class lr{getMap(){return Br.empty}merge(e){return null}static fromJSON(e,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=Rm[r.stepType];if(!n)throw new RangeError(`No step type ${r.stepType} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in Rm)throw new RangeError("Duplicate use of step JSON ID "+e);return Rm[e]=r,r.prototype.jsonID=e,r}}class Nt{constructor(e,r){this.doc=e,this.failed=r}static ok(e){return new Nt(e,null)}static fail(e){return new Nt(null,e)}static fromReplace(e,r,n,s){try{return Nt.ok(e.replace(r,n,s))}catch(i){if(i instanceof wh)return Nt.fail(i.message);throw i}}}function Dv(t,e,r){let n=[];for(let s=0;s<t.childCount;s++){let i=t.child(s);i.content.size&&(i=i.copy(Dv(i.content,e,i))),i.isInline&&(i=e(i,r,s)),n.push(i)}return $.fromArray(n)}class Si extends lr{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=e.resolve(this.from),s=n.node(n.sharedDepth(this.to)),i=new G(Dv(r.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),s),r.openStart,r.openEnd);return Nt.fromReplace(e,this.from,this.to,i)}invert(){return new Xn(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new Si(r.pos,n.pos,this.mark)}merge(e){return e instanceof Si&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Si(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Si(r.from,r.to,e.markFromJSON(r.mark))}}lr.jsonID("addMark",Si);class Xn extends lr{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=new G(Dv(r.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),r.openStart,r.openEnd);return Nt.fromReplace(e,this.from,this.to,n)}invert(){return new Si(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new Xn(r.pos,n.pos,this.mark)}merge(e){return e instanceof Xn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Xn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Xn(r.from,r.to,e.markFromJSON(r.mark))}}lr.jsonID("removeMark",Xn);class ki extends lr{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return Nt.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return Nt.fromReplace(e,this.pos,this.pos+1,new G($.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let s=0;s<r.marks.length;s++)if(!r.marks[s].isInSet(n))return new ki(this.pos,r.marks[s]);return new ki(this.pos,this.mark)}}return new Cl(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new ki(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ki(r.pos,e.markFromJSON(r.mark))}}lr.jsonID("addNodeMark",ki);class Cl extends lr{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return Nt.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return Nt.fromReplace(e,this.pos,this.pos+1,new G($.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new ki(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Cl(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Cl(r.pos,e.markFromJSON(r.mark))}}lr.jsonID("removeNodeMark",Cl);class Ft extends lr{constructor(e,r,n,s=!1){super(),this.from=e,this.to=r,this.slice=n,this.structure=s}apply(e){return this.structure&&Hy(e,this.from,this.to)?Nt.fail("Structure replace would overwrite content"):Nt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Br([this.from,this.to-this.from,this.slice.size])}invert(e){return new Ft(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new Ft(r.pos,Math.max(r.pos,n.pos),this.slice)}merge(e){if(!(e instanceof Ft)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let r=this.slice.size+e.slice.size==0?G.empty:new G(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Ft(this.from,this.to+(e.to-e.from),r,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let r=this.slice.size+e.slice.size==0?G.empty:new G(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Ft(e.from,this.to,r,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Ft(r.from,r.to,G.fromJSON(e,r.slice),!!r.structure)}}lr.jsonID("replace",Ft);class zt extends lr{constructor(e,r,n,s,i,o,a=!1){super(),this.from=e,this.to=r,this.gapFrom=n,this.gapTo=s,this.slice=i,this.insert=o,this.structure=a}apply(e){if(this.structure&&(Hy(e,this.from,this.gapFrom)||Hy(e,this.gapTo,this.to)))return Nt.fail("Structure gap-replace would overwrite content");let r=e.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return Nt.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?Nt.fromReplace(e,this.from,this.to,n):Nt.fail("Content does not fit in gap")}getMap(){return new Br([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let r=this.gapTo-this.gapFrom;return new zt(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),s=this.from==this.gapFrom?r.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||s<r.pos||i>n.pos?null:new zt(r.pos,n.pos,s,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new zt(r.from,r.to,r.gapFrom,r.gapTo,G.fromJSON(e,r.slice),r.insert,!!r.structure)}}lr.jsonID("replaceAround",zt);function Hy(t,e,r){let n=t.resolve(e),s=r-e,i=n.depth;for(;s>0&&i>0&&n.indexAfter(i)==n.node(i).childCount;)i--,s--;if(s>0){let o=n.node(i).maybeChild(n.indexAfter(i));for(;s>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,s--}}return!1}function nF(t,e,r,n){let s=[],i=[],o,a;t.doc.nodesBetween(e,r,(l,c,u)=>{if(!l.isInline)return;let f=l.marks;if(!n.isInSet(f)&&u.type.allowsMarkType(n.type)){let h=Math.max(c,e),p=Math.min(c+l.nodeSize,r),m=n.addToSet(f);for(let g=0;g<f.length;g++)f[g].isInSet(m)||(o&&o.to==h&&o.mark.eq(f[g])?o.to=p:s.push(o=new Xn(h,p,f[g])));a&&a.to==h?a.to=p:i.push(a=new Si(h,p,n))}}),s.forEach(l=>t.step(l)),i.forEach(l=>t.step(l))}function sF(t,e,r,n){let s=[],i=0;t.doc.nodesBetween(e,r,(o,a)=>{if(!o.isInline)return;i++;let l=null;if(n instanceof dp){let c=o.marks,u;for(;u=n.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else n?n.isInSet(o.marks)&&(l=[n]):l=o.marks;if(l&&l.length){let c=Math.min(a+o.nodeSize,r);for(let u=0;u<l.length;u++){let f=l[u],h;for(let p=0;p<s.length;p++){let m=s[p];m.step==i-1&&f.eq(s[p].style)&&(h=m)}h?(h.to=c,h.step=i):s.push({style:f,from:Math.max(a,e),to:c,step:i})}}}),s.forEach(o=>t.step(new Xn(o.from,o.to,o.style)))}function y2(t,e,r,n=r.contentMatch,s=!0){let i=t.doc.nodeAt(e),o=[],a=e+1;for(let l=0;l<i.childCount;l++){let c=i.child(l),u=a+c.nodeSize,f=n.matchType(c.type);if(!f)o.push(new Ft(a,u,G.empty));else{n=f;for(let h=0;h<c.marks.length;h++)r.allowsMarkType(c.marks[h].type)||t.step(new Xn(a,u,c.marks[h]));if(s&&c.isText&&r.whitespace!="pre"){let h,p=/\r?\n|\r/g,m;for(;h=p.exec(c.text);)m||(m=new G($.from(r.schema.text(" ",r.allowedMarks(c.marks))),0,0)),o.push(new Ft(a+h.index,a+h.index+h[0].length,m))}}a=u}if(!n.validEnd){let l=n.fillBefore($.empty,!0);t.replace(a,a,new G(l,0,0))}for(let l=o.length-1;l>=0;l--)t.step(o[l])}function iF(t,e,r){return(e==0||t.canReplace(e,t.childCount))&&(r==t.childCount||t.canReplace(0,r))}function Fl(t){let r=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let n=t.depth;;--n){let s=t.$from.node(n),i=t.$from.index(n),o=t.$to.indexAfter(n);if(n<t.depth&&s.canReplace(i,o,r))return n;if(n==0||s.type.spec.isolating||!iF(s,i,o))break}return null}function oF(t,e,r){let{$from:n,$to:s,depth:i}=e,o=n.before(i+1),a=s.after(i+1),l=o,c=a,u=$.empty,f=0;for(let m=i,g=!1;m>r;m--)g||n.index(m)>0?(g=!0,u=$.from(n.node(m).copy(u)),f++):l--;let h=$.empty,p=0;for(let m=i,g=!1;m>r;m--)g||s.after(m+1)<s.end(m)?(g=!0,h=$.from(s.node(m).copy(h)),p++):c++;t.step(new zt(l,c,o,a,new G(u.append(h),f,p),u.size-f,!0))}function Lv(t,e,r=null,n=t){let s=aF(t,e),i=s&&lF(n,e);return i?s.map(sw).concat({type:e,attrs:r}).concat(i.map(sw)):null}function sw(t){return{type:t,attrs:null}}function aF(t,e){let{parent:r,startIndex:n,endIndex:s}=t,i=r.contentMatchAt(n).findWrapping(e);if(!i)return null;let o=i.length?i[0]:e;return r.canReplaceWith(n,s,o)?i:null}function lF(t,e){let{parent:r,startIndex:n,endIndex:s}=t,i=r.child(n),o=e.contentMatch.findWrapping(i.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let c=n;l&&c<s;c++)l=l.matchType(r.child(c).type);return!l||!l.validEnd?null:o}function cF(t,e,r){let n=$.empty;for(let o=r.length-1;o>=0;o--){if(n.size){let a=r[o].type.contentMatch.matchFragment(n);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=$.from(r[o].type.create(r[o].attrs,n))}let s=e.start,i=e.end;t.step(new zt(s,i,s,i,new G(n,0,0),r.length,!0))}function uF(t,e,r,n,s){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,r,(o,a)=>{let l=typeof s=="function"?s(o):s;if(o.isTextblock&&!o.hasMarkup(n,l)&&hF(t.doc,t.mapping.slice(i).map(a),n)){let c=null;if(n.schema.linebreakReplacement){let p=n.whitespace=="pre",m=!!n.contentMatch.matchType(n.schema.linebreakReplacement);p&&!m?c=!1:!p&&m&&(c=!0)}c===!1&&fF(t,o,a,i),y2(t,t.mapping.slice(i).map(a,1),n,void 0,c===null);let u=t.mapping.slice(i),f=u.map(a,1),h=u.map(a+o.nodeSize,1);return t.step(new zt(f,h,f+1,h-1,new G($.from(n.create(l,null,o.marks)),0,0),1,!0)),c===!0&&dF(t,o,a,i),!1}})}function dF(t,e,r,n){e.forEach((s,i)=>{if(s.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(s.text);){let l=t.mapping.slice(n).map(r+1+i+o.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function fF(t,e,r,n){e.forEach((s,i)=>{if(s.type==s.type.schema.linebreakReplacement){let o=t.mapping.slice(n).map(r+1+i);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function hF(t,e,r){let n=t.resolve(e),s=n.index();return n.parent.canReplaceWith(s,s+1,r)}function pF(t,e,r,n,s){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");r||(r=i.type);let o=r.create(n,null,s||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,o);if(!r.validContent(i.content))throw new RangeError("Invalid content for node type "+r.name);t.step(new zt(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new G($.from(o),0,0),1,!0))}function Wa(t,e,r=1,n){let s=t.resolve(e),i=s.depth-r,o=n&&n[n.length-1]||s.parent;if(i<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!o.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let c=s.depth-1,u=r-2;c>i;c--,u--){let f=s.node(c),h=s.index(c);if(f.type.spec.isolating)return!1;let p=f.content.cutByIndex(h,f.childCount),m=n&&n[u+1];m&&(p=p.replaceChild(0,m.type.create(m.attrs)));let g=n&&n[u]||f;if(!f.canReplace(h+1,f.childCount)||!g.type.validContent(p))return!1}let a=s.indexAfter(i),l=n&&n[0];return s.node(i).canReplaceWith(a,a,l?l.type:s.node(i+1).type)}function mF(t,e,r=1,n){let s=t.doc.resolve(e),i=$.empty,o=$.empty;for(let a=s.depth,l=s.depth-r,c=r-1;a>l;a--,c--){i=$.from(s.node(a).copy(i));let u=n&&n[c];o=$.from(u?u.type.create(u.attrs,o):s.node(a).copy(o))}t.step(new Ft(e,e,new G(i.append(o),r,r),!0))}function Ji(t,e){let r=t.resolve(e),n=r.index();return v2(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function v2(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function fp(t,e,r=-1){let n=t.resolve(e);for(let s=n.depth;;s--){let i,o,a=n.index(s);if(s==n.depth?(i=n.nodeBefore,o=n.nodeAfter):r>0?(i=n.node(s+1),a++,o=n.node(s).maybeChild(a)):(i=n.node(s).maybeChild(a-1),o=n.node(s+1)),i&&!i.isTextblock&&v2(i,o)&&n.node(s).canReplace(a,a+1))return e;if(s==0)break;e=r<0?n.before(s):n.after(s)}}function gF(t,e,r){let n=new Ft(e-r,e+r,G.empty,!0);t.step(n)}function yF(t,e,r){let n=t.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),r))return e;if(n.parentOffset==0)for(let s=n.depth-1;s>=0;s--){let i=n.index(s);if(n.node(s).canReplaceWith(i,i,r))return n.before(s+1);if(i>0)return null}if(n.parentOffset==n.parent.content.size)for(let s=n.depth-1;s>=0;s--){let i=n.indexAfter(s);if(n.node(s).canReplaceWith(i,i,r))return n.after(s+1);if(i<n.node(s).childCount)return null}return null}function x2(t,e,r){let n=t.resolve(e);if(!r.content.size)return e;let s=r.content;for(let i=0;i<r.openStart;i++)s=s.firstChild.content;for(let i=1;i<=(r.openStart==0&&r.size?2:1);i++)for(let o=n.depth;o>=0;o--){let a=o==n.depth?0:n.pos<=(n.start(o+1)+n.end(o+1))/2?-1:1,l=n.index(o)+(a>0?1:0),c=n.node(o),u=!1;if(i==1)u=c.canReplace(l,l,s);else{let f=c.contentMatchAt(l).findWrapping(s.firstChild.type);u=f&&c.canReplaceWith(l,l,f[0])}if(u)return a==0?n.pos:a<0?n.before(o+1):n.after(o+1)}return null}function hp(t,e,r=e,n=G.empty){if(e==r&&!n.size)return null;let s=t.resolve(e),i=t.resolve(r);return b2(s,i,n)?new Ft(e,r,n):new vF(s,i,n).fit()}function b2(t,e,r){return!r.openStart&&!r.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),r.content)}class vF{constructor(e,r,n){this.$from=e,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=$.empty;for(let s=0;s<=e.depth;s++){let i=e.node(s);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=$.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,s=this.close(e<0?this.$to:n.doc.resolve(e));if(!s)return null;let i=this.placed,o=n.depth,a=s.depth;for(;o&&a&&i.childCount==1;)i=i.firstChild.content,o--,a--;let l=new G(i,o,a);return e>-1?new zt(n.pos,e,this.$to.pos,this.$to.end(),l,r):l.size||n.pos!=this.$to.pos?new Ft(n.pos,s.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let r=this.unplaced.content,n=0,s=this.unplaced.openEnd;n<e;n++){let i=r.firstChild;if(r.childCount>1&&(s=0),i.type.spec.isolating&&s<=n){e=n;break}r=i.content}for(let r=1;r<=2;r++)for(let n=r==1?e:this.unplaced.openStart;n>=0;n--){let s,i=null;n?(i=Dm(this.unplaced.content,n-1).firstChild,s=i.content):s=this.unplaced.content;let o=s.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,f=null;if(r==1&&(o?c.matchType(o.type)||(f=c.fillBefore($.from(o),!1)):i&&l.compatibleContent(i.type)))return{sliceDepth:n,frontierDepth:a,parent:i,inject:f};if(r==2&&o&&(u=c.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:a,parent:i,wrap:u};if(i&&c.matchType(i.type))break}}}openMore(){let{content:e,openStart:r,openEnd:n}=this.unplaced,s=Dm(e,r);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new G(e,r+1,Math.max(n,s.size+r>=e.size-n?r+1:0)),!0)}dropNode(){let{content:e,openStart:r,openEnd:n}=this.unplaced,s=Dm(e,r);if(s.childCount<=1&&r>0){let i=e.size-r<=r+s.size;this.unplaced=new G(bc(e,r-1,1),r-1,i?r-1:n)}else this.unplaced=new G(bc(e,r,1),r,n)}placeNodes({sliceDepth:e,frontierDepth:r,parent:n,inject:s,wrap:i}){for(;this.depth>r;)this.closeFrontierNode();if(i)for(let g=0;g<i.length;g++)this.openFrontierNode(i[g]);let o=this.unplaced,a=n?n.content:o.content,l=o.openStart-e,c=0,u=[],{match:f,type:h}=this.frontier[r];if(s){for(let g=0;g<s.childCount;g++)u.push(s.child(g));f=f.matchFragment(s)}let p=a.size+e-(o.content.size-o.openEnd);for(;c<a.childCount;){let g=a.child(c),x=f.matchType(g.type);if(!x)break;c++,(c>1||l==0||g.content.size)&&(f=x,u.push(w2(g.mark(h.allowedMarks(g.marks)),c==1?l:0,c==a.childCount?p:-1)))}let m=c==a.childCount;m||(p=-1),this.placed=wc(this.placed,r,$.from(u)),this.frontier[r].match=f,m&&p<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,x=a;g<p;g++){let v=x.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),x=v.content}this.unplaced=m?e==0?G.empty:new G(bc(o.content,e-1,1),e-1,p<0?o.openEnd:e-1):new G(bc(o.content,e,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],r;if(!e.type.isTextblock||!Lm(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,s=this.$to.after(n);for(;n>1&&s==this.$to.end(--n);)++s;return s}findCloseLevel(e){e:for(let r=Math.min(this.depth,e.depth);r>=0;r--){let{match:n,type:s}=this.frontier[r],i=r<e.depth&&e.end(r+1)==e.pos+(e.depth-(r+1)),o=Lm(e,r,s,n,i);if(o){for(let a=r-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=Lm(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:r,fit:o,move:i?e.doc.resolve(e.after(r+1)):e}}}}close(e){let r=this.findCloseLevel(e);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=wc(this.placed,r.depth,r.fit)),e=r.move;for(let n=r.depth+1;n<=e.depth;n++){let s=e.node(n),i=s.type.contentMatch.fillBefore(s.content,!0,e.index(n));this.openFrontierNode(s.type,s.attrs,i)}return e}openFrontierNode(e,r=null,n){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=wc(this.placed,this.depth,$.from(e.create(r,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore($.empty,!0);r.childCount&&(this.placed=wc(this.placed,this.frontier.length,r))}}function bc(t,e,r){return e==0?t.cutByIndex(r,t.childCount):t.replaceChild(0,t.firstChild.copy(bc(t.firstChild.content,e-1,r)))}function wc(t,e,r){return e==0?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy(wc(t.lastChild.content,e-1,r)))}function Dm(t,e){for(let r=0;r<e;r++)t=t.firstChild.content;return t}function w2(t,e,r){if(e<=0)return t;let n=t.content;return e>1&&(n=n.replaceChild(0,w2(n.firstChild,e-1,n.childCount==1?r-1:0))),e>0&&(n=t.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(t.type.contentMatch.matchFragment(n).fillBefore($.empty,!0)))),t.copy(n)}function Lm(t,e,r,n,s){let i=t.node(e),o=s?t.indexAfter(e):t.index(e);if(o==i.childCount&&!r.compatibleContent(i.type))return null;let a=n.fillBefore(i.content,!0,o);return a&&!xF(r,i.content,o)?a:null}function xF(t,e,r){for(let n=r;n<e.childCount;n++)if(!t.allowsMarks(e.child(n).marks))return!0;return!1}function bF(t){return t.spec.defining||t.spec.definingForContent}function wF(t,e,r,n){if(!n.size)return t.deleteRange(e,r);let s=t.doc.resolve(e),i=t.doc.resolve(r);if(b2(s,i,n))return t.step(new Ft(e,r,n));let o=k2(s,t.doc.resolve(r));o[o.length-1]==0&&o.pop();let a=-(s.depth+1);o.unshift(a);for(let h=s.depth,p=s.pos-1;h>0;h--,p--){let m=s.node(h).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;o.indexOf(h)>-1?a=h:s.before(h)==p&&o.splice(1,0,-h)}let l=o.indexOf(a),c=[],u=n.openStart;for(let h=n.content,p=0;;p++){let m=h.firstChild;if(c.push(m),p==n.openStart)break;h=m.content}for(let h=u-1;h>=0;h--){let p=c[h],m=bF(p.type);if(m&&!p.sameMarkup(s.node(Math.abs(a)-1)))u=h;else if(m||!p.type.isTextblock)break}for(let h=n.openStart;h>=0;h--){let p=(h+u+1)%(n.openStart+1),m=c[p];if(m)for(let g=0;g<o.length;g++){let x=o[(g+l)%o.length],v=!0;x<0&&(v=!1,x=-x);let y=s.node(x-1),b=s.index(x-1);if(y.canReplaceWith(b,b,m.type,m.marks))return t.replace(s.before(x),v?i.after(x):r,new G(S2(n.content,0,n.openStart,p),p,n.openEnd))}}let f=t.steps.length;for(let h=o.length-1;h>=0&&(t.replace(e,r,n),!(t.steps.length>f));h--){let p=o[h];p<0||(e=s.before(p),r=i.after(p))}}function S2(t,e,r,n,s){if(e<r){let i=t.firstChild;t=t.replaceChild(0,i.copy(S2(i.content,e+1,r,n,i)))}if(e>n){let i=s.contentMatchAt(0),o=i.fillBefore(t).append(t);t=o.append(i.matchFragment(o).fillBefore($.empty,!0))}return t}function SF(t,e,r,n){if(!n.isInline&&e==r&&t.doc.resolve(e).parent.content.size){let s=yF(t.doc,e,n.type);s!=null&&(e=r=s)}t.replaceRange(e,r,new G($.from(n),0,0))}function kF(t,e,r){let n=t.doc.resolve(e),s=t.doc.resolve(r),i=k2(n,s);for(let o=0;o<i.length;o++){let a=i[o],l=o==i.length-1;if(l&&a==0||n.node(a).type.contentMatch.validEnd)return t.delete(n.start(a),s.end(a));if(a>0&&(l||n.node(a-1).canReplace(n.index(a-1),s.indexAfter(a-1))))return t.delete(n.before(a),s.after(a))}for(let o=1;o<=n.depth&&o<=s.depth;o++)if(e-n.start(o)==n.depth-o&&r>n.end(o)&&s.end(o)-r!=s.depth-o)return t.delete(n.before(o),r);t.delete(e,r)}function k2(t,e){let r=[],n=Math.min(t.depth,e.depth);for(let s=n;s>=0;s--){let i=t.start(s);if(i<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(i==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==i-1)&&r.push(s)}return r}class Ka extends lr{constructor(e,r,n){super(),this.pos=e,this.attr=r,this.value=n}apply(e){let r=e.nodeAt(this.pos);if(!r)return Nt.fail("No node at attribute step's position");let n=Object.create(null);for(let i in r.attrs)n[i]=r.attrs[i];n[this.attr]=this.value;let s=r.type.create(n,null,r.marks);return Nt.fromReplace(e,this.pos,this.pos+1,new G($.from(s),0,r.isLeaf?0:1))}getMap(){return Br.empty}invert(e){return new Ka(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Ka(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Ka(r.pos,r.attr,r.value)}}lr.jsonID("attr",Ka);class Tu extends lr{constructor(e,r){super(),this.attr=e,this.value=r}apply(e){let r=Object.create(null);for(let s in e.attrs)r[s]=e.attrs[s];r[this.attr]=this.value;let n=e.type.create(r,e.content,e.marks);return Nt.ok(n)}getMap(){return Br.empty}invert(e){return new Tu(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Tu(r.attr,r.value)}}lr.jsonID("docAttr",Tu);let Nl=class extends Error{};Nl=function t(e){let r=Error.call(this,e);return r.__proto__=t.prototype,r};Nl.prototype=Object.create(Error.prototype);Nl.prototype.constructor=Nl;Nl.prototype.name="TransformError";class _F{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new qa}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let r=this.maybeStep(e);if(r.failed)throw new Nl(r.failed);return this}maybeStep(e){let r=e.apply(this.doc);return r.failed||this.addStep(e,r.doc),r}get docChanged(){return this.steps.length>0}addStep(e,r){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=r}replace(e,r=e,n=G.empty){let s=hp(this.doc,e,r,n);return s&&this.step(s),this}replaceWith(e,r,n){return this.replace(e,r,new G($.from(n),0,0))}delete(e,r){return this.replace(e,r,G.empty)}insert(e,r){return this.replaceWith(e,e,r)}replaceRange(e,r,n){return wF(this,e,r,n),this}replaceRangeWith(e,r,n){return SF(this,e,r,n),this}deleteRange(e,r){return kF(this,e,r),this}lift(e,r){return oF(this,e,r),this}join(e,r=1){return gF(this,e,r),this}wrap(e,r){return cF(this,e,r),this}setBlockType(e,r=e,n,s=null){return uF(this,e,r,n,s),this}setNodeMarkup(e,r,n=null,s){return pF(this,e,r,n,s),this}setNodeAttribute(e,r,n){return this.step(new Ka(e,r,n)),this}setDocAttribute(e,r){return this.step(new Tu(e,r)),this}addNodeMark(e,r){return this.step(new ki(e,r)),this}removeNodeMark(e,r){if(!(r instanceof Ke)){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(r=r.isInSet(n.marks),!r)return this}return this.step(new Cl(e,r)),this}split(e,r=1,n){return mF(this,e,r,n),this}addMark(e,r,n){return nF(this,e,r,n),this}removeMark(e,r,n){return sF(this,e,r,n),this}clearIncompatible(e,r,n){return y2(this,e,r,n),this}}const Fm=Object.create(null);class ke{constructor(e,r,n){this.$anchor=e,this.$head=r,this.ranges=n||[new EF(e.min(r),e.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let r=0;r<e.length;r++)if(e[r].$from.pos!=e[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,r=G.empty){let n=r.content.lastChild,s=null;for(let a=0;a<r.openEnd;a++)s=n,n=n.lastChild;let i=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:c}=o[a],u=e.mapping.slice(i);e.replaceRange(u.map(l.pos),u.map(c.pos),a?G.empty:r),a==0&&aw(e,i,(n?n.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,r){let n=e.steps.length,s=this.ranges;for(let i=0;i<s.length;i++){let{$from:o,$to:a}=s[i],l=e.mapping.slice(n),c=l.map(o.pos),u=l.map(a.pos);i?e.deleteRange(c,u):(e.replaceRangeWith(c,u,r),aw(e,n,r.isInline?-1:1))}}static findFrom(e,r,n=!1){let s=e.parent.inlineContent?new we(e):ga(e.node(0),e.parent,e.pos,e.index(),r,n);if(s)return s;for(let i=e.depth-1;i>=0;i--){let o=r<0?ga(e.node(0),e.node(i),e.before(i+1),e.index(i),r,n):ga(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,r,n);if(o)return o}return null}static near(e,r=1){return this.findFrom(e,r)||this.findFrom(e,-r)||new Ln(e.node(0))}static atStart(e){return ga(e,e,0,0,1)||new Ln(e)}static atEnd(e){return ga(e,e,e.content.size,e.childCount,-1)||new Ln(e)}static fromJSON(e,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=Fm[r.type];if(!n)throw new RangeError(`No selection type ${r.type} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in Fm)throw new RangeError("Duplicate use of selection JSON ID "+e);return Fm[e]=r,r.prototype.jsonID=e,r}getBookmark(){return we.between(this.$anchor,this.$head).getBookmark()}}ke.prototype.visible=!0;class EF{constructor(e,r){this.$from=e,this.$to=r}}let iw=!1;function ow(t){!iw&&!t.parent.inlineContent&&(iw=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class we extends ke{constructor(e,r=e){ow(e),ow(r),super(e,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,r){let n=e.resolve(r.map(this.head));if(!n.parent.inlineContent)return ke.near(n);let s=e.resolve(r.map(this.anchor));return new we(s.parent.inlineContent?s:n,n)}replace(e,r=G.empty){if(super.replace(e,r),r==G.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof we&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new pp(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new we(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,n=r){let s=e.resolve(r);return new this(s,n==r?s:e.resolve(n))}static between(e,r,n){let s=e.pos-r.pos;if((!n||s)&&(n=s>=0?1:-1),!r.parent.inlineContent){let i=ke.findFrom(r,n,!0)||ke.findFrom(r,-n,!0);if(i)r=i.$head;else return ke.near(r,n)}return e.parent.inlineContent||(s==0?e=r:(e=(ke.findFrom(e,-n,!0)||ke.findFrom(e,n,!0)).$anchor,e.pos<r.pos!=s<0&&(e=r))),new we(e,r)}}ke.jsonID("text",we);class pp{constructor(e,r){this.anchor=e,this.head=r}map(e){return new pp(e.map(this.anchor),e.map(this.head))}resolve(e){return we.between(e.resolve(this.anchor),e.resolve(this.head))}}class pe extends ke{constructor(e){let r=e.nodeAfter,n=e.node(0).resolve(e.pos+r.nodeSize);super(e,n),this.node=r}map(e,r){let{deleted:n,pos:s}=r.mapResult(this.anchor),i=e.resolve(s);return n?ke.near(i):new pe(i)}content(){return new G($.from(this.node),0,0)}eq(e){return e instanceof pe&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Fv(this.anchor)}static fromJSON(e,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new pe(e.resolve(r.anchor))}static create(e,r){return new pe(e.resolve(r))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}pe.prototype.visible=!1;ke.jsonID("node",pe);class Fv{constructor(e){this.anchor=e}map(e){let{deleted:r,pos:n}=e.mapResult(this.anchor);return r?new pp(n,n):new Fv(n)}resolve(e){let r=e.resolve(this.anchor),n=r.nodeAfter;return n&&pe.isSelectable(n)?new pe(r):ke.near(r)}}class Ln extends ke{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,r=G.empty){if(r==G.empty){e.delete(0,e.doc.content.size);let n=ke.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,r)}toJSON(){return{type:"all"}}static fromJSON(e){return new Ln(e)}map(e){return new Ln(e)}eq(e){return e instanceof Ln}getBookmark(){return CF}}ke.jsonID("all",Ln);const CF={map(){return this},resolve(t){return new Ln(t)}};function ga(t,e,r,n,s,i=!1){if(e.inlineContent)return we.create(t,r);for(let o=n-(s>0?0:1);s>0?o<e.childCount:o>=0;o+=s){let a=e.child(o);if(a.isAtom){if(!i&&pe.isSelectable(a))return pe.create(t,r-(s<0?a.nodeSize:0))}else{let l=ga(t,a,r+s,s<0?a.childCount:0,s,i);if(l)return l}r+=a.nodeSize*s}return null}function aw(t,e,r){let n=t.steps.length-1;if(n<e)return;let s=t.steps[n];if(!(s instanceof Ft||s instanceof zt))return;let i=t.mapping.maps[n],o;i.forEach((a,l,c,u)=>{o==null&&(o=u)}),t.setSelection(ke.near(t.doc.resolve(o),r))}const lw=1,Gd=2,cw=4;class NF extends _F{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|lw)&~Gd,this.storedMarks=null,this}get selectionSet(){return(this.updated&lw)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Gd,this}ensureMarks(e){return Ke.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Gd)>0}addStep(e,r){super.addStep(e,r),this.updated=this.updated&~Gd,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,r=!0){let n=this.selection;return r&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Ke.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,r,n){let s=this.doc.type.schema;if(r==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(n==null&&(n=r),n=n??r,!e)return this.deleteRange(r,n);let i=this.storedMarks;if(!i){let o=this.doc.resolve(r);i=n==r?o.marks():o.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,s.text(e,i)),this.selection.empty||this.setSelection(ke.near(this.selection.$to)),this}}setMeta(e,r){return this.meta[typeof e=="string"?e:e.key]=r,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=cw,this}get scrolledIntoView(){return(this.updated&cw)>0}}function uw(t,e){return!e||!t?t:t.bind(e)}class Sc{constructor(e,r,n){this.name=e,this.init=uw(r.init,n),this.apply=uw(r.apply,n)}}const jF=[new Sc("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Sc("selection",{init(t,e){return t.selection||ke.atStart(e.doc)},apply(t){return t.selection}}),new Sc("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,r,n){return n.selection.$cursor?t.storedMarks:null}}),new Sc("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class $m{constructor(e,r){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=jF.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new Sc(n.key,n.spec.state,n))})}}class Aa{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let s=this.config.plugins[n];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let r=[e],n=this.applyInner(e),s=null;for(;;){let i=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=s?s[o].n:0,c=s?s[o].state:this,u=l<r.length&&a.spec.appendTransaction.call(a,l?r.slice(l):r,c,n);if(u&&n.filterTransaction(u,o)){if(u.setMeta("appendedTransaction",e),!s){s=[];for(let f=0;f<this.config.plugins.length;f++)s.push(f<o?{state:n,n:r.length}:{state:this,n:0})}r.push(u),n=n.applyInner(u),i=!0}s&&(s[o]={state:n,n:r.length})}}if(!i)return{state:n,transactions:r}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new Aa(this.config),n=this.config.fields;for(let s=0;s<n.length;s++){let i=n[s];r[i.name]=i.apply(e,this[i.name],this,r)}return r}get tr(){return new NF(this)}static create(e){let r=new $m(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new Aa(r);for(let s=0;s<r.fields.length;s++)n[r.fields[s].name]=r.fields[s].init(e,n);return n}reconfigure(e){let r=new $m(this.schema,e.plugins),n=r.fields,s=new Aa(r);for(let i=0;i<n.length;i++){let o=n[i].name;s[o]=this.hasOwnProperty(o)?this[o]:n[i].init(e,s)}return s}toJSON(e){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[n],i=s.spec.state;i&&i.toJSON&&(r[n]=i.toJSON.call(s,this[s.key]))}return r}static fromJSON(e,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new $m(e.schema,e.plugins),i=new Aa(s);return s.fields.forEach(o=>{if(o.name=="doc")i.doc=Po.fromJSON(e.schema,r.doc);else if(o.name=="selection")i.selection=ke.fromJSON(i.doc,r.selection);else if(o.name=="storedMarks")r.storedMarks&&(i.storedMarks=r.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let a in n){let l=n[a],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(r,a)){i[o.name]=c.fromJSON.call(l,e,r[a],i);return}}i[o.name]=o.init(e,i)}}),i}}function _2(t,e,r){for(let n in t){let s=t[n];s instanceof Function?s=s.bind(e):n=="handleDOMEvents"&&(s=_2(s,e,{})),r[n]=s}return r}class gn{constructor(e){this.spec=e,this.props={},e.props&&_2(e.props,this,this.props),this.key=e.key?e.key.key:E2("plugin")}getState(e){return e[this.key]}}const zm=Object.create(null);function E2(t){return t in zm?t+"$"+ ++zm[t]:(zm[t]=0,t+"$")}class Zi{constructor(e="key"){this.key=E2(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Kt=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Pu=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let qy=null;const ks=function(t,e,r){let n=qy||(qy=document.createRange());return n.setEnd(t,r??t.nodeValue.length),n.setStart(t,e||0),n},OF=function(){qy=null},Wo=function(t,e,r,n){return r&&(dw(t,e,r,n,-1)||dw(t,e,r,n,1))},TF=/^(img|br|input|textarea|hr)$/i;function dw(t,e,r,n,s){for(;;){if(t==r&&e==n)return!0;if(e==(s<0?0:an(t))){let i=t.parentNode;if(!i||i.nodeType!=1||id(t)||TF.test(t.nodeName)||t.contentEditable=="false")return!1;e=Kt(t)+(s<0?0:1),t=i}else if(t.nodeType==1){if(t=t.childNodes[e+(s<0?-1:0)],t.contentEditable=="false")return!1;e=s<0?an(t):0}else return!1}}function an(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function PF(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=an(t)}else if(t.parentNode&&!id(t))e=Kt(t),t=t.parentNode;else return null}}function MF(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!id(t))e=Kt(t)+1,t=t.parentNode;else return null}}function AF(t,e,r){for(let n=e==0,s=e==an(t);n||s;){if(t==r)return!0;let i=Kt(t);if(t=t.parentNode,!t)return!1;n=n&&i==0,s=s&&i==an(t)}}function id(t){let e;for(let r=t;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const mp=function(t){return t.focusNode&&Wo(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function io(t,e){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=t,r.key=r.code=e,r}function IF(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function RF(t,e,r){if(t.caretPositionFromPoint)try{let n=t.caretPositionFromPoint(e,r);if(n)return{node:n.offsetNode,offset:Math.min(an(n.offsetNode),n.offset)}}catch{}if(t.caretRangeFromPoint){let n=t.caretRangeFromPoint(e,r);if(n)return{node:n.startContainer,offset:Math.min(an(n.startContainer),n.startOffset)}}}const as=typeof navigator<"u"?navigator:null,fw=typeof document<"u"?document:null,Qi=as&&as.userAgent||"",Wy=/Edge\/(\d+)/.exec(Qi),C2=/MSIE \d/.exec(Qi),Ky=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Qi),Mr=!!(C2||Ky||Wy),Ai=C2?document.documentMode:Ky?+Ky[1]:Wy?+Wy[1]:0,zn=!Mr&&/gecko\/(\d+)/i.test(Qi);zn&&+(/Firefox\/(\d+)/.exec(Qi)||[0,0])[1];const Jy=!Mr&&/Chrome\/(\d+)/.exec(Qi),sr=!!Jy,N2=Jy?+Jy[1]:0,yr=!Mr&&!!as&&/Apple Computer/.test(as.vendor),jl=yr&&(/Mobile\/\w+/.test(Qi)||!!as&&as.maxTouchPoints>2),tn=jl||(as?/Mac/.test(as.platform):!1),DF=as?/Win/.test(as.platform):!1,Tn=/Android \d/.test(Qi),od=!!fw&&"webkitFontSmoothing"in fw.documentElement.style,LF=od?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function FF(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function xs(t,e){return typeof t=="number"?t:t[e]}function $F(t){let e=t.getBoundingClientRect(),r=e.width/t.offsetWidth||1,n=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*r,top:e.top,bottom:e.top+t.clientHeight*n}}function hw(t,e,r){let n=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let o=r||t.dom;o;o=Pu(o)){if(o.nodeType!=1)continue;let a=o,l=a==i.body,c=l?FF(i):$F(a),u=0,f=0;if(e.top<c.top+xs(n,"top")?f=-(c.top-e.top+xs(s,"top")):e.bottom>c.bottom-xs(n,"bottom")&&(f=e.bottom-e.top>c.bottom-c.top?e.top+xs(s,"top")-c.top:e.bottom-c.bottom+xs(s,"bottom")),e.left<c.left+xs(n,"left")?u=-(c.left-e.left+xs(s,"left")):e.right>c.right-xs(n,"right")&&(u=e.right-c.right+xs(s,"right")),u||f)if(l)i.defaultView.scrollBy(u,f);else{let h=a.scrollLeft,p=a.scrollTop;f&&(a.scrollTop+=f),u&&(a.scrollLeft+=u);let m=a.scrollLeft-h,g=a.scrollTop-p;e={left:e.left-m,top:e.top-g,right:e.right-m,bottom:e.bottom-g}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(o).position))break}}function zF(t){let e=t.dom.getBoundingClientRect(),r=Math.max(0,e.top),n,s;for(let i=(e.left+e.right)/2,o=r+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=t.root.elementFromPoint(i,o);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=r-20){n=a,s=l.top;break}}return{refDOM:n,refTop:s,stack:j2(t.dom)}}function j2(t){let e=[],r=t.ownerDocument;for(let n=t;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),t!=r);n=Pu(n));return e}function BF({refDOM:t,refTop:e,stack:r}){let n=t?t.getBoundingClientRect().top:0;O2(r,n==0?0:n-e)}function O2(t,e){for(let r=0;r<t.length;r++){let{dom:n,top:s,left:i}=t[r];n.scrollTop!=s+e&&(n.scrollTop=s+e),n.scrollLeft!=i&&(n.scrollLeft=i)}}let da=null;function VF(t){if(t.setActive)return t.setActive();if(da)return t.focus(da);let e=j2(t);t.focus(da==null?{get preventScroll(){return da={preventScroll:!0},!0}}:void 0),da||(da=!1,O2(e,0))}function T2(t,e){let r,n=2e8,s,i=0,o=e.top,a=e.top,l,c;for(let u=t.firstChild,f=0;u;u=u.nextSibling,f++){let h;if(u.nodeType==1)h=u.getClientRects();else if(u.nodeType==3)h=ks(u).getClientRects();else continue;for(let p=0;p<h.length;p++){let m=h[p];if(m.top<=o&&m.bottom>=a){o=Math.max(m.bottom,o),a=Math.min(m.top,a);let g=m.left>e.left?m.left-e.left:m.right<e.left?e.left-m.right:0;if(g<n){r=u,n=g,s=g&&r.nodeType==3?{left:m.right<e.left?m.right:m.left,top:e.top}:e,u.nodeType==1&&g&&(i=f+(e.left>=(m.left+m.right)/2?1:0));continue}}else m.top>e.top&&!l&&m.left<=e.left&&m.right>=e.left&&(l=u,c={left:Math.max(m.left,Math.min(m.right,e.left)),top:m.top});!r&&(e.left>=m.right&&e.top>=m.top||e.left>=m.left&&e.top>=m.bottom)&&(i=f+1)}}return!r&&l&&(r=l,s=c,n=0),r&&r.nodeType==3?UF(r,s):!r||n&&r.nodeType==1?{node:t,offset:i}:T2(r,s)}function UF(t,e){let r=t.nodeValue.length,n=document.createRange();for(let s=0;s<r;s++){n.setEnd(t,s+1),n.setStart(t,s);let i=Ys(n,1);if(i.top!=i.bottom&&$v(e,i))return{node:t,offset:s+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}function $v(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function HF(t,e){let r=t.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<t.getBoundingClientRect().left?r:t}function qF(t,e,r){let{node:n,offset:s}=T2(e,r),i=-1;if(n.nodeType==1&&!n.firstChild){let o=n.getBoundingClientRect();i=o.left!=o.right&&r.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(n,s,i)}function WF(t,e,r,n){let s=-1;for(let i=e,o=!1;i!=t.dom;){let a=t.docView.nearestDesc(i,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)){let l=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&(!o&&l.left>n.left||l.top>n.top?s=a.posBefore:(!o&&l.right<n.left||l.bottom<n.top)&&(s=a.posAfter),o=!0),!a.contentDOM&&s<0&&!a.node.isText)return(a.node.isBlock?n.top<(l.top+l.bottom)/2:n.left<(l.left+l.right)/2)?a.posBefore:a.posAfter}i=a.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,r,-1)}function P2(t,e,r){let n=t.childNodes.length;if(n&&r.top<r.bottom)for(let s=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-r.top)/(r.bottom-r.top))-2)),i=s;;){let o=t.childNodes[i];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if($v(e,c))return P2(o,e,c)}}if((i=(i+1)%n)==s)break}return t}function KF(t,e){let r=t.dom.ownerDocument,n,s=0,i=RF(r,e.left,e.top);i&&({node:n,offset:s}=i);let o=(t.root.elementFromPoint?t.root:r).elementFromPoint(e.left,e.top),a;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=t.dom.getBoundingClientRect();if(!$v(e,c)||(o=P2(t.dom,e,c),!o))return null}if(yr)for(let c=o;n&&c;c=Pu(c))c.draggable&&(n=void 0);if(o=HF(o,e),n){if(zn&&n.nodeType==1&&(s=Math.min(s,n.childNodes.length),s<n.childNodes.length)){let u=n.childNodes[s],f;u.nodeName=="IMG"&&(f=u.getBoundingClientRect()).right<=e.left&&f.bottom>e.top&&s++}let c;od&&s&&n.nodeType==1&&(c=n.childNodes[s-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&s--,n==t.dom&&s==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(s==0||n.nodeType!=1||n.childNodes[s-1].nodeName!="BR")&&(a=WF(t,n,s,e))}a==null&&(a=qF(t,o,e));let l=t.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function pw(t){return t.top<t.bottom||t.left<t.right}function Ys(t,e){let r=t.getClientRects();if(r.length){let n=r[e<0?0:r.length-1];if(pw(n))return n}return Array.prototype.find.call(r,pw)||t.getBoundingClientRect()}const JF=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function M2(t,e,r){let{node:n,offset:s,atom:i}=t.docView.domFromPos(e,r<0?-1:1),o=od||zn;if(n.nodeType==3)if(o&&(JF.test(n.nodeValue)||(r<0?!s:s==n.nodeValue.length))){let l=Ys(ks(n,s,s),r);if(zn&&s&&/\s/.test(n.nodeValue[s-1])&&s<n.nodeValue.length){let c=Ys(ks(n,s-1,s-1),-1);if(c.top==l.top){let u=Ys(ks(n,s,s+1),-1);if(u.top!=l.top)return cc(u,u.left<c.left)}}return l}else{let l=s,c=s,u=r<0?1:-1;return r<0&&!s?(c++,u=-1):r>=0&&s==n.nodeValue.length?(l--,u=1):r<0?l--:c++,cc(Ys(ks(n,l,c),u),u<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&s&&(r<0||s==an(n))){let l=n.childNodes[s-1];if(l.nodeType==1)return Bm(l.getBoundingClientRect(),!1)}if(i==null&&s<an(n)){let l=n.childNodes[s];if(l.nodeType==1)return Bm(l.getBoundingClientRect(),!0)}return Bm(n.getBoundingClientRect(),r>=0)}if(i==null&&s&&(r<0||s==an(n))){let l=n.childNodes[s-1],c=l.nodeType==3?ks(l,an(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return cc(Ys(c,1),!1)}if(i==null&&s<an(n)){let l=n.childNodes[s];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?ks(l,0,o?0:1):l.nodeType==1?l:null:null;if(c)return cc(Ys(c,-1),!0)}return cc(Ys(n.nodeType==3?ks(n):n,-r),r>=0)}function cc(t,e){if(t.width==0)return t;let r=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:r,right:r}}function Bm(t,e){if(t.height==0)return t;let r=e?t.top:t.bottom;return{top:r,bottom:r,left:t.left,right:t.right}}function A2(t,e,r){let n=t.state,s=t.root.activeElement;n!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return r()}finally{n!=e&&t.updateState(n),s!=t.dom&&s&&s.focus()}}function ZF(t,e,r){let n=e.selection,s=r=="up"?n.$from:n.$to;return A2(t,e,()=>{let{node:i}=t.docView.domFromPos(s.pos,r=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(i,!0);if(!a)break;if(a.node.isBlock){i=a.contentDOM||a.dom;break}i=a.dom.parentNode}let o=M2(t,s.pos,1);for(let a=i.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=ks(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(r=="up"?o.top-u.top>(u.bottom-o.top)*2:u.bottom-o.bottom>(o.bottom-u.top)*2))return!1}}return!0})}const QF=/[\u0590-\u08ac]/;function GF(t,e,r){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let s=n.parentOffset,i=!s,o=s==n.parent.content.size,a=t.domSelection();return a?!QF.test(n.parent.textContent)||!a.modify?r=="left"||r=="backward"?i:o:A2(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:f}=t.domSelectionRange(),h=a.caretBidiLevel;a.modify("move",r,"character");let p=n.depth?t.docView.domAfterPos(n.before()):t.dom,{focusNode:m,focusOffset:g}=t.domSelectionRange(),x=m&&!p.contains(m.nodeType==1?m:m.parentNode)||l==m&&c==g;try{a.collapse(u,f),l&&(l!=u||c!=f)&&a.extend&&a.extend(l,c)}catch{}return h!=null&&(a.caretBidiLevel=h),x}):n.pos==n.start()||n.pos==n.end()}let mw=null,gw=null,yw=!1;function YF(t,e,r){return mw==e&&gw==r?yw:(mw=e,gw=r,yw=r=="up"||r=="down"?ZF(t,e,r):GF(t,e,r))}const dn=0,vw=1,po=2,ls=3;class ad{constructor(e,r,n,s){this.parent=e,this.children=r,this.dom=n,this.contentDOM=s,this.dirty=dn,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,r,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let r=0;r<this.children.length;r++)e+=this.children[r].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let r=0,n=this.posAtStart;;r++){let s=this.children[r];if(s==e)return n;n+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,r,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let i,o;if(e==this.contentDOM)i=e.childNodes[r-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(o)+o.size:this.posAtStart}else{let i,o;if(e==this.contentDOM)i=e.childNodes[r];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(o):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=r>Kt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!1;break}if(i.previousSibling)break}if(s==null&&r==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!0;break}if(i.nextSibling)break}}return s??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,r=!1){for(let n=!0,s=e;s;s=s.parentNode){let i=this.getDesc(s),o;if(i&&(!r||i.node))if(n&&(o=i.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))n=!1;else return i}}getDesc(e){let r=e.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(e,r,n){for(let s=e;s;s=s.parentNode){let i=this.getDesc(s);if(i)return i.localPosFromDOM(e,r,n)}return-1}descAt(e){for(let r=0,n=0;r<this.children.length;r++){let s=this.children[r],i=n+s.size;if(n==e&&i!=n){for(;!s.border&&s.children.length;)s=s.children[0];return s}if(e<i)return s.descAt(e-n-s.border);n=i}}domFromPos(e,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,s=0;for(let i=0;n<this.children.length;n++){let o=this.children[n],a=i+o.size;if(a>e||o instanceof R2){s=e-i;break}i=a}if(s)return this.children[n].domFromPos(s-this.children[n].border,r);for(let i;n&&!(i=this.children[n-1]).size&&i instanceof I2&&i.side>=0;n--);if(r<=0){let i,o=!0;for(;i=n?this.children[n-1]:null,!(!i||i.dom.parentNode==this.contentDOM);n--,o=!1);return i&&r&&o&&!i.border&&!i.domAtom?i.domFromPos(i.size,r):{node:this.contentDOM,offset:i?Kt(i.dom)+1:0}}else{let i,o=!0;for(;i=n<this.children.length?this.children[n]:null,!(!i||i.dom.parentNode==this.contentDOM);n++,o=!1);return i&&o&&!i.border&&!i.domAtom?i.domFromPos(0,r):{node:this.contentDOM,offset:i?Kt(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,i=-1;for(let o=n,a=0;;a++){let l=this.children[a],c=o+l.size;if(s==-1&&e<=c){let u=o+l.border;if(e>=u&&r<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,r,u);e=o;for(let f=a;f>0;f--){let h=this.children[f-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){s=Kt(h.dom)+1;break}e-=h.size}s==-1&&(s=0)}if(s>-1&&(c>r||a==this.children.length-1)){r=c;for(let u=a+1;u<this.children.length;u++){let f=this.children[u];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){i=Kt(f.dom);break}r+=f.size}i==-1&&(i=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:e,to:r,fromOffset:s,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[e<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(e)}domAfterPos(e){let{node:r,offset:n}=this.domFromPos(e,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+e);return r.childNodes[n]}setSelection(e,r,n,s=!1){let i=Math.min(e,r),o=Math.max(e,r);for(let h=0,p=0;h<this.children.length;h++){let m=this.children[h],g=p+m.size;if(i>p&&o<g)return m.setSelection(e-p-m.border,r-p-m.border,n,s);p=g}let a=this.domFromPos(e,e?-1:1),l=r==e?a:this.domFromPos(r,r?-1:1),c=n.getSelection(),u=!1;if((zn||yr)&&e==r){let{node:h,offset:p}=a;if(h.nodeType==3){if(u=!!(p&&h.nodeValue[p-1]==`
`),u&&p==h.nodeValue.length)for(let m=h,g;m;m=m.parentNode){if(g=m.nextSibling){g.nodeName=="BR"&&(a=l={node:g.parentNode,offset:Kt(g)+1});break}let x=m.pmViewDesc;if(x&&x.node&&x.node.isBlock)break}}else{let m=h.childNodes[p-1];u=m&&(m.nodeName=="BR"||m.contentEditable=="false")}}if(zn&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let h=c.focusNode.childNodes[c.focusOffset];h&&h.contentEditable=="false"&&(s=!0)}if(!(s||u&&yr)&&Wo(a.node,a.offset,c.anchorNode,c.anchorOffset)&&Wo(l.node,l.offset,c.focusNode,c.focusOffset))return;let f=!1;if((c.extend||e==r)&&!u){c.collapse(a.node,a.offset);try{e!=r&&c.extend(l.node,l.offset),f=!0}catch{}}if(!f){if(e>r){let p=a;a=l,l=p}let h=document.createRange();h.setEnd(l.node,l.offset),h.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(h)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,r){for(let n=0,s=0;s<this.children.length;s++){let i=this.children[s],o=n+i.size;if(n==o?e<=o&&r>=n:e<o&&r>n){let a=n+i.border,l=o-i.border;if(e>=a&&r<=l){this.dirty=e==n||r==o?po:vw,e==a&&r==l&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=ls:i.markDirty(e-a,r-a);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?po:ls}n=o}this.dirty=po}markParentsDirty(){let e=1;for(let r=this.parent;r;r=r.parent,e++){let n=e==1?po:vw;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class I2 extends ad{constructor(e,r,n,s){let i,o=r.type.toDOM;if(typeof o=="function"&&(o=o(n,()=>{if(!i)return s;if(i.parent)return i.parent.posBeforeChild(i)})),!r.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=r,this.widget=r,i=this}matchesWidget(e){return this.dirty==dn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let r=this.widget.spec.stopEvent;return r?r(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class XF extends ad{constructor(e,r,n,s){super(e,[],r,null),this.textDOM=n,this.text=s}get size(){return this.text.length}localPosFromDOM(e,r){return e!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Ko extends ad{constructor(e,r,n,s){super(e,[],n,s),this.mark=r}static create(e,r,n,s){let i=s.nodeViews[r.type.name],o=i&&i(r,s,n);return(!o||!o.dom)&&(o=na.renderSpec(document,r.type.spec.toDOM(r,n),null,r.attrs)),new Ko(e,r,o.dom,o.contentDOM||o.dom)}parseRule(){return this.dirty&ls||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=ls&&this.mark.eq(e)}markDirty(e,r){if(super.markDirty(e,r),this.dirty!=dn){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=dn}}slice(e,r,n){let s=Ko.create(this.parent,this.mark,!0,n),i=this.children,o=this.size;r<o&&(i=Gy(i,r,o,n)),e>0&&(i=Gy(i,0,e,n));for(let a=0;a<i.length;a++)i[a].parent=s;return s.children=i,s}}class Ii extends ad{constructor(e,r,n,s,i,o,a,l,c){super(e,[],i,o),this.node=r,this.outerDeco=n,this.innerDeco=s,this.nodeDOM=a}static create(e,r,n,s,i,o){let a=i.nodeViews[r.type.name],l,c=a&&a(r,i,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},n,s),u=c&&c.dom,f=c&&c.contentDOM;if(r.isText){if(!u)u=document.createTextNode(r.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:f}=na.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!f&&!r.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),r.type.spec.draggable&&(u.draggable=!0));let h=u;return u=F2(u,n,r),c?l=new e8(e,r,n,s,u,f||null,h,c,i,o+1):r.isText?new gp(e,r,n,s,u,h,i):new Ii(e,r,n,s,u,f||null,h,i,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>$.empty)}return e}matchesNode(e,r,n){return this.dirty==dn&&e.eq(this.node)&&Qy(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,r){let n=this.node.inlineContent,s=r,i=e.composing?this.localCompositionInfo(e,r):null,o=i&&i.pos>-1?i:null,a=i&&i.pos<0,l=new r8(this,o&&o.node,e);i8(this.node,this.innerDeco,(c,u,f)=>{c.spec.marks?l.syncToMarks(c.spec.marks,n,e):c.type.side>=0&&!f&&l.syncToMarks(u==this.node.childCount?Ke.none:this.node.child(u).marks,n,e),l.placeWidget(c,e,s)},(c,u,f,h)=>{l.syncToMarks(c.marks,n,e);let p;l.findNodeMatch(c,u,f,h)||a&&e.state.selection.from>s&&e.state.selection.to<s+c.nodeSize&&(p=l.findIndexWithChild(i.node))>-1&&l.updateNodeAt(c,u,f,p,e)||l.updateNextNode(c,u,f,e,h,s)||l.addNode(c,u,f,e,s),s+=c.nodeSize}),l.syncToMarks([],n,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==po)&&(o&&this.protectLocalComposition(e,o),D2(this.contentDOM,this.children,e),jl&&o8(this.dom))}localCompositionInfo(e,r){let{from:n,to:s}=e.state.selection;if(!(e.state.selection instanceof we)||n<r||s>r+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let o=i.nodeValue,a=a8(this.node.content,o,n-r,s-r);return a<0?null:{node:i,pos:a,text:o}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:r,pos:n,text:s}){if(this.getDesc(r))return;let i=r;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let o=new XF(this,i,r,s);e.input.compositionNodes.push(o),this.children=Gy(this.children,n,n+s.length,e,o)}update(e,r,n,s){return this.dirty==ls||!e.sameMarkup(this.node)?!1:(this.updateInner(e,r,n,s),!0)}updateInner(e,r,n,s){this.updateOuterDeco(r),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=dn}updateOuterDeco(e){if(Qy(e,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=L2(this.dom,this.nodeDOM,Zy(this.outerDeco,this.node,r),Zy(e,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function xw(t,e,r,n,s){F2(n,e,t);let i=new Ii(void 0,t,e,r,n,n,n,s,0);return i.contentDOM&&i.updateChildren(s,0),i}class gp extends Ii{constructor(e,r,n,s,i,o,a){super(e,r,n,s,i,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,r,n,s){return this.dirty==ls||this.dirty!=dn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=dn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=dn,!0)}inParent(){let e=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,r,n){return e==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(e,r,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,r,n){let s=this.node.cut(e,r),i=document.createTextNode(s.text);return new gp(this.parent,s,this.outerDeco,this.innerDeco,i,i,n)}markDirty(e,r){super.markDirty(e,r),this.dom!=this.nodeDOM&&(e==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=ls)}get domAtom(){return!1}isText(e){return this.node.text==e}}class R2 extends ad{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==dn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class e8 extends Ii{constructor(e,r,n,s,i,o,a,l,c,u){super(e,r,n,s,i,o,a,c,u),this.spec=l}update(e,r,n,s){if(this.dirty==ls)return!1;if(this.spec.update){let i=this.spec.update(e,r,n);return i&&this.updateInner(e,r,n,s),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,r,n,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,r,n,s){this.spec.setSelection?this.spec.setSelection(e,r,n):super.setSelection(e,r,n,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function D2(t,e,r){let n=t.firstChild,s=!1;for(let i=0;i<e.length;i++){let o=e[i],a=o.dom;if(a.parentNode==t){for(;a!=n;)n=bw(n),s=!0;n=n.nextSibling}else s=!0,t.insertBefore(a,n);if(o instanceof Ko){let l=n?n.previousSibling:t.lastChild;D2(o.contentDOM,o.children,r),n=l?l.nextSibling:t.firstChild}}for(;n;)n=bw(n),s=!0;s&&r.trackWrites==t&&(r.trackWrites=null)}const Fc=function(t){t&&(this.nodeName=t)};Fc.prototype=Object.create(null);const mo=[new Fc];function Zy(t,e,r){if(t.length==0)return mo;let n=r?mo[0]:new Fc,s=[n];for(let i=0;i<t.length;i++){let o=t[i].type.attrs;if(o){o.nodeName&&s.push(n=new Fc(o.nodeName));for(let a in o){let l=o[a];l!=null&&(r&&s.length==1&&s.push(n=new Fc(e.isInline?"span":"div")),a=="class"?n.class=(n.class?n.class+" ":"")+l:a=="style"?n.style=(n.style?n.style+";":"")+l:a!="nodeName"&&(n[a]=l))}}}return s}function L2(t,e,r,n){if(r==mo&&n==mo)return e;let s=e;for(let i=0;i<n.length;i++){let o=n[i],a=r[i];if(i){let l;a&&a.nodeName==o.nodeName&&s!=t&&(l=s.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(s),a=mo[0]),s=l}t8(s,a||mo[0],o)}return s}function t8(t,e,r){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&t.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=e[n]&&t.setAttribute(n,r[n]);if(e.class!=r.class){let n=e.class?e.class.split(" ").filter(Boolean):[],s=r.class?r.class.split(" ").filter(Boolean):[];for(let i=0;i<n.length;i++)s.indexOf(n[i])==-1&&t.classList.remove(n[i]);for(let i=0;i<s.length;i++)n.indexOf(s[i])==-1&&t.classList.add(s[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=r.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=n.exec(e.style);)t.style.removeProperty(s[1])}r.style&&(t.style.cssText+=r.style)}}function F2(t,e,r){return L2(t,t,mo,Zy(e,r,t.nodeType!=1))}function Qy(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].type.eq(e[r].type))return!1;return!0}function bw(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class r8{constructor(e,r,n){this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=n8(e.node.content,e)}destroyBetween(e,r){if(e!=r){for(let n=e;n<r;n++)this.top.children[n].destroy();this.top.children.splice(e,r-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,r,n){let s=0,i=this.stack.length>>1,o=Math.min(i,e.length);for(;s<o&&(s==i-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<i;)this.destroyRest(),this.top.dirty=dn,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[i])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Ko.create(this.top,e[i],r,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,i++}}findNodeMatch(e,r,n,s){let i=-1,o;if(s>=this.preMatch.index&&(o=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&o.matchesNode(e,r,n))i=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,r,n)&&!this.preMatch.matched.has(c)){i=a;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,r,n,s,i){let o=this.top.children[s];return o.dirty==ls&&o.dom==o.contentDOM&&(o.dirty=po),o.update(e,r,n,i)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let r=e.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==n)return s}return-1}e=r}}updateNextNode(e,r,n,s,i,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof Ii){let c=this.preMatch.matched.get(l);if(c!=null&&c!=i)return!1;let u=l.dom,f,h=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=ls&&Qy(r,l.outerDeco));if(!h&&l.update(e,r,n,s))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!h&&(f=this.recreateWrapper(l,e,r,n,s,o)))return this.top.children[this.index]=f,f.contentDOM&&(f.dirty=po,f.updateChildren(s,o+1),f.dirty=dn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,r,n,s,i,o){if(e.dirty||r.isAtom||!e.children.length||!e.node.content.eq(r.content))return null;let a=Ii.create(this.top,r,n,s,i,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,r,n,s,i){let o=Ii.create(this.top,e,r,n,s,i);o.contentDOM&&o.updateChildren(s,i+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,r,n){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let i=new I2(this.top,e,r,n);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],r=this.top;for(;e instanceof Ko;)r=e,e=r.children[r.children.length-1];(!e||!(e instanceof gp)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((yr||sr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(e,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let s=new R2(this.top,[],n,null);r!=this.top?r.children.push(s):r.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function n8(t,e){let r=e,n=r.children.length,s=t.childCount,i=new Map,o=[];e:for(;s>0;){let a;for(;;)if(n){let c=r.children[n-1];if(c instanceof Ko)r=c,n=c.children.length;else{a=c,n--;break}}else{if(r==e)break e;n=r.parent.children.indexOf(r),r=r.parent}let l=a.node;if(l){if(l!=t.child(s-1))break;--s,i.set(a,s),o.push(a)}}return{index:s,matched:i,matches:o.reverse()}}function s8(t,e){return t.type.side-e.type.side}function i8(t,e,r,n){let s=e.locals(t),i=0;if(s.length==0){for(let c=0;c<t.childCount;c++){let u=t.child(c);n(u,s,e.forChild(i,u),c),i+=u.nodeSize}return}let o=0,a=[],l=null;for(let c=0;;){let u,f;for(;o<s.length&&s[o].to==i;){let x=s[o++];x.widget&&(u?(f||(f=[u])).push(x):u=x)}if(u)if(f){f.sort(s8);for(let x=0;x<f.length;x++)r(f[x],c,!!l)}else r(u,c,!!l);let h,p;if(l)p=-1,h=l,l=null;else if(c<t.childCount)p=c,h=t.child(c++);else break;for(let x=0;x<a.length;x++)a[x].to<=i&&a.splice(x--,1);for(;o<s.length&&s[o].from<=i&&s[o].to>i;)a.push(s[o++]);let m=i+h.nodeSize;if(h.isText){let x=m;o<s.length&&s[o].from<x&&(x=s[o].from);for(let v=0;v<a.length;v++)a[v].to<x&&(x=a[v].to);x<m&&(l=h.cut(x-i),h=h.cut(0,x-i),m=x,p=-1)}else for(;o<s.length&&s[o].to<m;)o++;let g=h.isInline&&!h.isLeaf?a.filter(x=>!x.inline):a.slice();n(h,g,e.forChild(i,h),p),i=m}}function o8(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function a8(t,e,r,n){for(let s=0,i=0;s<t.childCount&&i<=n;){let o=t.child(s++),a=i;if(i+=o.nodeSize,!o.isText)continue;let l=o.text;for(;s<t.childCount;){let c=t.child(s++);if(i+=c.nodeSize,!c.isText)break;l+=c.text}if(i>=r){if(i>=n&&l.slice(n-e.length-a,n-a)==e)return n-e.length;let c=a<n?l.lastIndexOf(e,n-a-1):-1;if(c>=0&&c+e.length+a>=r)return a+c;if(r==n&&l.length>=n+e.length-a&&l.slice(n-a,n-a+e.length)==e)return n}}return-1}function Gy(t,e,r,n,s){let i=[];for(let o=0,a=0;o<t.length;o++){let l=t[o],c=a,u=a+=l.size;c>=r||u<=e?i.push(l):(c<e&&i.push(l.slice(0,e-c,n)),s&&(i.push(s),s=void 0),u>r&&i.push(l.slice(r-c,l.size,n)))}return i}function zv(t,e=null){let r=t.domSelectionRange(),n=t.state.doc;if(!r.focusNode)return null;let s=t.docView.nearestDesc(r.focusNode),i=s&&s.size==0,o=t.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(o<0)return null;let a=n.resolve(o),l,c;if(mp(r)){for(l=a;s&&!s.node;)s=s.parent;let u=s.node;if(s&&u.isAtom&&pe.isSelectable(u)&&s.parent&&!(u.isInline&&AF(r.focusNode,r.focusOffset,s.dom))){let f=s.posBefore;c=new pe(o==f?a:n.resolve(f))}}else{let u=t.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(u<0)return null;l=n.resolve(u)}if(!c){let u=e=="pointer"||t.state.selection.head<a.pos&&!i?1:-1;c=Bv(t,l,a,u)}return c}function $2(t){return t.editable?t.hasFocus():B2(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Ts(t,e=!1){let r=t.state.selection;if(z2(t,r),!!$2(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&sr){let n=t.domSelectionRange(),s=t.domObserver.currentSelection;if(n.anchorNode&&s.anchorNode&&Wo(n.anchorNode,n.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)c8(t);else{let{anchor:n,head:s}=r,i,o;ww&&!(r instanceof we)&&(r.$from.parent.inlineContent||(i=Sw(t,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(o=Sw(t,r.to))),t.docView.setSelection(n,s,t.root,e),ww&&(i&&kw(i),o&&kw(o)),r.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&l8(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const ww=yr||sr&&N2<63;function Sw(t,e){let{node:r,offset:n}=t.docView.domFromPos(e,0),s=n<r.childNodes.length?r.childNodes[n]:null,i=n?r.childNodes[n-1]:null;if(yr&&s&&s.contentEditable=="false")return Vm(s);if((!s||s.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(s)return Vm(s);if(i)return Vm(i)}}function Vm(t){return t.contentEditable="true",yr&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function kw(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function l8(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let r=t.domSelectionRange(),n=r.anchorNode,s=r.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!$2(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function c8(t){let e=t.domSelection(),r=document.createRange();if(!e)return;let n=t.cursorWrapper.dom,s=n.nodeName=="IMG";s?r.setStart(n.parentNode,Kt(n)+1):r.setStart(n,0),r.collapse(!0),e.removeAllRanges(),e.addRange(r),!s&&!t.state.selection.visible&&Mr&&Ai<=11&&(n.disabled=!0,n.disabled=!1)}function z2(t,e){if(e instanceof pe){let r=t.docView.descAt(e.from);r!=t.lastSelectedViewDesc&&(_w(t),r&&r.selectNode(),t.lastSelectedViewDesc=r)}else _w(t)}function _w(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Bv(t,e,r,n){return t.someProp("createSelectionBetween",s=>s(t,e,r))||we.between(e,r,n)}function Ew(t){return t.editable&&!t.hasFocus()?!1:B2(t)}function B2(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function u8(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),r=t.domSelectionRange();return Wo(e.node,e.offset,r.anchorNode,r.anchorOffset)}function Yy(t,e){let{$anchor:r,$head:n}=t.selection,s=e>0?r.max(n):r.min(n),i=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return i&&ke.findFrom(i,e)}function ri(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Cw(t,e,r){let n=t.state.selection;if(n instanceof we)if(r.indexOf("s")>-1){let{$head:s}=n,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let o=t.state.doc.resolve(s.pos+i.nodeSize*(e<0?-1:1));return ri(t,new we(n.$anchor,o))}else if(n.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=Yy(t.state,e);return s&&s instanceof pe?ri(t,s):!1}else if(!(tn&&r.indexOf("m")>-1)){let s=n.$head,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,o;if(!i||i.isText)return!1;let a=e<0?s.pos-i.nodeSize:s.pos;return i.isAtom||(o=t.docView.descAt(a))&&!o.contentDOM?pe.isSelectable(i)?ri(t,new pe(e<0?t.state.doc.resolve(s.pos-i.nodeSize):s)):od?ri(t,new we(t.state.doc.resolve(e<0?a:a+i.nodeSize))):!1:!1}}else return!1;else{if(n instanceof pe&&n.node.isInline)return ri(t,new we(e>0?n.$to:n.$from));{let s=Yy(t.state,e);return s?ri(t,s):!1}}}function Nh(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function $c(t,e){let r=t.pmViewDesc;return r&&r.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function fa(t,e){return e<0?d8(t):f8(t)}function d8(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let s,i,o=!1;for(zn&&r.nodeType==1&&n<Nh(r)&&$c(r.childNodes[n],-1)&&(o=!0);;)if(n>0){if(r.nodeType!=1)break;{let a=r.childNodes[n-1];if($c(a,-1))s=r,i=--n;else if(a.nodeType==3)r=a,n=r.nodeValue.length;else break}}else{if(V2(r))break;{let a=r.previousSibling;for(;a&&$c(a,-1);)s=r.parentNode,i=Kt(a),a=a.previousSibling;if(a)r=a,n=Nh(r);else{if(r=r.parentNode,r==t.dom)break;n=0}}}o?Xy(t,r,n):s&&Xy(t,s,i)}function f8(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let s=Nh(r),i,o;for(;;)if(n<s){if(r.nodeType!=1)break;let a=r.childNodes[n];if($c(a,1))i=r,o=++n;else break}else{if(V2(r))break;{let a=r.nextSibling;for(;a&&$c(a,1);)i=a.parentNode,o=Kt(a)+1,a=a.nextSibling;if(a)r=a,n=0,s=Nh(r);else{if(r=r.parentNode,r==t.dom)break;n=s=0}}}i&&Xy(t,i,o)}function V2(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function h8(t,e){for(;t&&e==t.childNodes.length&&!id(t);)e=Kt(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let r=t.childNodes[e];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=0}}function p8(t,e){for(;t&&!e&&!id(t);)e=Kt(t),t=t.parentNode;for(;t&&e;){let r=t.childNodes[e-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=t.childNodes.length}}function Xy(t,e,r){if(e.nodeType!=3){let i,o;(o=h8(e,r))?(e=o,r=0):(i=p8(e,r))&&(e=i,r=i.nodeValue.length)}let n=t.domSelection();if(!n)return;if(mp(n)){let i=document.createRange();i.setEnd(e,r),i.setStart(e,r),n.removeAllRanges(),n.addRange(i)}else n.extend&&n.extend(e,r);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&Ts(t)},50)}function Nw(t,e){let r=t.state.doc.resolve(e);if(!(sr||DF)&&r.parent.inlineContent){let s=t.coordsAtPos(e);if(e>r.start()){let i=t.coordsAtPos(e-1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left<s.left?"ltr":"rtl"}if(e<r.end()){let i=t.coordsAtPos(e+1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function jw(t,e,r){let n=t.state.selection;if(n instanceof we&&!n.empty||r.indexOf("s")>-1||tn&&r.indexOf("m")>-1)return!1;let{$from:s,$to:i}=n;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=Yy(t.state,e);if(o&&o instanceof pe)return ri(t,o)}if(!s.parent.inlineContent){let o=e<0?s:i,a=n instanceof Ln?ke.near(o,e):ke.findFrom(o,e);return a?ri(t,a):!1}return!1}function Ow(t,e){if(!(t.state.selection instanceof we))return!0;let{$head:r,$anchor:n,empty:s}=t.state.selection;if(!r.sameParent(n))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(i&&!i.isText){let o=t.state.tr;return e<0?o.delete(r.pos-i.nodeSize,r.pos):o.delete(r.pos,r.pos+i.nodeSize),t.dispatch(o),!0}return!1}function Tw(t,e,r){t.domObserver.stop(),e.contentEditable=r,t.domObserver.start()}function m8(t){if(!yr||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:r}=t.domSelectionRange();if(e&&e.nodeType==1&&r==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;Tw(t,n,"true"),setTimeout(()=>Tw(t,n,"false"),20)}return!1}function g8(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function y8(t,e){let r=e.keyCode,n=g8(e);if(r==8||tn&&r==72&&n=="c")return Ow(t,-1)||fa(t,-1);if(r==46&&!e.shiftKey||tn&&r==68&&n=="c")return Ow(t,1)||fa(t,1);if(r==13||r==27)return!0;if(r==37||tn&&r==66&&n=="c"){let s=r==37?Nw(t,t.state.selection.from)=="ltr"?-1:1:-1;return Cw(t,s,n)||fa(t,s)}else if(r==39||tn&&r==70&&n=="c"){let s=r==39?Nw(t,t.state.selection.from)=="ltr"?1:-1:1;return Cw(t,s,n)||fa(t,s)}else{if(r==38||tn&&r==80&&n=="c")return jw(t,-1,n)||fa(t,-1);if(r==40||tn&&r==78&&n=="c")return m8(t)||jw(t,1,n)||fa(t,1);if(n==(tn?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function U2(t,e){t.someProp("transformCopied",p=>{e=p(e,t)});let r=[],{content:n,openStart:s,openEnd:i}=e;for(;s>1&&i>1&&n.childCount==1&&n.firstChild.childCount==1;){s--,i--;let p=n.firstChild;r.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),n=p.content}let o=t.someProp("clipboardSerializer")||na.fromSchema(t.state.schema),a=Z2(),l=a.createElement("div");l.appendChild(o.serializeFragment(n,{document:a}));let c=l.firstChild,u,f=0;for(;c&&c.nodeType==1&&(u=J2[c.nodeName.toLowerCase()]);){for(let p=u.length-1;p>=0;p--){let m=a.createElement(u[p]);for(;l.firstChild;)m.appendChild(l.firstChild);l.appendChild(m),f++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${s} ${i}${f?` -${f}`:""} ${JSON.stringify(r)}`);let h=t.someProp("clipboardTextSerializer",p=>p(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:h,slice:e}}function H2(t,e,r,n,s){let i=s.parent.type.spec.code,o,a;if(!r&&!e)return null;let l=e&&(n||i||!r);if(l){if(t.someProp("transformPastedText",h=>{e=h(e,i||n,t)}),i)return e?new G($.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):G.empty;let f=t.someProp("clipboardTextParser",h=>h(e,s,n,t));if(f)a=f;else{let h=s.marks(),{schema:p}=t.state,m=na.fromSchema(p);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let x=o.appendChild(document.createElement("p"));g&&x.appendChild(m.serializeNode(p.text(g,h)))})}}else t.someProp("transformPastedHTML",f=>{r=f(r,t)}),o=w8(r),od&&S8(o);let c=o&&o.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let f=+u[3];f>0;f--){let h=o.firstChild;for(;h&&h.nodeType!=1;)h=h.nextSibling;if(!h)break;o=h}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||Dc.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||u),context:s,ruleFromNode(h){return h.nodeName=="BR"&&!h.nextSibling&&h.parentNode&&!v8.test(h.parentNode.nodeName)?{ignore:!0}:null}})),u)a=k8(Pw(a,+u[1],+u[2]),u[4]);else if(a=G.maxOpen(x8(a.content,s),!0),a.openStart||a.openEnd){let f=0,h=0;for(let p=a.content.firstChild;f<a.openStart&&!p.type.spec.isolating;f++,p=p.firstChild);for(let p=a.content.lastChild;h<a.openEnd&&!p.type.spec.isolating;h++,p=p.lastChild);a=Pw(a,f,h)}return t.someProp("transformPasted",f=>{a=f(a,t)}),a}const v8=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function x8(t,e){if(t.childCount<2)return t;for(let r=e.depth;r>=0;r--){let s=e.node(r).contentMatchAt(e.index(r)),i,o=[];if(t.forEach(a=>{if(!o)return;let l=s.findWrapping(a.type),c;if(!l)return o=null;if(c=o.length&&i.length&&W2(l,i,a,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=K2(o[o.length-1],i.length));let u=q2(a,l);o.push(u),s=s.matchType(u.type),i=l}}),o)return $.from(o)}return t}function q2(t,e,r=0){for(let n=e.length-1;n>=r;n--)t=e[n].create(null,$.from(t));return t}function W2(t,e,r,n,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let i=W2(t,e,r,n.lastChild,s+1);if(i)return n.copy(n.content.replaceChild(n.childCount-1,i));if(n.contentMatchAt(n.childCount).matchType(s==t.length-1?r.type:t[s+1]))return n.copy(n.content.append($.from(q2(r,t,s+1))))}}function K2(t,e){if(e==0)return t;let r=t.content.replaceChild(t.childCount-1,K2(t.lastChild,e-1)),n=t.contentMatchAt(t.childCount).fillBefore($.empty,!0);return t.copy(r.append(n))}function e0(t,e,r,n,s,i){let o=e<0?t.firstChild:t.lastChild,a=o.content;return t.childCount>1&&(i=0),s<n-1&&(a=e0(a,e,r,n,s+1,i)),s>=r&&(a=e<0?o.contentMatchAt(0).fillBefore(a,i<=s).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore($.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(a))}function Pw(t,e,r){return e<t.openStart&&(t=new G(e0(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),r<t.openEnd&&(t=new G(e0(t.content,1,r,t.openEnd,0,0),t.openStart,r)),t}const J2={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Mw=null;function Z2(){return Mw||(Mw=document.implementation.createHTMLDocument("title"))}function b8(t){let e=window.trustedTypes;return e?e.createPolicy("detachedDocument",{createHTML:r=>r}).createHTML(t):t}function w8(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let r=Z2().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(t),s;if((s=n&&J2[n[1].toLowerCase()])&&(t=s.map(i=>"<"+i+">").join("")+t+s.map(i=>"</"+i+">").reverse().join("")),r.innerHTML=b8(t),s)for(let i=0;i<s.length;i++)r=r.querySelector(s[i])||r;return r}function S8(t){let e=t.querySelectorAll(sr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<e.length;r++){let n=e[r];n.childNodes.length==1&&n.textContent==""&&n.parentNode&&n.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),n)}}function k8(t,e){if(!t.size)return t;let r=t.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return t}let{content:s,openStart:i,openEnd:o}=t;for(let a=n.length-2;a>=0;a-=2){let l=r.nodes[n[a]];if(!l||l.hasRequiredAttrs())break;s=$.from(l.create(n[a+1],s)),i++,o++}return new G(s,i,o)}const vr={},xr={},_8={touchstart:!0,touchmove:!0};class E8{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function C8(t){for(let e in vr){let r=vr[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=n=>{j8(t,n)&&!Vv(t,n)&&(t.editable||!(n.type in xr))&&r(t,n)},_8[e]?{passive:!0}:void 0)}yr&&t.dom.addEventListener("input",()=>null),t0(t)}function _i(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function N8(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function t0(t){t.someProp("handleDOMEvents",e=>{for(let r in e)t.input.eventHandlers[r]||t.dom.addEventListener(r,t.input.eventHandlers[r]=n=>Vv(t,n))})}function Vv(t,e){return t.someProp("handleDOMEvents",r=>{let n=r[e.type];return n?n(t,e)||e.defaultPrevented:!1})}function j8(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target;r!=t.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}function O8(t,e){!Vv(t,e)&&vr[e.type]&&(t.editable||!(e.type in xr))&&vr[e.type](t,e)}xr.keydown=(t,e)=>{let r=e;if(t.input.shiftKey=r.keyCode==16||r.shiftKey,!G2(t,r)&&(t.input.lastKeyCode=r.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Tn&&sr&&r.keyCode==13)))if(t.domObserver.selectionChanged(t.domSelectionRange())?t.domObserver.flush():r.keyCode!=229&&t.domObserver.forceFlush(),jl&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();t.input.lastIOSEnter=n,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==n&&(t.someProp("handleKeyDown",s=>s(t,io(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",n=>n(t,r))||y8(t,r)?r.preventDefault():_i(t,"key")};xr.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};xr.keypress=(t,e)=>{let r=e;if(G2(t,r)||!r.charCode||r.ctrlKey&&!r.altKey||tn&&r.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,r))){r.preventDefault();return}let n=t.state.selection;if(!(n instanceof we)||!n.$from.sameParent(n.$to)){let s=String.fromCharCode(r.charCode);!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",i=>i(t,n.$from.pos,n.$to.pos,s))&&t.dispatch(t.state.tr.insertText(s).scrollIntoView()),r.preventDefault()}};function yp(t){return{left:t.clientX,top:t.clientY}}function T8(t,e){let r=e.x-t.clientX,n=e.y-t.clientY;return r*r+n*n<100}function Uv(t,e,r,n,s){if(n==-1)return!1;let i=t.state.doc.resolve(n);for(let o=i.depth+1;o>0;o--)if(t.someProp(e,a=>o>i.depth?a(t,r,i.nodeAfter,i.before(o),s,!0):a(t,r,i.node(o),i.before(o),s,!1)))return!0;return!1}function Ja(t,e,r){if(t.focused||t.focus(),t.state.selection.eq(e))return;let n=t.state.tr.setSelection(e);n.setMeta("pointer",!0),t.dispatch(n)}function P8(t,e){if(e==-1)return!1;let r=t.state.doc.resolve(e),n=r.nodeAfter;return n&&n.isAtom&&pe.isSelectable(n)?(Ja(t,new pe(r)),!0):!1}function M8(t,e){if(e==-1)return!1;let r=t.state.selection,n,s;r instanceof pe&&(n=r.node);let i=t.state.doc.resolve(e);for(let o=i.depth+1;o>0;o--){let a=o>i.depth?i.nodeAfter:i.node(o);if(pe.isSelectable(a)){n&&r.$from.depth>0&&o>=r.$from.depth&&i.before(r.$from.depth+1)==r.$from.pos?s=i.before(r.$from.depth):s=i.before(o);break}}return s!=null?(Ja(t,pe.create(t.state.doc,s)),!0):!1}function A8(t,e,r,n,s){return Uv(t,"handleClickOn",e,r,n)||t.someProp("handleClick",i=>i(t,e,n))||(s?M8(t,r):P8(t,r))}function I8(t,e,r,n){return Uv(t,"handleDoubleClickOn",e,r,n)||t.someProp("handleDoubleClick",s=>s(t,e,n))}function R8(t,e,r,n){return Uv(t,"handleTripleClickOn",e,r,n)||t.someProp("handleTripleClick",s=>s(t,e,n))||D8(t,r,n)}function D8(t,e,r){if(r.button!=0)return!1;let n=t.state.doc;if(e==-1)return n.inlineContent?(Ja(t,we.create(n,0,n.content.size)),!0):!1;let s=n.resolve(e);for(let i=s.depth+1;i>0;i--){let o=i>s.depth?s.nodeAfter:s.node(i),a=s.before(i);if(o.inlineContent)Ja(t,we.create(n,a+1,a+1+o.content.size));else if(pe.isSelectable(o))Ja(t,pe.create(n,a));else continue;return!0}}function Hv(t){return jh(t)}const Q2=tn?"metaKey":"ctrlKey";vr.mousedown=(t,e)=>{let r=e;t.input.shiftKey=r.shiftKey;let n=Hv(t),s=Date.now(),i="singleClick";s-t.input.lastClick.time<500&&T8(r,t.input.lastClick)&&!r[Q2]&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:s,x:r.clientX,y:r.clientY,type:i};let o=t.posAtCoords(yp(r));o&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new L8(t,o,r,!!n)):(i=="doubleClick"?I8:R8)(t,o.pos,o.inside,r)?r.preventDefault():_i(t,"pointer"))};class L8{constructor(e,r,n,s){this.view=e,this.pos=r,this.event=n,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[Q2],this.allowDefault=n.shiftKey;let i,o;if(r.inside>-1)i=e.state.doc.nodeAt(r.inside),o=r.inside;else{let u=e.state.doc.resolve(r.pos);i=u.parent,o=u.depth?u.before():0}const a=s?null:n.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=e.state;(n.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||c instanceof pe&&c.from<=o&&c.to>o)&&(this.mightDrag={node:i,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&zn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),_i(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ts(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(yp(e))),this.updateAllowDefault(e),this.allowDefault||!r?_i(this.view,"pointer"):A8(this.view,r.pos,r.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||yr&&this.mightDrag&&!this.mightDrag.node.isAtom||sr&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(Ja(this.view,ke.near(this.view.state.doc.resolve(r.pos))),e.preventDefault()):_i(this.view,"pointer")}move(e){this.updateAllowDefault(e),_i(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}vr.touchstart=t=>{t.input.lastTouch=Date.now(),Hv(t),_i(t,"pointer")};vr.touchmove=t=>{t.input.lastTouch=Date.now(),_i(t,"pointer")};vr.contextmenu=t=>Hv(t);function G2(t,e){return t.composing?!0:yr&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const F8=Tn?5e3:-1;xr.compositionstart=xr.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,r=e.selection.$to;if(e.selection instanceof we&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||r.marks(),jh(t,!0),t.markCursor=null;else if(jh(t,!e.selection.empty),zn&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=t.domSelectionRange();for(let s=n.focusNode,i=n.focusOffset;s&&s.nodeType==1&&i!=0;){let o=i<0?s.lastChild:s.childNodes[i-1];if(!o)break;if(o.nodeType==3){let a=t.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else s=o,i=-1}}t.input.composing=!0}Y2(t,F8)};xr.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,Y2(t,20))};function Y2(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>jh(t),e))}function X2(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=z8());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function $8(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let r=PF(e.focusNode,e.focusOffset),n=MF(e.focusNode,e.focusOffset);if(r&&n&&r!=n){let s=n.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(r==i||n==i)return i;if(!s||!s.isText(n.nodeValue))return n;if(t.input.compositionNode==n){let o=r.pmViewDesc;if(!(!o||!o.isText(r.nodeValue)))return n}}return r||n}function z8(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function jh(t,e=!1){if(!(Tn&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),X2(t),e||t.docView&&t.docView.dirty){let r=zv(t);return r&&!r.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(r)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function B8(t,e){if(!t.dom.parentNode)return;let r=t.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),n.removeAllRanges(),n.addRange(s),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),t.focus()},50)}const Mu=Mr&&Ai<15||jl&&LF<604;vr.copy=xr.cut=(t,e)=>{let r=e,n=t.state.selection,s=r.type=="cut";if(n.empty)return;let i=Mu?null:r.clipboardData,o=n.content(),{dom:a,text:l}=U2(t,o);i?(r.preventDefault(),i.clearData(),i.setData("text/html",a.innerHTML),i.setData("text/plain",l)):B8(t,a),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function V8(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function U8(t,e){if(!t.dom.parentNode)return;let r=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,n=t.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),n.parentNode&&n.parentNode.removeChild(n),r?Au(t,n.value,null,s,e):Au(t,n.textContent,n.innerHTML,s,e)},50)}function Au(t,e,r,n,s){let i=H2(t,e,r,n,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,s,i||G.empty)))return!0;if(!i)return!1;let o=V8(i),a=o?t.state.tr.replaceSelectionWith(o,n):t.state.tr.replaceSelection(i);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function eN(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let r=t.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}xr.paste=(t,e)=>{let r=e;if(t.composing&&!Tn)return;let n=Mu?null:r.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;n&&Au(t,eN(n),n.getData("text/html"),s,r)?r.preventDefault():U8(t,r)};class tN{constructor(e,r,n){this.slice=e,this.move=r,this.node=n}}const rN=tn?"altKey":"ctrlKey";vr.dragstart=(t,e)=>{let r=e,n=t.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let s=t.state.selection,i=s.empty?null:t.posAtCoords(yp(r)),o;if(!(i&&i.pos>=s.from&&i.pos<=(s instanceof pe?s.to-1:s.to))){if(n&&n.mightDrag)o=pe.create(t.state.doc,n.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let f=t.docView.nearestDesc(r.target,!0);f&&f.node.type.spec.draggable&&f!=t.docView&&(o=pe.create(t.state.doc,f.posBefore))}}let a=(o||t.state.selection).content(),{dom:l,text:c,slice:u}=U2(t,a);(!r.dataTransfer.files.length||!sr||N2>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(Mu?"Text":"text/html",l.innerHTML),r.dataTransfer.effectAllowed="copyMove",Mu||r.dataTransfer.setData("text/plain",c),t.dragging=new tN(u,!r[rN],o)};vr.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};xr.dragover=xr.dragenter=(t,e)=>e.preventDefault();xr.drop=(t,e)=>{let r=e,n=t.dragging;if(t.dragging=null,!r.dataTransfer)return;let s=t.posAtCoords(yp(r));if(!s)return;let i=t.state.doc.resolve(s.pos),o=n&&n.slice;o?t.someProp("transformPasted",m=>{o=m(o,t)}):o=H2(t,eN(r.dataTransfer),Mu?null:r.dataTransfer.getData("text/html"),!1,i);let a=!!(n&&!r[rN]);if(t.someProp("handleDrop",m=>m(t,r,o||G.empty,a))){r.preventDefault();return}if(!o)return;r.preventDefault();let l=o?x2(t.state.doc,i.pos,o):i.pos;l==null&&(l=i.pos);let c=t.state.tr;if(a){let{node:m}=n;m?m.replace(c):c.deleteSelection()}let u=c.mapping.map(l),f=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,h=c.doc;if(f?c.replaceRangeWith(u,u,o.content.firstChild):c.replaceRange(u,u,o),c.doc.eq(h))return;let p=c.doc.resolve(u);if(f&&pe.isSelectable(o.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new pe(p));else{let m=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((g,x,v,y)=>m=y),c.setSelection(Bv(t,p,c.doc.resolve(m)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};vr.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Ts(t)},20))};vr.blur=(t,e)=>{let r=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),r.relatedTarget&&t.dom.contains(r.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};vr.beforeinput=(t,e)=>{if(sr&&Tn&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:n}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=n||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,io(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in xr)vr[t]=xr[t];function Iu(t,e){if(t==e)return!0;for(let r in t)if(t[r]!==e[r])return!1;for(let r in e)if(!(r in t))return!1;return!0}class Oh{constructor(e,r){this.toDOM=e,this.spec=r||Mo,this.side=this.spec.side||0}map(e,r,n,s){let{pos:i,deleted:o}=e.mapResult(r.from+s,this.side<0?-1:1);return o?null:new cn(i-n,i-n,this)}valid(){return!0}eq(e){return this==e||e instanceof Oh&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Iu(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Ri{constructor(e,r){this.attrs=e,this.spec=r||Mo}map(e,r,n,s){let i=e.map(r.from+s,this.spec.inclusiveStart?-1:1)-n,o=e.map(r.to+s,this.spec.inclusiveEnd?1:-1)-n;return i>=o?null:new cn(i,o,this)}valid(e,r){return r.from<r.to}eq(e){return this==e||e instanceof Ri&&Iu(this.attrs,e.attrs)&&Iu(this.spec,e.spec)}static is(e){return e.type instanceof Ri}destroy(){}}class qv{constructor(e,r){this.attrs=e,this.spec=r||Mo}map(e,r,n,s){let i=e.mapResult(r.from+s,1);if(i.deleted)return null;let o=e.mapResult(r.to+s,-1);return o.deleted||o.pos<=i.pos?null:new cn(i.pos-n,o.pos-n,this)}valid(e,r){let{index:n,offset:s}=e.content.findIndex(r.from),i;return s==r.from&&!(i=e.child(n)).isText&&s+i.nodeSize==r.to}eq(e){return this==e||e instanceof qv&&Iu(this.attrs,e.attrs)&&Iu(this.spec,e.spec)}destroy(){}}class cn{constructor(e,r,n){this.from=e,this.to=r,this.type=n}copy(e,r){return new cn(e,r,this.type)}eq(e,r=0){return this.type.eq(e.type)&&this.from+r==e.from&&this.to+r==e.to}map(e,r,n){return this.type.map(e,this,r,n)}static widget(e,r,n){return new cn(e,e,new Oh(r,n))}static inline(e,r,n,s){return new cn(e,r,new Ri(n,s))}static node(e,r,n,s){return new cn(e,r,new qv(n,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof Ri}get widget(){return this.type instanceof Oh}}const ya=[],Mo={};class Ot{constructor(e,r){this.local=e.length?e:ya,this.children=r.length?r:ya}static create(e,r){return r.length?Th(r,e,0,Mo):tr}find(e,r,n){let s=[];return this.findInner(e??0,r??1e9,s,0,n),s}findInner(e,r,n,s,i){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=r&&a.to>=e&&(!i||i(a.spec))&&n.push(a.copy(a.from+s,a.to+s))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<r&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,r-a,n,s+a,i)}}map(e,r,n){return this==tr||e.maps.length==0?this:this.mapInner(e,r,0,0,n||Mo)}mapInner(e,r,n,s,i){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,n,s);l&&l.type.valid(r,l)?(o||(o=[])).push(l):i.onRemove&&i.onRemove(this.local[a].spec)}return this.children.length?H8(this.children,o||[],e,r,n,s,i):o?new Ot(o.sort(Ao),ya):tr}add(e,r){return r.length?this==tr?Ot.create(e,r):this.addInner(e,r,0):this}addInner(e,r,n){let s,i=0;e.forEach((a,l)=>{let c=l+n,u;if(u=sN(r,a,c)){for(s||(s=this.children.slice());i<s.length&&s[i]<l;)i+=3;s[i]==l?s[i+2]=s[i+2].addInner(a,u,c+1):s.splice(i,0,l,l+a.nodeSize,Th(u,a,c+1,Mo)),i+=3}});let o=nN(i?iN(r):r,-n);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new Ot(o.length?this.local.concat(o).sort(Ao):this.local,s||this.children)}remove(e){return e.length==0||this==tr?this:this.removeInner(e,0)}removeInner(e,r){let n=this.children,s=this.local;for(let i=0;i<n.length;i+=3){let o,a=n[i]+r,l=n[i+1]+r;for(let u=0,f;u<e.length;u++)(f=e[u])&&f.from>a&&f.to<l&&(e[u]=null,(o||(o=[])).push(f));if(!o)continue;n==this.children&&(n=this.children.slice());let c=n[i+2].removeInner(o,a+1);c!=tr?n[i+2]=c:(n.splice(i,3),i-=3)}if(s.length){for(let i=0,o;i<e.length;i++)if(o=e[i])for(let a=0;a<s.length;a++)s[a].eq(o,r)&&(s==this.local&&(s=this.local.slice()),s.splice(a--,1))}return n==this.children&&s==this.local?this:s.length||n.length?new Ot(s,n):tr}forChild(e,r){if(this==tr)return this;if(r.isLeaf)return Ot.empty;let n,s;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(n=this.children[a+2]);break}let i=e+1,o=i+r.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>i&&l.type instanceof Ri){let c=Math.max(i,l.from)-i,u=Math.min(o,l.to)-i;c<u&&(s||(s=[])).push(l.copy(c,u))}}if(s){let a=new Ot(s.sort(Ao),ya);return n?new ui([a,n]):a}return n||tr}eq(e){if(this==e)return!0;if(!(e instanceof Ot)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(e.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0}locals(e){return Wv(this.localsInner(e))}localsInner(e){if(this==tr)return ya;if(e.inlineContent||!this.local.some(Ri.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof Ri||r.push(this.local[n]);return r}forEachSet(e){e(this)}}Ot.empty=new Ot([],[]);Ot.removeOverlap=Wv;const tr=Ot.empty;class ui{constructor(e){this.members=e}map(e,r){const n=this.members.map(s=>s.map(e,r,Mo));return ui.from(n)}forChild(e,r){if(r.isLeaf)return Ot.empty;let n=[];for(let s=0;s<this.members.length;s++){let i=this.members[s].forChild(e,r);i!=tr&&(i instanceof ui?n=n.concat(i.members):n.push(i))}return ui.from(n)}eq(e){if(!(e instanceof ui)||e.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(e.members[r]))return!1;return!0}locals(e){let r,n=!0;for(let s=0;s<this.members.length;s++){let i=this.members[s].localsInner(e);if(i.length)if(!r)r=i;else{n&&(r=r.slice(),n=!1);for(let o=0;o<i.length;o++)r.push(i[o])}}return r?Wv(n?r:r.sort(Ao)):ya}static from(e){switch(e.length){case 0:return tr;case 1:return e[0];default:return new ui(e.every(r=>r instanceof Ot)?e:e.reduce((r,n)=>r.concat(n instanceof Ot?n:n.members),[]))}}forEachSet(e){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(e)}}function H8(t,e,r,n,s,i,o){let a=t.slice();for(let c=0,u=i;c<r.maps.length;c++){let f=0;r.maps[c].forEach((h,p,m,g)=>{let x=g-m-(p-h);for(let v=0;v<a.length;v+=3){let y=a[v+1];if(y<0||h>y+u-f)continue;let b=a[v]+u-f;p>=b?a[v+1]=h<=b?-2:-1:h>=u&&x&&(a[v]+=x,a[v+1]+=x)}f+=x}),u=r.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=r.map(t[c]+i),f=u-s;if(f<0||f>=n.content.size){l=!0;continue}let h=r.map(t[c+1]+i,-1),p=h-s,{index:m,offset:g}=n.content.findIndex(f),x=n.maybeChild(m);if(x&&g==f&&g+x.nodeSize==p){let v=a[c+2].mapInner(r,x,u+1,t[c]+i+1,o);v!=tr?(a[c]=f,a[c+1]=p,a[c+2]=v):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=q8(a,t,e,r,s,i,o),u=Th(c,n,0,o);e=u.local;for(let f=0;f<a.length;f+=3)a[f+1]<0&&(a.splice(f,3),f-=3);for(let f=0,h=0;f<u.children.length;f+=3){let p=u.children[f];for(;h<a.length&&a[h]<p;)h+=3;a.splice(h,0,u.children[f],u.children[f+1],u.children[f+2])}}return new Ot(e.sort(Ao),a)}function nN(t,e){if(!e||!t.length)return t;let r=[];for(let n=0;n<t.length;n++){let s=t[n];r.push(new cn(s.from+e,s.to+e,s.type))}return r}function q8(t,e,r,n,s,i,o){function a(l,c){for(let u=0;u<l.local.length;u++){let f=l.local[u].map(n,s,c);f?r.push(f):o.onRemove&&o.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+i+1);return r}function sN(t,e,r){if(e.isLeaf)return null;let n=r+e.nodeSize,s=null;for(let i=0,o;i<t.length;i++)(o=t[i])&&o.from>r&&o.to<n&&((s||(s=[])).push(o),t[i]=null);return s}function iN(t){let e=[];for(let r=0;r<t.length;r++)t[r]!=null&&e.push(t[r]);return e}function Th(t,e,r,n){let s=[],i=!1;e.forEach((a,l)=>{let c=sN(t,a,l+r);if(c){i=!0;let u=Th(c,a,r+l+1,n);u!=tr&&s.push(l,l+a.nodeSize,u)}});let o=nN(i?iN(t):t,-r).sort(Ao);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(n.onRemove&&n.onRemove(o[a].spec),o.splice(a--,1));return o.length||s.length?new Ot(o,s):tr}function Ao(t,e){return t.from-e.from||t.to-e.to}function Wv(t){let e=t;for(let r=0;r<e.length-1;r++){let n=e[r];if(n.from!=n.to)for(let s=r+1;s<e.length;s++){let i=e[s];if(i.from==n.from){i.to!=n.to&&(e==t&&(e=t.slice()),e[s]=i.copy(i.from,n.to),Aw(e,s+1,i.copy(n.to,i.to)));continue}else{i.from<n.to&&(e==t&&(e=t.slice()),e[r]=n.copy(n.from,i.from),Aw(e,s,n.copy(i.from,n.to)));break}}}return e}function Aw(t,e,r){for(;e<t.length&&Ao(r,t[e])>0;)e++;t.splice(e,0,r)}function Um(t){let e=[];return t.someProp("decorations",r=>{let n=r(t.state);n&&n!=tr&&e.push(n)}),t.cursorWrapper&&e.push(Ot.create(t.state.doc,[t.cursorWrapper.deco])),ui.from(e)}const W8={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},K8=Mr&&Ai<=11;class J8{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Z8{constructor(e,r){this.view=e,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new J8,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let s=0;s<n.length;s++)this.queue.push(n[s]);Mr&&Ai<=11&&n.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),K8&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,W8)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let r=0;r<e.length;r++)this.queue.push(e[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Ew(this.view)){if(this.suppressingSelectionUpdates)return Ts(this.view);if(Mr&&Ai<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Wo(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let r=new Set,n;for(let i=e.focusNode;i;i=Pu(i))r.add(i);for(let i=e.anchorNode;i;i=Pu(i))if(r.has(i)){n=i;break}let s=n&&this.view.docView.nearestDesc(n);if(s&&s.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}selectionChanged(e){return!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&Ew(this.view)&&!this.ignoreSelectionChange(e)}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let n=e.domSelectionRange(),s=this.selectionChanged(n),i=-1,o=-1,a=!1,l=[];if(e.editable)for(let u=0;u<r.length;u++){let f=this.registerMutation(r[u],l);f&&(i=i<0?f.from:Math.min(f.from,i),o=o<0?f.to:Math.max(f.to,o),f.typeOver&&(a=!0))}if(zn&&l.length){let u=l.filter(f=>f.nodeName=="BR");if(u.length==2){let[f,h]=u;f.parentNode&&f.parentNode.parentNode==h.parentNode?h.remove():f.remove()}else{let{focusNode:f}=this.currentSelection;for(let h of u){let p=h.parentNode;p&&p.nodeName=="LI"&&(!f||Y8(e,f)!=p)&&h.remove()}}}let c=null;i<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&mp(n)&&(c=zv(e))&&c.eq(ke.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Ts(e),this.currentSelection.set(n),e.scrollToSelection()):(i>-1||s)&&(i>-1&&(e.docView.markDirty(i,o),Q8(e)),this.handleDOMChange(i,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||Ts(e),this.currentSelection.set(n))}registerMutation(e,r){if(r.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let f=e.addedNodes[u];r.push(f),f.nodeType==3&&(this.lastChangedTextNode=f)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let s=e.previousSibling,i=e.nextSibling;if(Mr&&Ai<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:f,nextSibling:h}=e.addedNodes[u];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(s=f),(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(i=h)}let o=s&&s.parentNode==e.target?Kt(s)+1:0,a=n.localPosFromDOM(e.target,o,-1),l=i&&i.parentNode==e.target?Kt(i):e.target.childNodes.length,c=n.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Iw=new WeakMap,Rw=!1;function Q8(t){if(!Iw.has(t)&&(Iw.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=zn,Rw)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Rw=!0}}function Dw(t,e){let r=e.startContainer,n=e.startOffset,s=e.endContainer,i=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return Wo(o.node,o.offset,s,i)&&([r,n,s,i]=[s,i,r,n]),{anchorNode:r,anchorOffset:n,focusNode:s,focusOffset:i}}function G8(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return Dw(t,s)}let r;function n(s){s.preventDefault(),s.stopImmediatePropagation(),r=s.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0),r?Dw(t,r):null}function Y8(t,e){for(let r=e.parentNode;r&&r!=t.dom;r=r.parentNode){let n=t.docView.nearestDesc(r,!0);if(n&&n.node.isBlock)return r}return null}function X8(t,e,r){let{node:n,fromOffset:s,toOffset:i,from:o,to:a}=t.docView.parseRange(e,r),l=t.domSelectionRange(),c,u=l.anchorNode;if(u&&t.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],mp(l)||c.push({node:l.focusNode,offset:l.focusOffset})),sr&&t.input.lastKeyCode===8)for(let x=i;x>s;x--){let v=n.childNodes[x-1],y=v.pmViewDesc;if(v.nodeName=="BR"&&!y){i=x;break}if(!y||y.size)break}let f=t.state.doc,h=t.someProp("domParser")||Dc.fromSchema(t.state.schema),p=f.resolve(o),m=null,g=h.parse(n,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:s,to:i,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:e9,context:p});if(c&&c[0].pos!=null){let x=c[0].pos,v=c[1]&&c[1].pos;v==null&&(v=x),m={anchor:x+o,head:v+o}}return{doc:g,sel:m,from:o,to:a}}function e9(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(yr&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(t.parentNode.lastChild==t||yr&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const t9=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function r9(t,e,r,n,s){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let M=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,P=zv(t,M);if(P&&!t.state.selection.eq(P)){if(sr&&Tn&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",L=>L(t,io(13,"Enter"))))return;let R=t.state.tr.setSelection(P);M=="pointer"?R.setMeta("pointer",!0):M=="key"&&R.scrollIntoView(),i&&R.setMeta("composition",i),t.dispatch(R)}return}let o=t.state.doc.resolve(e),a=o.sharedDepth(r);e=o.before(a+1),r=t.state.doc.resolve(r).after(a+1);let l=t.state.selection,c=X8(t,e,r),u=t.state.doc,f=u.slice(c.from,c.to),h,p;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(h=t.state.selection.to,p="end"):(h=t.state.selection.from,p="start"),t.input.lastKeyCode=null;let m=i9(f.content,c.doc.content,c.from,h,p);if(m&&t.input.domChangeCount++,(jl&&t.input.lastIOSEnter>Date.now()-225||Tn)&&s.some(M=>M.nodeType==1&&!t9.test(M.nodeName))&&(!m||m.endA>=m.endB)&&t.someProp("handleKeyDown",M=>M(t,io(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!m)if(n&&l instanceof we&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))m={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let M=Lw(t,t.state.doc,c.sel);if(M&&!M.eq(t.state.selection)){let P=t.state.tr.setSelection(M);i&&P.setMeta("composition",i),t.dispatch(P)}}return}t.state.selection.from<t.state.selection.to&&m.start==m.endB&&t.state.selection instanceof we&&(m.start>t.state.selection.from&&m.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?m.start=t.state.selection.from:m.endA<t.state.selection.to&&m.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(m.endB+=t.state.selection.to-m.endA,m.endA=t.state.selection.to)),Mr&&Ai<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>c.from&&c.doc.textBetween(m.start-c.from-1,m.start-c.from+1)==" "&&(m.start--,m.endA--,m.endB--);let g=c.doc.resolveNoCache(m.start-c.from),x=c.doc.resolveNoCache(m.endB-c.from),v=u.resolve(m.start),y=g.sameParent(x)&&g.parent.inlineContent&&v.end()>=m.endA,b;if((jl&&t.input.lastIOSEnter>Date.now()-225&&(!y||s.some(M=>M.nodeName=="DIV"||M.nodeName=="P"))||!y&&g.pos<c.doc.content.size&&!g.sameParent(x)&&(b=ke.findFrom(c.doc.resolve(g.pos+1),1,!0))&&b.head==x.pos)&&t.someProp("handleKeyDown",M=>M(t,io(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>m.start&&s9(u,m.start,m.endA,g,x)&&t.someProp("handleKeyDown",M=>M(t,io(8,"Backspace")))){Tn&&sr&&t.domObserver.suppressSelectionUpdates();return}sr&&Tn&&m.endB==m.start&&(t.input.lastAndroidDelete=Date.now()),Tn&&!y&&g.start()!=x.start()&&x.parentOffset==0&&g.depth==x.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==m.endA&&(m.endB-=2,x=c.doc.resolveNoCache(m.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(M){return M(t,io(13,"Enter"))})},20));let S=m.start,O=m.endA,N,T,w;if(y){if(g.pos==x.pos)Mr&&Ai<=11&&g.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ts(t),20)),N=t.state.tr.delete(S,O),T=u.resolve(m.start).marksAcross(u.resolve(m.endA));else if(m.endA==m.endB&&(w=n9(g.parent.content.cut(g.parentOffset,x.parentOffset),v.parent.content.cut(v.parentOffset,m.endA-v.start()))))N=t.state.tr,w.type=="add"?N.addMark(S,O,w.mark):N.removeMark(S,O,w.mark);else if(g.parent.child(g.index()).isText&&g.index()==x.index()-(x.textOffset?0:1)){let M=g.parent.textBetween(g.parentOffset,x.parentOffset);if(t.someProp("handleTextInput",P=>P(t,S,O,M)))return;N=t.state.tr.insertText(M,S,O)}}if(N||(N=t.state.tr.replace(S,O,c.doc.slice(m.start-c.from,m.endB-c.from))),c.sel){let M=Lw(t,N.doc,c.sel);M&&!(sr&&Tn&&t.composing&&M.empty&&(m.start!=m.endB||t.input.lastAndroidDelete<Date.now()-100)&&(M.head==S||M.head==N.mapping.map(O)-1)||Mr&&M.empty&&M.head==S)&&N.setSelection(M)}T&&N.ensureMarks(T),i&&N.setMeta("composition",i),t.dispatch(N.scrollIntoView())}function Lw(t,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:Bv(t,e.resolve(r.anchor),e.resolve(r.head))}function n9(t,e){let r=t.firstChild.marks,n=e.firstChild.marks,s=r,i=n,o,a,l;for(let u=0;u<n.length;u++)s=n[u].removeFromSet(s);for(let u=0;u<r.length;u++)i=r[u].removeFromSet(i);if(s.length==1&&i.length==0)a=s[0],o="add",l=u=>u.mark(a.addToSet(u.marks));else if(s.length==0&&i.length==1)a=i[0],o="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if($.from(c).eq(t))return{mark:a,type:o}}function s9(t,e,r,n,s){if(r-e<=s.pos-n.pos||Hm(n,!0,!1)<s.pos)return!1;let i=t.resolve(e);if(!n.parent.isTextblock){let a=i.nodeAfter;return a!=null&&r==e+a.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let o=t.resolve(Hm(i,!0,!0));return!o.parent.isTextblock||o.pos>r||Hm(o,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(o.parent.content)}function Hm(t,e,r){let n=t.depth,s=e?t.end():t.pos;for(;n>0&&(e||t.indexAfter(n)==t.node(n).childCount);)n--,s++,e=!1;if(r){let i=t.node(n).maybeChild(t.indexAfter(n));for(;i&&!i.isLeaf;)i=i.firstChild,s++}return s}function i9(t,e,r,n,s){let i=t.findDiffStart(e,r);if(i==null)return null;let{a:o,b:a}=t.findDiffEnd(e,r+t.size,r+e.size);if(s=="end"){let l=Math.max(0,i-Math.min(o,a));n-=o+l-i}if(o<i&&t.size<e.size){let l=n<=i&&n>=o?i-n:0;i-=l,i&&i<e.size&&Fw(e.textBetween(i-1,i+1))&&(i+=l?1:-1),a=i+(a-o),o=i}else if(a<i){let l=n<=i&&n>=a?i-n:0;i-=l,i&&i<t.size&&Fw(t.textBetween(i-1,i+1))&&(i+=l?1:-1),o=i+(o-a),a=i}return{start:i,endA:o,endB:a}}function Fw(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),r=t.charCodeAt(1);return e>=56320&&e<=57343&&r>=55296&&r<=56319}class o9{constructor(e,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new E8,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(Uw),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Bw(this),zw(this),this.nodeViews=Vw(this),this.docView=xw(this.state.doc,$w(this),Um(this),this.dom,this),this.domObserver=new Z8(this,(n,s,i,o)=>r9(this,n,s,i,o)),this.domObserver.start(),C8(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let r in e)this._props[r]=e[r];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&t0(this);let r=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Uw),this.directPlugins=e.plugins),this.updateStateInner(e.state,r)}setProps(e){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in e)r[n]=e[n];this.update(r)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,r){var n;let s=this.state,i=!1,o=!1;e.storedMarks&&this.composing&&(X2(this),o=!0),this.state=e;let a=s.plugins!=e.plugins||this._props.plugins!=r.plugins;if(a||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let p=Vw(this);l9(p,this.nodeViews)&&(this.nodeViews=p,i=!0)}(a||r.handleDOMEvents!=this._props.handleDOMEvents)&&t0(this),this.editable=Bw(this),zw(this);let l=Um(this),c=$w(this),u=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",f=i||!this.docView.matchesNode(e.doc,c,l);(f||!e.selection.eq(s.selection))&&(o=!0);let h=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&zF(this);if(o){this.domObserver.stop();let p=f&&(Mr||sr)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&a9(s.selection,e.selection);if(f){let m=sr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=$8(this)),(i||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=xw(e.doc,c,l,this.dom,this)),m&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&u8(this))?Ts(this,p):(z2(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((n=this.dragging)===null||n===void 0)&&n.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():h&&BF(h)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof pe){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&hw(this,r.getBoundingClientRect(),e)}else hw(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,e)}}updateDraggedNode(e,r){let n=e.node,s=-1;if(this.state.doc.nodeAt(n.from)==n.node)s=n.from;else{let i=n.from+(this.state.doc.content.size-r.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==n.node&&(s=i)}this.dragging=new tN(e.slice,e.move,s<0?void 0:pe.create(this.state.doc,s))}someProp(e,r){let n=this._props&&this._props[e],s;if(n!=null&&(s=r?r(n):n))return s;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(s=r?r(a):a))return s}let i=this.state.plugins;if(i)for(let o=0;o<i.length;o++){let a=i[o].props[e];if(a!=null&&(s=r?r(a):a))return s}}hasFocus(){if(Mr){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&VF(this.dom),Ts(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return e||document}updateRoot(){this._root=null}posAtCoords(e){return KF(this,e)}coordsAtPos(e,r=1){return M2(this,e,r)}domAtPos(e,r=0){return this.docView.domFromPos(e,r)}nodeDOM(e){let r=this.docView.descAt(e);return r?r.nodeDOM:null}posAtDOM(e,r,n=-1){let s=this.docView.posFromDOM(e,r,n);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,r){return YF(this,r||this.state,e)}pasteHTML(e,r){return Au(this,"",e,!1,r||new ClipboardEvent("paste"))}pasteText(e,r){return Au(this,e,null,!0,r||new ClipboardEvent("paste"))}destroy(){this.docView&&(N8(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Um(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,OF())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return O8(this,e)}dispatch(e){let r=this._props.dispatchTransaction;r?r.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?yr&&this.root.nodeType===11&&IF(this.dom.ownerDocument)==this.dom&&G8(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function $w(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(t.state)),r)for(let n in r)n=="class"?e.class+=" "+r[n]:n=="style"?e.style=(e.style?e.style+";":"")+r[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(r[n]))}),e.translate||(e.translate="no"),[cn.node(0,t.state.doc.content.size,e)]}function zw(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:cn.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Bw(t){return!t.someProp("editable",e=>e(t.state)===!1)}function a9(t,e){let r=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(r)!=e.$anchor.start(r)}function Vw(t){let e=Object.create(null);function r(n){for(let s in n)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=n[s])}return t.someProp("nodeViews",r),t.someProp("markViews",r),e}function l9(t,e){let r=0,n=0;for(let s in t){if(t[s]!=e[s])return!0;r++}for(let s in e)n++;return r!=n}function Uw(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Vi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ph={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},c9=typeof navigator<"u"&&/Mac/.test(navigator.platform),u9=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Jt=0;Jt<10;Jt++)Vi[48+Jt]=Vi[96+Jt]=String(Jt);for(var Jt=1;Jt<=24;Jt++)Vi[Jt+111]="F"+Jt;for(var Jt=65;Jt<=90;Jt++)Vi[Jt]=String.fromCharCode(Jt+32),Ph[Jt]=String.fromCharCode(Jt);for(var qm in Vi)Ph.hasOwnProperty(qm)||(Ph[qm]=Vi[qm]);function d9(t){var e=c9&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||u9&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?Ph:Vi)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}const f9=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function h9(t){let e=t.split(/-(?!$)/),r=e[e.length-1];r=="Space"&&(r=" ");let n,s,i,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))s=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))f9?o=!0:s=!0;else throw new Error("Unrecognized modifier name: "+l)}return n&&(r="Alt-"+r),s&&(r="Ctrl-"+r),o&&(r="Meta-"+r),i&&(r="Shift-"+r),r}function p9(t){let e=Object.create(null);for(let r in t)e[h9(r)]=t[r];return e}function Wm(t,e,r=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r&&e.shiftKey&&(t="Shift-"+t),t}function m9(t){return new gn({props:{handleKeyDown:oN(t)}})}function oN(t){let e=p9(t);return function(r,n){let s=d9(n),i,o=e[Wm(s,n)];if(o&&o(r.state,r.dispatch,r))return!0;if(s.length==1&&s!=" "){if(n.shiftKey){let a=e[Wm(s,n,!1)];if(a&&a(r.state,r.dispatch,r))return!0}if((n.shiftKey||n.altKey||n.metaKey||s.charCodeAt(0)>127)&&(i=Vi[n.keyCode])&&i!=s){let a=e[Wm(i,n)];if(a&&a(r.state,r.dispatch,r))return!0}}return!1}}const g9=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function aN(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("backward",t):r.parentOffset>0)?null:r}const y9=(t,e,r)=>{let n=aN(t,r);if(!n)return!1;let s=Kv(n);if(!s){let o=n.blockRange(),a=o&&Fl(o);return a==null?!1:(e&&e(t.tr.lift(o,a).scrollIntoView()),!0)}let i=s.nodeBefore;if(dN(t,s,e,-1))return!0;if(n.parent.content.size==0&&(Ol(i,"end")||pe.isSelectable(i)))for(let o=n.depth;;o--){let a=hp(t.doc,n.before(o),n.after(o),G.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(Ol(i,"end")?ke.findFrom(l.doc.resolve(l.mapping.map(s.pos,-1)),-1):pe.create(l.doc,s.pos-i.nodeSize)),e(l.scrollIntoView())}return!0}if(o==1||n.node(o-1).childCount>1)break}return i.isAtom&&s.depth==n.depth-1?(e&&e(t.tr.delete(s.pos-i.nodeSize,s.pos).scrollIntoView()),!0):!1},v9=(t,e,r)=>{let n=aN(t,r);if(!n)return!1;let s=Kv(n);return s?lN(t,s,e):!1},x9=(t,e,r)=>{let n=cN(t,r);if(!n)return!1;let s=Jv(n);return s?lN(t,s,e):!1};function lN(t,e,r){let n=e.nodeBefore,s=n,i=e.pos-1;for(;!s.isTextblock;i--){if(s.type.spec.isolating)return!1;let u=s.lastChild;if(!u)return!1;s=u}let o=e.nodeAfter,a=o,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let c=hp(t.doc,i,l,G.empty);if(!c||c.from!=i||c instanceof Ft&&c.slice.size>=l-i)return!1;if(r){let u=t.tr.step(c);u.setSelection(we.create(u.doc,i)),r(u.scrollIntoView())}return!0}function Ol(t,e,r=!1){for(let n=t;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}const b9=(t,e,r)=>{let{$head:n,empty:s}=t.selection,i=n;if(!s)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):n.parentOffset>0)return!1;i=Kv(n)}let o=i&&i.nodeBefore;return!o||!pe.isSelectable(o)?!1:(e&&e(t.tr.setSelection(pe.create(t.doc,i.pos-o.nodeSize)).scrollIntoView()),!0)};function Kv(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function cN(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)?null:r}const w9=(t,e,r)=>{let n=cN(t,r);if(!n)return!1;let s=Jv(n);if(!s)return!1;let i=s.nodeAfter;if(dN(t,s,e,1))return!0;if(n.parent.content.size==0&&(Ol(i,"start")||pe.isSelectable(i))){let o=hp(t.doc,n.before(),n.after(),G.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=t.tr.step(o);a.setSelection(Ol(i,"start")?ke.findFrom(a.doc.resolve(a.mapping.map(s.pos)),1):pe.create(a.doc,a.mapping.map(s.pos))),e(a.scrollIntoView())}return!0}}return i.isAtom&&s.depth==n.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+i.nodeSize).scrollIntoView()),!0):!1},S9=(t,e,r)=>{let{$head:n,empty:s}=t.selection,i=n;if(!s)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)return!1;i=Jv(n)}let o=i&&i.nodeAfter;return!o||!pe.isSelectable(o)?!1:(e&&e(t.tr.setSelection(pe.create(t.doc,i.pos)).scrollIntoView()),!0)};function Jv(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let r=t.node(e);if(t.index(e)+1<r.childCount)return t.doc.resolve(t.after(e+1));if(r.type.spec.isolating)break}return null}const k9=(t,e)=>{let r=t.selection,n=r instanceof pe,s;if(n){if(r.node.isTextblock||!Ji(t.doc,r.from))return!1;s=r.from}else if(s=fp(t.doc,r.from,-1),s==null)return!1;if(e){let i=t.tr.join(s);n&&i.setSelection(pe.create(i.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},_9=(t,e)=>{let r=t.selection,n;if(r instanceof pe){if(r.node.isTextblock||!Ji(t.doc,r.to))return!1;n=r.to}else if(n=fp(t.doc,r.to,1),n==null)return!1;return e&&e(t.tr.join(n).scrollIntoView()),!0},E9=(t,e)=>{let{$from:r,$to:n}=t.selection,s=r.blockRange(n),i=s&&Fl(s);return i==null?!1:(e&&e(t.tr.lift(s,i).scrollIntoView()),!0)},C9=(t,e)=>{let{$head:r,$anchor:n}=t.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function uN(t){for(let e=0;e<t.edgeCount;e++){let{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const N9=(t,e)=>{let{$head:r,$anchor:n}=t.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let s=r.node(-1),i=r.indexAfter(-1),o=uN(s.contentMatchAt(i));if(!o||!s.canReplaceWith(i,i,o))return!1;if(e){let a=r.after(),l=t.tr.replaceWith(a,a,o.createAndFill());l.setSelection(ke.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},j9=(t,e)=>{let r=t.selection,{$from:n,$to:s}=r;if(r instanceof Ln||n.parent.inlineContent||s.parent.inlineContent)return!1;let i=uN(s.parent.contentMatchAt(s.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let o=(!n.parentOffset&&s.index()<s.parent.childCount?n:s).pos,a=t.tr.insert(o,i.createAndFill());a.setSelection(we.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},O9=(t,e)=>{let{$cursor:r}=t.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let i=r.before();if(Wa(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let n=r.blockRange(),s=n&&Fl(n);return s==null?!1:(e&&e(t.tr.lift(n,s).scrollIntoView()),!0)},T9=(t,e)=>{let{$from:r,to:n}=t.selection,s,i=r.sharedDepth(n);return i==0?!1:(s=r.before(i),e&&e(t.tr.setSelection(pe.create(t.doc,s))),!0)};function P9(t,e,r){let n=e.nodeBefore,s=e.nodeAfter,i=e.index();return!n||!s||!n.type.compatibleContent(s.type)?!1:!n.content.size&&e.parent.canReplace(i-1,i)?(r&&r(t.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(s.isTextblock||Ji(t.doc,e.pos))?!1:(r&&r(t.tr.clearIncompatible(e.pos,n.type,n.contentMatchAt(n.childCount)).join(e.pos).scrollIntoView()),!0)}function dN(t,e,r,n){let s=e.nodeBefore,i=e.nodeAfter,o,a,l=s.type.spec.isolating||i.type.spec.isolating;if(!l&&P9(t,e,r))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(o=(a=s.contentMatchAt(s.childCount)).findWrapping(i.type))&&a.matchType(o[0]||i.type).validEnd){if(r){let p=e.pos+i.nodeSize,m=$.empty;for(let v=o.length-1;v>=0;v--)m=$.from(o[v].create(null,m));m=$.from(s.copy(m));let g=t.tr.step(new zt(e.pos-1,p,e.pos,p,new G(m,1,0),o.length,!0)),x=p+2*o.length;Ji(g.doc,x)&&g.join(x),r(g.scrollIntoView())}return!0}let u=i.type.spec.isolating||n>0&&l?null:ke.findFrom(e,1),f=u&&u.$from.blockRange(u.$to),h=f&&Fl(f);if(h!=null&&h>=e.depth)return r&&r(t.tr.lift(f,h).scrollIntoView()),!0;if(c&&Ol(i,"start",!0)&&Ol(s,"end")){let p=s,m=[];for(;m.push(p),!p.isTextblock;)p=p.lastChild;let g=i,x=1;for(;!g.isTextblock;g=g.firstChild)x++;if(p.canReplace(p.childCount,p.childCount,g.content)){if(r){let v=$.empty;for(let b=m.length-1;b>=0;b--)v=$.from(m[b].copy(v));let y=t.tr.step(new zt(e.pos-m.length,e.pos+i.nodeSize,e.pos+x,e.pos+i.nodeSize-x,new G(v,m.length,0),0,!0));r(y.scrollIntoView())}return!0}}return!1}function fN(t){return function(e,r){let n=e.selection,s=t<0?n.$from:n.$to,i=s.depth;for(;s.node(i).isInline;){if(!i)return!1;i--}return s.node(i).isTextblock?(r&&r(e.tr.setSelection(we.create(e.doc,t<0?s.start(i):s.end(i)))),!0):!1}}const M9=fN(-1),A9=fN(1);function I9(t,e=null){return function(r,n){let{$from:s,$to:i}=r.selection,o=s.blockRange(i),a=o&&Lv(o,t,e);return a?(n&&n(r.tr.wrap(o,a).scrollIntoView()),!0):!1}}function Hw(t,e=null){return function(r,n){let s=!1;for(let i=0;i<r.selection.ranges.length&&!s;i++){let{$from:{pos:o},$to:{pos:a}}=r.selection.ranges[i];r.doc.nodesBetween(o,a,(l,c)=>{if(s)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)s=!0;else{let u=r.doc.resolve(c),f=u.index();s=u.parent.canReplaceWith(f,f+1,t)}})}if(!s)return!1;if(n){let i=r.tr;for(let o=0;o<r.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=r.selection.ranges[o];i.setBlockType(a,l,t,e)}n(i.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function R9(t,e=null){return function(r,n){let{$from:s,$to:i}=r.selection,o=s.blockRange(i),a=!1,l=o;if(!o)return!1;if(o.depth>=2&&s.node(o.depth-1).type.compatibleContent(t)&&o.startIndex==0){if(s.index(o.depth-1)==0)return!1;let u=r.doc.resolve(o.start-2);l=new kh(u,u,o.depth),o.endIndex<o.parent.childCount&&(o=new kh(s,r.doc.resolve(i.end(o.depth)),o.depth)),a=!0}let c=Lv(l,t,e,o);return c?(n&&n(D9(r.tr,o,c,a,t).scrollIntoView()),!0):!1}}function D9(t,e,r,n,s){let i=$.empty;for(let u=r.length-1;u>=0;u--)i=$.from(r[u].type.create(r[u].attrs,i));t.step(new zt(e.start-(n?2:0),e.end,e.start,e.end,new G(i,0,0),r.length,!0));let o=0;for(let u=0;u<r.length;u++)r[u].type==s&&(o=u+1);let a=r.length-o,l=e.start+r.length-(n?2:0),c=e.parent;for(let u=e.startIndex,f=e.endIndex,h=!0;u<f;u++,h=!1)!h&&Wa(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return t}function L9(t){return function(e,r){let{$from:n,$to:s}=e.selection,i=n.blockRange(s,o=>o.childCount>0&&o.firstChild.type==t);return i?r?n.node(i.depth-1).type==t?F9(e,r,t,i):$9(e,r,i):!0:!1}}function F9(t,e,r,n){let s=t.tr,i=n.end,o=n.$to.end(n.depth);i<o&&(s.step(new zt(i-1,o,i,o,new G($.from(r.create(null,n.parent.copy())),1,0),1,!0)),n=new kh(s.doc.resolve(n.$from.pos),s.doc.resolve(o),n.depth));const a=Fl(n);if(a==null)return!1;s.lift(n,a);let l=s.mapping.map(i,-1)-1;return Ji(s.doc,l)&&s.join(l),e(s.scrollIntoView()),!0}function $9(t,e,r){let n=t.tr,s=r.parent;for(let p=r.end,m=r.endIndex-1,g=r.startIndex;m>g;m--)p-=s.child(m).nodeSize,n.delete(p-1,p+1);let i=n.doc.resolve(r.start),o=i.nodeAfter;if(n.mapping.map(r.end)!=r.start+i.nodeAfter.nodeSize)return!1;let a=r.startIndex==0,l=r.endIndex==s.childCount,c=i.node(-1),u=i.index(-1);if(!c.canReplace(u+(a?0:1),u+1,o.content.append(l?$.empty:$.from(s))))return!1;let f=i.pos,h=f+o.nodeSize;return n.step(new zt(f-(a?1:0),h+(l?1:0),f+1,h-1,new G((a?$.empty:$.from(s.copy($.empty))).append(l?$.empty:$.from(s.copy($.empty))),a?0:1,l?0:1),a?0:1)),e(n.scrollIntoView()),!0}function z9(t){return function(e,r){let{$from:n,$to:s}=e.selection,i=n.blockRange(s,c=>c.childCount>0&&c.firstChild.type==t);if(!i)return!1;let o=i.startIndex;if(o==0)return!1;let a=i.parent,l=a.child(o-1);if(l.type!=t)return!1;if(r){let c=l.lastChild&&l.lastChild.type==a.type,u=$.from(c?t.create():null),f=new G($.from(t.create(null,$.from(a.type.create(null,u)))),c?3:1,0),h=i.start,p=i.end;r(e.tr.step(new zt(h-(c?3:1),p,h,p,f,1,!0)).scrollIntoView())}return!0}}function vp(t){const{state:e,transaction:r}=t;let{selection:n}=r,{doc:s}=r,{storedMarks:i}=r;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return n},get doc(){return s},get tr(){return n=r.selection,s=r.doc,i=r.storedMarks,r}}}class xp{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:r,state:n}=this,{view:s}=r,{tr:i}=n,o=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...u)=>{const f=l(...u)(o);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(i),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,r=!0){const{rawCommands:n,editor:s,state:i}=this,{view:o}=s,a=[],l=!!e,c=e||i.tr,u=()=>(!l&&r&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(c),a.every(h=>h===!0)),f={...Object.fromEntries(Object.entries(n).map(([h,p])=>[h,(...g)=>{const x=this.buildProps(c,r),v=p(...g)(x);return a.push(v),f}])),run:u};return f}createCan(e){const{rawCommands:r,state:n}=this,s=!1,i=e||n.tr,o=this.buildProps(i,s);return{...Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)({...o,dispatch:void 0})])),chain:()=>this.createChain(i,s)}}buildProps(e,r=!0){const{rawCommands:n,editor:s,state:i}=this,{view:o}=s,a={tr:e,editor:s,view:o,state:vp({state:i,transaction:e}),dispatch:r?()=>{}:void 0,chain:()=>this.createChain(e,r),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)(a)]))}};return a}}class B9{constructor(){this.callbacks={}}on(e,r){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(r),this}emit(e,...r){const n=this.callbacks[e];return n&&n.forEach(s=>s.apply(this,r)),this}off(e,r){const n=this.callbacks[e];return n&&(r?this.callbacks[e]=n.filter(s=>s!==r):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function se(t,e,r){return t.config[e]===void 0&&t.parent?se(t.parent,e,r):typeof t.config[e]=="function"?t.config[e].bind({...r,parent:t.parent?se(t.parent,e,r):null}):t.config[e]}function bp(t){const e=t.filter(s=>s.type==="extension"),r=t.filter(s=>s.type==="node"),n=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:r,markExtensions:n}}function hN(t){const e=[],{nodeExtensions:r,markExtensions:n}=bp(t),s=[...r,...n],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:s},l=se(o,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(f=>{Object.entries(u.attributes).forEach(([h,p])=>{e.push({type:f,name:h,attribute:{...i,...p}})})})})}),s.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=se(o,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,f])=>{const h={...i,...f};typeof(h==null?void 0:h.default)=="function"&&(h.default=h.default()),h!=null&&h.isRequired&&(h==null?void 0:h.default)===void 0&&delete h.default,e.push({type:o.name,name:u,attribute:h})})}),e}function Vt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function Mt(...t){return t.filter(e=>!!e).reduce((e,r)=>{const n={...e};return Object.entries(r).forEach(([s,i])=>{if(!n[s]){n[s]=i;return}if(s==="class"){const a=i?i.split(" "):[],l=n[s]?n[s].split(" "):[],c=a.filter(u=>!l.includes(u));n[s]=[...l,...c].join(" ")}else s==="style"?n[s]=[n[s],i].join("; "):n[s]=i}),n},{})}function r0(t,e){return e.filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(t.attrs)||{}:{[r.name]:t.attrs[r.name]}).reduce((r,n)=>Mt(r,n),{})}function pN(t){return typeof t=="function"}function Oe(t,e=void 0,...r){return pN(t)?e?t.bind(e)(...r):t(...r):t}function V9(t={}){return Object.keys(t).length===0&&t.constructor===Object}function U9(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function qw(t,e){return"style"in t?t:{...t,getAttrs:r=>{const n=t.getAttrs?t.getAttrs(r):t.attrs;if(n===!1)return!1;const s=e.reduce((i,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(r):U9(r.getAttribute(o.name));return a==null?i:{...i,[o.name]:a}},{});return{...n,...s}}}}function Ww(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>e==="attrs"&&V9(r)?!1:r!=null))}function H9(t,e){var r;const n=hN(t),{nodeExtensions:s,markExtensions:i}=bp(t),o=(r=s.find(c=>se(c,"topNode")))===null||r===void 0?void 0:r.name,a=Object.fromEntries(s.map(c=>{const u=n.filter(v=>v.type===c.name),f={name:c.name,options:c.options,storage:c.storage,editor:e},h=t.reduce((v,y)=>{const b=se(y,"extendNodeSchema",f);return{...v,...b?b(c):{}}},{}),p=Ww({...h,content:Oe(se(c,"content",f)),marks:Oe(se(c,"marks",f)),group:Oe(se(c,"group",f)),inline:Oe(se(c,"inline",f)),atom:Oe(se(c,"atom",f)),selectable:Oe(se(c,"selectable",f)),draggable:Oe(se(c,"draggable",f)),code:Oe(se(c,"code",f)),whitespace:Oe(se(c,"whitespace",f)),defining:Oe(se(c,"defining",f)),isolating:Oe(se(c,"isolating",f)),attrs:Object.fromEntries(u.map(v=>{var y;return[v.name,{default:(y=v==null?void 0:v.attribute)===null||y===void 0?void 0:y.default}]}))}),m=Oe(se(c,"parseHTML",f));m&&(p.parseDOM=m.map(v=>qw(v,u)));const g=se(c,"renderHTML",f);g&&(p.toDOM=v=>g({node:v,HTMLAttributes:r0(v,u)}));const x=se(c,"renderText",f);return x&&(p.toText=x),[c.name,p]})),l=Object.fromEntries(i.map(c=>{const u=n.filter(x=>x.type===c.name),f={name:c.name,options:c.options,storage:c.storage,editor:e},h=t.reduce((x,v)=>{const y=se(v,"extendMarkSchema",f);return{...x,...y?y(c):{}}},{}),p=Ww({...h,inclusive:Oe(se(c,"inclusive",f)),excludes:Oe(se(c,"excludes",f)),group:Oe(se(c,"group",f)),spanning:Oe(se(c,"spanning",f)),code:Oe(se(c,"code",f)),attrs:Object.fromEntries(u.map(x=>{var v;return[x.name,{default:(v=x==null?void 0:x.attribute)===null||v===void 0?void 0:v.default}]}))}),m=Oe(se(c,"parseHTML",f));m&&(p.parseDOM=m.map(x=>qw(x,u)));const g=se(c,"renderHTML",f);return g&&(p.toDOM=x=>g({mark:x,HTMLAttributes:r0(x,u)})),[c.name,p]}));return new c2({topNode:o,nodes:a,marks:l})}function Km(t,e){return e.nodes[t]||e.marks[t]||null}function Kw(t,e){return Array.isArray(e)?e.some(r=>(typeof r=="string"?r:r.name)===t.name):e}const q9=(t,e=500)=>{let r="";const n=t.parentOffset;return t.parent.nodesBetween(Math.max(0,n-e),n,(s,i,o,a)=>{var l,c;const u=((c=(l=s.type.spec).toText)===null||c===void 0?void 0:c.call(l,{node:s,pos:i,parent:o,index:a}))||s.textContent||"%leaf%";r+=s.isAtom&&!s.isText?u:u.slice(0,Math.max(0,n-i))}),r};function Zv(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class wp{constructor(e){this.find=e.find,this.handler=e.handler}}const W9=(t,e)=>{if(Zv(e))return e.exec(t);const r=e(t);if(!r)return null;const n=[r.text];return n.index=r.index,n.input=t,n.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(r.replaceWith)),n};function Yd(t){var e;const{editor:r,from:n,to:s,text:i,rules:o,plugin:a}=t,{view:l}=r;if(l.composing)return!1;const c=l.state.doc.resolve(n);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(h=>h.type.spec.code))return!1;let u=!1;const f=q9(c)+i;return o.forEach(h=>{if(u)return;const p=W9(f,h.find);if(!p)return;const m=l.state.tr,g=vp({state:l.state,transaction:m}),x={from:n-(p[0].length-i.length),to:s},{commands:v,chain:y,can:b}=new xp({editor:r,state:g});h.handler({state:g,range:x,match:p,commands:v,chain:y,can:b})===null||!m.steps.length||(m.setMeta(a,{transform:m,from:n,to:s,text:i}),l.dispatch(m),u=!0)}),u}function K9(t){const{editor:e,rules:r}=t,n=new gn({state:{init(){return null},apply(s,i){const o=s.getMeta(n);if(o)return o;const a=s.getMeta("applyInputRules");return!!a&&setTimeout(()=>{const{from:c,text:u}=a,f=c+u.length;Yd({editor:e,from:c,to:f,text:u,rules:r,plugin:n})}),s.selectionSet||s.docChanged?null:i}},props:{handleTextInput(s,i,o,a){return Yd({editor:e,from:i,to:o,text:a,rules:r,plugin:n})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:i}=s.state.selection;i&&Yd({editor:e,from:i.pos,to:i.pos,text:"",rules:r,plugin:n})}),!1)},handleKeyDown(s,i){if(i.key!=="Enter")return!1;const{$cursor:o}=s.state.selection;return o?Yd({editor:e,from:o.pos,to:o.pos,text:`
`,rules:r,plugin:n}):!1}},isInputRules:!0});return n}function J9(t){return typeof t=="number"}class Z9{constructor(e){this.find=e.find,this.handler=e.handler}}const Q9=(t,e,r)=>{if(Zv(e))return[...t.matchAll(e)];const n=e(t,r);return n?n.map(s=>{const i=[s.text];return i.index=s.index,i.input=t,i.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(s.replaceWith)),i}):[]};function G9(t){const{editor:e,state:r,from:n,to:s,rule:i,pasteEvent:o,dropEvent:a}=t,{commands:l,chain:c,can:u}=new xp({editor:e,state:r}),f=[];return r.doc.nodesBetween(n,s,(p,m)=>{if(!p.isTextblock||p.type.spec.code)return;const g=Math.max(n,m),x=Math.min(s,m+p.content.size),v=p.textBetween(g-m,x-m,void 0,"");Q9(v,i.find,o).forEach(b=>{if(b.index===void 0)return;const S=g+b.index+1,O=S+b[0].length,N={from:r.tr.mapping.map(S),to:r.tr.mapping.map(O)},T=i.handler({state:r,range:N,match:b,commands:l,chain:c,can:u,pasteEvent:o,dropEvent:a});f.push(T)})}),f.every(p=>p!==null)}const Y9=t=>{var e;const r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=r.clipboardData)===null||e===void 0||e.setData("text/html",t),r};function X9(t){const{editor:e,rules:r}=t;let n=null,s=!1,i=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a=typeof DragEvent<"u"?new DragEvent("drop"):null;const l=({state:u,from:f,to:h,rule:p,pasteEvt:m})=>{const g=u.tr,x=vp({state:u,transaction:g});if(!(!G9({editor:e,state:x,from:Math.max(f-1,0),to:h.b-1,rule:p,pasteEvent:m,dropEvent:a})||!g.steps.length))return a=typeof DragEvent<"u"?new DragEvent("drop"):null,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g};return r.map(u=>new gn({view(f){const h=p=>{var m;n=!((m=f.dom.parentElement)===null||m===void 0)&&m.contains(p.target)?f.dom.parentElement:null};return window.addEventListener("dragstart",h),{destroy(){window.removeEventListener("dragstart",h)}}},props:{handleDOMEvents:{drop:(f,h)=>(i=n===f.dom.parentElement,a=h,!1),paste:(f,h)=>{var p;const m=(p=h.clipboardData)===null||p===void 0?void 0:p.getData("text/html");return o=h,s=!!(m!=null&&m.includes("data-pm-slice")),!1}}},appendTransaction:(f,h,p)=>{const m=f[0],g=m.getMeta("uiEvent")==="paste"&&!s,x=m.getMeta("uiEvent")==="drop"&&!i,v=m.getMeta("applyPasteRules"),y=!!v;if(!g&&!x&&!y)return;if(y){const{from:O,text:N}=v,T=O+N.length,w=Y9(N);return l({rule:u,state:p,from:O,to:{b:T},pasteEvt:w})}const b=h.doc.content.findDiffStart(p.doc.content),S=h.doc.content.findDiffEnd(p.doc.content);if(!(!J9(b)||!S||b===S.b))return l({rule:u,state:p,from:b,to:S,pasteEvt:o})}}))}function e$(t){const e=t.filter((r,n)=>t.indexOf(r)!==n);return Array.from(new Set(e))}class Ia{constructor(e,r){this.splittableMarks=[],this.editor=r,this.extensions=Ia.resolve(e),this.schema=H9(this.extensions,r),this.setupExtensions()}static resolve(e){const r=Ia.sort(Ia.flatten(e)),n=e$(r.map(s=>s.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),r}static flatten(e){return e.map(r=>{const n={name:r.name,options:r.options,storage:r.storage},s=se(r,"addExtensions",n);return s?[r,...this.flatten(s())]:r}).flat(10)}static sort(e){return e.sort((n,s)=>{const i=se(n,"priority")||100,o=se(s,"priority")||100;return i>o?-1:i<o?1:0})}get commands(){return this.extensions.reduce((e,r)=>{const n={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:Km(r.name,this.schema)},s=se(r,"addCommands",n);return s?{...e,...s()}:e},{})}get plugins(){const{editor:e}=this,r=Ia.sort([...this.extensions].reverse()),n=[],s=[],i=r.map(o=>{const a={name:o.name,options:o.options,storage:o.storage,editor:e,type:Km(o.name,this.schema)},l=[],c=se(o,"addKeyboardShortcuts",a);let u={};if(o.type==="mark"&&se(o,"exitable",a)&&(u.ArrowRight=()=>cs.handleExit({editor:e,mark:o})),c){const g=Object.fromEntries(Object.entries(c()).map(([x,v])=>[x,()=>v({editor:e})]));u={...u,...g}}const f=m9(u);l.push(f);const h=se(o,"addInputRules",a);Kw(o,e.options.enableInputRules)&&h&&n.push(...h());const p=se(o,"addPasteRules",a);Kw(o,e.options.enablePasteRules)&&p&&s.push(...p());const m=se(o,"addProseMirrorPlugins",a);if(m){const g=m();l.push(...g)}return l}).flat();return[K9({editor:e,rules:n}),...X9({editor:e,rules:s}),...i]}get attributes(){return hN(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:r}=bp(this.extensions);return Object.fromEntries(r.filter(n=>!!se(n,"addNodeView")).map(n=>{const s=this.attributes.filter(l=>l.type===n.name),i={name:n.name,options:n.options,storage:n.storage,editor:e,type:Vt(n.name,this.schema)},o=se(n,"addNodeView",i);if(!o)return[];const a=(l,c,u,f)=>{const h=r0(l,s);return o()({editor:e,node:l,getPos:u,decorations:f,HTMLAttributes:h,extension:n})};return[n.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var r;this.editor.extensionStorage[e.name]=e.storage;const n={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Km(e.name,this.schema)};e.type==="mark"&&(!((r=Oe(se(e,"keepOnSplit",n)))!==null&&r!==void 0)||r)&&this.splittableMarks.push(e.name);const s=se(e,"onBeforeCreate",n),i=se(e,"onCreate",n),o=se(e,"onUpdate",n),a=se(e,"onSelectionUpdate",n),l=se(e,"onTransaction",n),c=se(e,"onFocus",n),u=se(e,"onBlur",n),f=se(e,"onDestroy",n);s&&this.editor.on("beforeCreate",s),i&&this.editor.on("create",i),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),f&&this.editor.on("destroy",f)})}}function t$(t){return Object.prototype.toString.call(t).slice(8,-1)}function Xd(t){return t$(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Sp(t,e){const r={...t};return Xd(t)&&Xd(e)&&Object.keys(e).forEach(n=>{Xd(e[n])&&Xd(t[n])?r[n]=Sp(t[n],e[n]):r[n]=e[n]}),r}class Jr{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Oe(se(this,"addOptions",{name:this.name}))),this.storage=Oe(se(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Jr(e)}configure(e={}){const r=this.extend({...this.config,addOptions:()=>Sp(this.options,e)});return r.name=this.name,r.parent=this.parent,r}extend(e={}){const r=new Jr({...this.config,...e});return r.parent=this,this.child=r,r.name=e.name?e.name:r.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=Oe(se(r,"addOptions",{name:r.name})),r.storage=Oe(se(r,"addStorage",{name:r.name,options:r.options})),r}}function mN(t,e,r){const{from:n,to:s}=e,{blockSeparator:i=`

`,textSerializers:o={}}=r||{};let a="";return t.nodesBetween(n,s,(l,c,u,f)=>{var h;l.isBlock&&c>n&&(a+=i);const p=o==null?void 0:o[l.type.name];if(p)return u&&(a+=p({node:l,pos:c,parent:u,index:f,range:e})),!1;l.isText&&(a+=(h=l==null?void 0:l.text)===null||h===void 0?void 0:h.slice(Math.max(n,c)-c,s-c))}),a}function gN(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,r])=>[e,r.spec.toText]))}const r$=Jr.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new gn({key:new Zi("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:r}=t,{doc:n,selection:s}=e,{ranges:i}=s,o=Math.min(...i.map(u=>u.$from.pos)),a=Math.max(...i.map(u=>u.$to.pos)),l=gN(r);return mN(n,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),n$=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var r;t.isDestroyed||(e.dom.blur(),(r=window==null?void 0:window.getSelection())===null||r===void 0||r.removeAllRanges())}),!0),s$=(t=!1)=>({commands:e})=>e.setContent("",t),i$=()=>({state:t,tr:e,dispatch:r})=>{const{selection:n}=e,{ranges:s}=n;return r&&s.forEach(({$from:i,$to:o})=>{t.doc.nodesBetween(i.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=e,f=c.resolve(u.map(l)),h=c.resolve(u.map(l+a.nodeSize)),p=f.blockRange(h);if(!p)return;const m=Fl(p);if(a.type.isTextblock){const{defaultType:g}=f.parent.contentMatchAt(f.index());e.setNodeMarkup(p.start,g)}(m||m===0)&&e.lift(p,m)})}),!0},o$=t=>e=>t(e),a$=()=>({state:t,dispatch:e})=>j9(t,e),l$=(t,e)=>({editor:r,tr:n})=>{const{state:s}=r,i=s.doc.slice(t.from,t.to);n.deleteRange(t.from,t.to);const o=n.mapping.map(e);return n.insert(o,i.content),n.setSelection(new we(n.doc.resolve(o-1))),!0},c$=()=>({tr:t,dispatch:e})=>{const{selection:r}=t,n=r.$anchor.node();if(n.content.size>0)return!1;const s=t.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===n.type){if(e){const a=s.before(i),l=s.after(i);t.delete(a,l).scrollIntoView()}return!0}return!1},u$=t=>({tr:e,state:r,dispatch:n})=>{const s=Vt(t,r.schema),i=e.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===s){if(n){const l=i.before(o),c=i.after(o);e.delete(l,c).scrollIntoView()}return!0}return!1},d$=t=>({tr:e,dispatch:r})=>{const{from:n,to:s}=t;return r&&e.delete(n,s),!0},f$=()=>({state:t,dispatch:e})=>g9(t,e),h$=()=>({commands:t})=>t.keyboardShortcut("Enter"),p$=()=>({state:t,dispatch:e})=>N9(t,e);function Mh(t,e,r={strict:!0}){const n=Object.keys(e);return n.length?n.every(s=>r.strict?e[s]===t[s]:Zv(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function n0(t,e,r={}){return t.find(n=>n.type===e&&Mh(n.attrs,r))}function m$(t,e,r={}){return!!n0(t,e,r)}function Qv(t,e,r={}){if(!t||!e)return;let n=t.parent.childAfter(t.parentOffset);if(t.parentOffset===n.offset&&n.offset!==0&&(n=t.parent.childBefore(t.parentOffset)),!n.node)return;const s=n0([...n.node.marks],e,r);if(!s)return;let i=n.index,o=t.start()+n.offset,a=i+1,l=o+n.node.nodeSize;for(n0([...n.node.marks],e,r);i>0&&s.isInSet(t.parent.child(i-1).marks);)i-=1,o-=t.parent.child(i).nodeSize;for(;a<t.parent.childCount&&m$([...t.parent.child(a).marks],e,r);)l+=t.parent.child(a).nodeSize,a+=1;return{from:o,to:l}}function Gi(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const g$=(t,e={})=>({tr:r,state:n,dispatch:s})=>{const i=Gi(t,n.schema),{doc:o,selection:a}=r,{$from:l,from:c,to:u}=a;if(s){const f=Qv(l,i,e);if(f&&f.from<=c&&f.to>=u){const h=we.create(o,f.from,f.to);r.setSelection(h)}}return!0},y$=t=>e=>{const r=typeof t=="function"?t(e):t;for(let n=0;n<r.length;n+=1)if(r[n](e))return!0;return!1};function yN(t){return t instanceof we}function go(t=0,e=0,r=0){return Math.min(Math.max(t,e),r)}function vN(t,e=null){if(!e)return null;const r=ke.atStart(t),n=ke.atEnd(t);if(e==="start"||e===!0)return r;if(e==="end")return n;const s=r.from,i=n.to;return e==="all"?we.create(t,go(0,s,i),go(t.content.size,s,i)):we.create(t,go(e,s,i),go(e,s,i))}function Gv(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const v$=(t=null,e={})=>({editor:r,view:n,tr:s,dispatch:i})=>{e={scrollIntoView:!0,...e};const o=()=>{Gv()&&n.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(n.focus(),e!=null&&e.scrollIntoView&&r.commands.scrollIntoView())})};if(n.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!yN(r.state.selection))return o(),!0;const a=vN(s.doc,t)||r.state.selection,l=r.state.selection.eq(a);return i&&(l||s.setSelection(a),l&&s.storedMarks&&s.setStoredMarks(s.storedMarks),o()),!0},x$=(t,e)=>r=>t.every((n,s)=>e(n,{...r,index:s})),b$=(t,e)=>({tr:r,commands:n})=>n.insertContentAt({from:r.selection.from,to:r.selection.to},t,e),xN=t=>{const e=t.childNodes;for(let r=e.length-1;r>=0;r-=1){const n=e[r];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?t.removeChild(n):n.nodeType===1&&xN(n)}return t};function ef(t){const e=`<body>${t}</body>`,r=new window.DOMParser().parseFromString(e,"text/html").body;return xN(r)}function Ah(t,e,r){r={slice:!0,parseOptions:{},...r};const n=typeof t=="object"&&t!==null,s=typeof t=="string";if(n)try{if(Array.isArray(t)&&t.length>0)return $.fromArray(t.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(t);return r.errorOnInvalidContent&&o.check(),o}catch(i){if(r.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),Ah("",e,r)}if(s){if(r.errorOnInvalidContent){let o=!1,a="";const l=new c2({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(o=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(r.slice?Dc.fromSchema(l).parseSlice(ef(t),r.parseOptions):Dc.fromSchema(l).parse(ef(t),r.parseOptions),r.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const i=Dc.fromSchema(e);return r.slice?i.parseSlice(ef(t),r.parseOptions).content:i.parse(ef(t),r.parseOptions)}return Ah("",e,r)}function w$(t,e,r){const n=t.steps.length-1;if(n<e)return;const s=t.steps[n];if(!(s instanceof Ft||s instanceof zt))return;const i=t.mapping.maps[n];let o=0;i.forEach((a,l,c,u)=>{o===0&&(o=u)}),t.setSelection(ke.near(t.doc.resolve(o),r))}const S$=t=>!("type"in t),k$=(t,e,r)=>({tr:n,dispatch:s,editor:i})=>{var o;if(s){r={parseOptions:{},updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...r};let a;try{a=Ah(e,i.schema,{parseOptions:{preserveWhitespace:"full",...r.parseOptions},errorOnInvalidContent:(o=r.errorOnInvalidContent)!==null&&o!==void 0?o:i.options.enableContentCheck})}catch(m){return i.emit("contentError",{editor:i,error:m,disableCollaboration:()=>{console.error("[tiptap error]: Unable to disable collaboration at this point in time")}}),!1}let{from:l,to:c}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},u=!0,f=!0;if((S$(a)?a:[a]).forEach(m=>{m.check(),u=u?m.isText&&m.marks.length===0:!1,f=f?m.isBlock:!1}),l===c&&f){const{parent:m}=n.doc.resolve(l);m.isTextblock&&!m.type.spec.code&&!m.childCount&&(l-=1,c+=1)}let p;u?(Array.isArray(e)?p=e.map(m=>m.text||"").join(""):typeof e=="object"&&e&&e.text?p=e.text:p=e,n.insertText(p,l,c)):(p=a,n.replaceWith(l,c,p)),r.updateSelection&&w$(n,n.steps.length-1,-1),r.applyInputRules&&n.setMeta("applyInputRules",{from:l,text:p}),r.applyPasteRules&&n.setMeta("applyPasteRules",{from:l,text:p})}return!0},_$=()=>({state:t,dispatch:e})=>k9(t,e),E$=()=>({state:t,dispatch:e})=>_9(t,e),C$=()=>({state:t,dispatch:e})=>y9(t,e),N$=()=>({state:t,dispatch:e})=>w9(t,e),j$=()=>({state:t,dispatch:e,tr:r})=>{try{const n=fp(t.doc,t.selection.$from.pos,-1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},O$=()=>({state:t,dispatch:e,tr:r})=>{try{const n=fp(t.doc,t.selection.$from.pos,1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},T$=()=>({state:t,dispatch:e})=>v9(t,e),P$=()=>({state:t,dispatch:e})=>x9(t,e);function bN(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function M$(t){const e=t.split(/-(?!$)/);let r=e[e.length-1];r==="Space"&&(r=" ");let n,s,i,o;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))s=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))Gv()||bN()?o=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return n&&(r=`Alt-${r}`),s&&(r=`Ctrl-${r}`),o&&(r=`Meta-${r}`),i&&(r=`Shift-${r}`),r}const A$=t=>({editor:e,view:r,tr:n,dispatch:s})=>{const i=M$(t).split(/-(?!$)/),o=i.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{r.someProp("handleKeyDown",c=>c(r,a))});return l==null||l.steps.forEach(c=>{const u=c.map(n.mapping);u&&s&&n.maybeStep(u)}),!0};function Ru(t,e,r={}){const{from:n,to:s,empty:i}=t.selection,o=e?Vt(e,t.schema):null,a=[];t.doc.nodesBetween(n,s,(f,h)=>{if(f.isText)return;const p=Math.max(n,h),m=Math.min(s,h+f.nodeSize);a.push({node:f,from:p,to:m})});const l=s-n,c=a.filter(f=>o?o.name===f.node.type.name:!0).filter(f=>Mh(f.node.attrs,r,{strict:!1}));return i?!!c.length:c.reduce((f,h)=>f+h.to-h.from,0)>=l}const I$=(t,e={})=>({state:r,dispatch:n})=>{const s=Vt(t,r.schema);return Ru(r,s,e)?E9(r,n):!1},R$=()=>({state:t,dispatch:e})=>O9(t,e),D$=t=>({state:e,dispatch:r})=>{const n=Vt(t,e.schema);return L9(n)(e,r)},L$=()=>({state:t,dispatch:e})=>C9(t,e);function kp(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Jw(t,e){const r=typeof e=="string"?[e]:e;return Object.keys(t).reduce((n,s)=>(r.includes(s)||(n[s]=t[s]),n),{})}const F$=(t,e)=>({tr:r,state:n,dispatch:s})=>{let i=null,o=null;const a=kp(typeof t=="string"?t:t.name,n.schema);return a?(a==="node"&&(i=Vt(t,n.schema)),a==="mark"&&(o=Gi(t,n.schema)),s&&r.selection.ranges.forEach(l=>{n.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{i&&i===c.type&&r.setNodeMarkup(u,void 0,Jw(c.attrs,e)),o&&c.marks.length&&c.marks.forEach(f=>{o===f.type&&r.addMark(u,u+c.nodeSize,o.create(Jw(f.attrs,e)))})})}),!0):!1},$$=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),z$=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),B$=()=>({state:t,dispatch:e})=>b9(t,e),V$=()=>({state:t,dispatch:e})=>S9(t,e),U$=()=>({state:t,dispatch:e})=>T9(t,e),H$=()=>({state:t,dispatch:e})=>A9(t,e),q$=()=>({state:t,dispatch:e})=>M9(t,e);function s0(t,e,r={},n={}){return Ah(t,e,{slice:!1,parseOptions:r,errorOnInvalidContent:n.errorOnInvalidContent})}const W$=(t,e=!1,r={},n={})=>({editor:s,tr:i,dispatch:o,commands:a})=>{var l,c;const{doc:u}=i;if(r.preserveWhitespace!=="full"){const f=s0(t,s.schema,r,{errorOnInvalidContent:(l=n.errorOnInvalidContent)!==null&&l!==void 0?l:s.options.enableContentCheck});return o&&i.replaceWith(0,u.content.size,f).setMeta("preventUpdate",!e),!0}return o&&i.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:u.content.size},t,{parseOptions:r,errorOnInvalidContent:(c=n.errorOnInvalidContent)!==null&&c!==void 0?c:s.options.enableContentCheck})};function _p(t,e){const r=Gi(e,t.schema),{from:n,to:s,empty:i}=t.selection,o=[];i?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(n,s,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===r.name);return a?{...a.attrs}:{}}function K$(t){for(let e=0;e<t.edgeCount;e+=1){const{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function J$(t,e){for(let r=t.depth;r>0;r-=1){const n=t.node(r);if(e(n))return{pos:r>0?t.before(r):0,start:t.start(r),depth:r,node:n}}}function Yv(t){return e=>J$(e.$from,t)}function Z$(t,e){const r=na.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(r),s.innerHTML}function Q$(t,e){const r={from:0,to:t.content.size};return mN(t,r,e)}function G$(t,e){const r=Vt(e,t.schema),{from:n,to:s}=t.selection,i=[];t.doc.nodesBetween(n,s,a=>{i.push(a)});const o=i.reverse().find(a=>a.type.name===r.name);return o?{...o.attrs}:{}}function Y$(t,e){const r=kp(typeof e=="string"?e:e.name,t.schema);return r==="node"?G$(t,e):r==="mark"?_p(t,e):{}}function wN(t,e,r){const n=[];return t===e?r.resolve(t).marks().forEach(s=>{const i=r.resolve(t),o=Qv(i,s.type);o&&n.push({mark:s,...o})}):r.nodesBetween(t,e,(s,i)=>{!s||(s==null?void 0:s.nodeSize)===void 0||n.push(...s.marks.map(o=>({from:i,to:i+s.nodeSize,mark:o})))}),n}function Ef(t,e,r){return Object.fromEntries(Object.entries(r).filter(([n])=>{const s=t.find(i=>i.type===e&&i.name===n);return s?s.attribute.keepOnSplit:!1}))}function i0(t,e,r={}){const{empty:n,ranges:s}=t.selection,i=e?Gi(e,t.schema):null;if(n)return!!(t.storedMarks||t.selection.$from.marks()).filter(f=>i?i.name===f.type.name:!0).find(f=>Mh(f.attrs,r,{strict:!1}));let o=0;const a=[];if(s.forEach(({$from:f,$to:h})=>{const p=f.pos,m=h.pos;t.doc.nodesBetween(p,m,(g,x)=>{if(!g.isText&&!g.marks.length)return;const v=Math.max(p,x),y=Math.min(m,x+g.nodeSize),b=y-v;o+=b,a.push(...g.marks.map(S=>({mark:S,from:v,to:y})))})}),o===0)return!1;const l=a.filter(f=>i?i.name===f.mark.type.name:!0).filter(f=>Mh(f.mark.attrs,r,{strict:!1})).reduce((f,h)=>f+h.to-h.from,0),c=a.filter(f=>i?f.mark.type!==i&&f.mark.type.excludes(i):!0).reduce((f,h)=>f+h.to-h.from,0);return(l>0?l+c:l)>=o}function X$(t,e,r={}){if(!e)return Ru(t,null,r)||i0(t,null,r);const n=kp(e,t.schema);return n==="node"?Ru(t,e,r):n==="mark"?i0(t,e,r):!1}function Zw(t,e){const{nodeExtensions:r}=bp(e),n=r.find(o=>o.name===t);if(!n)return!1;const s={name:n.name,options:n.options,storage:n.storage},i=Oe(se(n,"group",s));return typeof i!="string"?!1:i.split(" ").includes("list")}function SN(t,{checkChildren:e=!0,ignoreWhitespace:r=!1}={}){var n;if(r){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((n=t.text)!==null&&n!==void 0?n:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let s=!0;return t.content.forEach(i=>{s!==!1&&(SN(i,{ignoreWhitespace:r,checkChildren:e})||(s=!1))}),s}return!1}function ez(t){return t instanceof pe}function tz(t,e,r){var n;const{selection:s}=e;let i=null;if(yN(s)&&(i=s.$cursor),i){const a=(n=t.storedMarks)!==null&&n!==void 0?n:i.marks();return!!r.isInSet(a)||!a.some(l=>l.type.excludes(r))}const{ranges:o}=s;return o.some(({$from:a,$to:l})=>{let c=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(r):!1;return t.doc.nodesBetween(a.pos,l.pos,(u,f,h)=>{if(c)return!1;if(u.isInline){const p=!h||h.type.allowsMarkType(r),m=!!r.isInSet(u.marks)||!u.marks.some(g=>g.type.excludes(r));c=p&&m}return!c}),c})}const rz=(t,e={})=>({tr:r,state:n,dispatch:s})=>{const{selection:i}=r,{empty:o,ranges:a}=i,l=Gi(t,n.schema);if(s)if(o){const c=_p(n,l);r.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const u=c.$from.pos,f=c.$to.pos;n.doc.nodesBetween(u,f,(h,p)=>{const m=Math.max(p,u),g=Math.min(p+h.nodeSize,f);h.marks.find(v=>v.type===l)?h.marks.forEach(v=>{l===v.type&&r.addMark(m,g,l.create({...v.attrs,...e}))}):r.addMark(m,g,l.create(e))})});return tz(n,r,l)},nz=(t,e)=>({tr:r})=>(r.setMeta(t,e),!0),sz=(t,e={})=>({state:r,dispatch:n,chain:s})=>{const i=Vt(t,r.schema);return i.isTextblock?s().command(({commands:o})=>Hw(i,e)(r)?!0:o.clearNodes()).command(({state:o})=>Hw(i,e)(o,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},iz=t=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,s=go(t,0,n.content.size),i=pe.create(n,s);e.setSelection(i)}return!0},oz=t=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,{from:s,to:i}=typeof t=="number"?{from:t,to:t}:t,o=we.atStart(n).from,a=we.atEnd(n).to,l=go(s,o,a),c=go(i,o,a),u=we.create(n,l,c);e.setSelection(u)}return!0},az=t=>({state:e,dispatch:r})=>{const n=Vt(t,e.schema);return z9(n)(e,r)};function Qw(t,e){const r=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(r){const n=r.filter(s=>e==null?void 0:e.includes(s.type.name));t.tr.ensureMarks(n)}}const lz=({keepMarks:t=!0}={})=>({tr:e,state:r,dispatch:n,editor:s})=>{const{selection:i,doc:o}=e,{$from:a,$to:l}=i,c=s.extensionManager.attributes,u=Ef(c,a.node().type.name,a.node().attrs);if(i instanceof pe&&i.node.isBlock)return!a.parentOffset||!Wa(o,a.pos)?!1:(n&&(t&&Qw(r,s.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const f=l.parentOffset===l.parent.content.size,h=a.depth===0?void 0:K$(a.node(-1).contentMatchAt(a.indexAfter(-1)));let p=f&&h?[{type:h,attrs:u}]:void 0,m=Wa(e.doc,e.mapping.map(a.pos),1,p);if(!p&&!m&&Wa(e.doc,e.mapping.map(a.pos),1,h?[{type:h}]:void 0)&&(m=!0,p=h?[{type:h,attrs:u}]:void 0),n){if(m&&(i instanceof we&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,p),h&&!f&&!a.parentOffset&&a.parent.type!==h)){const g=e.mapping.map(a.before()),x=e.doc.resolve(g);a.node(-1).canReplaceWith(x.index(),x.index()+1,h)&&e.setNodeMarkup(e.mapping.map(a.before()),h)}t&&Qw(r,s.extensionManager.splittableMarks),e.scrollIntoView()}return m},cz=(t,e={})=>({tr:r,state:n,dispatch:s,editor:i})=>{var o;const a=Vt(t,n.schema),{$from:l,$to:c}=n.selection,u=n.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const f=l.node(-1);if(f.type!==a)return!1;const h=i.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(s){let v=$.empty;const y=l.index(-1)?1:l.index(-2)?2:3;for(let w=l.depth-y;w>=l.depth-3;w-=1)v=$.from(l.node(w).copy(v));const b=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,S={...Ef(h,l.node().type.name,l.node().attrs),...e},O=((o=a.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(S))||void 0;v=v.append($.from(a.createAndFill(null,O)||void 0));const N=l.before(l.depth-(y-1));r.replace(N,l.after(-b),new G(v,4-y,0));let T=-1;r.doc.nodesBetween(N,r.doc.content.size,(w,M)=>{if(T>-1)return!1;w.isTextblock&&w.content.size===0&&(T=M+1)}),T>-1&&r.setSelection(we.near(r.doc.resolve(T))),r.scrollIntoView()}return!0}const p=c.pos===l.end()?f.contentMatchAt(0).defaultType:null,m={...Ef(h,f.type.name,f.attrs),...e},g={...Ef(h,l.node().type.name,l.node().attrs),...e};r.delete(l.pos,c.pos);const x=p?[{type:a,attrs:m},{type:p,attrs:g}]:[{type:a,attrs:m}];if(!Wa(r.doc,l.pos,2))return!1;if(s){const{selection:v,storedMarks:y}=n,{splittableMarks:b}=i.extensionManager,S=y||v.$to.parentOffset&&v.$from.marks();if(r.split(l.pos,2,x).scrollIntoView(),!S||!s)return!0;const O=S.filter(N=>b.includes(N.type.name));r.ensureMarks(O)}return!0},Jm=(t,e)=>{const r=Yv(o=>o.type===e)(t.selection);if(!r)return!0;const n=t.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(n===void 0)return!0;const s=t.doc.nodeAt(n);return r.node.type===(s==null?void 0:s.type)&&Ji(t.doc,r.pos)&&t.join(r.pos),!0},Zm=(t,e)=>{const r=Yv(o=>o.type===e)(t.selection);if(!r)return!0;const n=t.doc.resolve(r.start).after(r.depth);if(n===void 0)return!0;const s=t.doc.nodeAt(n);return r.node.type===(s==null?void 0:s.type)&&Ji(t.doc,n)&&t.join(n),!0},uz=(t,e,r,n={})=>({editor:s,tr:i,state:o,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:f,splittableMarks:h}=s.extensionManager,p=Vt(t,o.schema),m=Vt(e,o.schema),{selection:g,storedMarks:x}=o,{$from:v,$to:y}=g,b=v.blockRange(y),S=x||g.$to.parentOffset&&g.$from.marks();if(!b)return!1;const O=Yv(N=>Zw(N.type.name,f))(g);if(b.depth>=1&&O&&b.depth-O.depth<=1){if(O.node.type===p)return c.liftListItem(m);if(Zw(O.node.type.name,f)&&p.validContent(O.node.content)&&a)return l().command(()=>(i.setNodeMarkup(O.pos,p),!0)).command(()=>Jm(i,p)).command(()=>Zm(i,p)).run()}return!r||!S||!a?l().command(()=>u().wrapInList(p,n)?!0:c.clearNodes()).wrapInList(p,n).command(()=>Jm(i,p)).command(()=>Zm(i,p)).run():l().command(()=>{const N=u().wrapInList(p,n),T=S.filter(w=>h.includes(w.type.name));return i.ensureMarks(T),N?!0:c.clearNodes()}).wrapInList(p,n).command(()=>Jm(i,p)).command(()=>Zm(i,p)).run()},dz=(t,e={},r={})=>({state:n,commands:s})=>{const{extendEmptyMarkRange:i=!1}=r,o=Gi(t,n.schema);return i0(n,o,e)?s.unsetMark(o,{extendEmptyMarkRange:i}):s.setMark(o,e)},fz=(t,e,r={})=>({state:n,commands:s})=>{const i=Vt(t,n.schema),o=Vt(e,n.schema);return Ru(n,i,r)?s.setNode(o):s.setNode(i,r)},hz=(t,e={})=>({state:r,commands:n})=>{const s=Vt(t,r.schema);return Ru(r,s,e)?n.lift(s):n.wrapIn(s,e)},pz=()=>({state:t,dispatch:e})=>{const r=t.plugins;for(let n=0;n<r.length;n+=1){const s=r[n];let i;if(s.spec.isInputRules&&(i=s.getState(t))){if(e){const o=t.tr,a=i.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(i.text){const l=o.doc.resolve(i.from).marks();o.replaceWith(i.from,i.to,t.schema.text(i.text,l))}else o.delete(i.from,i.to)}return!0}}return!1},mz=()=>({tr:t,dispatch:e})=>{const{selection:r}=t,{empty:n,ranges:s}=r;return n||e&&s.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},gz=(t,e={})=>({tr:r,state:n,dispatch:s})=>{var i;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=r,l=Gi(t,n.schema),{$from:c,empty:u,ranges:f}=a;if(!s)return!0;if(u&&o){let{from:h,to:p}=a;const m=(i=c.marks().find(x=>x.type===l))===null||i===void 0?void 0:i.attrs,g=Qv(c,l,m);g&&(h=g.from,p=g.to),r.removeMark(h,p,l)}else f.forEach(h=>{r.removeMark(h.$from.pos,h.$to.pos,l)});return r.removeStoredMark(l),!0},yz=(t,e={})=>({tr:r,state:n,dispatch:s})=>{let i=null,o=null;const a=kp(typeof t=="string"?t:t.name,n.schema);return a?(a==="node"&&(i=Vt(t,n.schema)),a==="mark"&&(o=Gi(t,n.schema)),s&&r.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;n.doc.nodesBetween(c,u,(f,h)=>{i&&i===f.type&&r.setNodeMarkup(h,void 0,{...f.attrs,...e}),o&&f.marks.length&&f.marks.forEach(p=>{if(o===p.type){const m=Math.max(h,c),g=Math.min(h+f.nodeSize,u);r.addMark(m,g,o.create({...p.attrs,...e}))}})})}),!0):!1},vz=(t,e={})=>({state:r,dispatch:n})=>{const s=Vt(t,r.schema);return I9(s,e)(r,n)},xz=(t,e={})=>({state:r,dispatch:n})=>{const s=Vt(t,r.schema);return R9(s,e)(r,n)};var bz=Object.freeze({__proto__:null,blur:n$,clearContent:s$,clearNodes:i$,command:o$,createParagraphNear:a$,cut:l$,deleteCurrentNode:c$,deleteNode:u$,deleteRange:d$,deleteSelection:f$,enter:h$,exitCode:p$,extendMarkRange:g$,first:y$,focus:v$,forEach:x$,insertContent:b$,insertContentAt:k$,joinBackward:C$,joinDown:E$,joinForward:N$,joinItemBackward:j$,joinItemForward:O$,joinTextblockBackward:T$,joinTextblockForward:P$,joinUp:_$,keyboardShortcut:A$,lift:I$,liftEmptyBlock:R$,liftListItem:D$,newlineInCode:L$,resetAttributes:F$,scrollIntoView:$$,selectAll:z$,selectNodeBackward:B$,selectNodeForward:V$,selectParentNode:U$,selectTextblockEnd:H$,selectTextblockStart:q$,setContent:W$,setMark:rz,setMeta:nz,setNode:sz,setNodeSelection:iz,setTextSelection:oz,sinkListItem:az,splitBlock:lz,splitListItem:cz,toggleList:uz,toggleMark:dz,toggleNode:fz,toggleWrap:hz,undoInputRule:pz,unsetAllMarks:mz,unsetMark:gz,updateAttributes:yz,wrapIn:vz,wrapInList:xz});const wz=Jr.create({name:"commands",addCommands(){return{...bz}}}),Sz=Jr.create({name:"editable",addProseMirrorPlugins(){return[new gn({key:new Zi("editable"),props:{editable:()=>this.editor.options.editable}})]}}),kz=Jr.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new gn({key:new Zi("focusEvents"),props:{handleDOMEvents:{focus:(e,r)=>{t.isFocused=!0;const n=t.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1},blur:(e,r)=>{t.isFocused=!1;const n=t.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1}}}})]}}),_z=Jr.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:f}=l,{pos:h,parent:p}=f,m=f.parent.isTextblock&&h>0?a.doc.resolve(h-1):f,g=m.parent.type.spec.isolating,x=f.pos-f.parentOffset,v=g&&m.parent.childCount===1?x===f.pos:ke.atStart(c).from===h;return!u||!p.type.isTextblock||p.textContent.length||!v||v&&f.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...n},i={...n,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Gv()||bN()?i:s},addProseMirrorPlugins(){return[new gn({key:new Zi("clearDocument"),appendTransaction:(t,e,r)=>{if(!(t.some(m=>m.docChanged)&&!e.doc.eq(r.doc)))return;const{empty:s,from:i,to:o}=e.selection,a=ke.atStart(e.doc).from,l=ke.atEnd(e.doc).to;if(s||!(i===a&&o===l)||!(r.doc.textBetween(0,r.doc.content.size," "," ").length===0))return;const f=r.tr,h=vp({state:r,transaction:f}),{commands:p}=new xp({editor:this.editor,state:h});if(p.clearNodes(),!!f.steps.length)return f}})]}}),Ez=Jr.create({name:"tabindex",addProseMirrorPlugins(){return[new gn({key:new Zi("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class oo{get name(){return this.node.type.name}constructor(e,r,n=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=r,this.currentNode=s}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let r=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}r=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:r,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),r=this.resolvedPos.doc.resolve(e);return new oo(r,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new oo(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new oo(e,this.editor)}get children(){const e=[];return this.node.content.forEach((r,n)=>{const s=r.isBlock&&!r.isTextblock,i=this.pos+n+1,o=this.resolvedPos.doc.resolve(i);if(!s&&o.depth<=this.depth)return;const a=new oo(o,this.editor,s,s?r:null);s&&(a.actualDepth=this.depth+1),e.push(new oo(o,this.editor,s,s?r:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,r={}){let n=null,s=this.parent;for(;s&&!n;){if(s.node.type.name===e)if(Object.keys(r).length>0){const i=s.node.attrs,o=Object.keys(r);for(let a=0;a<o.length;a+=1){const l=o[a];if(i[l]!==r[l])break}}else n=s;s=s.parent}return n}querySelector(e,r={}){return this.querySelectorAll(e,r,!0)[0]||null}querySelectorAll(e,r={},n=!1){let s=[];if(!this.children||this.children.length===0)return s;const i=Object.keys(r);return this.children.forEach(o=>{n&&s.length>0||(o.node.type.name===e&&i.every(l=>r[l]===o.node.attrs[l])&&s.push(o),!(n&&s.length>0)&&(s=s.concat(o.querySelectorAll(e,r,n))))}),s}setAttribute(e){const r=this.editor.state.selection;this.editor.chain().setTextSelection(this.from).updateAttributes(this.node.type.name,e).setTextSelection(r.from).run()}}const Cz=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function Nz(t,e,r){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}let jz=class extends B9{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r}},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=Nz(Cz,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,r=!0){this.setOptions({editable:e}),r&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,r){const n=pN(r)?r(e,[...this.state.plugins]):[...this.state.plugins,e],s=this.state.reconfigure({plugins:n});this.view.updateState(s)}unregisterPlugin(e){if(this.isDestroyed)return;const r=typeof e=="string"?`${e}$`:e.key,n=this.state.reconfigure({plugins:this.state.plugins.filter(s=>!s.key.startsWith(r))});this.view.updateState(n)}createExtensionManager(){var e,r;const s=[...this.options.enableCoreExtensions?[Sz,r$.configure({blockSeparator:(r=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||r===void 0?void 0:r.blockSeparator}),wz,kz,_z,Ez]:[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new Ia(s,this)}createCommandManager(){this.commandManager=new xp({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){let e;try{e=s0(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(i){if(!(i instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(i.message))throw i;this.emit("contentError",{editor:this,error:i,disableCollaboration:()=>{this.options.extensions=this.options.extensions.filter(o=>o.name!=="collaboration"),this.createExtensionManager()}}),e=s0(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=vN(e,this.options.autofocus);this.view=new o9(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:Aa.create({doc:e,selection:r||void 0})});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const r=this.capturedTransaction;return this.capturedTransaction=null,r}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(o)});return}const r=this.state.apply(e),n=!this.state.selection.eq(r.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:r}),this.view.updateState(r),this.emit("transaction",{editor:this,transaction:e}),n&&this.emit("selectionUpdate",{editor:this,transaction:e});const s=e.getMeta("focus"),i=e.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:e}),i&&this.emit("blur",{editor:this,event:i.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return Y$(this.state,e)}isActive(e,r){const n=typeof e=="string"?e:null,s=typeof e=="string"?r:e;return X$(this.state,n,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Z$(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:r=`

`,textSerializers:n={}}=e||{};return Q$(this.state.doc,{blockSeparator:r,textSerializers:{...gN(this.schema),...n}})}get isEmpty(){return SN(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,r){var n;return((n=this.$doc)===null||n===void 0?void 0:n.querySelector(e,r))||null}$nodes(e,r){var n;return((n=this.$doc)===null||n===void 0?void 0:n.querySelectorAll(e,r))||null}$pos(e){const r=this.state.doc.resolve(e);return new oo(r,this)}get $doc(){return this.$pos(0)}};function Tl(t){return new wp({find:t.find,handler:({state:e,range:r,match:n})=>{const s=Oe(t.getAttributes,void 0,n);if(s===!1||s===null)return null;const{tr:i}=e,o=n[n.length-1],a=n[0];if(o){const l=a.search(/\S/),c=r.from+a.indexOf(o),u=c+o.length;if(wN(r.from,r.to,e.doc).filter(p=>p.mark.type.excluded.find(g=>g===t.type&&g!==p.mark.type)).filter(p=>p.to>c).length)return null;u<r.to&&i.delete(u,r.to),c>r.from&&i.delete(r.from+l,c);const h=r.from+l+o.length;i.addMark(r.from+l,h,t.type.create(s||{})),i.removeStoredMark(t.type)}}})}function Oz(t){return new wp({find:t.find,handler:({state:e,range:r,match:n})=>{const s=Oe(t.getAttributes,void 0,n)||{},{tr:i}=e,o=r.from;let a=r.to;const l=t.type.create(s);if(n[1]){const c=n[0].lastIndexOf(n[1]);let u=o+c;u>a?u=a:a=u+n[1].length;const f=n[0][n[0].length-1];i.insertText(f,o+n[0].length-1),i.replaceWith(u,a,l)}else if(n[0]){const c=t.type.isInline?o:o-1;i.insert(c,t.type.create(s)).delete(i.mapping.map(o),i.mapping.map(a))}i.scrollIntoView()}})}function o0(t){return new wp({find:t.find,handler:({state:e,range:r,match:n})=>{const s=e.doc.resolve(r.from),i=Oe(t.getAttributes,void 0,n)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(r.from,r.to).setBlockType(r.from,r.from,t.type,i)}})}function Du(t){return new wp({find:t.find,handler:({state:e,range:r,match:n,chain:s})=>{const i=Oe(t.getAttributes,void 0,n)||{},o=e.tr.delete(r.from,r.to),l=o.doc.resolve(r.from).blockRange(),c=l&&Lv(l,t.type,i);if(!c)return null;if(o.wrap(l,c),t.keepMarks&&t.editor){const{selection:f,storedMarks:h}=e,{splittableMarks:p}=t.editor.extensionManager,m=h||f.$to.parentOffset&&f.$from.marks();if(m){const g=m.filter(x=>p.includes(x.type.name));o.ensureMarks(g)}}if(t.keepAttributes){const f=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(f,i).run()}const u=o.doc.resolve(r.from-1).nodeBefore;u&&u.type===t.type&&Ji(o.doc,r.from-1)&&(!t.joinPredicate||t.joinPredicate(n,u))&&o.join(r.from-1)}})}class cs{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Oe(se(this,"addOptions",{name:this.name}))),this.storage=Oe(se(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new cs(e)}configure(e={}){const r=this.extend({...this.config,addOptions:()=>Sp(this.options,e)});return r.name=this.name,r.parent=this.parent,r}extend(e={}){const r=new cs(e);return r.parent=this,this.child=r,r.name=e.name?e.name:r.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=Oe(se(r,"addOptions",{name:r.name})),r.storage=Oe(se(r,"addStorage",{name:r.name,options:r.options})),r}static handleExit({editor:e,mark:r}){const{tr:n}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const o=s.marks();if(!!!o.find(c=>(c==null?void 0:c.type.name)===r.name))return!1;const l=o.find(c=>(c==null?void 0:c.type.name)===r.name);return l&&n.removeStoredMark(l),n.insertText(" ",s.pos),e.view.dispatch(n),!0}return!1}}class ar{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Oe(se(this,"addOptions",{name:this.name}))),this.storage=Oe(se(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new ar(e)}configure(e={}){const r=this.extend({...this.config,addOptions:()=>Sp(this.options,e)});return r.name=this.name,r.parent=this.parent,r}extend(e={}){const r=new ar(e);return r.parent=this,this.child=r,r.name=e.name?e.name:r.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=Oe(se(r,"addOptions",{name:r.name})),r.storage=Oe(se(r,"addStorage",{name:r.name,options:r.options})),r}}function Pl(t){return new Z9({find:t.find,handler:({state:e,range:r,match:n,pasteEvent:s})=>{const i=Oe(t.getAttributes,void 0,n,s);if(i===!1||i===null)return null;const{tr:o}=e,a=n[n.length-1],l=n[0];let c=r.to;if(a){const u=l.search(/\S/),f=r.from+l.indexOf(a),h=f+a.length;if(wN(r.from,r.to,e.doc).filter(m=>m.mark.type.excluded.find(x=>x===t.type&&x!==m.mark.type)).filter(m=>m.to>f).length)return null;h<r.to&&o.delete(h,r.to),f>r.from&&o.delete(r.from+u,f),c=r.from+u+a.length,o.addMark(r.from+u,c,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}var kN={exports:{}},Qm={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gw;function Tz(){if(Gw)return Qm;Gw=1;var t=fe;function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,s=t.useEffect,i=t.useLayoutEffect,o=t.useDebugValue;function a(f,h){var p=h(),m=n({inst:{value:p,getSnapshot:h}}),g=m[0].inst,x=m[1];return i(function(){g.value=p,g.getSnapshot=h,l(g)&&x({inst:g})},[f,p,h]),s(function(){return l(g)&&x({inst:g}),f(function(){l(g)&&x({inst:g})})},[f]),o(p),p}function l(f){var h=f.getSnapshot;f=f.value;try{var p=h();return!r(f,p)}catch{return!0}}function c(f,h){return h()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return Qm.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:u,Qm}kN.exports=Tz();var Xv=kN.exports;const Pz=(...t)=>e=>{t.forEach(r=>{typeof r=="function"?r(e):r&&(r.current=e)})},Mz=({contentComponent:t})=>{const e=Xv.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return fe.createElement(fe.Fragment,null,Object.values(e))};function Az(){const t=new Set;let e={};return{subscribe(r){return t.add(r),()=>{t.delete(r)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(r,n){e={...e,[r]:I_.createPortal(n.reactElement,n.element,r)},t.forEach(s=>s())},removeRenderer(r){const n={...e};delete n[r],e=n,t.forEach(s=>s())}}}class Iz extends fe.Component{constructor(e){var r;super(e),this.editorContentRef=fe.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((r=e.editor)===null||r===void 0)&&r.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const r=this.editorContentRef.current;r.append(...e.options.element.childNodes),e.setOptions({element:r}),e.contentComponent=Az(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const r=document.createElement("div");r.append(...e.options.element.childNodes),e.setOptions({element:r})}render(){const{editor:e,innerRef:r,...n}=this.props;return fe.createElement(fe.Fragment,null,fe.createElement("div",{ref:Pz(r,this.editorContentRef),...n}),(e==null?void 0:e.contentComponent)&&fe.createElement(Mz,{contentComponent:e.contentComponent}))}}const Rz=C.forwardRef((t,e)=>{const r=fe.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return fe.createElement(Iz,{key:r,innerRef:e,...t})}),_N=fe.memo(Rz);var EN={exports:{}},Gm={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yw;function Dz(){if(Yw)return Gm;Yw=1;var t=fe,e=Xv;function r(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var n=typeof Object.is=="function"?Object.is:r,s=e.useSyncExternalStore,i=t.useRef,o=t.useEffect,a=t.useMemo,l=t.useDebugValue;return Gm.useSyncExternalStoreWithSelector=function(c,u,f,h,p){var m=i(null);if(m.current===null){var g={hasValue:!1,value:null};m.current=g}else g=m.current;m=a(function(){function v(N){if(!y){if(y=!0,b=N,N=h(N),p!==void 0&&g.hasValue){var T=g.value;if(p(T,N))return S=T}return S=N}if(T=S,n(b,N))return T;var w=h(N);return p!==void 0&&p(T,w)?T:(b=N,S=w)}var y=!1,b,S,O=f===void 0?null:f;return[function(){return v(u())},O===null?void 0:function(){return v(O())}]},[u,f,h,p]);var x=s(c,m[0],m[1]);return o(function(){g.hasValue=!0,g.value=x},[x]),l(x),x},Gm}EN.exports=Dz();var Lz=EN.exports;class Fz{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const r=()=>{this.transactionNumber+=1,this.subscribers.forEach(s=>s())},n=this.editor;return n.on("transaction",r),()=>{n.off("transaction",r)}}}}function $z(t){const[e]=C.useState(()=>new Fz(t.editor)),r=Lz.useSyncExternalStoreWithSelector(e.subscribe,e.getSnapshot,e.getServerSnapshot,t.selector,t.equalityFn);return C.useEffect(()=>e.watch(t.editor),[t.editor,e]),C.useDebugValue(r),r}const zz=!1,a0=typeof window>"u",Bz=a0||!!(typeof window<"u"&&window.next);class Vz{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(r=>r())}getInitialEditor(){if(this.options.current.immediatelyRender===void 0)return a0||Bz?null:this.createEditor();if(this.options.current.immediatelyRender&&a0&&zz)throw new Error("Tiptap Error: SSR has been detected, and `immediatelyRender` has been set to `true` this is an unsupported configuration that may result in errors, explicitly set `immediatelyRender` to `false` to avoid hydration mismatches.");return this.options.current.immediatelyRender?this.createEditor():null}createEditor(){const e={...this.options.current,onBeforeCreate:(...n)=>{var s,i;return(i=(s=this.options.current).onBeforeCreate)===null||i===void 0?void 0:i.call(s,...n)},onBlur:(...n)=>{var s,i;return(i=(s=this.options.current).onBlur)===null||i===void 0?void 0:i.call(s,...n)},onCreate:(...n)=>{var s,i;return(i=(s=this.options.current).onCreate)===null||i===void 0?void 0:i.call(s,...n)},onDestroy:(...n)=>{var s,i;return(i=(s=this.options.current).onDestroy)===null||i===void 0?void 0:i.call(s,...n)},onFocus:(...n)=>{var s,i;return(i=(s=this.options.current).onFocus)===null||i===void 0?void 0:i.call(s,...n)},onSelectionUpdate:(...n)=>{var s,i;return(i=(s=this.options.current).onSelectionUpdate)===null||i===void 0?void 0:i.call(s,...n)},onTransaction:(...n)=>{var s,i;return(i=(s=this.options.current).onTransaction)===null||i===void 0?void 0:i.call(s,...n)},onUpdate:(...n)=>{var s,i;return(i=(s=this.options.current).onUpdate)===null||i===void 0?void 0:i.call(s,...n)},onContentError:(...n)=>{var s,i;return(i=(s=this.options.current).onContentError)===null||i===void 0?void 0:i.call(s,...n)}};return new jz(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?this.editor.setOptions(this.options.current):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((n,s)=>n===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,r=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){r&&r.setOptions(this.options.current);return}r&&!r.isDestroyed&&(r.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function CN(t={},e=[]){const r=C.useRef(t);r.current=t;const[n]=C.useState(()=>new Vz(r)),s=Xv.useSyncExternalStore(n.subscribe,n.getEditor,n.getServerSnapshot);return C.useDebugValue(s),C.useEffect(n.onRender(e)),$z({editor:s,selector:({transactionNumber:i})=>t.shouldRerenderOnTransaction===!1?null:t.immediatelyRender&&i===0?0:i+1}),s}const Uz=C.createContext({editor:null});Uz.Consumer;const Hz=C.createContext({onDragStart:void 0}),qz=()=>C.useContext(Hz);fe.forwardRef((t,e)=>{const{onDragStart:r}=qz(),n=t.as||"div";return fe.createElement(n,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:r,style:{whiteSpace:"normal",...t.style}})});const Wz=/^\s*>\s$/,Kz=ar.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",Mt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Du({find:Wz,type:this.type})]}}),Jz=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Zz=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Qz=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Gz=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Yz=cs.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",Mt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Tl({find:Jz,type:this.type}),Tl({find:Qz,type:this.type})]},addPasteRules(){return[Pl({find:Zz,type:this.type}),Pl({find:Gz,type:this.type})]}}),Xz=ar.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Mt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Xw=cs.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",Mt(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const r=_p(t,this.type);return Object.entries(r).some(([,s])=>!!s)?!0:e.unsetMark(this.name)}}}}),eS=/^\s*([-+*])\s$/,e7=ar.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Mt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Xz.name,this.editor.getAttributes(Xw.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Du({find:eS,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Du({find:eS,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Xw.name),editor:this.editor})),[t]}}),t7=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))$/,r7=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))/g,n7=cs.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Mt(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Tl({find:t7,type:this.type})]},addPasteRules(){return[Pl({find:r7,type:this.type})]}}),s7=/^```([a-z]+)?[\s\n]$/,i7=/^~~~([a-z]+)?[\s\n]$/,o7=ar.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:r}=this.options,i=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(r)).map(o=>o.replace(r,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Mt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,r=e.pos===1;return!t||e.parent.type.name!==this.name?!1:r||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:r}=e,{$from:n,empty:s}=r;if(!s||n.parent.type!==this.type)return!1;const i=n.parentOffset===n.parent.nodeSize-2,o=n.parent.textContent.endsWith(`

`);return!i||!o?!1:t.chain().command(({tr:a})=>(a.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:r,doc:n}=e,{$from:s,empty:i}=r;if(!i||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const a=s.after();return a===void 0?!1:n.nodeAt(a)?t.commands.command(({tr:c})=>(c.setSelection(ke.near(n.resolve(a))),!0)):t.commands.exitCode()}}},addInputRules(){return[o0({find:s7,type:this.type,getAttributes:t=>({language:t[1]})}),o0({find:i7,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new gn({key:new Zi("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const r=e.clipboardData.getData("text/plain"),n=e.clipboardData.getData("vscode-editor-data"),s=n?JSON.parse(n):void 0,i=s==null?void 0:s.mode;if(!r||!i)return!1;const{tr:o,schema:a}=t.state,l=a.text(r.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:i},l)),o.selection.$from.parent.type!==this.type&&o.setSelection(we.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),a7=ar.create({name:"doc",topNode:!0,content:"block+"});function l7(t={}){return new gn({view(e){return new c7(e,t)}})}class c7{constructor(e,r){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=r.width)!==null&&n!==void 0?n:1,this.color=r.color===!1?void 0:r.color||"black",this.class=r.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let i=o=>{this[s](o)};return e.dom.addEventListener(s,i),{name:s,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:r})=>this.editorView.dom.removeEventListener(e,r))}update(e,r){this.cursorPos!=null&&r.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),r=!e.parent.inlineContent,n;if(r){let a=e.nodeBefore,l=e.nodeAfter;if(a||l){let c=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(c){let u=c.getBoundingClientRect(),f=a?u.bottom:u.top;a&&l&&(f=(f+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),n={left:u.left,right:u.right,top:f-this.width/2,bottom:f+this.width/2}}}}if(!n){let a=this.editorView.coordsAtPos(this.cursorPos);n={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let s=this.editorView.dom.offsetParent;this.element||(this.element=s.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r);let i,o;if(!s||s==document.body&&getComputedStyle(s).position=="static")i=-pageXOffset,o=-pageYOffset;else{let a=s.getBoundingClientRect();i=a.left-s.scrollLeft,o=a.top-s.scrollTop}this.element.style.left=n.left-i+"px",this.element.style.top=n.top-o+"px",this.element.style.width=n.right-n.left+"px",this.element.style.height=n.bottom-n.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let r=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=r&&r.inside>=0&&this.editorView.state.doc.nodeAt(r.inside),s=n&&n.type.spec.disableDropCursor,i=typeof s=="function"?s(this.editorView,r,e):s;if(r&&!i){let o=r.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=x2(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const u7=Jr.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[l7(this.options)]}});class gt extends ke{constructor(e){super(e,e)}map(e,r){let n=e.resolve(r.map(this.head));return gt.valid(n)?new gt(n):ke.near(n)}content(){return G.empty}eq(e){return e instanceof gt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new gt(e.resolve(r.pos))}getBookmark(){return new ex(this.anchor)}static valid(e){let r=e.parent;if(r.isTextblock||!d7(e)||!f7(e))return!1;let n=r.type.spec.allowGapCursor;if(n!=null)return n;let s=r.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,r,n=!1){e:for(;;){if(!n&&gt.valid(e))return e;let s=e.pos,i=null;for(let o=e.depth;;o--){let a=e.node(o);if(r>0?e.indexAfter(o)<a.childCount:e.index(o)>0){i=a.child(r>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;s+=r;let l=e.doc.resolve(s);if(gt.valid(l))return l}for(;;){let o=r>0?i.firstChild:i.lastChild;if(!o){if(i.isAtom&&!i.isText&&!pe.isSelectable(i)){e=e.doc.resolve(s+i.nodeSize*r),n=!1;continue e}break}i=o,s+=r;let a=e.doc.resolve(s);if(gt.valid(a))return a}return null}}}gt.prototype.visible=!1;gt.findFrom=gt.findGapCursorFrom;ke.jsonID("gapcursor",gt);class ex{constructor(e){this.pos=e}map(e){return new ex(e.map(this.pos))}resolve(e){let r=e.resolve(this.pos);return gt.valid(r)?new gt(r):ke.near(r)}}function d7(t){for(let e=t.depth;e>=0;e--){let r=t.index(e),n=t.node(e);if(r==0){if(n.type.spec.isolating)return!0;continue}for(let s=n.child(r-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function f7(t){for(let e=t.depth;e>=0;e--){let r=t.indexAfter(e),n=t.node(e);if(r==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let s=n.child(r);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function h7(){return new gn({props:{decorations:y7,createSelectionBetween(t,e,r){return e.pos==r.pos&&gt.valid(r)?new gt(r):null},handleClick:m7,handleKeyDown:p7,handleDOMEvents:{beforeinput:g7}}})}const p7=oN({ArrowLeft:tf("horiz",-1),ArrowRight:tf("horiz",1),ArrowUp:tf("vert",-1),ArrowDown:tf("vert",1)});function tf(t,e){const r=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(n,s,i){let o=n.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof we){if(!i.endOfTextblock(r)||a.depth==0)return!1;l=!1,a=n.doc.resolve(e>0?a.after():a.before())}let c=gt.findGapCursorFrom(a,e,l);return c?(s&&s(n.tr.setSelection(new gt(c))),!0):!1}}function m7(t,e,r){if(!t||!t.editable)return!1;let n=t.state.doc.resolve(e);if(!gt.valid(n))return!1;let s=t.posAtCoords({left:r.clientX,top:r.clientY});return s&&s.inside>-1&&pe.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new gt(n))),!0)}function g7(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof gt))return!1;let{$from:r}=t.state.selection,n=r.parent.contentMatchAt(r.index()).findWrapping(t.state.schema.nodes.text);if(!n)return!1;let s=$.empty;for(let o=n.length-1;o>=0;o--)s=$.from(n[o].createAndFill(null,s));let i=t.state.tr.replace(r.pos,r.pos,new G(s,0,0));return i.setSelection(we.near(i.doc.resolve(r.pos+1))),t.dispatch(i),!1}function y7(t){if(!(t.selection instanceof gt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Ot.create(t.doc,[cn.widget(t.selection.head,e,{key:"gapcursor"})])}const v7=Jr.create({name:"gapCursor",addProseMirrorPlugins(){return[h7()]},extendNodeSchema(t){var e;const r={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Oe(se(t,"allowGapCursor",r)))!==null&&e!==void 0?e:null}}}),x7=ar.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Mt(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:r,editor:n})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:i}=r;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=n.extensionManager,l=i||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&o){const f=l.filter(h=>a.includes(h.type.name));c.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),b7=ar.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Mt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>o0({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var Ih=200,Bt=function(){};Bt.prototype.append=function(e){return e.length?(e=Bt.from(e),!this.length&&e||e.length<Ih&&this.leafAppend(e)||this.length<Ih&&e.leafPrepend(this)||this.appendInner(e)):this};Bt.prototype.prepend=function(e){return e.length?Bt.from(e).append(this):this};Bt.prototype.appendInner=function(e){return new w7(this,e)};Bt.prototype.slice=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=this.length),e>=r?Bt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,r))};Bt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Bt.prototype.forEach=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(e,r,n,0):this.forEachInvertedInner(e,r,n,0)};Bt.prototype.map=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var s=[];return this.forEach(function(i,o){return s.push(e(i,o))},r,n),s};Bt.from=function(e){return e instanceof Bt?e:e&&e.length?new NN(e):Bt.empty};var NN=function(t){function e(n){t.call(this),this.values=n}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,i){return s==0&&i==this.length?this:new e(this.values.slice(s,i))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,i,o,a){for(var l=i;l<o;l++)if(s(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(s,i,o,a){for(var l=i-1;l>=o;l--)if(s(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=Ih)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=Ih)return new e(s.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e}(Bt);Bt.empty=new NN([]);var w7=function(t){function e(r,n){t.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,s,i,o){var a=this.left.length;if(s<a&&this.left.forEachInner(n,s,Math.min(i,a),o)===!1||i>a&&this.right.forEachInner(n,Math.max(s-a,0),Math.min(this.length,i)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(n,s,i,o){var a=this.left.length;if(s>a&&this.right.forEachInvertedInner(n,s-a,Math.max(i,a)-a,o+a)===!1||i<a&&this.left.forEachInvertedInner(n,Math.min(s,a),i,o)===!1)return!1},e.prototype.sliceInner=function(n,s){if(n==0&&s==this.length)return this;var i=this.left.length;return s<=i?this.left.slice(n,s):n>=i?this.right.slice(n-i,s-i):this.left.slice(n,i).append(this.right.slice(0,s-i))},e.prototype.leafAppend=function(n){var s=this.right.leafAppend(n);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(n){var s=this.left.leafPrepend(n);if(s)return new e(s,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e}(Bt);const S7=500;class Mn{constructor(e,r){this.items=e,this.eventCount=r}popEvent(e,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let s,i;r&&(s=this.remapping(n,this.items.length),i=s.maps.length);let o=e.tr,a,l,c=[],u=[];return this.items.forEach((f,h)=>{if(!f.step){s||(s=this.remapping(n,h+1),i=s.maps.length),i--,u.push(f);return}if(s){u.push(new Hn(f.map));let p=f.step.map(s.slice(i)),m;p&&o.maybeStep(p).doc&&(m=o.mapping.maps[o.mapping.maps.length-1],c.push(new Hn(m,void 0,void 0,c.length+u.length))),i--,m&&s.appendMap(m,i)}else o.maybeStep(f.step);if(f.selection)return a=s?f.selection.map(s.slice(i)):f.selection,l=new Mn(this.items.slice(0,n).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,r,n,s){let i=[],o=this.eventCount,a=this.items,l=!s&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let f=e.steps[u].invert(e.docs[u]),h=new Hn(e.mapping.maps[u],f,r),p;(p=l&&l.merge(h))&&(h=p,u?i.pop():a=a.slice(0,a.length-1)),i.push(h),r&&(o++,r=void 0),s||(l=h)}let c=o-n.depth;return c>_7&&(a=k7(a,c),o-=c),new Mn(a.append(i),o)}remapping(e,r){let n=new qa;return this.items.forEach((s,i)=>{let o=s.mirrorOffset!=null&&i-s.mirrorOffset>=e?n.maps.length-s.mirrorOffset:void 0;n.appendMap(s.map,o)},e,r),n}addMaps(e){return this.eventCount==0?this:new Mn(this.items.append(e.map(r=>new Hn(r))),this.eventCount)}rebased(e,r){if(!this.eventCount)return this;let n=[],s=Math.max(0,this.items.length-r),i=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(h=>{h.selection&&a--},s);let l=r;this.items.forEach(h=>{let p=i.getMirror(--l);if(p==null)return;o=Math.min(o,p);let m=i.maps[p];if(h.step){let g=e.steps[p].invert(e.docs[p]),x=h.selection&&h.selection.map(i.slice(l+1,p));x&&a++,n.push(new Hn(m,g,x))}else n.push(new Hn(m))},s);let c=[];for(let h=r;h<o;h++)c.push(new Hn(i.maps[h]));let u=this.items.slice(0,s).append(c).append(n),f=new Mn(u,a);return f.emptyItemCount()>S7&&(f=f.compress(this.items.length-n.length)),f}emptyItemCount(){let e=0;return this.items.forEach(r=>{r.step||e++}),e}compress(e=this.items.length){let r=this.remapping(0,e),n=r.maps.length,s=[],i=0;return this.items.forEach((o,a)=>{if(a>=e)s.push(o),o.selection&&i++;else if(o.step){let l=o.step.map(r.slice(n)),c=l&&l.getMap();if(n--,c&&r.appendMap(c,n),l){let u=o.selection&&o.selection.map(r.slice(n));u&&i++;let f=new Hn(c.invert(),l,u),h,p=s.length-1;(h=s.length&&s[p].merge(f))?s[p]=h:s.push(f)}}else o.map&&n--},this.items.length,0),new Mn(Bt.from(s.reverse()),i)}}Mn.empty=new Mn(Bt.empty,0);function k7(t,e){let r;return t.forEach((n,s)=>{if(n.selection&&e--==0)return r=s,!1}),t.slice(r)}class Hn{constructor(e,r,n,s){this.map=e,this.step=r,this.selection=n,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let r=e.step.merge(this.step);if(r)return new Hn(r.getMap().invert(),r,this.selection)}}}class ni{constructor(e,r,n,s,i){this.done=e,this.undone=r,this.prevRanges=n,this.prevTime=s,this.prevComposition=i}}const _7=20;function E7(t,e,r,n){let s=r.getMeta(Io),i;if(s)return s.historyState;r.getMeta(j7)&&(t=new ni(t.done,t.undone,null,0,-1));let o=r.getMeta("appendedTransaction");if(r.steps.length==0)return t;if(o&&o.getMeta(Io))return o.getMeta(Io).redo?new ni(t.done.addTransform(r,void 0,n,Cf(e)),t.undone,tS(r.mapping.maps),t.prevTime,t.prevComposition):new ni(t.done,t.undone.addTransform(r,void 0,n,Cf(e)),null,t.prevTime,t.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=r.getMeta("composition"),l=t.prevTime==0||!o&&t.prevComposition!=a&&(t.prevTime<(r.time||0)-n.newGroupDelay||!C7(r,t.prevRanges)),c=o?Ym(t.prevRanges,r.mapping):tS(r.mapping.maps);return new ni(t.done.addTransform(r,l?e.selection.getBookmark():void 0,n,Cf(e)),Mn.empty,c,r.time,a??t.prevComposition)}else return(i=r.getMeta("rebased"))?new ni(t.done.rebased(r,i),t.undone.rebased(r,i),Ym(t.prevRanges,r.mapping),t.prevTime,t.prevComposition):new ni(t.done.addMaps(r.mapping.maps),t.undone.addMaps(r.mapping.maps),Ym(t.prevRanges,r.mapping),t.prevTime,t.prevComposition)}function C7(t,e){if(!e)return!1;if(!t.docChanged)return!0;let r=!1;return t.mapping.maps[0].forEach((n,s)=>{for(let i=0;i<e.length;i+=2)n<=e[i+1]&&s>=e[i]&&(r=!0)}),r}function tS(t){let e=[];for(let r=t.length-1;r>=0&&e.length==0;r--)t[r].forEach((n,s,i,o)=>e.push(i,o));return e}function Ym(t,e){if(!t)return null;let r=[];for(let n=0;n<t.length;n+=2){let s=e.map(t[n],1),i=e.map(t[n+1],-1);s<=i&&r.push(s,i)}return r}function N7(t,e,r){let n=Cf(e),s=Io.get(e).spec.config,i=(r?t.undone:t.done).popEvent(e,n);if(!i)return null;let o=i.selection.resolve(i.transform.doc),a=(r?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),s,n),l=new ni(r?a:i.remaining,r?i.remaining:a,null,0,-1);return i.transform.setSelection(o).setMeta(Io,{redo:r,historyState:l})}let Xm=!1,rS=null;function Cf(t){let e=t.plugins;if(rS!=e){Xm=!1,rS=e;for(let r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){Xm=!0;break}}return Xm}const Io=new Zi("history"),j7=new Zi("closeHistory");function O7(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new gn({key:Io,state:{init(){return new ni(Mn.empty,Mn.empty,null,0,-1)},apply(e,r,n){return E7(r,n,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,r){let n=r.inputType,s=n=="historyUndo"?ON:n=="historyRedo"?TN:null;return s?(r.preventDefault(),s(e.state,e.dispatch)):!1}}}})}function jN(t,e){return(r,n)=>{let s=Io.getState(r);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(n){let i=N7(s,r,t);i&&n(e?i.scrollIntoView():i)}return!0}}const ON=jN(!1,!0),TN=jN(!0,!0),T7=Jr.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>ON(t,e),redo:()=>({state:t,dispatch:e})=>TN(t,e)}},addProseMirrorPlugins(){return[O7(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),P7=ar.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Mt(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{selection:r}=e,{$from:n,$to:s}=r,i=t();return n.parentOffset===0?i.insertContentAt({from:Math.max(n.pos-1,0),to:s.pos},{type:this.name}):ez(r)?i.insertContentAt(s.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({tr:o,dispatch:a})=>{var l;if(a){const{$to:c}=o.selection,u=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?o.setSelection(we.create(o.doc,c.pos+1)):c.nodeAfter.isBlock?o.setSelection(pe.create(o.doc,c.pos)):o.setSelection(we.create(o.doc,c.pos));else{const f=(l=c.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();f&&(o.insert(u,f),o.setSelection(we.create(o.doc,u+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Oz({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),M7=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,A7=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,I7=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,R7=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,D7=cs.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Mt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Tl({find:M7,type:this.type}),Tl({find:I7,type:this.type})]},addPasteRules(){return[Pl({find:A7,type:this.type}),Pl({find:R7,type:this.type})]}}),L7=ar.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Mt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),F7=ar.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Mt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),nS=cs.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",Mt(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const r=_p(t,this.type);return Object.entries(r).some(([,s])=>!!s)?!0:e.unsetMark(this.name)}}}}),sS=/^(\d+)\.\s$/,$7=ar.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...r}=t;return e===1?["ol",Mt(this.options.HTMLAttributes,r),0]:["ol",Mt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(F7.name,this.editor.getAttributes(nS.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Du({find:sS,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Du({find:sS,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(nS.name)}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1],editor:this.editor})),[t]}}),z7=ar.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Mt(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),B7=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,V7=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,U7=cs.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Mt(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Tl({find:B7,type:this.type})]},addPasteRules(){return[Pl({find:V7,type:this.type})]}}),H7=ar.create({name:"text",group:"inline"}),PN=Jr.create({name:"starterKit",addExtensions(){var t,e,r,n,s,i,o,a,l,c,u,f,h,p,m,g,x,v;const y=[];return this.options.bold!==!1&&y.push(Yz.configure((t=this.options)===null||t===void 0?void 0:t.bold)),this.options.blockquote!==!1&&y.push(Kz.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bulletList!==!1&&y.push(e7.configure((r=this.options)===null||r===void 0?void 0:r.bulletList)),this.options.code!==!1&&y.push(n7.configure((n=this.options)===null||n===void 0?void 0:n.code)),this.options.codeBlock!==!1&&y.push(o7.configure((s=this.options)===null||s===void 0?void 0:s.codeBlock)),this.options.document!==!1&&y.push(a7.configure((i=this.options)===null||i===void 0?void 0:i.document)),this.options.dropcursor!==!1&&y.push(u7.configure((o=this.options)===null||o===void 0?void 0:o.dropcursor)),this.options.gapcursor!==!1&&y.push(v7.configure((a=this.options)===null||a===void 0?void 0:a.gapcursor)),this.options.hardBreak!==!1&&y.push(x7.configure((l=this.options)===null||l===void 0?void 0:l.hardBreak)),this.options.heading!==!1&&y.push(b7.configure((c=this.options)===null||c===void 0?void 0:c.heading)),this.options.history!==!1&&y.push(T7.configure((u=this.options)===null||u===void 0?void 0:u.history)),this.options.horizontalRule!==!1&&y.push(P7.configure((f=this.options)===null||f===void 0?void 0:f.horizontalRule)),this.options.italic!==!1&&y.push(D7.configure((h=this.options)===null||h===void 0?void 0:h.italic)),this.options.listItem!==!1&&y.push(L7.configure((p=this.options)===null||p===void 0?void 0:p.listItem)),this.options.orderedList!==!1&&y.push($7.configure((m=this.options)===null||m===void 0?void 0:m.orderedList)),this.options.paragraph!==!1&&y.push(z7.configure((g=this.options)===null||g===void 0?void 0:g.paragraph)),this.options.strike!==!1&&y.push(U7.configure((x=this.options)===null||x===void 0?void 0:x.strike)),this.options.text!==!1&&y.push(H7.configure((v=this.options)===null||v===void 0?void 0:v.text)),y}}),q7=({editor:t})=>{const e=r=>`w-8 h-7 grid place-items-center  border text-sm rounded transition-all ${r?"border-blue-500 bg-blue-100 text-blue-700":"border-gray-300 bg-white text-gray-600 hover:bg-gray-100"}`;return t?d.jsxs("div",{className:"flex flex-wrap gap-3",children:[d.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),className:e(t.isActive("heading",{level:1})),type:"button",children:"H1"}),d.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:e(t.isActive("heading",{level:2})),type:"button",children:"H2"}),d.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),className:e(t.isActive("heading",{level:3})),type:"button",children:"H3"}),d.jsx("button",{onClick:()=>t.chain().focus().toggleBold().run(),className:e(t.isActive("bold")),type:"button",children:"N"}),d.jsx("button",{onClick:()=>t.chain().focus().toggleItalic().run(),className:e(t.isActive("italic")),type:"button",children:"K"}),d.jsx("button",{onClick:()=>t.chain().focus().toggleStrike().run(),className:e(t.isActive("strike")),type:"button",children:"S"})]}):null},W7=({setValue:t,errors:e,initialContent:r})=>{const n=CN({extensions:[PN],content:r||"",onUpdate:({editor:s})=>{const i=s.getJSON();t("description",i,{shouldValidate:!0})},editorProps:{attributes:{class:"focus:outline-none min-h-[150px] prose prose-sm sm:prose-base"}}});return C.useEffect(()=>{r&&n&&n.commands.setContent(r)},[r,n]),d.jsxs("div",{className:"space-y-3",children:[d.jsx(q7,{editor:n}),d.jsx(_N,{editor:n}),e.description&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:e.description.message||"Debe escribir una descripcin"})]})},MN=({titleForm:t})=>{const{register:e,handleSubmit:r,formState:{errors:n},setValue:s,watch:i,control:o}=Av({resolver:Iv(j6)}),{slug:a}=Zu(),{product:l,isLoading:c}=xC(a||""),{mutate:u,isPending:f}=g5(),{mutate:h,isPending:p}=v5((l==null?void 0:l.id)||""),m=Ut();C.useEffect(()=>{l&&!c&&(s("name",l.name),s("slug",l.slug),s("brand",l.brand),s("description",l.description),s("images",l.images),s("variants",l.variants.map(v=>({id:v.id,stock:v.stock,price:v.price,type:v.type,target:v.target,kg:v.kg}))))},[l,c,s]);const g=r(v=>{a?h({name:rt(v.name),brand:rt(v.brand),slug:rt(v.slug),variants:v.variants,images:v.images,description:v.description}):u({name:rt(v.name),brand:rt(v.brand),slug:rt(v.slug),variants:v.variants,images:v.images,description:v.description})}),x=i("name");return C.useEffect(()=>{if(!x)return;const v=AA(x);s("slug",v,{shouldValidate:!0})},[x,s]),f||p||c?d.jsx(Sr,{}):d.jsxs("div",{className:"flex flex-col gap-6 relative",children:[d.jsx("div",{className:"flex justify-between items-center",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{className:"bg-white p-1.5 rounded-md shadow-sm border border-slate-200 transition-all group hover:scale-105",onClick:()=>m(-1),children:d.jsx(A5,{size:18,className:"transition-all group-hover:scale-125"})}),d.jsx("h2",{className:"font-bold tracking-tight text-2xl capitalize",children:t})]})}),d.jsxs("form",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 auto-rows-max flex-1",onSubmit:g,children:[d.jsx(lc,{titleSection:"Detalles del Producto",className:"lg:col-span-2 lg:row-span-2",children:d.jsx(Mm,{type:"text",label:"nombre",name:"name",register:e,errors:n,required:!0})}),d.jsxs(lc,{children:[d.jsx(Mm,{type:"text",label:"Slug",name:"slug",register:e,errors:n}),d.jsx(Mm,{type:"text",label:"Marca",name:"brand",register:e,errors:n,required:!0})]}),d.jsx(lc,{titleSection:"Variantes del Producto",className:"lg:col-span-2 h-fit",children:d.jsx(T6,{control:o,errors:n,register:e})}),d.jsx(lc,{titleSection:"Imgenes del producto",children:d.jsx(P6,{errors:n,setValue:s,watch:i})}),d.jsx(lc,{titleSection:"Descripcin del producto",className:"col-span-full",children:d.jsx(W7,{setValue:s,errors:n,initialContent:l==null?void 0:l.description})}),d.jsxs("div",{className:"flex gap-3 absolute top-0 right-0",children:[d.jsx("button",{className:"btn-secondary bg-black rounded-md text-white hover:bg-red-500",type:"button",onClick:()=>m(-1),children:"Cancelar"}),d.jsx("button",{className:"btn-primary hover:bg-cyan-600",type:"submit",children:"Guardar Producto"})]})]})]})};var K7=t=>typeof t=="function",iS=(t,e)=>K7(t)?t(e):t,J7=(()=>{let t=0;return()=>(++t).toString()})(),Z7=20,Nf=new Map,Q7=1e3,oS=t=>{if(Nf.has(t))return;let e=setTimeout(()=>{Nf.delete(t),Ep({type:4,toastId:t})},Q7);Nf.set(t,e)},G7=t=>{let e=Nf.get(t);e&&clearTimeout(e)},l0=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,Z7)};case 1:return e.toast.id&&G7(e.toast.id),{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:r}=e;return t.toasts.find(i=>i.id===r.id)?l0(t,{type:1,toast:r}):l0(t,{type:0,toast:r});case 3:let{toastId:n}=e;return n?oS(n):t.toasts.forEach(i=>{oS(i.id)}),{...t,toasts:t.toasts.map(i=>i.id===n||n===void 0?{...i,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},Y7=[],eg={toasts:[],pausedAt:void 0},Ep=t=>{eg=l0(eg,t),Y7.forEach(e=>{e(eg)})},X7=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||J7()}),ld=t=>(e,r)=>{let n=X7(e,t,r);return Ep({type:2,toast:n}),n.id},nr=(t,e)=>ld("blank")(t,e);nr.error=ld("error");nr.success=ld("success");nr.loading=ld("loading");nr.custom=ld("custom");nr.dismiss=t=>{Ep({type:3,toastId:t})};nr.remove=t=>Ep({type:4,toastId:t});nr.promise=(t,e,r)=>{let n=nr.loading(e.loading,{...r,...r==null?void 0:r.loading});return t.then(s=>(nr.success(iS(e.success,s),{id:n,...r,...r==null?void 0:r.success}),s)).catch(s=>{nr.error(iS(e.error,s),{id:n,...r,...r==null?void 0:r.error})}),t};function eB(t){return De({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M1 1.91L1.78 1.5L15 7.44899V8.3999L1.78 14.33L1 13.91L2.58311 8L1 1.91ZM3.6118 8.5L2.33037 13.1295L13.5 7.8999L2.33037 2.83859L3.6118 7.43874L9 7.5V8.5H3.6118Z"},child:[]}]})(t)}function tB(t){return De({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M212.48,136.49l-82.06,82a60,60,0,0,1-84.85-84.88l98.16-97.89a40,40,0,0,1,56.56,56.59l-.17.16-95.8,92.22a12,12,0,1,1-16.64-17.3l95.71-92.12a16,16,0,0,0-22.7-22.56L62.53,150.57a36,36,0,0,0,50.93,50.91l82.06-82a12,12,0,0,1,17,17Z"},child:[]}]})(t)}const Ht=[];for(let t=0;t<256;++t)Ht.push((t+256).toString(16).slice(1));function rB(t,e=0){return(Ht[t[e+0]]+Ht[t[e+1]]+Ht[t[e+2]]+Ht[t[e+3]]+"-"+Ht[t[e+4]]+Ht[t[e+5]]+"-"+Ht[t[e+6]]+Ht[t[e+7]]+"-"+Ht[t[e+8]]+Ht[t[e+9]]+"-"+Ht[t[e+10]]+Ht[t[e+11]]+Ht[t[e+12]]+Ht[t[e+13]]+Ht[t[e+14]]+Ht[t[e+15]]).toLowerCase()}let tg;const nB=new Uint8Array(16);function sB(){if(!tg){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");tg=crypto.getRandomValues.bind(crypto)}return tg(nB)}const iB=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),aS={randomUUID:iB};function oB(t,e,r){var s;if(aS.randomUUID&&!e&&!t)return aS.randomUUID();t=t||{};const n=t.random??((s=t.rng)==null?void 0:s.call(t))??sB();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,rB(n)}const aB=({clientes:t})=>{const[e,r]=C.useState(0),[n,s]=C.useState(""),[i,o]=C.useState(!1),[a,l]=C.useState(!1),[c,u]=C.useState([]),[f,h]=C.useState(!1),[p,m]=C.useState([]),g=p.length,x=P=>{if(P.length===1)return`${P[0].nombre}.`;{let R="";for(let L=0;L<P.length;L++)L===0?R+=P[L].nombre:L===P.length-1?R+=" y "+P[L].nombre+".":R+=", "+P[L].nombre;return R}},v={id:oB(),message:n,senderName:"Baalak Veterinaria",timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),avatarUrl:"/img/Baalak-logo-banner-small.png",isOwnMessage:!0,editable:!0},y=({id:P,message:R,senderName:L,timestamp:q,avatarUrl:te,isOwnMessage:de,editable:ge})=>{const Me=de?"justify-end":"justify-start",B=de?"bg-green-900":"bg-gray-800",K=de?"flex-row-reverse":"flex-row";return d.jsx("div",{className:`flex ${Me}`,children:d.jsxs("div",{className:`flex ${K} items-start gap-2 max-w-md`,children:[te&&d.jsx("img",{src:te,alt:L,className:"w-8 h-8 rounded-full object-cover"}),d.jsxs("div",{children:[d.jsxs("p",{className:"text-xs text-gray-400 text-pretty",children:[L,"  ",q]}),d.jsx("p",{className:`text-white text-sm ${B} rounded-md p-2 mt-1 text-pretty`,children:R})]}),ge&&d.jsx("span",{className:"cursor-pointer text-xl text-red-500",onClick:()=>T(P),children:""})]})})},b=P=>{if(!P||P.length===0)return;const R=new FormData;for(let L=0;L<P.length;L++)R.append("files",P[L]);h(!0),fetch("http://veterinariabaalak.com/upload",{method:"POST",body:R}).then(L=>L.json()).then(L=>{if(L.err)nr.error("Error en la respuesta del servidor",{position:"bottom-right"});else{const q=L.statusText.map(te=>{const de=te.split(".").pop()||"",[ge,Me]=S(de);return{filename:te,filetype:de,icon:ge,color:Me}});m(te=>[...te,...q.filter(de=>!te.find(ge=>ge.filename===de.filename))]),nr.success("Archivos subidos correctamente",{position:"bottom-right"})}}).catch(()=>{nr.error("Error al subir los archivos",{position:"bottom-right"})}).finally(()=>h(!1))},S=P=>{switch(P){case"xlsx":case"xls":case"xlsm":return["fa fa-file-excel-o","green"];case"zip":case"rar":case"7zip":return["fa fa-file-archive-o","orange"];case"doc":case"docx":return["fa fa-file-word-o","blue"];case"pptx":return["fa fa-file-powerpoint-o","red"];case"mp3":case"wav":case"m4a":return["fa fa-file-sound-o","blue"];case"mp4":case"mov":case"avi":case"wmv":case"flv":case"3gp":return["fa fa-file-video-o","blue"];case"png":case"jpg":case"ico":case"gif":case"jpeg":case"svg":return["fa fa-file-picture-o","black"];case"pdf":return["fa fa-file-pdf-o","red"];case"css":case"html":case"cs":return["fa fa-file-code-o","black"];case"txt":return["fa fa-file-text-o","blue"];default:return["fa fa-file","black"]}},O=P=>{fetch(`http://veterinariabaalak.com/delete/${P}`,{method:"DELETE"}).then(R=>R.json()).then(R=>{R.err?nr.error(`Error al eliminar el archivo: ${R.err}`,{position:"bottom-right"}):m(L=>L.filter(q=>q.filename!==P))}).catch(()=>{nr.error("Error al eliminar el archivo",{position:"bottom-right"})})},N=P=>{P.key==="Enter"&&!P.shiftKey&&(P.preventDefault(),v.message=n,n.trim()===""?nr.error("Por favor, escribe un mensaje antes de enviar.",{position:"bottom-right"}):(u(R=>[...R,v]),s(""),l(!1)))},T=P=>{u(R=>R.filter(L=>L.id!==P))},w=async P=>{P.preventDefault(),i?t.filter(L=>L.status===!1).slice(0,5).map(L=>c.map(q=>(L.mensaje.push(q.message),M(L)))):c.map(R=>(t[e].mensaje.push(R.message),M(t[e])))},M=P=>{P.status=!0};return d.jsx("div",{className:"flex flex-col gap-3 relative h-screen",children:t.length>0?d.jsx("form",{onSubmit:w,children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 auto-rows-max bg-white w-full p-3 shadow-sm rounded-md flex flex-col lg:col-span-2",children:[d.jsxs("div",{className:"p-3 h-fit lg:col-span-5 rounded-md flex justify-between items-center px-4 py-2 bg-gray-100 border-b border-gray-300 shadow-sm select-none",children:[d.jsx("h2",{className:"font-bold tracking-tight text-xl",children:"Contactos"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsxs("label",{className:"hover:bg-gray-300 justify-between px-2 text-sm w-fit flex rounded-md p-1 transition-all group hover:scale-105",children:[d.jsx("input",{className:"cursor-pointer mr-2",type:"checkbox",onChange:()=>o(!i)}),"Enviar mensajes de 5 en 5"]}),d.jsx("span",{className:"text-sm text-gray-800 py-1 font-medium",children:"Mensajes enviados:"}),d.jsx("span",{className:"text-sm text-cyan-600 py-1 font-medium",children:` (Enviados ${t.filter(P=>P.status===!0).length})`}),d.jsx("span",{className:"text-sm text-red-500 py-1 font-medium",children:` (No enviados ${t.filter(P=>P.status===!1).length})`})]})]}),d.jsx("div",{className:"bg-white shadow-sm rounded-md flex flex-col h-screen lg:col-span-2",children:d.jsx("div",{className:"overflow-y-auto max-h-screen w-full max-w-md mx-auto h-full bg-gray-900 border border-grey-900 rounded-lg shadow-sm",children:t.map((P,R)=>d.jsxs("div",{onClick:()=>r(R),className:"flex items-center px-2 py-3 cursor-pointer hover:bg-gray-800 transition focus:bg-cyan-600",children:[d.jsx("img",{src:"/img/user.png",alt:P.nombre,className:"w-12 h-12 rounded-full mr-4"}),d.jsxs("div",{className:"flex-1 border-b pb-2",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"font-medium text-white",children:P.nombre}),d.jsx("span",{className:"text-sm text-white",children:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),d.jsx("div",{className:"flex justify-between items-center",children:P.status&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-sm text-gray-400 truncate w-48",children:P.mensaje[P.mensaje.length-1]}),d.jsx("span",{className:"ml-2 text-white text-xs font-bold px-2 py-0.5 rounded-full",style:{color:"#34B7F1"},children:""})]})})]})]},R))})}),d.jsxs("div",{className:"w-full rounded-md text-white bg-gray-800 h-fit lg:col-span-3",children:[d.jsxs("div",{className:"rounded-md flex gap-3 items-center justify-between bg-gray-900 w-full p-2",children:[d.jsx("img",{className:"size-7 rounded-full bg-gray-800 text-gray-700",src:"/img/user.png",alt:"User"}),d.jsxs("div",{className:"flex flex-col bg-gray-900 w-full",children:[d.jsx("p",{className:"text-white w-full rounded-md",children:t[e].nombre}),d.jsx("p",{className:"text-gray-400 italic text-sm rounded-md",children:t[e].telefono})]}),d.jsxs("p",{className:"text-gray-400 w-full items-start text-pretty md:text-balance text-sm rounded-md",children:["Mascotas: ",x(t[e].mascotas)]})]}),d.jsxs("div",{className:"relative rounded-md flex flex-col bg-gray-800 gap-2 right-0 p-5 h-fit",children:[t[e].mensaje.map((P,R)=>d.jsx(y,{id:v.id,message:P,senderName:v.senderName,timestamp:v.timestamp,avatarUrl:v.avatarUrl,isOwnMessage:v.isOwnMessage,editable:!1},R)),a&&d.jsx("div",{className:"absolute bottom-0 left-0 bg-gray-900 p-2 rounded-md w-max h-fit",children:d.jsxs("div",{children:[d.jsx("div",{className:"wrapper",children:d.jsxs("div",{className:"box",children:[d.jsxs("div",{className:"uploadbox",children:[d.jsx("input",{type:"file",id:"upload",hidden:!0,multiple:!0,onChange:P=>b(P.target.files)}),d.jsxs("label",{htmlFor:"upload",className:"flex flex-row items-center justify-start cursor-pointer",children:[d.jsx("span",{className:"mr-2",children:d.jsx("i",{className:"fa fa-cloud-upload"})}),d.jsx("p",{className:"text-sm",children:"Click para subir archivos"})]})]}),d.jsx("div",{id:"filewrapper",className:"flex flex-col gap-1 mt-4",children:p.map(P=>d.jsxs("div",{className:"showfilebox flex justify-between items-center border p-2 rounded",children:[d.jsxs("div",{className:"left flex items-center gap-2",children:[d.jsx("a",{href:`/media/${P.filename}`,target:"_blank",rel:"noopener noreferrer",children:d.jsx("i",{className:P.icon,style:{color:P.color}})}),d.jsx("h5",{className:"text-xs",children:P.filename})]}),d.jsx("div",{className:"right",children:d.jsx("span",{className:"cursor-pointer text-xl text-red-500",onClick:()=>O(P.filename),children:""})})]},P.filename))})]})}),f&&d.jsx("div",{className:"loader",children:d.jsx(Sr,{})})]})}),c&&c.map((P,R)=>d.jsx(y,{id:P.id,message:P.message,senderName:P.senderName,timestamp:P.timestamp,avatarUrl:P.avatarUrl,isOwnMessage:P.isOwnMessage,editable:P.editable},R))]}),d.jsx("hr",{className:"border-black w-full rounded-md"}),d.jsxs("div",{className:"flex items-center rounded-md justify-between bg-gray-900 w-full p-2",children:[d.jsxs("div",{className:"relative inline-block",children:[d.jsx("button",{className:"hover:bg-gray-800 rounded-md p-1 transition-all group hover:scale-105",type:"button",onClick:()=>{l(!a)},children:d.jsx(tB,{className:"hover:bg-gray-800 text-gray-400 rounded-md shadow-sm transition-all group hover:scale-105"})}),g>0&&d.jsx("span",{className:"absolute -top-3 -left-3 text-white-600 text-xs px-2 py-1 rounded-full",children:g>99?"99+":g})]}),d.jsx("textarea",{className:"min-h-[15px] text-gray-400 items-center text-sm w-full flex bg-gray-900 hover:bg-gray-800 rounded-md p-1 transition-all",value:n,placeholder:"Escribe un mensaje opcional...",onChange:P=>{s(P.target.value)},onKeyDown:N,autoComplete:"on",autoCorrect:"on",style:{resize:"none",height:"28px"}}),d.jsx("button",{className:"hover:bg-gray-800 rounded-md p-1 shadow-sm transition-all group hover:scale-105",type:"submit",children:d.jsx(eB,{className:"hover:bg-gray-800 text-gray-400 rounded-md shadow-sm transition-all group hover:scale-105"})})]})]})]})}):d.jsx("div",{className:"flex gap-3 items-center justify-center h-full",children:d.jsx("p",{className:"text-gray-600",children:"No tienes envos de mensajes pendientes."})})})},lB=()=>{const t=Ut(),{isLoading:e,session:r}=ra(),[n,s]=C.useState(!0);return C.useEffect(()=>{(async()=>{var l;s(!0);const o=await QE();o||t("/login"),await GE((l=o.session)==null?void 0:l.user.id)!=="admin"&&t("/",{replace:!0}),s(!1)})(),he.auth.onAuthStateChange(async(o,a)=>{(o==="SIGNED_OUT"||!a)&&t("/login",{replace:!0})})},[t]),e||!r||n?d.jsx(Sr,{}):d.jsxs("div",{className:"flex bg-gray-100 min-h-screen font-montserrat",children:[d.jsx(W5,{}),d.jsx("main",{className:"container m-5 mt-7 flex-1 text-slate-800 ml-[140px] lg:ml-[270px]",children:d.jsx(uv,{})})]})},cB=[{image:"/img/brands/HPM-logo.png",alt:"HPM"},{image:"/img/brands/RoyalCanin-logo.png",alt:"RoyalCanin"},{image:"/img/brands/Proplan-logo.png",alt:"Proplan"},{image:"/img/brands/Hills-logo.png",alt:"Hills"},{image:"/img/brands/Excellent-logo.png",alt:"Excellent"}],uB=()=>d.jsxs("div",{className:"w-full flex flex-col items-center justify-between gap-1 pt-10 pb-10 bg-gray-950 rounded-lg",children:[d.jsx("h2",{className:"font-bold text-2xl text-white gap-3",children:"Marcas disponibles"}),d.jsx("p",{className:"w-2/3 text-center text-sm md:text-base justify-between text-white",children:"Tenemos lo mejor en productos para el cuidado de tus mascotas."}),d.jsx("div",{className:"grid grid-cols-2 gap-3 mt-4 items-center md:grid-cols-2 bg-gray-950 p-1 rounded-lg",children:cB.map((t,e)=>d.jsx("div",{children:d.jsx("img",{src:t.image,alt:t.alt})},e))})]});function dB(t){return De({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M0.949988 4.48455C0.949988 5.34059 1.64395 6.03455 2.49999 6.03455C3.35603 6.03455 4.04999 5.34059 4.04999 4.48455C4.04999 3.6285 3.35603 2.93455 2.49999 2.93455C1.64395 2.93455 0.949988 3.6285 0.949988 4.48455ZM2.49999 6.93455C1.14689 6.93455 0.0499878 5.83764 0.0499878 4.48455C0.0499878 3.13145 1.14689 2.03455 2.49999 2.03455C3.85309 2.03455 4.94999 3.13145 4.94999 4.48455C4.94999 4.80813 4.88726 5.11707 4.77329 5.39985L5.73655 6.04413C5.72943 6.06656 5.72269 6.08914 5.71635 6.11188L5.56288 6.66186L5.21005 6.89773L4.21554 6.23366C3.77357 6.6672 3.168 6.93455 2.49999 6.93455ZM0.949991 10.5C0.949991 9.64394 1.64395 8.94998 2.49999 8.94998C3.35603 8.94998 4.04999 9.64394 4.04999 10.5C4.04999 11.356 3.35603 12.05 2.49999 12.05C1.64395 12.05 0.949991 11.356 0.949991 10.5ZM2.49999 8.04998C1.14689 8.04998 0.0499908 9.14688 0.0499908 10.5C0.0499908 11.8531 1.14689 12.95 2.49999 12.95C3.85309 12.95 4.94999 11.8531 4.94999 10.5C4.94999 10.1803 4.88877 9.87497 4.77743 9.595L15 2.75737L14.0486 2.85737C12.7077 2.9983 11.4091 3.40895 10.231 4.06461L7.15646 5.77564C6.92307 5.90553 6.75134 6.12339 6.67955 6.38066L6.42653 7.28737L4.22437 8.75957C3.78166 8.32091 3.17246 8.04998 2.49999 8.04998ZM7.14435 9.2149L7.15646 9.22176L10.231 10.9328C11.4091 11.5884 12.7077 11.9991 14.0486 12.14L15 12.24L8.81072 8.1003L7.14435 9.2149Z",fill:"currentColor"},child:[]}]})(t)}function fB(t){return De({tag:"svg",attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M14.33 8l-1.876-4.377-3.438 9.783-4.015-13.11-2.37 7.704h-2.631v1h3.369l1.63-5.296 3.95 12.903 3.597-10.23 1.124 2.623h3.33v-1z"},child:[]}]})(t)}function hB(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7 13c1.66 0 3-1.34 3-3S8.66 7 7 7s-3 1.34-3 3 1.34 3 3 3zm12-6h-8v7H3V5H1v15h2v-3h18v3h2v-9c0-2.21-1.79-4-4-4z"},child:[]}]})(t)}function pB(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4zM6 18.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm13.5-9 1.96 2.5H17V9.5h2.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"},child:[]}]})(t)}const mB=()=>{const[t,e]=C.useState(!1),r=()=>e(!0),n=()=>e(!1),[s,i]=C.useState(!1),o=()=>i(!0),a=()=>i(!1),[l,c]=C.useState(!1),u=()=>c(!0),f=()=>c(!1),[h,p]=C.useState(!1),m=()=>p(!0),g=()=>p(!1),[x,v]=C.useState(!1),y=()=>v(!0),b=()=>v(!1);return d.jsxs("div",{className:"grid grid-cols-2 gap-8 mt-6 mb-16 lg:grid-cols-5 lg:gap-5",children:[d.jsxs("div",{className:"flex relative group overflow-hidden items-center gap-6",children:[d.jsx(pB,{className:"text-slate-600",size:40}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"font-semibold",children:"Servicio de transporte"}),d.jsx("p",{className:"text-sm",children:"Envo de productos y recoleccin y entrega de mascotas."})]}),d.jsx("button",{className:"bg-white border border-slate-200 absolute w-full bottom-0 py-3 rounded-3xl flex items-center justify-center gap-1 text-sm font-medium hover:bg-stone-100 translate-y-[100%] transition-all duration-300 group-hover:translate-y-0",onClick:r,children:"Ms informacin"}),d.jsx(pa,{isOpen:t,closeModal:n,children:d.jsx(VB,{})})]}),d.jsxs("div",{className:"flex relative group overflow-hidden items-center gap-6",children:[d.jsx(fB,{className:"text-slate-600",size:40}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"font-semibold",children:"Servicio mdico"}),d.jsx("p",{className:"text-sm",children:"Consulta, medicina preventiva, ciruga y hospitalizacin."})]}),d.jsx("button",{className:"bg-white border border-slate-200 absolute w-full bottom-0 py-3 rounded-3xl flex items-center justify-center gap-1 text-sm font-medium hover:bg-stone-100 translate-y-[100%] transition-all duration-300 group-hover:translate-y-0",onClick:o,children:"Ms informacin"}),d.jsx(pa,{isOpen:s,closeModal:a,children:d.jsx(UB,{})})]}),d.jsxs("div",{className:"flex relative group overflow-hidden items-center gap-6",children:[d.jsx(U5,{className:"text-slate-600",size:40}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"font-semibold",children:"Laboratorio"}),d.jsx("p",{className:"text-sm",children:"Anlisis clnicos, pruebas de laboratorio, ultrasonido y rayos x."})]}),d.jsx("button",{className:"bg-white border border-slate-200 absolute w-full bottom-0 py-3 rounded-3xl flex items-center justify-center gap-1 text-sm font-medium hover:bg-stone-100 translate-y-[100%] transition-all duration-300 group-hover:translate-y-0",onClick:u,children:"Ms informacin"}),d.jsx(pa,{isOpen:l,closeModal:f,children:d.jsx(HB,{})})]}),d.jsxs("div",{className:"flex relative group overflow-hidden items-center gap-6",children:[d.jsx(dB,{className:"text-slate-600",size:40}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"font-semibold",children:"Esttica"}),d.jsx("p",{className:"text-sm",children:"Bao, corte de pelo, corte de uas."})]}),d.jsx("button",{className:"bg-white border border-slate-200 absolute w-full bottom-0 py-3 rounded-3xl flex items-center justify-center gap-1 text-sm font-medium hover:bg-stone-100 translate-y-[100%] transition-all duration-300 group-hover:translate-y-0",onClick:m,children:"Ms informacin"}),d.jsx(pa,{isOpen:h,closeModal:g,children:d.jsx(qB,{})})]}),d.jsxs("div",{className:"flex relative group overflow-hidden items-center gap-6",children:[d.jsx(hB,{className:"text-slate-600",size:40}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"font-semibold",children:"Pensin"}),d.jsx("p",{className:"text-sm",children:"Resguardo por noche, con ventilador o aire acondicionado."})]}),d.jsx("button",{className:"bg-white border border-slate-200 absolute w-full bottom-0 py-3 rounded-3xl flex items-center justify-center gap-1 text-sm font-medium hover:bg-stone-100 translate-y-[100%] transition-all duration-300 group-hover:translate-y-0",onClick:y,children:"Ms informacin"}),d.jsx(pa,{isOpen:x,closeModal:b,children:d.jsx(WB,{})})]})]})},gB=()=>d.jsx("div",{className:"bg-gray-950 rounded-sm",children:d.jsx("iframe",{src:"https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2Fbaalak.cv&tabs=timeline&width=340&height=500&small_header=false&adapt_container_width=true&hide_cover=false&show_facepile=true&appId",width:"380",height:"500",style:{border:"none",overflow:"hidden"},allowFullScreen:!0,allow:"autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"})}),AN=({img:t,name:e,slug:r})=>d.jsxs("div",{className:"flex flex-col gap-6 relative",children:[d.jsx(vt,{to:`/products/${r}`,className:"flex relative group overflow-hidden ",children:d.jsx("div",{className:"flex h-[350px] w-full items-center justify-center py-2 lg:h-[250px]",children:d.jsx("img",{src:t,alt:e,className:"object-contain h-full w-full"})})}),d.jsx("div",{className:"flex flex-col gap-1 items-center",children:d.jsx("p",{className:"text-[15px] font-medium",children:e})})]}),lS=({title:t,products:e})=>d.jsxs("div",{className:"my-32",children:[d.jsx("h2",{className:"text-3xl font-semibold text-center mb-8 md:text-4xl lg:text-5xl",children:t}),d.jsx("div",{className:"grid grid-cols-1 gap-2 gap-y-3 sm:grid-cols-2 lg:grid-cols-4",children:e.map(r=>d.jsx(AN,{name:r.name,img:r.images[0],slug:r.slug},r.id))})]}),cS=({numberOfProducts:t})=>d.jsx("div",{className:"my-20",children:d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 gap-y-8 animate-pulse",children:Array.from({length:t}).map((e,r)=>d.jsx("div",{className:"bg-gray-200 h-[250px]"},r))})}),yB=()=>{const{recentProducts:t,popularProducts:e,isLoading:r}=m5(),n=gy(t),s=gy(e);return d.jsxs("div",{children:[d.jsx(mB,{}),d.jsxs("div",{className:"flex flex-col lg:flex-row gap-1 my-2",children:[d.jsxs("div",{className:"lg:w-8/12 xl:w-9/12 mx-auto flex flex-col gap-5",children:[r?d.jsx(cS,{numberOfProducts:4}):d.jsx(lS,{title:"Nuevos Productos",products:n}),r?d.jsx(cS,{numberOfProducts:4}):d.jsx(lS,{title:"Productos Destacados",products:s})]}),d.jsxs("div",{className:"items-center lg:w-4/12 xl:w-4/12 mx-auto flex flex-col gap-5 p-4 bg-gray-950 rounded-lg",children:[d.jsx(gB,{}),d.jsx(uB,{})]})]})]})},IN=({className:t})=>d.jsx("div",{className:`bg-slate-200 h-px my-5 ${t}`}),vB=["HPM","Royal Canin","Proplan","Hills","Excellent"],xB=({selectedBrands:t,setSelectedBrands:e})=>{const r=n=>{t.includes(n)?e(t.filter(s=>s!==n)):e([...t,n])};return d.jsxs("div",{className:"p-5 border border-slate-200 rounded-lg h-fit col-span-2 lg:col-span-1",children:[d.jsx("h3",{className:"font-semibold text-xl mb-4",children:"Filtros"}),d.jsx(IN,{}),d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsx("h3",{className:"text-lg font-medium text-black",children:"Marcas"}),d.jsx("div",{className:"flex flex-col gap-2",children:vB.map(n=>d.jsxs("label",{className:"inline-flex items-center",children:[d.jsx("input",{type:"checkbox",className:"text-black border-black focus:ring-black accent-black",checked:t.includes(n),onChange:()=>r(n)}),d.jsx("span",{className:"ml-2 text-black text-sm cursor-pointer",children:n})]},n))})]})]})},bB=()=>{const[t,e]=C.useState(1),[r,n]=C.useState([]),{data:s=[],isLoading:i,totalProducts:o}=p5({page:t,brands:r}),a=gy(s);return d.jsxs(d.Fragment,{children:[d.jsx("h1",{className:"text-5xl font-semibold text-center mb-12",children:"Productos"}),d.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5",children:[d.jsx(xB,{setSelectedBrands:n,selectedBrands:r}),i?d.jsx("div",{className:"col-span-2 flex items-center justify-center h-[500px]",children:d.jsx("p",{className:"text-2x1",children:"Cargando..."})}):d.jsxs("div",{className:"col-span-2 lg:col-span-2 xl:col-span-4 flex flex-col gap-12",children:[d.jsx("div",{className:"grid grid-cols-2 gap-3 gap-y-10 xl:grid-cols-4",children:a.map(l=>d.jsx(AN,{name:l.name,img:l.images[0],slug:l.slug},l.id))}),d.jsx(CC,{totalItems:o,page:t,setPage:e})]})]})]})},wB=()=>d.jsxs("div",{className:"space-y-5",children:[d.jsx("h1",{className:"text-center text-4xl font-semibold tracking-tight mb-5",children:"Nuestra empresa"}),d.jsx("h2",{className:"text-2xl font-semibold tracking-tighh mt-8 mb-4",children:"Por qu Baalak'?"}),d.jsx("p",{children:"B de Bienestar del idioma espaol, cultura actual"}),d.jsx("p",{children:`aalak' del idioma y cultura Maya, significa "animal domstico"`}),d.jsx("h2",{className:"text-2xl font-semibold tracking-tighh mt-8 mb-4",children:"Dos culturas, dos idiomas, una sola conciencia y un solo compromiso con el Bienestar animal."}),d.jsx("img",{src:"/img/background-about.png",alt:"background-about",className:"h-[600px] w-full object-cover"}),d.jsxs("div",{className:"flex flex-col gap-4 tracking-tighter leading-7 text-sm font-medium text-slate-800",children:[d.jsx("p",{className:"text-3xl font-semibold tracking-tighh mt-8 mb-4",children:"Contctenos en"}),d.jsx("p",{className:"text-cyan-600 font-bold",children:"Avenida Central #33, Barrio de Santa Ana, 24050, San Francisco de Campeche, Campeche, Mxico."}),d.jsx("p",{className:"text-cyan-600 font-bold",children:"baalak.cv@gmail.com	o llamado al 981 206 2582"})]})]});function SB(t){return De({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H4.414A2 2 0 0 0 3 11.586l-2 2V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12.793a.5.5 0 0 0 .854.353l2.853-2.853A1 1 0 0 1 4.414 12H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"},child:[]},{tag:"path",attr:{d:"M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5M3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6m0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5"},child:[]}]})(t)}const kB=({content:t})=>{const e=CN({extensions:[PN],content:t,editable:!1,editorProps:{attributes:{class:"prose prose-sm sm:prose-base max-w-none"}}});return d.jsxs("div",{className:"mt-12",children:[d.jsx("h2",{className:"text-2xl font-bold text-center mb-8 underline",children:"Descripcin"}),d.jsx(_N,{editor:e})]})},_B=({images:t})=>{const[e,r]=C.useState(t[0]),n=s=>{r(s)};return d.jsxs("div",{className:"flex-1 flex flex-col gap-3 relative",children:[d.jsx("div",{className:"bg-[#f2f2f2] h-[500px] p-4",children:d.jsx("img",{src:e,alt:"Imagen de Producto",className:"h-full w-full object-contain"})}),d.jsx("div",{className:"flex mt-4 gap-2",children:t.map((s,i)=>d.jsx("button",{onClick:()=>n(s),className:`w-16 h-16 p-1 border ${e===s?"border-black":"border-transparent"} rounded-lg hover:border-black focus:outline-none`,children:d.jsx("img",{src:s,alt:`Thumbnail ${i+1}`,className:"w-full h-full object-cover rounded-lg"})},i))})]})},EB=t=>{const e=t.toLowerCase();return e==="nuevo"?"bg-blue-500":e==="agotado"?"bg-black":"bg-gray-500"},CB=({contentTag:t})=>d.jsx("div",{className:`text-white w-fit px-2 ${EB(t)}`,children:d.jsxs("p",{className:"uppercase text-xs font-medium",children:[" ",t]})}),NB=t=>({count:1,increment:()=>{t(e=>({count:e.count+1}))},decrement:()=>{t(e=>({count:Math.max(1,e.count-1)}))}}),rg=fv()(hv(NB)),jB=()=>{const{slug:t}=Zu(),[e,r]=C.useState(t),{product:n,isLoading:s,isError:i}=xC(e||""),[o,a]=C.useState(null),[l,c]=C.useState(null),[u,f]=C.useState(null),[h,p]=C.useState(null),[m,g]=C.useState(null),[x,v]=C.useState(null),y=rg(R=>R.count),b=rg(R=>R.increment),S=rg(R=>R.decrement),O=qr(R=>R.addItem),N=Ut(),T=C.useMemo(()=>(n==null?void 0:n.variants.reduce((R,L)=>{const{target:q,type:te,kg:de}=L;return R.find(Me=>Me.target===q)||R.push({target:q,types:[]}),R.find(Me=>{Me.target===q&&!Me.types.find(B=>B.type===te)&&Me.types.push({type:te,kgs:[]}),Me.types.find(B=>{B.type===te&&!B.kgs.includes(de)&&B.kgs.push(de)})}),R},[]))||[],[n==null?void 0:n.variants]);C.useEffect(()=>{var R;!o&&T.length>0&&(a(T[0].target),(R=document.getElementById(T[0].target))==null||R.click())},[o,T]),C.useEffect(()=>{if(o&&u&&m){const R=n==null?void 0:n.variants.find(L=>L.target===o&&L.type===u&&L.kg===m);v(R)}},[o,u,m,n==null?void 0:n.variants]);const w=(x==null?void 0:x.stock)===0,M=()=>{x&&(O({variantId:x.id,productId:(n==null?void 0:n.id)||"",name:(n==null?void 0:n.name)||"",image:(n==null?void 0:n.images[0])||"",target:x.target,type:x.type,kg:x.kg,price:x.price,quantity:y}),mn.success("Producto aadido al carrito",{position:"bottom-right"}))},P=()=>{x&&(O({variantId:x.id,productId:(n==null?void 0:n.id)||"",name:(n==null?void 0:n.name)||"",image:(n==null?void 0:n.images[0])||"",target:x.target,type:x.type,kg:x.kg,price:x.price,quantity:y}),N("/checkout"))};return C.useEffect(()=>{r(t),a(null),f(null),g(null),v(null)},[t]),s?d.jsx(Sr,{}):!n||i?d.jsx("div",{className:"flex justify-center items-center h-[80vh]",children:d.jsx("p",{children:"Producto no encontrado"})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"h-fit flex flex-col md:flex-row gap-16 mt-8",children:[d.jsx(_B,{images:[n.images[0]]}),d.jsxs("div",{className:"flex-1 space-y-5",children:[d.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:n.name}),d.jsxs("div",{className:"flex gap-5 items-center",children:[d.jsx("span",{className:"tracking-wide text-lg font-semibold",children:Pt((x==null?void 0:x.price)||n.variants[0].price)}),d.jsx("div",{className:"relative",children:w&&d.jsx(CB,{contentTag:"agotado"})})]}),d.jsx(IN,{}),d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsx("p",{className:"text-xs font-medium",children:"Objetivos disponibles"}),d.jsx("div",{className:"flex gap-3",children:T.map(R=>d.jsx("button",{id:R.target,className:`rounded-full flex justify-center items-center ${o===R.target?"border border-slate-800 bg-[#f3f3f3] uppercase font-semibold":""}`,onClick:()=>{a(R.target),c(R.types),f(R.types[0].type),p(R.types[0].kgs),g(R.types[0].kgs[0])},children:R.target},R.target))})]}),d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsx("p",{className:"text-xs font-medium",children:"Tipos disponibles"}),l&&d.jsx("div",{className:"flex gap-3",children:d.jsx("select",{className:"border border-gray-300 rounded-lg px-3 py-1",value:u||"",onChange:R=>{f(R.target.value),l.find(L=>{L.type===R.target.value&&(p(L.kgs),g(L.kgs[0]))})},children:l.map(R=>d.jsx("option",{value:R.type,children:R.type},R.type))})})]}),d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsx("p",{className:"text-xs font-medium",children:"Pesos disponibles"}),h&&d.jsx("div",{className:"flex gap-3",children:d.jsx("select",{className:"border border-gray-300 rounded-lg px-3 py-1",value:m||"",onChange:R=>g(parseInt(R.target.value)),children:h.map(R=>d.jsxs("option",{value:R,children:[R," kg."]},R))})})]}),w?d.jsx("button",{className:"bg-[#f3f3f3] uppercase font-semibold tracking-widest text-xs py-4 rounded-full transition-all duration-300 hover:bg-[#e2e2e2] w-full",disabled:!0,children:"Agotado"}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"space-y-3",children:[d.jsx("p",{className:"text-sm font-medium",children:"Cantidad:"}),d.jsxs("div",{className:"flex gap-8 px-5 py-3 border border-slate-200 w-fit rounded-full",children:[d.jsx("button",{onClick:S,disabled:y===1,children:d.jsx(SC,{size:15})}),d.jsx("span",{className:"text-slate-500 text-sm",children:y}),d.jsx("button",{onClick:b,children:d.jsx(kC,{size:15})})]})]}),d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsx("button",{className:"bg-[#f3f3f3] uppercase font-semibold tracking-widest text-xs py-4 rounded-full transition-all duration-300 hover:bg-[#e2e2e2]",onClick:M,children:"Agregar al carro"}),d.jsx("button",{className:"bg-black text-white uppercase font-semibold tracking-widest text-xs py-4 rounded-full",onClick:P,children:"Comprar ahora"})]})]}),d.jsx("div",{className:"flex pt-2",children:d.jsxs(vt,{to:"#",className:"flex flex-col gap-1 flex-1 items-center justify-center",children:[d.jsx(SB,{size:30}),d.jsxs("p",{className:"flex flex-col items-center text-xs",children:[d.jsx("span",{className:"font-semibold",children:"Necesitas ayuda?"}),"Contctanos aqu",d.jsx("span",{className:"text-cyan-600 font-semibold",children:"9812062582"})]})]})})]})]}),d.jsx(kB,{content:n.description})]})},OB=()=>{const[t,e]=C.useState(""),[r,n]=C.useState(""),{mutate:s,isPending:i}=x5(),{session:o,isLoading:a}=ra(),l=c=>{c.preventDefault(),s({email:t,password:r})};return a?d.jsx(Sr,{}):o?d.jsx(rh,{to:"/"}):d.jsxs("div",{className:"h-full flex flex-col items-center mt-12 gap-5",children:[d.jsx("h1",{className:"text-4xl font-bold capitalize",children:"Iniciar sesin"}),d.jsx("p",{className:"text-sm font-medium",children:"Que bueno tenerte de vuelta!"}),i?d.jsx("div",{className:"w-full h-full flex justify-center mt-20",children:d.jsx(Cv,{className:"animate-spin",size:60})}):d.jsxs(d.Fragment,{children:[d.jsxs("form",{className:"flex flex-col items-center gap-4 w-full mt-10 sm:w-[400px] lg:w-[500px]",onSubmit:l,children:[d.jsx("input",{type:"email",placeholder:"Ingresa tu correo electrnico",className:"border border-slate-200 text-black px-5 py-4 placeholder:text-black text-sm rounded-full w-full",value:t,onChange:c=>e(c.target.value)}),d.jsx("input",{type:"password",placeholder:"Ingresa tu contrasea",className:"border border-slate-200 text-black px-5 py-4 placeholder:text-black text-sm rounded-full w-full",value:r,onChange:c=>n(c.target.value)}),d.jsx("button",{className:"bg-black text-white uppercase font-semibold tracking-widest text-xs py-4 rounded-full mt-5 w-full",children:"Iniciar sesin"})]}),d.jsxs("p",{className:"text-sm text-stone-800",children:["No tienes una cuenta?",d.jsx(vt,{to:"/registro",className:"underline ml-2",children:"Regstrate"})]})]})]})},TB=()=>{const{register:t,handleSubmit:e,formState:{errors:r}}=Av({defaultValues:{fullName:"",email:"",password:"",phone:""},resolver:Iv(E6)}),{mutate:n,isPending:s}=b5(),{session:i,isLoading:o}=ra(),a=e(l=>{const{email:c,password:u,fullName:f,phone:h}=l;n({email:c,password:u,fullName:f,phone:h})});return o?d.jsx(Sr,{}):i?d.jsx(rh,{to:"/"}):d.jsxs("div",{className:"h-full flex flex-col items-center mt-12 gap-5",children:[d.jsx("h1",{className:"text-4xl font-bold capitalize",children:"Regstrate"}),d.jsx("p",{className:"text-sm font-medium",children:"Por favor, rellene los siguientes campos:"}),s?d.jsx("div",{className:"w-full h-full flex justify-center mt-20",children:d.jsx(Cv,{className:"animate-spin",size:60})}):d.jsxs(d.Fragment,{children:[d.jsxs("form",{className:"flex flex-col items-center gap-4 w-full mt-10 sm:w-[400px] lg:w-[500px]",onSubmit:a,children:[d.jsx("input",{type:"text",placeholder:"Nombre Completo",className:"border border-slate-200 text-black px-5 py-4 placeholder:text-black text-sm rounded-full w-full",...t("fullName")}),r.fullName&&d.jsx("p",{className:"text-red-500",children:r.fullName.message}),d.jsx("input",{type:"text",placeholder:"Telfono",className:"border border-slate-200 text-black px-5 py-4 placeholder:text-black text-sm rounded-full w-full",...t("phone")}),r.phone&&d.jsx("p",{className:"text-red-500",children:r.phone.message}),d.jsx("input",{type:"email",placeholder:"Ingresa tu correo electrnico",className:"border border-slate-200 text-black px-5 py-4 placeholder:text-black text-sm rounded-full w-full",...t("email")}),r.email&&d.jsx("p",{className:"text-red-500",children:r.email.message}),d.jsx("input",{type:"password",placeholder:"Ingresa tu contrasea",className:"border border-slate-200 text-black px-5 py-4 placeholder:text-black text-sm rounded-full w-full",...t("password")}),r.password&&d.jsx("p",{className:"text-red-500",children:r.password.message}),d.jsx("button",{className:"bg-black text-white uppercase font-semibold tracking-widest text-xs py-4 rounded-full mt-5 w-full",children:"Registrarme"})]}),d.jsxs("p",{className:"text-sm text-stone-800",children:["Ya tienes una cuenta?",d.jsx(vt,{to:"/login",className:"underline ml-2",children:"Inicia sesin"})]})]})]})},PB=["ID","Fecha","Estado","Total"],MB=({orders:t})=>{const e=Ut();return d.jsx("div",{className:"relative w-full h-full",children:d.jsxs("table",{className:"text-sm w-full caption-bottom overflow-auto",children:[d.jsx("thead",{className:"border-b border-gray-200 pb-3",children:d.jsx("tr",{className:"text-sm font-bold",children:PB.map((r,n)=>d.jsx("th",{className:"h-12 px-4 text-left",children:r},n))})}),d.jsx("tbody",{className:"[&_tr:last-child]:border-0",children:t.map(r=>d.jsxs("tr",{className:"cursor-pointer hover:bg-gray-100 transition-colors duration-200",onClick:()=>e(`/account/pedidos/${r.id}`),children:[d.jsx("td",{className:"p-4 font-medium tracking-tighter",children:r.id}),d.jsx("td",{className:"p-4 font-medium tracking-tighter",children:rp(r.created_at)}),d.jsx("td",{className:"p-4 font-medium tracking-tighter",children:MA(r.status??"")}),d.jsx("td",{className:"p-4 font-medium tracking-tighter",children:Pt(r.total_amount)})]},r.id))})]})})},AB=()=>{const{data:t,isLoading:e}=_5();return e||!t?d.jsx(Sr,{}):d.jsxs("div",{className:"flex flex-col gap-6 items-center",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Pedidos"}),d.jsx("span",{className:"w-5 h-5 rounded-full bg-black text-white text-[11px] flex justify-center items-center mt-1",children:t.length})]}),t.length===0?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-slate-600 text-[13px]",children:"Todava no has hecho ningn pedido"}),d.jsx(vt,{to:"/products",className:"bg-black text-white uppercase font-semibold tracking-widest text-xs py-4 rounded-full px-8",children:"Empezar a comprar"})]}):d.jsx(MB,{orders:t})]})},uc=({register:t,errors:e,name:r,className:n,placeholder:s})=>d.jsxs(d.Fragment,{children:[d.jsx("div",{className:`border border-slate-200 rounded-md overflow-hidden py-2 ${e[r]&&"border-red-500"} ${n}`,children:d.jsx("input",{type:"text",className:"w-full px-3 py-1 text-sm focus:outline-none",placeholder:s,...t(r)})}),e[r]&&d.jsx("p",{className:"text-red-500 text-xs",children:e[r].message})]}),RN=()=>{const t=qr(r=>r.items),e=qr(r=>r.totalAmount);return d.jsxs("div",{children:[d.jsx("ul",{className:"space-y-5",children:t.map(r=>d.jsxs("li",{className:"flex justify-between items-center gap-5",children:[d.jsxs("div",{className:"flex relative border border-stone-300 bg-stone-200 rounded-md",children:[d.jsx("img",{src:r.image,alt:r.name,className:"w-20 h-20 object-contain"}),d.jsx("span",{className:"w-5 h-5 rounded-full bg-gray-500 text-white flex items-center justify-center text-xs absolute -right-1 -top-2 font-medium",children:r.quantity})]}),d.jsxs("div",{className:"flex-1 space-y-3",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("p",{className:"font-semibold",children:r.name}),d.jsx("p",{className:"text-sm font-medium text-gray-600 mt-1",children:Pt(r.price)})]}),d.jsx("div",{className:"flex gap-3",children:d.jsxs("p",{className:"text-[13px] text-gray-600",children:[r.target," / ",r.type," / ",r.kg," kg."]})})]})]},r.variantId))}),d.jsx("div",{className:"mt-4 p-7 space-y-5",children:d.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[d.jsx("p",{children:"Total:"}),d.jsx("p",{children:Pt(e)})]})})]})},IB=()=>{const{register:t,formState:{errors:e},handleSubmit:r}=Av({resolver:Iv(C6)}),{mutate:n,isPending:s}=k5(),i=qr(c=>c.cleanCart),o=qr(c=>c.items),a=qr(c=>c.totalAmount),l=r(c=>{const u={address:c,cartItems:o.map(f=>({variantId:f.variantId,quantity:f.quantity,price:f.price})),totalAmount:a};n(u,{onSuccess:()=>{i()}})});return s?d.jsxs("div",{className:"flex flex-col gap-3 h-screen items-center justify-center",children:[d.jsx(B5,{className:"animate-spin h-10 w-10"}),d.jsx("p",{className:"text-sm font-medium",children:"Estamos procesando tu pedido"})]}):d.jsx("div",{children:d.jsxs("form",{className:"flex flex-col gap-6",onSubmit:l,children:[d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsx("h3",{className:"text-lg font-semibold tracking-normal",children:"Entrega"}),d.jsx(uc,{register:t,errors:e,name:"addressLine1",placeholder:"Direccin principal"}),d.jsx(uc,{register:t,errors:e,name:"addressLine2",placeholder:"Direccin adicional (Opcional)"}),d.jsx(uc,{register:t,errors:e,name:"state",placeholder:"Estado / Provincia"}),d.jsx(uc,{register:t,errors:e,name:"city",placeholder:"Ciudad"}),d.jsx(uc,{register:t,errors:e,name:"postalCode",placeholder:"Cdigo Postal"})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("div",{className:"flex justify-between items-center text-sm border border-slate-600 bg-stone-100 py-4 rounded-ss-md rounded-se-md px-6",children:d.jsx("span",{children:"Compra a traves de transferencia"})}),d.jsxs("div",{className:"bg-stone-100 text-[13px] p-5 space-y-0.5 border border-gray-200 rounded-es-md rounded-ee-md",children:[d.jsx("p",{children:"Banco Santander"}),d.jsx("p",{children:"Razn Social: Francisco Julin Gmez Cancino"}),d.jsx("p",{children:"RFC: GOCF630405PW0"}),d.jsx("p",{children:"Tipo de cuenta: Corriente"}),d.jsx("p",{children:"Nmero de cuenta: 014050605919441515"}),d.jsx("p",{children:"La informacin ser compartida nuevamente una vez que se	haya finalizado la compra"})]})]}),d.jsxs("div",{className:"flex flex-col gap-6",children:[d.jsx("h3",{className:"font-semibold text-3xl",children:"Resumen del pedido"}),d.jsx(RN,{})]}),d.jsx("button",{type:"submit",className:"bg-black text-white py-3.5 font-bold tracking-wide rounded-md mt-2",children:"Finalizar Pedido"})]})})},RB=()=>{const t=qr(n=>n.totalItemsInCart),{isLoading:e}=ra(),r=Ut();return C.useEffect(()=>{he.auth.onAuthStateChange(async(n,s)=>{(n==="SIGNED_OUT"||!s)&&r("/login")})},[r]),e?d.jsx(Sr,{}):d.jsxs("div",{style:{minHeight:"calc(100vh - 100px"},children:[d.jsx("header",{className:"h-[100px] bg-white text-black flex items-center justify-center flex-col px-10 border-b border-slate-200",children:d.jsx(vt,{to:"/",className:"text-4xl font-bold self-center tracking-tighter transition-all md:text-5xl md:self-start",children:d.jsx("p",{children:d.jsx("img",{src:"/img/Baalak-logo-banner.png",alt:"Baalak"})})})}),d.jsx("main",{className:"w-full h-full flex relative",children:t===0?d.jsxs("div",{className:"flex flex-col items-center justify-center gap-5 w-full",style:{height:"calc(100vh - 100px)"},children:[d.jsx("p",{className:"text-sm font-medium tracking-tight",children:"Su carro esta vaco"}),d.jsx(vt,{to:"/products",className:"py-4 bg-black rounded-full text-white px-7 text-xs uppercase tracking-widest font-semibold",children:"Empezar a comprar"})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-full md:w-[50%] p-10",children:d.jsx(IB,{})}),d.jsx("div",{className:"bg-stone-100 w-[50%] sticky top-0 right-0 p-10 hidden md:block",style:{minHeight:"calc(100vh - 100px)"},children:d.jsx(RN,{})})]})})]})};function DB(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Circle_Check"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M15.81,10.4a.5.5,0,0,0-.71-.71l-3.56,3.56L9.81,11.52a.5.5,0,0,0-.71.71l2.08,2.08a.513.513,0,0,0,.71,0Z"},child:[]},{tag:"path",attr:{d:"M12,21.934A9.934,9.934,0,1,1,21.933,12,9.945,9.945,0,0,1,12,21.934ZM12,3.067A8.934,8.934,0,1,0,20.933,12,8.944,8.944,0,0,0,12,3.067Z"},child:[]}]}]}]})(t)}const LB=()=>{const{id:t}=Zu(),{data:e,isLoading:r,isError:n}=bC(Number(t)),{isLoading:s}=ra(),i=Ut();return C.useEffect(()=>{he.auth.onAuthStateChange(async(o,a)=>{(o==="SIGNED_OUT"||!a)&&i("/login")})},[i]),n?d.jsx("div",{children:"Error al cargar la orden"}):r||!e||s?d.jsx(Sr,{}):d.jsxs("div",{className:"flex flex-col h-screen",children:[d.jsx("header",{className:"text-black flex items-center justify-center flex-col px-10 py-12",children:d.jsx(vt,{to:"/",className:"text-4xl font-bold self-center tracking-tighter transition-all md:text-5xl",children:d.jsx("p",{children:d.jsx("img",{src:"/img/Baalak-logo-banner.png",alt:"Baalak"})})})}),d.jsxs("main",{className:"container flex-1 flex flex-col items-center gap-10",children:[d.jsxs("div",{className:"flex gap-3 items-center",children:[d.jsx(DB,{size:40}),d.jsxs("p",{className:"text-4xl",children:["Gracias, ",e.customer.full_name,"!"]})]}),d.jsxs("div",{className:"border border-slate-200 w-full md:w-[600px] p-5 rounded-md space-y-3",children:[d.jsx("h3",{className:"font-medium",children:"Tu pedido est confirmado"}),d.jsx("p",{className:"text-sm",children:"Gracias por realizar tu compra en Baalak'."}),d.jsx("p",{className:"text-sm",children:"Para realizar la transferencia te compartimos los siguientes	datos"}),d.jsxs("div",{className:"space-y-0.5 text-sm",children:[d.jsx("p",{children:"Banco Santander"}),d.jsx("p",{children:"Razn Social: Francisco Julin Gmez Cancino"}),d.jsx("p",{children:"RFC: GOCF630405PW0"}),d.jsx("p",{children:"Tipo de cuenta: Corriente"}),d.jsx("p",{children:"Nmero de cuenta: 014050605919441515"})]}),d.jsx("p",{className:"text-sm",children:"Una vez realizada la transferencia, comparte tu comprobante con tu nmero de pedido por WhatsApp al 9812062582 para procesarla y hacerte la entrega de tu producto a domicilio."})]}),d.jsxs("div",{className:"border border-slate-200 w-full p-5 rounded-md space-y-3 md:w-[600px]",children:[d.jsx("h3",{className:"font-medium",children:"Detalles del pedido"}),d.jsxs("div",{className:"flex flex-col gap-5",children:["Pedido #",t,d.jsx("ul",{className:"space-y-3",children:e.orderItems.map((o,a)=>d.jsxs("li",{className:"flex justify-between items-center gap-3",children:[d.jsx("div",{className:"flex",children:d.jsx("img",{src:o.productImage,alt:o.productName,className:"w-16 h-16 object-contain"})}),d.jsxs("div",{className:"flex-1 space-y-2",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("p",{className:"font-semibold",children:o.productName}),d.jsx("p",{className:"text-sm font-medium text-gray-600 mt-1",children:Pt(o.price)})]}),d.jsx("div",{className:"flex gap-3",children:d.jsxs("p",{className:"text-[13px] text-gray-600",children:[o.target," / ",o.type," / ",o.kg," kg."]})})]})]},a))}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"font-semibold",children:"Total:"}),d.jsx("span",{className:"font-semibold",children:Pt(e.totalAmount)})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[d.jsxs("div",{className:"flex flex-col text-sm",children:[d.jsx("p",{className:"font-semibold",children:"Informacin de contacto:"}),d.jsx("p",{children:e.customer.email})]}),d.jsxs("div",{className:"flex flex-col text-sm",children:[d.jsx("p",{className:"font-semibold",children:"Mtodos de pago:"}),d.jsxs("p",{children:["Transferencia - ",Pt(e.totalAmount)]})]}),d.jsxs("div",{className:"flex flex-col text-sm",children:[d.jsx("p",{className:"font-semibold",children:"Direccin de envo"}),d.jsx("p",{children:e.address.addressLine1}),d.jsx("p",{children:e.address.addressLine2&&e.address.addressLine2}),d.jsx("p",{children:e.address.city}),d.jsx("p",{children:e.address.state}),d.jsx("p",{children:e.address.postalCode})]}),d.jsxs("div",{className:"flex flex-col text-sm",children:[d.jsx("p",{className:"font-semibold",children:"Mtodo de envo"}),d.jsx("p",{children:"Standard"})]})]})]}),d.jsxs("div",{className:"flex flex-col justify-between items-center w-full mb-5 gap-3 sm:flex-row md:w-[600px] md:gap-0",children:[d.jsx("p",{className:"text-sm",children:"Necesitas ayuda? Ponte en contacto con nosotros"}),d.jsx(vt,{to:"/products",className:"text-white bg-black py-4 text-sm rounded-md px-5 tracking-tight font-semibold",children:"Seguir comprando"})]})]})]})},FB=["Producto","Cantidad","Total"],$B=()=>{const{id:t}=Zu(),{data:e,isLoading:r}=bC(Number(t)),n=Ut();return r||!e?d.jsx(Sr,{}):d.jsxs("div",{children:[d.jsxs("div",{className:"flex flex-col justify-between items-center gap-5 md:flex-row md:gap-0",children:[d.jsxs("button",{className:"border rounded-full py-2 border-slate-200 px-5 flex items-center justify-center gap-2 text-xs font-medium uppercase tracking-widest hover:bg-stone-100 transition-all",onClick:()=>n(-1),children:[d.jsx(jv,{size:16}),"Volver"]}),d.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[d.jsxs("h1",{className:"text-3xl font-bold",children:["Pedido #",t]}),d.jsx("p",{className:"text-sm",children:rp(e.created_at)})]}),d.jsx("div",{}),d.jsx("div",{})]}),d.jsxs("div",{className:"flex flex-col mt-10 mb-5 gap-10",children:[d.jsxs("table",{className:"text-sm w-full caption-bottom overflow-auto",children:[d.jsx("thead",{children:d.jsx("tr",{children:FB.map((s,i)=>d.jsx("th",{className:"h-12 text-center uppercase tracking-wide text-stone-600 font-medium",children:s},i))})}),d.jsx("tbody",{children:e.orderItems.map((s,i)=>d.jsxs("tr",{className:"border-b border-gray-200",children:[d.jsxs("td",{className:"p-4 font-medium tracking-tighter flex gap-3 items-center",children:[d.jsx("img",{src:s.productImage,alt:s.productName,className:"h-20 w-20 object-contain rounded-lg"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{children:s.productName}),d.jsxs("p",{className:"text-xs",children:[s.target," / ",s.type," / ",s.kg," kg."]}),d.jsx("p",{className:"text-sm",children:Pt(s.price)})]})]}),d.jsx("td",{className:"p-4 font-medium tracking-tighter text-center",children:s.quantity}),d.jsx("td",{className:"p-4 font-medium tracking-tighter text-center",children:Pt(s.price*s.quantity)})]},i))})]}),d.jsxs("div",{className:"flex flex-col gap-3 text-slate-600 text-sm self-end w-1/2",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("p",{children:"Subtotal"}),d.jsx("p",{children:Pt(e.totalAmount)})]}),d.jsxs("div",{className:"flex justify-between text-black font-semibold",children:[d.jsx("p",{children:"Total"}),d.jsx("p",{children:Pt(e.totalAmount)})]})]}),d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsx("h2",{className:"text-lg font-bold",children:"Direccin"}),d.jsxs("div",{className:"border border-stone-300 p-5 flex flex-col gap-5",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("h3",{className:"font-medium",children:"Cliente:"}),d.jsx("p",{children:e.customer.full_name})]}),d.jsxs("div",{className:"flex flex-col gap-1 text-sm",children:[d.jsx("h3",{className:"font-medium text-base",children:"Envo:"}),d.jsx("p",{children:e.address.addressLine1}),d.jsx("p",{children:e.address.addressLine2&&e.address.addressLine2}),d.jsx("p",{children:e.address.city}),d.jsx("p",{children:e.address.state}),d.jsx("p",{children:e.address.postalCode})]})]})]})]})]})},zB=()=>d.jsxs("div",{className:"container mx-auto",children:[d.jsx("h1",{className:"text-3xl font-bold text-center my-4",children:"Aviso de privacidad"}),d.jsxs("div",{className:"p-5",children:[d.jsxs("p",{className:"text-base leading-loose text-gray-800",children:[d.jsx("strong",{children:"ltima actualizacin:"})," 15 de mayo de 2025"]}),d.jsx("p",{className:"text-base leading-loose text-gray-800",children:d.jsx("span",{className:"text-base leading-normal mb-2",children:"EL PROVEEDOR del presente aviso manifiesta ser el propietario de este establecimiento con domicilio y denominacin descrita en este documento, seala como domicilios para or y recibir notificaciones en el domicilio antes citado, as como manifiesta ser EL RESPONSABLE DEL USO, PROTECCIN y MANEJO DEL TRATAMIENTO DE SUS DATOS PERSONALES, al respecto le informo que sus datos personales que recabamos de Usted referente a su EDAD, NOMBRE COMPLETO, SU CLAVE DEL RFC Y CURP, DOMICILIO FISCAL Y PERSONAL ACTUAL COMPLETO, CDIGO POSTAL, TELFONO DE CASA, TRABAJO, CELULAR, CORREO ELECTRNICO, FACEBOOK, E INSTAGRAM, as como LOS CONTENIDOS EN EL MATERIAL FOTOGRFICO, AUDIO Y VIDEO, DIAGRAMAS, GRFICOS, DIBUJOS O REPRESENTACIONES GRFICAS QUE TOMAMOS EN NUESTRAS INSTALACIONES DE LAS IMGENES de las personas y animales que ingresan y transitan por nuestras instalaciones, sern protegidos de conformidad a lo dispuesto por la Ley General de Proteccin de Datos Personales en Posesin de Sujetos Obligados, as como todos aquellos ordenamientos que resulten aplicables, y los utilizaremos para uno o ms de los siguientes conceptos:"})}),d.jsx("p",{className:"text-base leading-loose text-gray-800",children:d.jsx("span",{className:"text-base leading-normal mb-2",children:"1.- Complementar los datos del propietario o poseedor en los contratos, convenios y formatos que usamos para prestar nuestros servicios que le brindamos y en el expediente de nuestros servicios para su animal."})}),d.jsx("p",{className:"text-base leading-loose text-gray-800",children:d.jsx("span",{className:"text-base leading-normal mb-2",children:"2.- Expedir sus notas y facturas por nuestros servicios."})}),d.jsx("p",{className:"text-base leading-loose text-gray-800",children:d.jsx("span",{className:"text-base leading-normal mb-2",children:"3.- Para localizarlo de forma oportuna ante alguna emergencia que requiera de su presencia y autorizacin para la realizar estudio, aprobacin de gastos e insumos para atender a su animal, uso de anestesia e intervenciones quirrgicas en su ser vivo antes citado en caso de ser necesario para salvaguardar su vida."})}),d.jsx("p",{className:"text-base leading-loose text-gray-800",children:d.jsx("span",{className:"text-base leading-normal mb-2",children:"4.- Informarle de forma oportuna el estado que guarda su orden de servicio que nos solicit."})}),d.jsx("p",{className:"text-base leading-loose text-gray-800",children:d.jsx("span",{className:"text-base leading-normal mb-2",children:"5.- Para usar el MATERIAL FOTOGRFICO, AUDIO Y VIDEO en la VIDEO SEGURIDAD de nuestro establecimiento, as como EN LA UTILIZACIN DE NUESTRA PUBLICIDAD por cualquier medio respecto a la prestacin de nuestros servicios hacia Usted y su animal."})}),d.jsx("p",{className:"text-base leading-loose text-gray-800",children:d.jsx("span",{className:"text-base leading-normal mb-2",children:"6.- Cualquier finalidad anloga o compatible con las anteriores."})}),d.jsx("p",{className:"text-base leading-loose text-gray-800",children:d.jsx("span",{className:"text-base leading-normal mb-2",children:"Le manifestamos que la informacin de sus datos personales que nos proporcione es necesaria para el servicio solicitado, la cual nos permite brindarle una mejor atencin y seguridad, por lo que NO requerimos ms datos personales adicionales de Usted. La negativa para el uso de sus datos personales para estas finalidades o la negativa a usar el MATERIAL FOTOGRFICO, AUDIO Y VIDEO en la VIDEO SEGURIDAD de nuestro establecimiento, as como EN LA UTILIZACIN DE NUESTRA PUBLICIDAD, NO es motivo para negarle nuestros los servicios y productos que solicita o contrata con nosotros, salvo las requeridas por la ley al respecto. La autorizacin para utilizar del MATERIAL FOTOGRFICO, AUDIO Y VIDEO en la VIDEO SEGURIDAD de nuestro establecimiento, as como EN LA UTILIZACIN DE NUESTRA PUBLICIDAD por cualquier medio respecto a la prestacin de nuestros servicios hacia Usted y su animal, estar vigente hasta en tanto no presente por escrito solicitud de negativa a la captacin, difusin y utilizacin de la imagen y voz antes referidas, la cual deber ser presentada en nuestro domicilio. Para conocer ms informacin de los trminos y condiciones en que sern tratados sus datos personales, como los terceros con quienes compartimos su informacin personal y la forma en que podr ejercer sus derechos ARCO, puede consultarnos en nuestro domicilio referido al final del presente aviso. Por todo lo antes explicado significa que ha ledo, entendido y est de acuerdo con los trminos antes expuestos, por lo que otorgo mi consentimiento para que mis datos personales sean tratados conforme a lo sealado en el presente aviso de privacidad y consiento la transmisin de mis datos personales en trminos del presente aviso. Otorgando adems al escrito de este aviso, autorizacin expresa para el Uso y difusin promocin y publicidad de sus servicios en diversos medios de comunicacin de mi Imagen y mi animal, para que sean utilizadas y difundidas, indefinidamente, sin restriccin, ni contraprestacin de ningn tipo, a ttulo gratuito a favor del suscrito de este aviso, por cualquier medio impreso, flmico e internet, tendiente a la difusin de nuestras actividades, programas y campaas, ya que la autorizacin antes citada, no me causa daos ni perjuicios morales, ni econmicos, con la aparicin y utilizacin de mi nombre o la de mi animal, nuestra imagen en video y/o fotografa y/o voz de mi persona o la de mi animal ya que NO se lesiona en ningn momento nuestra imagen, fama, reputacin o integridad."})}),d.jsx("p",{className:"text-base leading-loose text-gray-800",children:d.jsx("span",{className:"text-base leading-normal mb-2",children:"Al leer y no ejercer su posicin por escrito a lo antes citado, bien entrar a nuestras instalaciones es sinnimo de haber aceptado a lo antes expresado y lo consideraremos como aceptado el presente Aviso de Privacidad y otorgada su autorizacin para todos los efectos sealados."})}),d.jsx("p",{className:"text-base leading-loose text-gray-800",children:d.jsx("span",{className:"text-base leading-normal mb-2",children:"De igual forma le informamos que no damos consentimiento alguno para que usted grabe de forma alguna ni voz, ni video en nuestras instalaciones de persona alguna o animales en atencin a los derechos de personalidad de las personas y sus animales que se encuentren en nuestras instalaciones.  "})}),d.jsx("p",{className:"text-base leading-loose text-gray-800",children:d.jsx("strong",{children:d.jsx("span",{className:"text-base leading-normal mb-2",children:"ATENTAMENTE."})})}),d.jsx("p",{className:"text-base leading-loose text-gray-800",children:d.jsx("strong",{children:d.jsx("span",{className:"text-base leading-normal mb-2",children:"EL PROVEEDOR Propietario del Establecimiento."})})}),d.jsx("p",{className:"text-base leading-loose text-gray-800",children:d.jsx("strong",{children:d.jsx("span",{className:"text-base leading-normal mb-2",children:"M.V.Z. Francisco Julin Gmez Cancino."})})}),d.jsx("p",{className:"text-base leading-loose text-gray-800",children:d.jsx("strong",{children:d.jsx("span",{className:"text-base leading-normal mb-2",children:"Domicilio:"})})}),d.jsx("p",{className:"text-base leading-loose text-gray-800",children:d.jsx("strong",{children:d.jsx("span",{className:"text-base leading-normal mb-2",children:"Animalia-Baja California No. 402 Col. Petrolera, C.P. 96500. Coatzacoalcos, Ver."})})}),d.jsx("p",{className:"text-base leading-loose text-gray-800",children:d.jsx("strong",{children:d.jsx("span",{className:"text-base leading-normal mb-2",children:"Baalak- Av. Central No.33 Col Santa Ana, C.P. 24050. San Fco. De Campeche, Campeche."})})}),d.jsx("p",{className:"text-base leading-loose text-gray-800",children:d.jsx("span",{className:"text-base leading-normal mb-2",children:"*El presente aviso se expide y publica con fundamento en los Artculos 6o. y 16 de la Constitucin Poltica de los Estados Unidos Mexicanos, Artculo 12 de la Declaracin Universal de los Derechos Humanos, Artculo 17 del Pacto Internacional de Derechos Civiles y Polticos, Artculo 11 de la Convencin Americana sobre Derechos Humanos Pacto de San Jos, Artculos 68 y 69 de la Ley General de Transparencia y Acceso a la Informacin Pblica. 16, 113 y 117 de la Ley Federal de Transparencia y Acceso a la Informacin Pblica, Artculos 3, fracciones II, III, X, XXXVII, XXXIII, 7, 18, 19, 20, 21, 22, 23, 26, 27, 28, 43, 47, 65 y dems de la Ley General de Proteccin de Datos Personales en Posesin de Sujetos Obligados, y dems disposiciones legales aplicables vigentes y dems artculos del Cdigo Civil de la Entidad, as como en trminos del artculo 87 de la Ley Federal del Derecho de Autor."})})]})]}),BB=()=>d.jsxs("div",{className:"container mx-auto",children:[d.jsx("h1",{className:"text-3xl font-bold text-center my-4",children:"Trminos y condiciones"}),d.jsxs("div",{className:"p-5",children:[d.jsxs("p",{className:"text-base leading-loose text-gray-800",children:[d.jsx("strong",{children:"ltima actualizacin:"})," 15 de mayo de 2025"]}),d.jsxs("p",{className:"text-base leading-loose text-gray-800",children:["Bienvenido a ",d.jsx("strong",{children:"Baalak'"}),". Al acceder y utilizar nuestro sitio web, aceptas los siguientes Trminos y Condiciones. Te recomendamos leerlos cuidadosamente antes de utilizar nuestros servicios."]}),d.jsx("h2",{className:"text-2xl mt-5",children:"1. Informacin General"}),d.jsx("p",{className:"text-base leading-loose text-gray-800",children:"Baalak' es una tienda en lnea ubicada en Campeche, Mxico, dedicada a la venta de alimentos y productos relacionados para perros y gatos. Al utilizar nuestro sitio, aceptas cumplir con estos trminos conforme a las leyes aplicables en Mxico."}),d.jsx("h2",{className:"text-2xl mt-5",children:"2. Cuentas de Usuario"}),d.jsx("p",{className:"text-base leading-loose text-gray-800",children:"Para realizar compras o acceder a ciertos servicios, puedes crear una cuenta. Es tu responsabilidad mantener la confidencialidad de tu informacin de acceso. No compartas tu contrasea con terceros."}),d.jsx("p",{className:"text-base leading-loose text-gray-800",children:"Nos reservamos el derecho de suspender o eliminar cuentas que infrinjan estos trminos, o que sean utilizadas de manera fraudulenta."}),d.jsx("h2",{className:"text-2xl mt-5",children:"3. Productos y Descripciones"}),d.jsx("p",{className:"text-base leading-loose text-gray-800",children:"Hacemos todo lo posible por mostrar descripciones, imgenes y precios precisos. Sin embargo, no garantizamos que toda la informacin est libre de errores. Nos reservamos el derecho de modificar o descontinuar productos sin previo aviso."}),d.jsx("h2",{className:"text-2xl mt-5",children:"4. Pagos"}),d.jsx("p",{className:"text-base leading-loose text-gray-800",children:"Actualmente, Baalak' no cobra suscripciones ni pagos recurrentes. Los precios estn expresados en pesos mexicanos e incluyen impuestos, a menos que se indique lo contrario."}),d.jsx("h2",{className:"text-2xl mt-5",children:"5. Envos y Entregas"}),d.jsx("p",{className:"text-base leading-loose text-gray-800",children:"Ofrecemos entregas dentro de Campeche. Los tiempos de envo y tarifas se informarn al momento de la compra. No nos hacemos responsables por retrasos causados por terceros (paqueteras, clima, etc.)."}),d.jsx("h2",{className:"text-2xl mt-5",children:"6. Devoluciones y Cancelaciones"}),d.jsx("p",{className:"text-base leading-loose text-gray-800",children:"Por tratarse de productos alimenticios para mascotas, no se aceptan devoluciones por cambio de opinin. Solo se aceptarn devoluciones si el producto est daado, defectuoso o mal empacado. Para solicitar una devolucin, contctanos dentro de las primeras 48 horas despus de la entrega."}),d.jsx("h2",{className:"text-2xl mt-5",children:"7. Uso del Sitio"}),d.jsx("p",{className:"text-base leading-loose text-gray-800",children:"El usuario se compromete a utilizar este sitio nicamente con fines lcitos y de manera que no infrinja los derechos de terceros ni las leyes mexicanas."}),d.jsx("h2",{className:"text-2xl mt-5",children:"8. Propiedad Intelectual"}),d.jsx("p",{className:"text-base leading-loose text-gray-800",children:"Todo el contenido de este sitio (textos, imgenes, logotipos, etc.) es propiedad de Baalak' o se utiliza con permiso. Queda prohibido su uso sin autorizacin previa por escrito."}),d.jsx("h2",{className:"text-2xl mt-5",children:"9. Modificaciones"}),d.jsx("p",{className:"text-base leading-loose text-gray-800",children:"Nos reservamos el derecho de modificar estos Trminos y Condiciones en cualquier momento. Cualquier cambio ser publicado en esta pgina con su fecha de entrada en vigor."}),d.jsx("h2",{className:"text-2xl mt-5",children:"10. Contacto"}),d.jsx("p",{className:"text-base leading-loose text-gray-800",children:"Si tienes dudas sobre estos Trminos y Condiciones, puedes contactarnos en:"}),d.jsxs("ul",{className:"list-disc ml-5",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Correo electrnico:"})," [baalak.atencionaclientes@gmail.com]"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Telfono:"})," [9812062582]"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Direccin:"})," Av. Central #33, San Francisco de Campeche, Campeche, Mxico"]})]})]})]}),VB=()=>d.jsxs("div",{className:"relative bg-gray-900 text-white items-center",children:[d.jsx("div",{className:"absolute inset-0 bg-cover opacity-50 h-full",style:{backgroundImage:"url(/img/services/transport.png)"}}),d.jsx("div",{className:"absolute inset-0 bg-black opacity-50"}),d.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center py-20 px-4 text-center lg:py-20 lg:px-8",children:[d.jsx("h1",{className:"text-4xl font-bold mb-4 lg:text-4xl",children:"Servicio de transporte"}),d.jsx("p",{className:"text-lg mb-8 lg:text-2xl",children:d.jsx("strong",{children:"No puedes traerlo? Llmanos"})}),d.jsx("p",{className:"text-lg mb-8 lg:text-2xl",children:"Con nosotros tu mascota viajar cmoda y segura, vamos por ella a tu casa y te la regresamos feliz."})]}),d.jsx("div",{className:"relative z-10 flex flex-col items-center justify-center py-1 px-2 text-center lg:py-1 lg:px-4",children:d.jsx("button",{className:"rounded-full bg-[#2980b9] uppercase font-semibold p-1",children:d.jsx("a",{href:Dl[2].href,target:"_blank",rel:"noreferrer",className:"text-slate-200 py-2 flex items-center justify-center transition-all hover:text-black",children:"Reserva tu cita"})})})]}),UB=()=>d.jsxs("div",{className:"relative bg-gray-900 text-white items-center",children:[d.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-50 h-full",style:{backgroundImage:"url(/img/services/medical.png)"}}),d.jsx("div",{className:"absolute inset-0 bg-black opacity-50"}),d.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center py-5 px-4 text-center lg:py-5 lg:px-8",children:[d.jsx("h1",{className:"text-4xl font-bold mb-4 lg:text-4xl",children:"Servico mdico"}),d.jsx("h1",{className:"text-1xl font-bold mb-4 lg:text-2xl",children:"Consultas"}),d.jsx("p",{className:"text-lg mb-8 lg:text-2xl",children:"Nuestro sistema de medicina basada en evidencias, asegura un mayor xito en los diagnsticos y tratamientos de los problema de salud de su mascota, logrando su recuperacin en menor tiempo y con menos estrs."}),d.jsx("h1",{className:"text-1xl font-bold mb-4 lg:text-2xl",children:"Medicina preventiva"}),d.jsx("p",{className:"text-lg mb-8 lg:text-2xl",children:"Como eres un dueo atento y deseas lo mejor para tu mascota. Te animamos a programar un examen de bienestar para mascotas, as prevenimos los problemas antes de que surjan, asegurando una mayor salud y felicidad para su peque@."}),d.jsx("h1",{className:"text-1xl font-bold mb-4 lg:text-2xl",children:"Ciruga y Hospitalizacin"}),d.jsx("p",{className:"text-lg mb-8 lg:text-2xl",children:"Cuando requieren cuidados mdicos especializados o cirugas para recuperar su salud, nosotros nos encargamos de darle la mejor atencin con el respeto y cario que ellos requieren."})]}),d.jsx("div",{className:"relative z-10 flex flex-col items-center justify-center py-1 px-2 text-center lg:py-1 lg:px-4",children:d.jsx("button",{className:"rounded-full bg-[#2980b9] uppercase font-semibold p-1",children:d.jsx("a",{href:Dl[2].href,target:"_blank",rel:"noreferrer",className:"text-slate-200 py-2 flex items-center justify-center transition-all hover:text-black",children:"Reserva tu cita"})})})]}),HB=()=>d.jsxs("div",{className:"relative bg-gray-900 text-white items-center",children:[d.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-50 h-full",style:{backgroundImage:"url(/img/services/lab.png)"}}),d.jsx("div",{className:"absolute inset-0 bg-black opacity-50"}),d.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center py-3 px-4 text-center lg:py-3 lg:px-8",children:[d.jsx("h1",{className:"text-4xl font-bold mb-4 lg:text-4xl",children:"Laboratorio"}),d.jsx("h1",{className:"text-1xl font-bold mb-4 lg:text-2xl",children:"Laboratorios de anlisis clnicos"}),d.jsx("p",{className:"text-lg mb-8 lg:text-2xl",children:"Es importante realizar anlisis clnicos con equipos de alta calidad para obtener resultados confiables que nos ayuden a dar el diagnstico ms preciso."}),d.jsxs("p",{className:"text-lg mb-8 lg:text-2xl",children:["Contamos con equipos de vanguardia, respaldados por laboratorios IDEXX.",d.jsx("a",{href:"https://al.idexx.com/es-xl/",target:"_blank",rel:"noreferrer",className:"text-slate-200 py-3.5 flex items-center justify-center transition-all hover:text-blue-500",children:"https://al.idexx.com/es-xl/"})]}),d.jsx("h1",{className:"text-1xl font-bold mb-4 lg:text-2xl",children:"Radiografia Digital"}),d.jsx("p",{className:"text-lg mb-8 lg:text-2xl",children:"La calidad en las radiografas es un factor determinante para obtener diagnsticos acertados, en Baalak contamos con un equipo digital que logra imgenes de alta calidad, de manera instantnea, con menos radiacin y sin generar residuos txicos o contaminantes."}),d.jsx("h1",{className:"text-1xl font-bold mb-4 lg:text-2xl",children:"Terapia Lser"}),d.jsx("p",{className:"text-lg mb-8 lg:text-2xl",children:"El lser teraputico ayuda a aliviar dolores, a recuperarse mas rpido de heridas, cirugas, infecciones, etc. Es una herramienta muy efectiva de rehabilitacin, amigable y placentera para los pacientes."})]}),d.jsx("div",{className:"relative z-10 flex flex-col items-center justify-center py-1 px-2 text-center lg:py-1 lg:px-4",children:d.jsx("button",{className:"rounded-full bg-[#2980b9] uppercase font-semibold p-1",children:d.jsx("a",{href:Dl[2].href,target:"_blank",rel:"noreferrer",className:"text-slate-200 py-2 flex items-center justify-center transition-all hover:text-black",children:"Reserva tu cita"})})})]}),qB=()=>d.jsxs("div",{className:"relative bg-gray-900 text-white items-center",children:[d.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-50 h-full",style:{backgroundImage:"url(/img/services/aesthetics.png)"}}),d.jsx("div",{className:"absolute inset-0 bg-black opacity-50"}),d.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center py-20 px-4 text-center lg:py-20 lg:px-8",children:[d.jsx("h1",{className:"text-4xl font-bold mb-4 lg:text-4xl",children:"Esttica"}),d.jsx("h1",{className:"text-1xl font-bold mb-4 lg:text-2xl",children:"Tus pequeos limpios, guapos y sanos!"}),d.jsx("p",{className:"text-lg mb-8 lg:text-2xl",children:"Contamos con servicio de bao y corte de pelo para el cuidado higinico y la presentacin de tus pequeos."})]}),d.jsx("div",{className:"relative z-10 flex flex-col items-center justify-center py-1 px-2 text-center lg:py-1 lg:px-4",children:d.jsx("button",{className:"rounded-full bg-[#2980b9] uppercase font-semibold p-1",children:d.jsx("a",{href:Dl[2].href,target:"_blank",rel:"noreferrer",className:"text-slate-200 py-2 flex items-center justify-center transition-all hover:text-black",children:"Reserva tu cita"})})})]}),WB=()=>d.jsxs("div",{className:"relative bg-gray-900 text-white items-center",children:[d.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-50 h-full",style:{backgroundImage:"url(/img/services/daycare.png)"}}),d.jsx("div",{className:"absolute inset-0 bg-black opacity-50"}),d.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center py-20 px-4 text-center lg:py-20 lg:px-8",children:[d.jsx("h1",{className:"text-4xl font-bold mb-4 lg:text-4xl",children:"Pensin"}),d.jsx("h1",{className:"text-1xl font-bold mb-4 lg:text-2xl",children:"Se queda en buenas manos"}),d.jsx("p",{className:"text-lg mb-8 lg:text-2xl",children:"Amplios alojamientos, programa de recreos durante el da, alimentacin y cuidados personalizados segn tus indicaciones, reportes diarios y todo lo que nos pidas para tu mejor amigo cuando tienes que salir de viaje o requieras que lo cuidemos."})]}),d.jsx("div",{className:"relative z-10 flex flex-col items-center justify-center py-1 px-2 text-center lg:py-1 lg:px-4",children:d.jsx("button",{className:"rounded-full bg-[#2980b9] uppercase font-semibold p-1",children:d.jsx("a",{href:Dl[2].href,target:"_blank",rel:"noreferrer",className:"text-slate-200 py-2 flex items-center justify-center transition-all hover:text-black",children:"Reserva tu cita"})})})]}),KB=()=>d.jsxs("div",{className:"h-full flex flex-col gap-2",children:[d.jsxs(vt,{to:"/dashboard/productos/new",className:"bg-black text-white flex items-center self-end py-[6px] px-2 rounded-md text-sm gap-1 font-semibold hover:bg-cyan-600",children:[d.jsx(H5,{className:"inline-block"}),"Nuevo Producto"]}),d.jsx(G5,{})]}),JB=()=>d.jsx("div",{children:d.jsx(MN,{titleForm:"Agregar Producto"})}),ZB=()=>d.jsx("div",{children:d.jsx(MN,{titleForm:"Editar Producto"})}),QB=()=>{const{data:t,isLoading:e}=wC();return e||!t?d.jsx(Sr,{}):d.jsxs("div",{className:"space-y-5",children:[d.jsx("h1",{className:"text-2xl font-bold",children:"rdenes"}),d.jsx(Z5,{orders:t})]})},GB=["Producto","Cantidad","Total"],YB=()=>{const t=Ut(),{id:e}=Zu(),{data:r,isLoading:n}=C5(Number(e));return n||!r?d.jsx(Sr,{}):d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("button",{className:"border rounded-full py-2 border-slate-200 px-5 flex items-center justify-center gap-2 text-xs font-medium uppercase tracking-widest hover:bg-stone-100 transition-all",onClick:()=>t(-1),children:[d.jsx(jv,{size:16}),"Volver"]}),d.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[d.jsxs("h1",{className:"text-3xl font-bold",children:["Pedido #",e]}),d.jsx("p",{className:"text-sm",children:rp(r.created_at)})]}),d.jsx("div",{}),d.jsx("div",{})]}),d.jsxs("div",{className:"flex flex-col mt-10 mb-5 gap-10",children:[d.jsxs("table",{className:"text-sm w-full caption-bottom overflow-auto",children:[d.jsx("thead",{className:"border-b border-gray-200 pb-3",children:d.jsx("tr",{className:"text-sm font-bold",children:GB.map((s,i)=>d.jsx("th",{className:"h-12 px-4 text-left",children:s},i))})}),d.jsx("tbody",{className:"[&_tr:last-child]:border-0",children:r.orderItems.map((s,i)=>d.jsxs("tr",{className:"border-b border-gray-200",children:[d.jsxs("td",{className:"p-4 font-medium tracking-tighter flex gap-3 items-center",children:[d.jsx("img",{src:s.productImage,alt:s.productName,className:"h-20 w-20 object-contain rounded-lg"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{children:s.productName}),d.jsxs("p",{className:"text-xs",children:[s.target," / ",s.type," / ",s.kg," kg."]}),d.jsx("p",{className:"text-sm",children:Pt(s.price)})]})]}),d.jsx("td",{className:"p-4 font-medium tracking-tighter text-center",children:s.quantity}),d.jsx("td",{className:"p-4 font-medium tracking-tighter text-center",children:Pt(s.price*s.quantity)})]},i))})]}),d.jsxs("div",{className:"flex flex-col gap-3 text-slate-600 text-sm self-end w-1/2",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("p",{children:"Subtotal"}),d.jsx("p",{children:Pt(r.totalAmount)})]}),d.jsxs("div",{className:"flex justify-between text-black font-semibold",children:[d.jsx("p",{children:"Total"}),d.jsx("p",{children:Pt(r.totalAmount)})]})]}),d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsx("h2",{className:"text-lg font-bold",children:"Direccin"}),d.jsxs("div",{className:"border border-stone-300 p-5 flex flex-col gap-5",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("h3",{className:"font-medium",children:"Cliente:"}),d.jsx("p",{children:r.customer.full_name})]}),d.jsxs("div",{className:"flex flex-col gap-1 text-sm",children:[d.jsx("h3",{className:"font-medium text-base",children:"Envo:"}),d.jsx("p",{children:r.address.addressLine1}),d.jsx("p",{children:r.address.addressLine2&&r.address.addressLine2}),d.jsx("p",{children:r.address.city}),d.jsx("p",{children:r.address.state}),d.jsx("p",{children:r.address.postalCode})]})]})]})]})]})},XB=()=>{const[t,e]=C.useState([]),[r,n]=C.useState(null),[s,i]=C.useState(!0),o=async a=>{if(a.target.files){const{data:l}=N5({e:a});(await l).length>0?(e(await l),n(a.target.files[0].name),i(!1)):(e([]),a.target.value="")}};return d.jsxs(d.Fragment,{children:[s?d.jsx("div",{className:"flex flex-col gap-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h1",{className:"text-2xl font-bold",children:"Envo de mensajes"}),d.jsx("input",{type:"file",id:"inputfile",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",onChange:o,className:"file-input file-input-bordered w-full max-w-xs",hidden:!0}),d.jsxs("label",{htmlFor:"inputfile",className:"bg-black text-white flex items-center self-end py-[6px] px-2 rounded-md text-sm gap-1 font-semibold hover:bg-cyan-600",children:[d.jsx("span",{children:d.jsx("i",{className:"fa fa-cloud-upload fa-2x"})}),d.jsx("p",{children:"Click To Upload List"})]})]})}):d.jsx("div",{className:"flex flex-col gap-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h1",{className:"text-2xl font-bold",children:"Envo de mensajes"}),r&&d.jsxs("label",{children:[d.jsx("span",{children:d.jsx("i",{className:"fa fa-file-excel-o fa-1x",style:{color:"green"}})}),d.jsx("span",{className:"infolabel",style:{width:"230px"},children:`  ${r} (${t?t.length:0} Registros)`})]})]})}),d.jsx("div",{className:"divider bg-gray-200 gap-5 my-5 h-full",children:d.jsx(aB,{clientes:t})})]})},eV=()=>{const{data:t,isLoading:e}=wC();return e||!t?d.jsx(Sr,{}):d.jsx("div",{className:"space-y-5",children:d.jsx("h1",{className:"text-2xl font-bold",children:"Lista de transportes"})})},tV=FP([{path:"/",element:d.jsx(z5,{}),children:[{index:!0,element:d.jsx(yB,{})},{path:"products",element:d.jsx(bB,{})},{path:"products/:slug",element:d.jsx(jB,{})},{path:"nosotros",element:d.jsx(wB,{})},{path:"aviso_de_privacidad",element:d.jsx(zB,{})},{path:"terminos_y_condiciones",element:d.jsx(BB,{})},{path:"login",element:d.jsx(OB,{})},{path:"registro",element:d.jsx(TB,{})},{path:"account",element:d.jsx(q5,{}),children:[{path:"",element:d.jsx(rh,{to:"/account/pedidos"})},{path:"pedidos",element:d.jsx(AB,{})},{path:"pedidos/:id",element:d.jsx($B,{})}]}]},{path:"/checkout",element:d.jsx(RB,{})},{path:"/checkout/:id/thank-you",element:d.jsx(LB,{})},{path:"/dashboard",element:d.jsx(lB,{}),children:[{index:!0,element:d.jsx(rh,{to:"/dashboard/productos"})},{path:"productos",element:d.jsx(KB,{})},{path:"productos/new",element:d.jsx(JB,{})},{path:"productos/editar/:slug",element:d.jsx(ZB,{})},{path:"ordenes",element:d.jsx(QB,{})},{path:"ordenes/:id",element:d.jsx(YB,{})},{path:"mensajes",element:d.jsx(XB,{})},{path:"transportes",element:d.jsx(eV,{})}]}]),rV=new yA;R_(document.getElementById("root")).render(d.jsx(C.StrictMode,{children:d.jsxs(kA,{client:rV,children:[d.jsx(WP,{router:tV}),d.jsx(d5,{})]})}));export{c0 as g};
