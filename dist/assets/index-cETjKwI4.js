var hv=t=>{throw TypeError(t)};var Xh=(t,e,n)=>e.has(t)||hv("Cannot "+n);var S=(t,e,n)=>(Xh(t,e,"read from private field"),n?n.call(t):e.get(t)),oe=(t,e,n)=>e.has(t)?hv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),H=(t,e,n,r)=>(Xh(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ye=(t,e,n)=>(Xh(t,e,"access private method"),n);var Qu=(t,e,n,r)=>({set _(s){H(t,e,s,n)},get _(){return S(t,e,r)}});function nw(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var ir=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function my(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function iN(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var rw={exports:{}},ih={},sw={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bu=Symbol.for("react.element"),oN=Symbol.for("react.portal"),aN=Symbol.for("react.fragment"),lN=Symbol.for("react.strict_mode"),cN=Symbol.for("react.profiler"),uN=Symbol.for("react.provider"),dN=Symbol.for("react.context"),fN=Symbol.for("react.forward_ref"),hN=Symbol.for("react.suspense"),pN=Symbol.for("react.memo"),mN=Symbol.for("react.lazy"),pv=Symbol.iterator;function gN(t){return t===null||typeof t!="object"?null:(t=pv&&t[pv]||t["@@iterator"],typeof t=="function"?t:null)}var iw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ow=Object.assign,aw={};function vl(t,e,n){this.props=t,this.context=e,this.refs=aw,this.updater=n||iw}vl.prototype.isReactComponent={};vl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};vl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lw(){}lw.prototype=vl.prototype;function gy(t,e,n){this.props=t,this.context=e,this.refs=aw,this.updater=n||iw}var yy=gy.prototype=new lw;yy.constructor=gy;ow(yy,vl.prototype);yy.isPureReactComponent=!0;var mv=Array.isArray,cw=Object.prototype.hasOwnProperty,vy={current:null},uw={key:!0,ref:!0,__self:!0,__source:!0};function dw(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)cw.call(e,r)&&!uw.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:bu,type:t,key:i,ref:o,props:s,_owner:vy.current}}function yN(t,e){return{$$typeof:bu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xy(t){return typeof t=="object"&&t!==null&&t.$$typeof===bu}function vN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var gv=/\/+/g;function ep(t,e){return typeof t=="object"&&t!==null&&t.key!=null?vN(""+t.key):e.toString(36)}function Od(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case bu:case oN:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+ep(o,0):r,mv(s)?(n="",t!=null&&(n=t.replace(gv,"$&/")+"/"),Od(s,e,n,"",function(c){return c})):s!=null&&(xy(s)&&(s=yN(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(gv,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",mv(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+ep(i,a);o+=Od(i,e,n,l,s)}else if(l=gN(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+ep(i,a++),o+=Od(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Zu(t,e,n){if(t==null)return t;var r=[],s=0;return Od(t,r,"","",function(i){return e.call(n,i,s++)}),r}function xN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var gn={current:null},jd={transition:null},bN={ReactCurrentDispatcher:gn,ReactCurrentBatchConfig:jd,ReactCurrentOwner:vy};function fw(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:Zu,forEach:function(t,e,n){Zu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zu(t,function(){e++}),e},toArray:function(t){return Zu(t,function(e){return e})||[]},only:function(t){if(!xy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ne.Component=vl;Ne.Fragment=aN;Ne.Profiler=cN;Ne.PureComponent=gy;Ne.StrictMode=lN;Ne.Suspense=hN;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bN;Ne.act=fw;Ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ow({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=vy.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)cw.call(e,l)&&!uw.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:bu,type:t.type,key:s,ref:i,props:r,_owner:o}};Ne.createContext=function(t){return t={$$typeof:dN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:uN,_context:t},t.Consumer=t};Ne.createElement=dw;Ne.createFactory=function(t){var e=dw.bind(null,t);return e.type=t,e};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(t){return{$$typeof:fN,render:t}};Ne.isValidElement=xy;Ne.lazy=function(t){return{$$typeof:mN,_payload:{_status:-1,_result:t},_init:xN}};Ne.memo=function(t,e){return{$$typeof:pN,type:t,compare:e===void 0?null:e}};Ne.startTransition=function(t){var e=jd.transition;jd.transition={};try{t()}finally{jd.transition=e}};Ne.unstable_act=fw;Ne.useCallback=function(t,e){return gn.current.useCallback(t,e)};Ne.useContext=function(t){return gn.current.useContext(t)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(t){return gn.current.useDeferredValue(t)};Ne.useEffect=function(t,e){return gn.current.useEffect(t,e)};Ne.useId=function(){return gn.current.useId()};Ne.useImperativeHandle=function(t,e,n){return gn.current.useImperativeHandle(t,e,n)};Ne.useInsertionEffect=function(t,e){return gn.current.useInsertionEffect(t,e)};Ne.useLayoutEffect=function(t,e){return gn.current.useLayoutEffect(t,e)};Ne.useMemo=function(t,e){return gn.current.useMemo(t,e)};Ne.useReducer=function(t,e,n){return gn.current.useReducer(t,e,n)};Ne.useRef=function(t){return gn.current.useRef(t)};Ne.useState=function(t){return gn.current.useState(t)};Ne.useSyncExternalStore=function(t,e,n){return gn.current.useSyncExternalStore(t,e,n)};Ne.useTransition=function(){return gn.current.useTransition()};Ne.version="18.3.1";sw.exports=Ne;var E=sw.exports;const ce=my(E),wN=nw({__proto__:null,default:ce},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kN=E,SN=Symbol.for("react.element"),_N=Symbol.for("react.fragment"),CN=Object.prototype.hasOwnProperty,EN=kN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NN={key:!0,ref:!0,__self:!0,__source:!0};function hw(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)CN.call(e,r)&&!NN.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:SN,type:t,key:i,ref:o,props:s,_owner:EN.current}}ih.Fragment=_N;ih.jsx=hw;ih.jsxs=hw;rw.exports=ih;var f=rw.exports,pw={exports:{}},Un={},mw={exports:{}},gw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,Y){var me=V.length;V.push(Y);e:for(;0<me;){var Re=me-1>>>1,Ue=V[Re];if(0<s(Ue,Y))V[Re]=Y,V[me]=Ue,me=Re;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var Y=V[0],me=V.pop();if(me!==Y){V[0]=me;e:for(var Re=0,Ue=V.length,zt=Ue>>>1;Re<zt;){var Wt=2*(Re+1)-1,Wn=V[Wt],St=Wt+1,sn=V[St];if(0>s(Wn,me))St<Ue&&0>s(sn,Wn)?(V[Re]=sn,V[St]=me,Re=St):(V[Re]=Wn,V[Wt]=me,Re=Wt);else if(St<Ue&&0>s(sn,me))V[Re]=sn,V[St]=me,Re=St;else break e}}return Y}function s(V,Y){var me=V.sortIndex-Y.sortIndex;return me!==0?me:V.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,m=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(V){for(var Y=n(c);Y!==null;){if(Y.callback===null)r(c);else if(Y.startTime<=V)r(c),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=n(c)}}function k(V){if(y=!1,b(V),!m)if(n(l)!==null)m=!0,Ge(O);else{var Y=n(c);Y!==null&&We(k,Y.startTime-V)}}function O(V,Y){m=!1,y&&(y=!1,v(w),w=-1),p=!0;var me=h;try{for(b(Y),d=n(l);d!==null&&(!(d.expirationTime>Y)||V&&!D());){var Re=d.callback;if(typeof Re=="function"){d.callback=null,h=d.priorityLevel;var Ue=Re(d.expirationTime<=Y);Y=t.unstable_now(),typeof Ue=="function"?d.callback=Ue:d===n(l)&&r(l),b(Y)}else r(l);d=n(l)}if(d!==null)var zt=!0;else{var Wt=n(c);Wt!==null&&We(k,Wt.startTime-Y),zt=!1}return zt}finally{d=null,h=me,p=!1}}var T=!1,j=null,w=-1,A=5,F=-1;function D(){return!(t.unstable_now()-F<A)}function Q(){if(j!==null){var V=t.unstable_now();F=V;var Y=!0;try{Y=j(!0,V)}finally{Y?re():(T=!1,j=null)}}else T=!1}var re;if(typeof g=="function")re=function(){g(Q)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,Ve=pe.port2;pe.port1.onmessage=Q,re=function(){Ve.postMessage(null)}}else re=function(){x(Q,0)};function Ge(V){j=V,T||(T=!0,re())}function We(V,Y){w=x(function(){V(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,Ge(O))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var Y=3;break;default:Y=h}var me=h;h=Y;try{return V()}finally{h=me}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,Y){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var me=h;h=V;try{return Y()}finally{h=me}},t.unstable_scheduleCallback=function(V,Y,me){var Re=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Re+me:Re):me=Re,V){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=me+Ue,V={id:u++,callback:Y,priorityLevel:V,startTime:me,expirationTime:Ue,sortIndex:-1},me>Re?(V.sortIndex=me,e(c,V),n(l)===null&&V===n(c)&&(y?(v(w),w=-1):y=!0,We(k,me-Re))):(V.sortIndex=Ue,e(l,V),m||p||(m=!0,Ge(O))),V},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(V){var Y=h;return function(){var me=h;h=Y;try{return V.apply(this,arguments)}finally{h=me}}}})(gw);mw.exports=gw;var TN=mw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ON=E,$n=TN;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yw=new Set,_c={};function Io(t,e){Za(t,e),Za(t+"Capture",e)}function Za(t,e){for(_c[t]=e,t=0;t<e.length;t++)yw.add(e[t])}var ws=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gm=Object.prototype.hasOwnProperty,jN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yv={},vv={};function MN(t){return gm.call(vv,t)?!0:gm.call(yv,t)?!1:jN.test(t)?vv[t]=!0:(yv[t]=!0,!1)}function PN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function AN(t,e,n,r){if(e===null||typeof e>"u"||PN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function yn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qt[t]=new yn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qt[e]=new yn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qt[t]=new yn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qt[t]=new yn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qt[t]=new yn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qt[t]=new yn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qt[t]=new yn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qt[t]=new yn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qt[t]=new yn(t,5,!1,t.toLowerCase(),null,!1,!1)});var by=/[\-:]([a-z])/g;function wy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(by,wy);qt[e]=new yn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(by,wy);qt[e]=new yn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(by,wy);qt[e]=new yn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qt[t]=new yn(t,1,!1,t.toLowerCase(),null,!1,!1)});qt.xlinkHref=new yn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qt[t]=new yn(t,1,!1,t.toLowerCase(),null,!0,!0)});function ky(t,e,n,r){var s=qt.hasOwnProperty(e)?qt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(AN(e,n,s,r)&&(n=null),r||s===null?MN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Os=ON.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gu=Symbol.for("react.element"),ia=Symbol.for("react.portal"),oa=Symbol.for("react.fragment"),Sy=Symbol.for("react.strict_mode"),ym=Symbol.for("react.profiler"),vw=Symbol.for("react.provider"),xw=Symbol.for("react.context"),_y=Symbol.for("react.forward_ref"),vm=Symbol.for("react.suspense"),xm=Symbol.for("react.suspense_list"),Cy=Symbol.for("react.memo"),Bs=Symbol.for("react.lazy"),bw=Symbol.for("react.offscreen"),xv=Symbol.iterator;function Al(t){return t===null||typeof t!="object"?null:(t=xv&&t[xv]||t["@@iterator"],typeof t=="function"?t:null)}var at=Object.assign,tp;function Gl(t){if(tp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);tp=e&&e[1]||""}return`
`+tp+t}var np=!1;function rp(t,e){if(!t||np)return"";np=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{np=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Gl(t):""}function RN(t){switch(t.tag){case 5:return Gl(t.type);case 16:return Gl("Lazy");case 13:return Gl("Suspense");case 19:return Gl("SuspenseList");case 0:case 2:case 15:return t=rp(t.type,!1),t;case 11:return t=rp(t.type.render,!1),t;case 1:return t=rp(t.type,!0),t;default:return""}}function bm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case oa:return"Fragment";case ia:return"Portal";case ym:return"Profiler";case Sy:return"StrictMode";case vm:return"Suspense";case xm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case xw:return(t.displayName||"Context")+".Consumer";case vw:return(t._context.displayName||"Context")+".Provider";case _y:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cy:return e=t.displayName||null,e!==null?e:bm(t.type)||"Memo";case Bs:e=t._payload,t=t._init;try{return bm(t(e))}catch{}}return null}function IN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bm(e);case 8:return e===Sy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ci(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ww(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function DN(t){var e=ww(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Yu(t){t._valueTracker||(t._valueTracker=DN(t))}function kw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ww(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Yd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wm(t,e){var n=e.checked;return at({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function bv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ci(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Sw(t,e){e=e.checked,e!=null&&ky(t,"checked",e,!1)}function km(t,e){Sw(t,e);var n=Ci(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Sm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Sm(t,e.type,Ci(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function wv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Sm(t,e,n){(e!=="number"||Yd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Yl=Array.isArray;function ka(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ci(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function _m(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return at({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function kv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Yl(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ci(n)}}function _w(t,e){var n=Ci(e.value),r=Ci(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Sv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Cw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Cw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xu,Ew=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xu=Xu||document.createElement("div"),Xu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Cc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var cc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},LN=["Webkit","ms","Moz","O"];Object.keys(cc).forEach(function(t){LN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),cc[e]=cc[t]})});function Nw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||cc.hasOwnProperty(t)&&cc[t]?(""+e).trim():e+"px"}function Tw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Nw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var FN=at({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Em(t,e){if(e){if(FN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Nm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tm=null;function Ey(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Om=null,Sa=null,_a=null;function _v(t){if(t=Su(t)){if(typeof Om!="function")throw Error(z(280));var e=t.stateNode;e&&(e=uh(e),Om(t.stateNode,t.type,e))}}function Ow(t){Sa?_a?_a.push(t):_a=[t]:Sa=t}function jw(){if(Sa){var t=Sa,e=_a;if(_a=Sa=null,_v(t),e)for(t=0;t<e.length;t++)_v(e[t])}}function Mw(t,e){return t(e)}function Pw(){}var sp=!1;function Aw(t,e,n){if(sp)return t(e,n);sp=!0;try{return Mw(t,e,n)}finally{sp=!1,(Sa!==null||_a!==null)&&(Pw(),jw())}}function Ec(t,e){var n=t.stateNode;if(n===null)return null;var r=uh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var jm=!1;if(ws)try{var Rl={};Object.defineProperty(Rl,"passive",{get:function(){jm=!0}}),window.addEventListener("test",Rl,Rl),window.removeEventListener("test",Rl,Rl)}catch{jm=!1}function zN(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var uc=!1,Xd=null,ef=!1,Mm=null,$N={onError:function(t){uc=!0,Xd=t}};function BN(t,e,n,r,s,i,o,a,l){uc=!1,Xd=null,zN.apply($N,arguments)}function VN(t,e,n,r,s,i,o,a,l){if(BN.apply(this,arguments),uc){if(uc){var c=Xd;uc=!1,Xd=null}else throw Error(z(198));ef||(ef=!0,Mm=c)}}function Do(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Rw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Cv(t){if(Do(t)!==t)throw Error(z(188))}function UN(t){var e=t.alternate;if(!e){if(e=Do(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Cv(s),t;if(i===r)return Cv(s),e;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function Iw(t){return t=UN(t),t!==null?Dw(t):null}function Dw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Dw(t);if(e!==null)return e;t=t.sibling}return null}var Lw=$n.unstable_scheduleCallback,Ev=$n.unstable_cancelCallback,HN=$n.unstable_shouldYield,qN=$n.unstable_requestPaint,gt=$n.unstable_now,WN=$n.unstable_getCurrentPriorityLevel,Ny=$n.unstable_ImmediatePriority,Fw=$n.unstable_UserBlockingPriority,tf=$n.unstable_NormalPriority,KN=$n.unstable_LowPriority,zw=$n.unstable_IdlePriority,oh=null,Vr=null;function JN(t){if(Vr&&typeof Vr.onCommitFiberRoot=="function")try{Vr.onCommitFiberRoot(oh,t,void 0,(t.current.flags&128)===128)}catch{}}var Sr=Math.clz32?Math.clz32:GN,QN=Math.log,ZN=Math.LN2;function GN(t){return t>>>=0,t===0?32:31-(QN(t)/ZN|0)|0}var ed=64,td=4194304;function Xl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function nf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Xl(a):(i&=o,i!==0&&(r=Xl(i)))}else o=n&~s,o!==0?r=Xl(o):i!==0&&(r=Xl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Sr(e),s=1<<n,r|=t[n],e&=~s;return r}function YN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Sr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=YN(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Pm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $w(){var t=ed;return ed<<=1,!(ed&4194240)&&(ed=64),t}function ip(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function wu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Sr(e),t[e]=n}function e2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Sr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Ty(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Sr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Be=0;function Bw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Vw,Oy,Uw,Hw,qw,Am=!1,nd=[],hi=null,pi=null,mi=null,Nc=new Map,Tc=new Map,Ws=[],t2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nv(t,e){switch(t){case"focusin":case"focusout":hi=null;break;case"dragenter":case"dragleave":pi=null;break;case"mouseover":case"mouseout":mi=null;break;case"pointerover":case"pointerout":Nc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tc.delete(e.pointerId)}}function Il(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Su(e),e!==null&&Oy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function n2(t,e,n,r,s){switch(e){case"focusin":return hi=Il(hi,t,e,n,r,s),!0;case"dragenter":return pi=Il(pi,t,e,n,r,s),!0;case"mouseover":return mi=Il(mi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Nc.set(i,Il(Nc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Tc.set(i,Il(Tc.get(i)||null,t,e,n,r,s)),!0}return!1}function Ww(t){var e=Zi(t.target);if(e!==null){var n=Do(e);if(n!==null){if(e=n.tag,e===13){if(e=Rw(n),e!==null){t.blockedOn=e,qw(t.priority,function(){Uw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Md(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Rm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Tm=r,n.target.dispatchEvent(r),Tm=null}else return e=Su(n),e!==null&&Oy(e),t.blockedOn=n,!1;e.shift()}return!0}function Tv(t,e,n){Md(t)&&n.delete(e)}function r2(){Am=!1,hi!==null&&Md(hi)&&(hi=null),pi!==null&&Md(pi)&&(pi=null),mi!==null&&Md(mi)&&(mi=null),Nc.forEach(Tv),Tc.forEach(Tv)}function Dl(t,e){t.blockedOn===e&&(t.blockedOn=null,Am||(Am=!0,$n.unstable_scheduleCallback($n.unstable_NormalPriority,r2)))}function Oc(t){function e(s){return Dl(s,t)}if(0<nd.length){Dl(nd[0],t);for(var n=1;n<nd.length;n++){var r=nd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(hi!==null&&Dl(hi,t),pi!==null&&Dl(pi,t),mi!==null&&Dl(mi,t),Nc.forEach(e),Tc.forEach(e),n=0;n<Ws.length;n++)r=Ws[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ws.length&&(n=Ws[0],n.blockedOn===null);)Ww(n),n.blockedOn===null&&Ws.shift()}var Ca=Os.ReactCurrentBatchConfig,rf=!0;function s2(t,e,n,r){var s=Be,i=Ca.transition;Ca.transition=null;try{Be=1,jy(t,e,n,r)}finally{Be=s,Ca.transition=i}}function i2(t,e,n,r){var s=Be,i=Ca.transition;Ca.transition=null;try{Be=4,jy(t,e,n,r)}finally{Be=s,Ca.transition=i}}function jy(t,e,n,r){if(rf){var s=Rm(t,e,n,r);if(s===null)mp(t,e,r,sf,n),Nv(t,r);else if(n2(s,t,e,n,r))r.stopPropagation();else if(Nv(t,r),e&4&&-1<t2.indexOf(t)){for(;s!==null;){var i=Su(s);if(i!==null&&Vw(i),i=Rm(t,e,n,r),i===null&&mp(t,e,r,sf,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else mp(t,e,r,null,n)}}var sf=null;function Rm(t,e,n,r){if(sf=null,t=Ey(r),t=Zi(t),t!==null)if(e=Do(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Rw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return sf=t,null}function Kw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(WN()){case Ny:return 1;case Fw:return 4;case tf:case KN:return 16;case zw:return 536870912;default:return 16}default:return 16}}var ai=null,My=null,Pd=null;function Jw(){if(Pd)return Pd;var t,e=My,n=e.length,r,s="value"in ai?ai.value:ai.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Pd=s.slice(t,1<r?1-r:void 0)}function Ad(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function rd(){return!0}function Ov(){return!1}function Hn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?rd:Ov,this.isPropagationStopped=Ov,this}return at(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rd)},persist:function(){},isPersistent:rd}),e}var xl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Py=Hn(xl),ku=at({},xl,{view:0,detail:0}),o2=Hn(ku),op,ap,Ll,ah=at({},ku,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ay,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ll&&(Ll&&t.type==="mousemove"?(op=t.screenX-Ll.screenX,ap=t.screenY-Ll.screenY):ap=op=0,Ll=t),op)},movementY:function(t){return"movementY"in t?t.movementY:ap}}),jv=Hn(ah),a2=at({},ah,{dataTransfer:0}),l2=Hn(a2),c2=at({},ku,{relatedTarget:0}),lp=Hn(c2),u2=at({},xl,{animationName:0,elapsedTime:0,pseudoElement:0}),d2=Hn(u2),f2=at({},xl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),h2=Hn(f2),p2=at({},xl,{data:0}),Mv=Hn(p2),m2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},g2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function v2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=y2[t])?!!e[t]:!1}function Ay(){return v2}var x2=at({},ku,{key:function(t){if(t.key){var e=m2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ad(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?g2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ay,charCode:function(t){return t.type==="keypress"?Ad(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ad(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),b2=Hn(x2),w2=at({},ah,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pv=Hn(w2),k2=at({},ku,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ay}),S2=Hn(k2),_2=at({},xl,{propertyName:0,elapsedTime:0,pseudoElement:0}),C2=Hn(_2),E2=at({},ah,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),N2=Hn(E2),T2=[9,13,27,32],Ry=ws&&"CompositionEvent"in window,dc=null;ws&&"documentMode"in document&&(dc=document.documentMode);var O2=ws&&"TextEvent"in window&&!dc,Qw=ws&&(!Ry||dc&&8<dc&&11>=dc),Av=" ",Rv=!1;function Zw(t,e){switch(t){case"keyup":return T2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var aa=!1;function j2(t,e){switch(t){case"compositionend":return Gw(e);case"keypress":return e.which!==32?null:(Rv=!0,Av);case"textInput":return t=e.data,t===Av&&Rv?null:t;default:return null}}function M2(t,e){if(aa)return t==="compositionend"||!Ry&&Zw(t,e)?(t=Jw(),Pd=My=ai=null,aa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Qw&&e.locale!=="ko"?null:e.data;default:return null}}var P2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Iv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!P2[t.type]:e==="textarea"}function Yw(t,e,n,r){Ow(r),e=of(e,"onChange"),0<e.length&&(n=new Py("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var fc=null,jc=null;function A2(t){ck(t,0)}function lh(t){var e=ua(t);if(kw(e))return t}function R2(t,e){if(t==="change")return e}var Xw=!1;if(ws){var cp;if(ws){var up="oninput"in document;if(!up){var Dv=document.createElement("div");Dv.setAttribute("oninput","return;"),up=typeof Dv.oninput=="function"}cp=up}else cp=!1;Xw=cp&&(!document.documentMode||9<document.documentMode)}function Lv(){fc&&(fc.detachEvent("onpropertychange",ek),jc=fc=null)}function ek(t){if(t.propertyName==="value"&&lh(jc)){var e=[];Yw(e,jc,t,Ey(t)),Aw(A2,e)}}function I2(t,e,n){t==="focusin"?(Lv(),fc=e,jc=n,fc.attachEvent("onpropertychange",ek)):t==="focusout"&&Lv()}function D2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lh(jc)}function L2(t,e){if(t==="click")return lh(e)}function F2(t,e){if(t==="input"||t==="change")return lh(e)}function z2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nr=typeof Object.is=="function"?Object.is:z2;function Mc(t,e){if(Nr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!gm.call(e,s)||!Nr(t[s],e[s]))return!1}return!0}function Fv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zv(t,e){var n=Fv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fv(n)}}function tk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?tk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function nk(){for(var t=window,e=Yd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Yd(t.document)}return e}function Iy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function $2(t){var e=nk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&tk(n.ownerDocument.documentElement,n)){if(r!==null&&Iy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=zv(n,i);var o=zv(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var B2=ws&&"documentMode"in document&&11>=document.documentMode,la=null,Im=null,hc=null,Dm=!1;function $v(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Dm||la==null||la!==Yd(r)||(r=la,"selectionStart"in r&&Iy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hc&&Mc(hc,r)||(hc=r,r=of(Im,"onSelect"),0<r.length&&(e=new Py("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=la)))}function sd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ca={animationend:sd("Animation","AnimationEnd"),animationiteration:sd("Animation","AnimationIteration"),animationstart:sd("Animation","AnimationStart"),transitionend:sd("Transition","TransitionEnd")},dp={},rk={};ws&&(rk=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function ch(t){if(dp[t])return dp[t];if(!ca[t])return t;var e=ca[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in rk)return dp[t]=e[n];return t}var sk=ch("animationend"),ik=ch("animationiteration"),ok=ch("animationstart"),ak=ch("transitionend"),lk=new Map,Bv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pi(t,e){lk.set(t,e),Io(e,[t])}for(var fp=0;fp<Bv.length;fp++){var hp=Bv[fp],V2=hp.toLowerCase(),U2=hp[0].toUpperCase()+hp.slice(1);Pi(V2,"on"+U2)}Pi(sk,"onAnimationEnd");Pi(ik,"onAnimationIteration");Pi(ok,"onAnimationStart");Pi("dblclick","onDoubleClick");Pi("focusin","onFocus");Pi("focusout","onBlur");Pi(ak,"onTransitionEnd");Za("onMouseEnter",["mouseout","mouseover"]);Za("onMouseLeave",["mouseout","mouseover"]);Za("onPointerEnter",["pointerout","pointerover"]);Za("onPointerLeave",["pointerout","pointerover"]);Io("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Io("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Io("onBeforeInput",["compositionend","keypress","textInput","paste"]);Io("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Io("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Io("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ec="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),H2=new Set("cancel close invalid load scroll toggle".split(" ").concat(ec));function Vv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,VN(r,e,void 0,t),t.currentTarget=null}function ck(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Vv(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Vv(s,a,c),i=l}}}if(ef)throw t=Mm,ef=!1,Mm=null,t}function Xe(t,e){var n=e[Bm];n===void 0&&(n=e[Bm]=new Set);var r=t+"__bubble";n.has(r)||(uk(e,t,2,!1),n.add(r))}function pp(t,e,n){var r=0;e&&(r|=4),uk(n,t,r,e)}var id="_reactListening"+Math.random().toString(36).slice(2);function Pc(t){if(!t[id]){t[id]=!0,yw.forEach(function(n){n!=="selectionchange"&&(H2.has(n)||pp(n,!1,t),pp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[id]||(e[id]=!0,pp("selectionchange",!1,e))}}function uk(t,e,n,r){switch(Kw(e)){case 1:var s=s2;break;case 4:s=i2;break;default:s=jy}n=s.bind(null,e,n,t),s=void 0,!jm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function mp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Zi(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Aw(function(){var c=i,u=Ey(n),d=[];e:{var h=lk.get(t);if(h!==void 0){var p=Py,m=t;switch(t){case"keypress":if(Ad(n)===0)break e;case"keydown":case"keyup":p=b2;break;case"focusin":m="focus",p=lp;break;case"focusout":m="blur",p=lp;break;case"beforeblur":case"afterblur":p=lp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=jv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=l2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=S2;break;case sk:case ik:case ok:p=d2;break;case ak:p=C2;break;case"scroll":p=o2;break;case"wheel":p=N2;break;case"copy":case"cut":case"paste":p=h2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Pv}var y=(e&4)!==0,x=!y&&t==="scroll",v=y?h!==null?h+"Capture":null:h;y=[];for(var g=c,b;g!==null;){b=g;var k=b.stateNode;if(b.tag===5&&k!==null&&(b=k,v!==null&&(k=Ec(g,v),k!=null&&y.push(Ac(g,k,b)))),x)break;g=g.return}0<y.length&&(h=new p(h,m,null,n,u),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==Tm&&(m=n.relatedTarget||n.fromElement)&&(Zi(m)||m[ks]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?Zi(m):null,m!==null&&(x=Do(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(y=jv,k="onMouseLeave",v="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(y=Pv,k="onPointerLeave",v="onPointerEnter",g="pointer"),x=p==null?h:ua(p),b=m==null?h:ua(m),h=new y(k,g+"leave",p,n,u),h.target=x,h.relatedTarget=b,k=null,Zi(u)===c&&(y=new y(v,g+"enter",m,n,u),y.target=b,y.relatedTarget=x,k=y),x=k,p&&m)t:{for(y=p,v=m,g=0,b=y;b;b=Wo(b))g++;for(b=0,k=v;k;k=Wo(k))b++;for(;0<g-b;)y=Wo(y),g--;for(;0<b-g;)v=Wo(v),b--;for(;g--;){if(y===v||v!==null&&y===v.alternate)break t;y=Wo(y),v=Wo(v)}y=null}else y=null;p!==null&&Uv(d,h,p,y,!1),m!==null&&x!==null&&Uv(d,x,m,y,!0)}}e:{if(h=c?ua(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var O=R2;else if(Iv(h))if(Xw)O=F2;else{O=D2;var T=I2}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(O=L2);if(O&&(O=O(t,c))){Yw(d,O,n,u);break e}T&&T(t,h,c),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&Sm(h,"number",h.value)}switch(T=c?ua(c):window,t){case"focusin":(Iv(T)||T.contentEditable==="true")&&(la=T,Im=c,hc=null);break;case"focusout":hc=Im=la=null;break;case"mousedown":Dm=!0;break;case"contextmenu":case"mouseup":case"dragend":Dm=!1,$v(d,n,u);break;case"selectionchange":if(B2)break;case"keydown":case"keyup":$v(d,n,u)}var j;if(Ry)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else aa?Zw(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(Qw&&n.locale!=="ko"&&(aa||w!=="onCompositionStart"?w==="onCompositionEnd"&&aa&&(j=Jw()):(ai=u,My="value"in ai?ai.value:ai.textContent,aa=!0)),T=of(c,w),0<T.length&&(w=new Mv(w,t,null,n,u),d.push({event:w,listeners:T}),j?w.data=j:(j=Gw(n),j!==null&&(w.data=j)))),(j=O2?j2(t,n):M2(t,n))&&(c=of(c,"onBeforeInput"),0<c.length&&(u=new Mv("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=j))}ck(d,e)})}function Ac(t,e,n){return{instance:t,listener:e,currentTarget:n}}function of(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ec(t,n),i!=null&&r.unshift(Ac(t,i,s)),i=Ec(t,e),i!=null&&r.push(Ac(t,i,s))),t=t.return}return r}function Wo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Uv(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Ec(n,i),l!=null&&o.unshift(Ac(n,l,a))):s||(l=Ec(n,i),l!=null&&o.push(Ac(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var q2=/\r\n?/g,W2=/\u0000|\uFFFD/g;function Hv(t){return(typeof t=="string"?t:""+t).replace(q2,`
`).replace(W2,"")}function od(t,e,n){if(e=Hv(e),Hv(t)!==e&&n)throw Error(z(425))}function af(){}var Lm=null,Fm=null;function zm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $m=typeof setTimeout=="function"?setTimeout:void 0,K2=typeof clearTimeout=="function"?clearTimeout:void 0,qv=typeof Promise=="function"?Promise:void 0,J2=typeof queueMicrotask=="function"?queueMicrotask:typeof qv<"u"?function(t){return qv.resolve(null).then(t).catch(Q2)}:$m;function Q2(t){setTimeout(function(){throw t})}function gp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Oc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Oc(e)}function gi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Wv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var bl=Math.random().toString(36).slice(2),zr="__reactFiber$"+bl,Rc="__reactProps$"+bl,ks="__reactContainer$"+bl,Bm="__reactEvents$"+bl,Z2="__reactListeners$"+bl,G2="__reactHandles$"+bl;function Zi(t){var e=t[zr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ks]||n[zr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Wv(t);t!==null;){if(n=t[zr])return n;t=Wv(t)}return e}t=n,n=t.parentNode}return null}function Su(t){return t=t[zr]||t[ks],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ua(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function uh(t){return t[Rc]||null}var Vm=[],da=-1;function Ai(t){return{current:t}}function et(t){0>da||(t.current=Vm[da],Vm[da]=null,da--)}function Ze(t,e){da++,Vm[da]=t.current,t.current=e}var Ei={},en=Ai(Ei),_n=Ai(!1),So=Ei;function Ga(t,e){var n=t.type.contextTypes;if(!n)return Ei;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Cn(t){return t=t.childContextTypes,t!=null}function lf(){et(_n),et(en)}function Kv(t,e,n){if(en.current!==Ei)throw Error(z(168));Ze(en,e),Ze(_n,n)}function dk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,IN(t)||"Unknown",s));return at({},n,r)}function cf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ei,So=en.current,Ze(en,t),Ze(_n,_n.current),!0}function Jv(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=dk(t,e,So),r.__reactInternalMemoizedMergedChildContext=t,et(_n),et(en),Ze(en,t)):et(_n),Ze(_n,n)}var hs=null,dh=!1,yp=!1;function fk(t){hs===null?hs=[t]:hs.push(t)}function Y2(t){dh=!0,fk(t)}function Ri(){if(!yp&&hs!==null){yp=!0;var t=0,e=Be;try{var n=hs;for(Be=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}hs=null,dh=!1}catch(s){throw hs!==null&&(hs=hs.slice(t+1)),Lw(Ny,Ri),s}finally{Be=e,yp=!1}}return null}var fa=[],ha=0,uf=null,df=0,Zn=[],Gn=0,_o=null,ms=1,gs="";function Ui(t,e){fa[ha++]=df,fa[ha++]=uf,uf=t,df=e}function hk(t,e,n){Zn[Gn++]=ms,Zn[Gn++]=gs,Zn[Gn++]=_o,_o=t;var r=ms;t=gs;var s=32-Sr(r)-1;r&=~(1<<s),n+=1;var i=32-Sr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ms=1<<32-Sr(e)+s|n<<s|r,gs=i+t}else ms=1<<i|n<<s|r,gs=t}function Dy(t){t.return!==null&&(Ui(t,1),hk(t,1,0))}function Ly(t){for(;t===uf;)uf=fa[--ha],fa[ha]=null,df=fa[--ha],fa[ha]=null;for(;t===_o;)_o=Zn[--Gn],Zn[Gn]=null,gs=Zn[--Gn],Zn[Gn]=null,ms=Zn[--Gn],Zn[Gn]=null}var Ln=null,In=null,nt=!1,yr=null;function pk(t,e){var n=tr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Qv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ln=t,In=gi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ln=t,In=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=_o!==null?{id:ms,overflow:gs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=tr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ln=t,In=null,!0):!1;default:return!1}}function Um(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Hm(t){if(nt){var e=In;if(e){var n=e;if(!Qv(t,e)){if(Um(t))throw Error(z(418));e=gi(n.nextSibling);var r=Ln;e&&Qv(t,e)?pk(r,n):(t.flags=t.flags&-4097|2,nt=!1,Ln=t)}}else{if(Um(t))throw Error(z(418));t.flags=t.flags&-4097|2,nt=!1,Ln=t}}}function Zv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ln=t}function ad(t){if(t!==Ln)return!1;if(!nt)return Zv(t),nt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zm(t.type,t.memoizedProps)),e&&(e=In)){if(Um(t))throw mk(),Error(z(418));for(;e;)pk(t,e),e=gi(e.nextSibling)}if(Zv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){In=gi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}In=null}}else In=Ln?gi(t.stateNode.nextSibling):null;return!0}function mk(){for(var t=In;t;)t=gi(t.nextSibling)}function Ya(){In=Ln=null,nt=!1}function Fy(t){yr===null?yr=[t]:yr.push(t)}var X2=Os.ReactCurrentBatchConfig;function Fl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function ld(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Gv(t){var e=t._init;return e(t._payload)}function gk(t){function e(v,g){if(t){var b=v.deletions;b===null?(v.deletions=[g],v.flags|=16):b.push(g)}}function n(v,g){if(!t)return null;for(;g!==null;)e(v,g),g=g.sibling;return null}function r(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function s(v,g){return v=bi(v,g),v.index=0,v.sibling=null,v}function i(v,g,b){return v.index=b,t?(b=v.alternate,b!==null?(b=b.index,b<g?(v.flags|=2,g):b):(v.flags|=2,g)):(v.flags|=1048576,g)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,g,b,k){return g===null||g.tag!==6?(g=_p(b,v.mode,k),g.return=v,g):(g=s(g,b),g.return=v,g)}function l(v,g,b,k){var O=b.type;return O===oa?u(v,g,b.props.children,k,b.key):g!==null&&(g.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Bs&&Gv(O)===g.type)?(k=s(g,b.props),k.ref=Fl(v,g,b),k.return=v,k):(k=$d(b.type,b.key,b.props,null,v.mode,k),k.ref=Fl(v,g,b),k.return=v,k)}function c(v,g,b,k){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=Cp(b,v.mode,k),g.return=v,g):(g=s(g,b.children||[]),g.return=v,g)}function u(v,g,b,k,O){return g===null||g.tag!==7?(g=mo(b,v.mode,k,O),g.return=v,g):(g=s(g,b),g.return=v,g)}function d(v,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=_p(""+g,v.mode,b),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Gu:return b=$d(g.type,g.key,g.props,null,v.mode,b),b.ref=Fl(v,null,g),b.return=v,b;case ia:return g=Cp(g,v.mode,b),g.return=v,g;case Bs:var k=g._init;return d(v,k(g._payload),b)}if(Yl(g)||Al(g))return g=mo(g,v.mode,b,null),g.return=v,g;ld(v,g)}return null}function h(v,g,b,k){var O=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return O!==null?null:a(v,g,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Gu:return b.key===O?l(v,g,b,k):null;case ia:return b.key===O?c(v,g,b,k):null;case Bs:return O=b._init,h(v,g,O(b._payload),k)}if(Yl(b)||Al(b))return O!==null?null:u(v,g,b,k,null);ld(v,b)}return null}function p(v,g,b,k,O){if(typeof k=="string"&&k!==""||typeof k=="number")return v=v.get(b)||null,a(g,v,""+k,O);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Gu:return v=v.get(k.key===null?b:k.key)||null,l(g,v,k,O);case ia:return v=v.get(k.key===null?b:k.key)||null,c(g,v,k,O);case Bs:var T=k._init;return p(v,g,b,T(k._payload),O)}if(Yl(k)||Al(k))return v=v.get(b)||null,u(g,v,k,O,null);ld(g,k)}return null}function m(v,g,b,k){for(var O=null,T=null,j=g,w=g=0,A=null;j!==null&&w<b.length;w++){j.index>w?(A=j,j=null):A=j.sibling;var F=h(v,j,b[w],k);if(F===null){j===null&&(j=A);break}t&&j&&F.alternate===null&&e(v,j),g=i(F,g,w),T===null?O=F:T.sibling=F,T=F,j=A}if(w===b.length)return n(v,j),nt&&Ui(v,w),O;if(j===null){for(;w<b.length;w++)j=d(v,b[w],k),j!==null&&(g=i(j,g,w),T===null?O=j:T.sibling=j,T=j);return nt&&Ui(v,w),O}for(j=r(v,j);w<b.length;w++)A=p(j,v,w,b[w],k),A!==null&&(t&&A.alternate!==null&&j.delete(A.key===null?w:A.key),g=i(A,g,w),T===null?O=A:T.sibling=A,T=A);return t&&j.forEach(function(D){return e(v,D)}),nt&&Ui(v,w),O}function y(v,g,b,k){var O=Al(b);if(typeof O!="function")throw Error(z(150));if(b=O.call(b),b==null)throw Error(z(151));for(var T=O=null,j=g,w=g=0,A=null,F=b.next();j!==null&&!F.done;w++,F=b.next()){j.index>w?(A=j,j=null):A=j.sibling;var D=h(v,j,F.value,k);if(D===null){j===null&&(j=A);break}t&&j&&D.alternate===null&&e(v,j),g=i(D,g,w),T===null?O=D:T.sibling=D,T=D,j=A}if(F.done)return n(v,j),nt&&Ui(v,w),O;if(j===null){for(;!F.done;w++,F=b.next())F=d(v,F.value,k),F!==null&&(g=i(F,g,w),T===null?O=F:T.sibling=F,T=F);return nt&&Ui(v,w),O}for(j=r(v,j);!F.done;w++,F=b.next())F=p(j,v,w,F.value,k),F!==null&&(t&&F.alternate!==null&&j.delete(F.key===null?w:F.key),g=i(F,g,w),T===null?O=F:T.sibling=F,T=F);return t&&j.forEach(function(Q){return e(v,Q)}),nt&&Ui(v,w),O}function x(v,g,b,k){if(typeof b=="object"&&b!==null&&b.type===oa&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Gu:e:{for(var O=b.key,T=g;T!==null;){if(T.key===O){if(O=b.type,O===oa){if(T.tag===7){n(v,T.sibling),g=s(T,b.props.children),g.return=v,v=g;break e}}else if(T.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Bs&&Gv(O)===T.type){n(v,T.sibling),g=s(T,b.props),g.ref=Fl(v,T,b),g.return=v,v=g;break e}n(v,T);break}else e(v,T);T=T.sibling}b.type===oa?(g=mo(b.props.children,v.mode,k,b.key),g.return=v,v=g):(k=$d(b.type,b.key,b.props,null,v.mode,k),k.ref=Fl(v,g,b),k.return=v,v=k)}return o(v);case ia:e:{for(T=b.key;g!==null;){if(g.key===T)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){n(v,g.sibling),g=s(g,b.children||[]),g.return=v,v=g;break e}else{n(v,g);break}else e(v,g);g=g.sibling}g=Cp(b,v.mode,k),g.return=v,v=g}return o(v);case Bs:return T=b._init,x(v,g,T(b._payload),k)}if(Yl(b))return m(v,g,b,k);if(Al(b))return y(v,g,b,k);ld(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(n(v,g.sibling),g=s(g,b),g.return=v,v=g):(n(v,g),g=_p(b,v.mode,k),g.return=v,v=g),o(v)):n(v,g)}return x}var Xa=gk(!0),yk=gk(!1),ff=Ai(null),hf=null,pa=null,zy=null;function $y(){zy=pa=hf=null}function By(t){var e=ff.current;et(ff),t._currentValue=e}function qm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ea(t,e){hf=t,zy=pa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(kn=!0),t.firstContext=null)}function or(t){var e=t._currentValue;if(zy!==t)if(t={context:t,memoizedValue:e,next:null},pa===null){if(hf===null)throw Error(z(308));pa=t,hf.dependencies={lanes:0,firstContext:t}}else pa=pa.next=t;return e}var Gi=null;function Vy(t){Gi===null?Gi=[t]:Gi.push(t)}function vk(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Vy(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ss(t,r)}function Ss(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Vs=!1;function Uy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ys(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function yi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ae&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ss(t,n)}return s=r.interleaved,s===null?(e.next=e,Vy(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ss(t,n)}function Rd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ty(t,n)}}function Yv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function pf(t,e,n,r){var s=t.updateQueue;Vs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,u=c=l=null,a=i;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,y=a;switch(h=e,p=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=at({},d,h);break e;case 2:Vs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Eo|=o,t.lanes=o,t.memoizedState=d}}function Xv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var _u={},Ur=Ai(_u),Ic=Ai(_u),Dc=Ai(_u);function Yi(t){if(t===_u)throw Error(z(174));return t}function Hy(t,e){switch(Ze(Dc,e),Ze(Ic,t),Ze(Ur,_u),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Cm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Cm(e,t)}et(Ur),Ze(Ur,e)}function el(){et(Ur),et(Ic),et(Dc)}function bk(t){Yi(Dc.current);var e=Yi(Ur.current),n=Cm(e,t.type);e!==n&&(Ze(Ic,t),Ze(Ur,n))}function qy(t){Ic.current===t&&(et(Ur),et(Ic))}var it=Ai(0);function mf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var vp=[];function Wy(){for(var t=0;t<vp.length;t++)vp[t]._workInProgressVersionPrimary=null;vp.length=0}var Id=Os.ReactCurrentDispatcher,xp=Os.ReactCurrentBatchConfig,Co=0,ot=null,_t=null,Pt=null,gf=!1,pc=!1,Lc=0,eT=0;function Kt(){throw Error(z(321))}function Ky(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nr(t[n],e[n]))return!1;return!0}function Jy(t,e,n,r,s,i){if(Co=i,ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Id.current=t===null||t.memoizedState===null?sT:iT,t=n(r,s),pc){i=0;do{if(pc=!1,Lc=0,25<=i)throw Error(z(301));i+=1,Pt=_t=null,e.updateQueue=null,Id.current=oT,t=n(r,s)}while(pc)}if(Id.current=yf,e=_t!==null&&_t.next!==null,Co=0,Pt=_t=ot=null,gf=!1,e)throw Error(z(300));return t}function Qy(){var t=Lc!==0;return Lc=0,t}function Pr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?ot.memoizedState=Pt=t:Pt=Pt.next=t,Pt}function ar(){if(_t===null){var t=ot.alternate;t=t!==null?t.memoizedState:null}else t=_t.next;var e=Pt===null?ot.memoizedState:Pt.next;if(e!==null)Pt=e,_t=t;else{if(t===null)throw Error(z(310));_t=t,t={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Pt===null?ot.memoizedState=Pt=t:Pt=Pt.next=t}return Pt}function Fc(t,e){return typeof e=="function"?e(t):e}function bp(t){var e=ar(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=_t,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((Co&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,ot.lanes|=u,Eo|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Nr(r,e.memoizedState)||(kn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ot.lanes|=i,Eo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function wp(t){var e=ar(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Nr(i,e.memoizedState)||(kn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function wk(){}function kk(t,e){var n=ot,r=ar(),s=e(),i=!Nr(r.memoizedState,s);if(i&&(r.memoizedState=s,kn=!0),r=r.queue,Zy(Ck.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Pt!==null&&Pt.memoizedState.tag&1){if(n.flags|=2048,zc(9,_k.bind(null,n,r,s,e),void 0,null),Rt===null)throw Error(z(349));Co&30||Sk(n,e,s)}return s}function Sk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function _k(t,e,n,r){e.value=n,e.getSnapshot=r,Ek(e)&&Nk(t)}function Ck(t,e,n){return n(function(){Ek(e)&&Nk(t)})}function Ek(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nr(t,n)}catch{return!0}}function Nk(t){var e=Ss(t,1);e!==null&&_r(e,t,1,-1)}function ex(t){var e=Pr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fc,lastRenderedState:t},e.queue=t,t=t.dispatch=rT.bind(null,ot,t),[e.memoizedState,t]}function zc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Tk(){return ar().memoizedState}function Dd(t,e,n,r){var s=Pr();ot.flags|=t,s.memoizedState=zc(1|e,n,void 0,r===void 0?null:r)}function fh(t,e,n,r){var s=ar();r=r===void 0?null:r;var i=void 0;if(_t!==null){var o=_t.memoizedState;if(i=o.destroy,r!==null&&Ky(r,o.deps)){s.memoizedState=zc(e,n,i,r);return}}ot.flags|=t,s.memoizedState=zc(1|e,n,i,r)}function tx(t,e){return Dd(8390656,8,t,e)}function Zy(t,e){return fh(2048,8,t,e)}function Ok(t,e){return fh(4,2,t,e)}function jk(t,e){return fh(4,4,t,e)}function Mk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Pk(t,e,n){return n=n!=null?n.concat([t]):null,fh(4,4,Mk.bind(null,e,t),n)}function Gy(){}function Ak(t,e){var n=ar();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ky(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Rk(t,e){var n=ar();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ky(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ik(t,e,n){return Co&21?(Nr(n,e)||(n=$w(),ot.lanes|=n,Eo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,kn=!0),t.memoizedState=n)}function tT(t,e){var n=Be;Be=n!==0&&4>n?n:4,t(!0);var r=xp.transition;xp.transition={};try{t(!1),e()}finally{Be=n,xp.transition=r}}function Dk(){return ar().memoizedState}function nT(t,e,n){var r=xi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Lk(t))Fk(e,n);else if(n=vk(t,e,n,r),n!==null){var s=dn();_r(n,t,r,s),zk(n,e,r)}}function rT(t,e,n){var r=xi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Lk(t))Fk(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Nr(a,o)){var l=e.interleaved;l===null?(s.next=s,Vy(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=vk(t,e,s,r),n!==null&&(s=dn(),_r(n,t,r,s),zk(n,e,r))}}function Lk(t){var e=t.alternate;return t===ot||e!==null&&e===ot}function Fk(t,e){pc=gf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function zk(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ty(t,n)}}var yf={readContext:or,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},sT={readContext:or,useCallback:function(t,e){return Pr().memoizedState=[t,e===void 0?null:e],t},useContext:or,useEffect:tx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Dd(4194308,4,Mk.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Dd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Dd(4,2,t,e)},useMemo:function(t,e){var n=Pr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Pr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=nT.bind(null,ot,t),[r.memoizedState,t]},useRef:function(t){var e=Pr();return t={current:t},e.memoizedState=t},useState:ex,useDebugValue:Gy,useDeferredValue:function(t){return Pr().memoizedState=t},useTransition:function(){var t=ex(!1),e=t[0];return t=tT.bind(null,t[1]),Pr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ot,s=Pr();if(nt){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),Rt===null)throw Error(z(349));Co&30||Sk(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,tx(Ck.bind(null,r,i,t),[t]),r.flags|=2048,zc(9,_k.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Pr(),e=Rt.identifierPrefix;if(nt){var n=gs,r=ms;n=(r&~(1<<32-Sr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Lc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=eT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},iT={readContext:or,useCallback:Ak,useContext:or,useEffect:Zy,useImperativeHandle:Pk,useInsertionEffect:Ok,useLayoutEffect:jk,useMemo:Rk,useReducer:bp,useRef:Tk,useState:function(){return bp(Fc)},useDebugValue:Gy,useDeferredValue:function(t){var e=ar();return Ik(e,_t.memoizedState,t)},useTransition:function(){var t=bp(Fc)[0],e=ar().memoizedState;return[t,e]},useMutableSource:wk,useSyncExternalStore:kk,useId:Dk,unstable_isNewReconciler:!1},oT={readContext:or,useCallback:Ak,useContext:or,useEffect:Zy,useImperativeHandle:Pk,useInsertionEffect:Ok,useLayoutEffect:jk,useMemo:Rk,useReducer:wp,useRef:Tk,useState:function(){return wp(Fc)},useDebugValue:Gy,useDeferredValue:function(t){var e=ar();return _t===null?e.memoizedState=t:Ik(e,_t.memoizedState,t)},useTransition:function(){var t=wp(Fc)[0],e=ar().memoizedState;return[t,e]},useMutableSource:wk,useSyncExternalStore:kk,useId:Dk,unstable_isNewReconciler:!1};function dr(t,e){if(t&&t.defaultProps){e=at({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Wm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:at({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var hh={isMounted:function(t){return(t=t._reactInternals)?Do(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=dn(),s=xi(t),i=ys(r,s);i.payload=e,n!=null&&(i.callback=n),e=yi(t,i,s),e!==null&&(_r(e,t,s,r),Rd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=dn(),s=xi(t),i=ys(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=yi(t,i,s),e!==null&&(_r(e,t,s,r),Rd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=dn(),r=xi(t),s=ys(n,r);s.tag=2,e!=null&&(s.callback=e),e=yi(t,s,r),e!==null&&(_r(e,t,r,n),Rd(e,t,r))}};function nx(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Mc(n,r)||!Mc(s,i):!0}function $k(t,e,n){var r=!1,s=Ei,i=e.contextType;return typeof i=="object"&&i!==null?i=or(i):(s=Cn(e)?So:en.current,r=e.contextTypes,i=(r=r!=null)?Ga(t,s):Ei),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function rx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&hh.enqueueReplaceState(e,e.state,null)}function Km(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Uy(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=or(i):(i=Cn(e)?So:en.current,s.context=Ga(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Wm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&hh.enqueueReplaceState(s,s.state,null),pf(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function tl(t,e){try{var n="",r=e;do n+=RN(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function kp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Jm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var aT=typeof WeakMap=="function"?WeakMap:Map;function Bk(t,e,n){n=ys(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){xf||(xf=!0,sg=r),Jm(t,e)},n}function Vk(t,e,n){n=ys(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Jm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Jm(t,e),typeof r!="function"&&(vi===null?vi=new Set([this]):vi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function sx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new aT;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=wT.bind(null,t,e,n),e.then(t,t))}function ix(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ox(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ys(-1,1),e.tag=2,yi(n,e,1))),n.lanes|=1),t)}var lT=Os.ReactCurrentOwner,kn=!1;function cn(t,e,n,r){e.child=t===null?yk(e,null,n,r):Xa(e,t.child,n,r)}function ax(t,e,n,r,s){n=n.render;var i=e.ref;return Ea(e,s),r=Jy(t,e,n,r,i,s),n=Qy(),t!==null&&!kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,_s(t,e,s)):(nt&&n&&Dy(e),e.flags|=1,cn(t,e,r,s),e.child)}function lx(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!i0(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Uk(t,e,i,r,s)):(t=$d(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Mc,n(o,r)&&t.ref===e.ref)return _s(t,e,s)}return e.flags|=1,t=bi(i,r),t.ref=e.ref,t.return=e,e.child=t}function Uk(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Mc(i,r)&&t.ref===e.ref)if(kn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(kn=!0);else return e.lanes=t.lanes,_s(t,e,s)}return Qm(t,e,n,r,s)}function Hk(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(ga,Pn),Pn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ze(ga,Pn),Pn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ze(ga,Pn),Pn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ze(ga,Pn),Pn|=r;return cn(t,e,s,n),e.child}function qk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Qm(t,e,n,r,s){var i=Cn(n)?So:en.current;return i=Ga(e,i),Ea(e,s),n=Jy(t,e,n,r,i,s),r=Qy(),t!==null&&!kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,_s(t,e,s)):(nt&&r&&Dy(e),e.flags|=1,cn(t,e,n,s),e.child)}function cx(t,e,n,r,s){if(Cn(n)){var i=!0;cf(e)}else i=!1;if(Ea(e,s),e.stateNode===null)Ld(t,e),$k(e,n,r),Km(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=or(c):(c=Cn(n)?So:en.current,c=Ga(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&rx(e,o,r,c),Vs=!1;var h=e.memoizedState;o.state=h,pf(e,r,o,s),l=e.memoizedState,a!==r||h!==l||_n.current||Vs?(typeof u=="function"&&(Wm(e,n,u,r),l=e.memoizedState),(a=Vs||nx(e,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,xk(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:dr(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=or(l):(l=Cn(n)?So:en.current,l=Ga(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&rx(e,o,r,l),Vs=!1,h=e.memoizedState,o.state=h,pf(e,r,o,s);var m=e.memoizedState;a!==d||h!==m||_n.current||Vs?(typeof p=="function"&&(Wm(e,n,p,r),m=e.memoizedState),(c=Vs||nx(e,n,c,r,h,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Zm(t,e,n,r,i,s)}function Zm(t,e,n,r,s,i){qk(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Jv(e,n,!1),_s(t,e,i);r=e.stateNode,lT.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Xa(e,t.child,null,i),e.child=Xa(e,null,a,i)):cn(t,e,a,i),e.memoizedState=r.state,s&&Jv(e,n,!0),e.child}function Wk(t){var e=t.stateNode;e.pendingContext?Kv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Kv(t,e.context,!1),Hy(t,e.containerInfo)}function ux(t,e,n,r,s){return Ya(),Fy(s),e.flags|=256,cn(t,e,n,r),e.child}var Gm={dehydrated:null,treeContext:null,retryLane:0};function Ym(t){return{baseLanes:t,cachePool:null,transitions:null}}function Kk(t,e,n){var r=e.pendingProps,s=it.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ze(it,s&1),t===null)return Hm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=gh(o,r,0,null),t=mo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ym(n),e.memoizedState=Gm,t):Yy(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return cT(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=bi(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=bi(a,i):(i=mo(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Ym(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Gm,r}return i=t.child,t=i.sibling,r=bi(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Yy(t,e){return e=gh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cd(t,e,n,r){return r!==null&&Fy(r),Xa(e,t.child,null,n),t=Yy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cT(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=kp(Error(z(422))),cd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=gh({mode:"visible",children:r.children},s,0,null),i=mo(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Xa(e,t.child,null,o),e.child.memoizedState=Ym(o),e.memoizedState=Gm,i);if(!(e.mode&1))return cd(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(z(419)),r=kp(i,r,void 0),cd(t,e,o,r)}if(a=(o&t.childLanes)!==0,kn||a){if(r=Rt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ss(t,s),_r(r,t,s,-1))}return s0(),r=kp(Error(z(421))),cd(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=kT.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,In=gi(s.nextSibling),Ln=e,nt=!0,yr=null,t!==null&&(Zn[Gn++]=ms,Zn[Gn++]=gs,Zn[Gn++]=_o,ms=t.id,gs=t.overflow,_o=e),e=Yy(e,r.children),e.flags|=4096,e)}function dx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),qm(t.return,e,n)}function Sp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Jk(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(cn(t,e,r.children,n),r=it.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dx(t,n,e);else if(t.tag===19)dx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ze(it,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&mf(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Sp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&mf(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Sp(e,!0,n,null,i);break;case"together":Sp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ld(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _s(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Eo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=bi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=bi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function uT(t,e,n){switch(e.tag){case 3:Wk(e),Ya();break;case 5:bk(e);break;case 1:Cn(e.type)&&cf(e);break;case 4:Hy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ze(ff,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ze(it,it.current&1),e.flags|=128,null):n&e.child.childLanes?Kk(t,e,n):(Ze(it,it.current&1),t=_s(t,e,n),t!==null?t.sibling:null);Ze(it,it.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Jk(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ze(it,it.current),r)break;return null;case 22:case 23:return e.lanes=0,Hk(t,e,n)}return _s(t,e,n)}var Qk,Xm,Zk,Gk;Qk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xm=function(){};Zk=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Yi(Ur.current);var i=null;switch(n){case"input":s=wm(t,s),r=wm(t,r),i=[];break;case"select":s=at({},s,{value:void 0}),r=at({},r,{value:void 0}),i=[];break;case"textarea":s=_m(t,s),r=_m(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=af)}Em(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(_c.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(_c.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Xe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Gk=function(t,e,n,r){n!==r&&(e.flags|=4)};function zl(t,e){if(!nt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function dT(t,e,n){var r=e.pendingProps;switch(Ly(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(e),null;case 1:return Cn(e.type)&&lf(),Jt(e),null;case 3:return r=e.stateNode,el(),et(_n),et(en),Wy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ad(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,yr!==null&&(ag(yr),yr=null))),Xm(t,e),Jt(e),null;case 5:qy(e);var s=Yi(Dc.current);if(n=e.type,t!==null&&e.stateNode!=null)Zk(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Jt(e),null}if(t=Yi(Ur.current),ad(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[zr]=e,r[Rc]=i,t=(e.mode&1)!==0,n){case"dialog":Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":case"embed":Xe("load",r);break;case"video":case"audio":for(s=0;s<ec.length;s++)Xe(ec[s],r);break;case"source":Xe("error",r);break;case"img":case"image":case"link":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"input":bv(r,i),Xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Xe("invalid",r);break;case"textarea":kv(r,i),Xe("invalid",r)}Em(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&od(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&od(r.textContent,a,t),s=["children",""+a]):_c.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Xe("scroll",r)}switch(n){case"input":Yu(r),wv(r,i,!0);break;case"textarea":Yu(r),Sv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=af)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Cw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[zr]=e,t[Rc]=r,Qk(t,e,!1,!1),e.stateNode=t;e:{switch(o=Nm(n,r),n){case"dialog":Xe("cancel",t),Xe("close",t),s=r;break;case"iframe":case"object":case"embed":Xe("load",t),s=r;break;case"video":case"audio":for(s=0;s<ec.length;s++)Xe(ec[s],t);s=r;break;case"source":Xe("error",t),s=r;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),s=r;break;case"details":Xe("toggle",t),s=r;break;case"input":bv(t,r),s=wm(t,r),Xe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=at({},r,{value:void 0}),Xe("invalid",t);break;case"textarea":kv(t,r),s=_m(t,r),Xe("invalid",t);break;default:s=r}Em(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Tw(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ew(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Cc(t,l):typeof l=="number"&&Cc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(_c.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Xe("scroll",t):l!=null&&ky(t,i,l,o))}switch(n){case"input":Yu(t),wv(t,r,!1);break;case"textarea":Yu(t),Sv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ci(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ka(t,!!r.multiple,i,!1):r.defaultValue!=null&&ka(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=af)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Jt(e),null;case 6:if(t&&e.stateNode!=null)Gk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=Yi(Dc.current),Yi(Ur.current),ad(e)){if(r=e.stateNode,n=e.memoizedProps,r[zr]=e,(i=r.nodeValue!==n)&&(t=Ln,t!==null))switch(t.tag){case 3:od(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&od(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zr]=e,e.stateNode=r}return Jt(e),null;case 13:if(et(it),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(nt&&In!==null&&e.mode&1&&!(e.flags&128))mk(),Ya(),e.flags|=98560,i=!1;else if(i=ad(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[zr]=e}else Ya(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Jt(e),i=!1}else yr!==null&&(ag(yr),yr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||it.current&1?Et===0&&(Et=3):s0())),e.updateQueue!==null&&(e.flags|=4),Jt(e),null);case 4:return el(),Xm(t,e),t===null&&Pc(e.stateNode.containerInfo),Jt(e),null;case 10:return By(e.type._context),Jt(e),null;case 17:return Cn(e.type)&&lf(),Jt(e),null;case 19:if(et(it),i=e.memoizedState,i===null)return Jt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)zl(i,!1);else{if(Et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=mf(t),o!==null){for(e.flags|=128,zl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ze(it,it.current&1|2),e.child}t=t.sibling}i.tail!==null&&gt()>nl&&(e.flags|=128,r=!0,zl(i,!1),e.lanes=4194304)}else{if(!r)if(t=mf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),zl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!nt)return Jt(e),null}else 2*gt()-i.renderingStartTime>nl&&n!==1073741824&&(e.flags|=128,r=!0,zl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=gt(),e.sibling=null,n=it.current,Ze(it,r?n&1|2:n&1),e):(Jt(e),null);case 22:case 23:return r0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Pn&1073741824&&(Jt(e),e.subtreeFlags&6&&(e.flags|=8192)):Jt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function fT(t,e){switch(Ly(e),e.tag){case 1:return Cn(e.type)&&lf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return el(),et(_n),et(en),Wy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return qy(e),null;case 13:if(et(it),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Ya()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return et(it),null;case 4:return el(),null;case 10:return By(e.type._context),null;case 22:case 23:return r0(),null;case 24:return null;default:return null}}var ud=!1,Yt=!1,hT=typeof WeakSet=="function"?WeakSet:Set,ee=null;function ma(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ft(t,e,r)}else n.current=null}function eg(t,e,n){try{n()}catch(r){ft(t,e,r)}}var fx=!1;function pT(t,e){if(Lm=rf,t=nk(),Iy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var p;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++c===s&&(a=o),h===i&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fm={focusedElem:t,selectionRange:n},rf=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,x=m.memoizedState,v=e.stateNode,g=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:dr(e.type,y),x);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(k){ft(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return m=fx,fx=!1,m}function mc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&eg(e,n,i)}s=s.next}while(s!==r)}}function ph(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function tg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Yk(t){var e=t.alternate;e!==null&&(t.alternate=null,Yk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zr],delete e[Rc],delete e[Bm],delete e[Z2],delete e[G2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Xk(t){return t.tag===5||t.tag===3||t.tag===4}function hx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Xk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ng(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=af));else if(r!==4&&(t=t.child,t!==null))for(ng(t,e,n),t=t.sibling;t!==null;)ng(t,e,n),t=t.sibling}function rg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(rg(t,e,n),t=t.sibling;t!==null;)rg(t,e,n),t=t.sibling}var $t=null,pr=!1;function Rs(t,e,n){for(n=n.child;n!==null;)eS(t,e,n),n=n.sibling}function eS(t,e,n){if(Vr&&typeof Vr.onCommitFiberUnmount=="function")try{Vr.onCommitFiberUnmount(oh,n)}catch{}switch(n.tag){case 5:Yt||ma(n,e);case 6:var r=$t,s=pr;$t=null,Rs(t,e,n),$t=r,pr=s,$t!==null&&(pr?(t=$t,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):$t.removeChild(n.stateNode));break;case 18:$t!==null&&(pr?(t=$t,n=n.stateNode,t.nodeType===8?gp(t.parentNode,n):t.nodeType===1&&gp(t,n),Oc(t)):gp($t,n.stateNode));break;case 4:r=$t,s=pr,$t=n.stateNode.containerInfo,pr=!0,Rs(t,e,n),$t=r,pr=s;break;case 0:case 11:case 14:case 15:if(!Yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&eg(n,e,o),s=s.next}while(s!==r)}Rs(t,e,n);break;case 1:if(!Yt&&(ma(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ft(n,e,a)}Rs(t,e,n);break;case 21:Rs(t,e,n);break;case 22:n.mode&1?(Yt=(r=Yt)||n.memoizedState!==null,Rs(t,e,n),Yt=r):Rs(t,e,n);break;default:Rs(t,e,n)}}function px(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new hT),e.forEach(function(r){var s=ST.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function cr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:$t=a.stateNode,pr=!1;break e;case 3:$t=a.stateNode.containerInfo,pr=!0;break e;case 4:$t=a.stateNode.containerInfo,pr=!0;break e}a=a.return}if($t===null)throw Error(z(160));eS(i,o,s),$t=null,pr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){ft(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)tS(e,t),e=e.sibling}function tS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(cr(e,t),Mr(t),r&4){try{mc(3,t,t.return),ph(3,t)}catch(y){ft(t,t.return,y)}try{mc(5,t,t.return)}catch(y){ft(t,t.return,y)}}break;case 1:cr(e,t),Mr(t),r&512&&n!==null&&ma(n,n.return);break;case 5:if(cr(e,t),Mr(t),r&512&&n!==null&&ma(n,n.return),t.flags&32){var s=t.stateNode;try{Cc(s,"")}catch(y){ft(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Sw(s,i),Nm(a,o);var c=Nm(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?Tw(s,d):u==="dangerouslySetInnerHTML"?Ew(s,d):u==="children"?Cc(s,d):ky(s,u,d,c)}switch(a){case"input":km(s,i);break;case"textarea":_w(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ka(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?ka(s,!!i.multiple,i.defaultValue,!0):ka(s,!!i.multiple,i.multiple?[]:"",!1))}s[Rc]=i}catch(y){ft(t,t.return,y)}}break;case 6:if(cr(e,t),Mr(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){ft(t,t.return,y)}}break;case 3:if(cr(e,t),Mr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Oc(e.containerInfo)}catch(y){ft(t,t.return,y)}break;case 4:cr(e,t),Mr(t);break;case 13:cr(e,t),Mr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(t0=gt())),r&4&&px(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Yt=(c=Yt)||u,cr(e,t),Yt=c):cr(e,t),Mr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ee=t,u=t.child;u!==null;){for(d=ee=u;ee!==null;){switch(h=ee,p=h.child,h.tag){case 0:case 11:case 14:case 15:mc(4,h,h.return);break;case 1:ma(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){ft(r,n,y)}}break;case 5:ma(h,h.return);break;case 22:if(h.memoizedState!==null){gx(d);continue}}p!==null?(p.return=h,ee=p):gx(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Nw("display",o))}catch(y){ft(t,t.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){ft(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:cr(e,t),Mr(t),r&4&&px(t);break;case 21:break;default:cr(e,t),Mr(t)}}function Mr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Xk(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Cc(s,""),r.flags&=-33);var i=hx(t);rg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=hx(t);ng(t,a,o);break;default:throw Error(z(161))}}catch(l){ft(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function mT(t,e,n){ee=t,nS(t)}function nS(t,e,n){for(var r=(t.mode&1)!==0;ee!==null;){var s=ee,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ud;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Yt;a=ud;var c=Yt;if(ud=o,(Yt=l)&&!c)for(ee=s;ee!==null;)o=ee,l=o.child,o.tag===22&&o.memoizedState!==null?yx(s):l!==null?(l.return=o,ee=l):yx(s);for(;i!==null;)ee=i,nS(i),i=i.sibling;ee=s,ud=a,Yt=c}mx(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ee=i):mx(t)}}function mx(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Yt||ph(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Yt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:dr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Xv(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Xv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Oc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Yt||e.flags&512&&tg(e)}catch(h){ft(e,e.return,h)}}if(e===t){ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}}function gx(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ee=n;break}ee=e.return}}function yx(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ph(4,e)}catch(l){ft(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ft(e,s,l)}}var i=e.return;try{tg(e)}catch(l){ft(e,i,l)}break;case 5:var o=e.return;try{tg(e)}catch(l){ft(e,o,l)}}}catch(l){ft(e,e.return,l)}if(e===t){ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ee=a;break}ee=e.return}}var gT=Math.ceil,vf=Os.ReactCurrentDispatcher,Xy=Os.ReactCurrentOwner,rr=Os.ReactCurrentBatchConfig,Ae=0,Rt=null,wt=null,Ht=0,Pn=0,ga=Ai(0),Et=0,$c=null,Eo=0,mh=0,e0=0,gc=null,wn=null,t0=0,nl=1/0,ds=null,xf=!1,sg=null,vi=null,dd=!1,li=null,bf=0,yc=0,ig=null,Fd=-1,zd=0;function dn(){return Ae&6?gt():Fd!==-1?Fd:Fd=gt()}function xi(t){return t.mode&1?Ae&2&&Ht!==0?Ht&-Ht:X2.transition!==null?(zd===0&&(zd=$w()),zd):(t=Be,t!==0||(t=window.event,t=t===void 0?16:Kw(t.type)),t):1}function _r(t,e,n,r){if(50<yc)throw yc=0,ig=null,Error(z(185));wu(t,n,r),(!(Ae&2)||t!==Rt)&&(t===Rt&&(!(Ae&2)&&(mh|=n),Et===4&&Ks(t,Ht)),En(t,r),n===1&&Ae===0&&!(e.mode&1)&&(nl=gt()+500,dh&&Ri()))}function En(t,e){var n=t.callbackNode;XN(t,e);var r=nf(t,t===Rt?Ht:0);if(r===0)n!==null&&Ev(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ev(n),e===1)t.tag===0?Y2(vx.bind(null,t)):fk(vx.bind(null,t)),J2(function(){!(Ae&6)&&Ri()}),n=null;else{switch(Bw(r)){case 1:n=Ny;break;case 4:n=Fw;break;case 16:n=tf;break;case 536870912:n=zw;break;default:n=tf}n=uS(n,rS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function rS(t,e){if(Fd=-1,zd=0,Ae&6)throw Error(z(327));var n=t.callbackNode;if(Na()&&t.callbackNode!==n)return null;var r=nf(t,t===Rt?Ht:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=wf(t,r);else{e=r;var s=Ae;Ae|=2;var i=iS();(Rt!==t||Ht!==e)&&(ds=null,nl=gt()+500,po(t,e));do try{xT();break}catch(a){sS(t,a)}while(!0);$y(),vf.current=i,Ae=s,wt!==null?e=0:(Rt=null,Ht=0,e=Et)}if(e!==0){if(e===2&&(s=Pm(t),s!==0&&(r=s,e=og(t,s))),e===1)throw n=$c,po(t,0),Ks(t,r),En(t,gt()),n;if(e===6)Ks(t,r);else{if(s=t.current.alternate,!(r&30)&&!yT(s)&&(e=wf(t,r),e===2&&(i=Pm(t),i!==0&&(r=i,e=og(t,i))),e===1))throw n=$c,po(t,0),Ks(t,r),En(t,gt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:Hi(t,wn,ds);break;case 3:if(Ks(t,r),(r&130023424)===r&&(e=t0+500-gt(),10<e)){if(nf(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){dn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=$m(Hi.bind(null,t,wn,ds),e);break}Hi(t,wn,ds);break;case 4:if(Ks(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Sr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=gt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gT(r/1960))-r,10<r){t.timeoutHandle=$m(Hi.bind(null,t,wn,ds),r);break}Hi(t,wn,ds);break;case 5:Hi(t,wn,ds);break;default:throw Error(z(329))}}}return En(t,gt()),t.callbackNode===n?rS.bind(null,t):null}function og(t,e){var n=gc;return t.current.memoizedState.isDehydrated&&(po(t,e).flags|=256),t=wf(t,e),t!==2&&(e=wn,wn=n,e!==null&&ag(e)),t}function ag(t){wn===null?wn=t:wn.push.apply(wn,t)}function yT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Nr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ks(t,e){for(e&=~e0,e&=~mh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Sr(e),r=1<<n;t[n]=-1,e&=~r}}function vx(t){if(Ae&6)throw Error(z(327));Na();var e=nf(t,0);if(!(e&1))return En(t,gt()),null;var n=wf(t,e);if(t.tag!==0&&n===2){var r=Pm(t);r!==0&&(e=r,n=og(t,r))}if(n===1)throw n=$c,po(t,0),Ks(t,e),En(t,gt()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Hi(t,wn,ds),En(t,gt()),null}function n0(t,e){var n=Ae;Ae|=1;try{return t(e)}finally{Ae=n,Ae===0&&(nl=gt()+500,dh&&Ri())}}function No(t){li!==null&&li.tag===0&&!(Ae&6)&&Na();var e=Ae;Ae|=1;var n=rr.transition,r=Be;try{if(rr.transition=null,Be=1,t)return t()}finally{Be=r,rr.transition=n,Ae=e,!(Ae&6)&&Ri()}}function r0(){Pn=ga.current,et(ga)}function po(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,K2(n)),wt!==null)for(n=wt.return;n!==null;){var r=n;switch(Ly(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&lf();break;case 3:el(),et(_n),et(en),Wy();break;case 5:qy(r);break;case 4:el();break;case 13:et(it);break;case 19:et(it);break;case 10:By(r.type._context);break;case 22:case 23:r0()}n=n.return}if(Rt=t,wt=t=bi(t.current,null),Ht=Pn=e,Et=0,$c=null,e0=mh=Eo=0,wn=gc=null,Gi!==null){for(e=0;e<Gi.length;e++)if(n=Gi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Gi=null}return t}function sS(t,e){do{var n=wt;try{if($y(),Id.current=yf,gf){for(var r=ot.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}gf=!1}if(Co=0,Pt=_t=ot=null,pc=!1,Lc=0,Xy.current=null,n===null||n.return===null){Et=1,$c=e,wt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Ht,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=ix(o);if(p!==null){p.flags&=-257,ox(p,o,a,i,e),p.mode&1&&sx(i,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){sx(i,c,e),s0();break e}l=Error(z(426))}}else if(nt&&a.mode&1){var x=ix(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),ox(x,o,a,i,e),Fy(tl(l,a));break e}}i=l=tl(l,a),Et!==4&&(Et=2),gc===null?gc=[i]:gc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=Bk(i,l,e);Yv(i,v);break e;case 1:a=l;var g=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(vi===null||!vi.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=Vk(i,a,e);Yv(i,k);break e}}i=i.return}while(i!==null)}aS(n)}catch(O){e=O,wt===n&&n!==null&&(wt=n=n.return);continue}break}while(!0)}function iS(){var t=vf.current;return vf.current=yf,t===null?yf:t}function s0(){(Et===0||Et===3||Et===2)&&(Et=4),Rt===null||!(Eo&268435455)&&!(mh&268435455)||Ks(Rt,Ht)}function wf(t,e){var n=Ae;Ae|=2;var r=iS();(Rt!==t||Ht!==e)&&(ds=null,po(t,e));do try{vT();break}catch(s){sS(t,s)}while(!0);if($y(),Ae=n,vf.current=r,wt!==null)throw Error(z(261));return Rt=null,Ht=0,Et}function vT(){for(;wt!==null;)oS(wt)}function xT(){for(;wt!==null&&!HN();)oS(wt)}function oS(t){var e=cS(t.alternate,t,Pn);t.memoizedProps=t.pendingProps,e===null?aS(t):wt=e,Xy.current=null}function aS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=fT(n,e),n!==null){n.flags&=32767,wt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Et=6,wt=null;return}}else if(n=dT(n,e,Pn),n!==null){wt=n;return}if(e=e.sibling,e!==null){wt=e;return}wt=e=t}while(e!==null);Et===0&&(Et=5)}function Hi(t,e,n){var r=Be,s=rr.transition;try{rr.transition=null,Be=1,bT(t,e,n,r)}finally{rr.transition=s,Be=r}return null}function bT(t,e,n,r){do Na();while(li!==null);if(Ae&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(e2(t,i),t===Rt&&(wt=Rt=null,Ht=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||dd||(dd=!0,uS(tf,function(){return Na(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=rr.transition,rr.transition=null;var o=Be;Be=1;var a=Ae;Ae|=4,Xy.current=null,pT(t,n),tS(n,t),$2(Fm),rf=!!Lm,Fm=Lm=null,t.current=n,mT(n),qN(),Ae=a,Be=o,rr.transition=i}else t.current=n;if(dd&&(dd=!1,li=t,bf=s),i=t.pendingLanes,i===0&&(vi=null),JN(n.stateNode),En(t,gt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(xf)throw xf=!1,t=sg,sg=null,t;return bf&1&&t.tag!==0&&Na(),i=t.pendingLanes,i&1?t===ig?yc++:(yc=0,ig=t):yc=0,Ri(),null}function Na(){if(li!==null){var t=Bw(bf),e=rr.transition,n=Be;try{if(rr.transition=null,Be=16>t?16:t,li===null)var r=!1;else{if(t=li,li=null,bf=0,Ae&6)throw Error(z(331));var s=Ae;for(Ae|=4,ee=t.current;ee!==null;){var i=ee,o=i.child;if(ee.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ee=c;ee!==null;){var u=ee;switch(u.tag){case 0:case 11:case 15:mc(8,u,i)}var d=u.child;if(d!==null)d.return=u,ee=d;else for(;ee!==null;){u=ee;var h=u.sibling,p=u.return;if(Yk(u),u===c){ee=null;break}if(h!==null){h.return=p,ee=h;break}ee=p}}}var m=i.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}ee=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ee=o;else e:for(;ee!==null;){if(i=ee,i.flags&2048)switch(i.tag){case 0:case 11:case 15:mc(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,ee=v;break e}ee=i.return}}var g=t.current;for(ee=g;ee!==null;){o=ee;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ee=b;else e:for(o=g;ee!==null;){if(a=ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ph(9,a)}}catch(O){ft(a,a.return,O)}if(a===o){ee=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,ee=k;break e}ee=a.return}}if(Ae=s,Ri(),Vr&&typeof Vr.onPostCommitFiberRoot=="function")try{Vr.onPostCommitFiberRoot(oh,t)}catch{}r=!0}return r}finally{Be=n,rr.transition=e}}return!1}function xx(t,e,n){e=tl(n,e),e=Bk(t,e,1),t=yi(t,e,1),e=dn(),t!==null&&(wu(t,1,e),En(t,e))}function ft(t,e,n){if(t.tag===3)xx(t,t,n);else for(;e!==null;){if(e.tag===3){xx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vi===null||!vi.has(r))){t=tl(n,t),t=Vk(e,t,1),e=yi(e,t,1),t=dn(),e!==null&&(wu(e,1,t),En(e,t));break}}e=e.return}}function wT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=dn(),t.pingedLanes|=t.suspendedLanes&n,Rt===t&&(Ht&n)===n&&(Et===4||Et===3&&(Ht&130023424)===Ht&&500>gt()-t0?po(t,0):e0|=n),En(t,e)}function lS(t,e){e===0&&(t.mode&1?(e=td,td<<=1,!(td&130023424)&&(td=4194304)):e=1);var n=dn();t=Ss(t,e),t!==null&&(wu(t,e,n),En(t,n))}function kT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),lS(t,n)}function ST(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),lS(t,n)}var cS;cS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||_n.current)kn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return kn=!1,uT(t,e,n);kn=!!(t.flags&131072)}else kn=!1,nt&&e.flags&1048576&&hk(e,df,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ld(t,e),t=e.pendingProps;var s=Ga(e,en.current);Ea(e,n),s=Jy(null,e,r,t,s,n);var i=Qy();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Cn(r)?(i=!0,cf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Uy(e),s.updater=hh,e.stateNode=s,s._reactInternals=e,Km(e,r,t,n),e=Zm(null,e,r,!0,i,n)):(e.tag=0,nt&&i&&Dy(e),cn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ld(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=CT(r),t=dr(r,t),s){case 0:e=Qm(null,e,r,t,n);break e;case 1:e=cx(null,e,r,t,n);break e;case 11:e=ax(null,e,r,t,n);break e;case 14:e=lx(null,e,r,dr(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dr(r,s),Qm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dr(r,s),cx(t,e,r,s,n);case 3:e:{if(Wk(e),t===null)throw Error(z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,xk(t,e),pf(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=tl(Error(z(423)),e),e=ux(t,e,r,n,s);break e}else if(r!==s){s=tl(Error(z(424)),e),e=ux(t,e,r,n,s);break e}else for(In=gi(e.stateNode.containerInfo.firstChild),Ln=e,nt=!0,yr=null,n=yk(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ya(),r===s){e=_s(t,e,n);break e}cn(t,e,r,n)}e=e.child}return e;case 5:return bk(e),t===null&&Hm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,zm(r,s)?o=null:i!==null&&zm(r,i)&&(e.flags|=32),qk(t,e),cn(t,e,o,n),e.child;case 6:return t===null&&Hm(e),null;case 13:return Kk(t,e,n);case 4:return Hy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Xa(e,null,r,n):cn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dr(r,s),ax(t,e,r,s,n);case 7:return cn(t,e,e.pendingProps,n),e.child;case 8:return cn(t,e,e.pendingProps.children,n),e.child;case 12:return cn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ze(ff,r._currentValue),r._currentValue=o,i!==null)if(Nr(i.value,o)){if(i.children===s.children&&!_n.current){e=_s(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ys(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),qm(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),qm(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}cn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ea(e,n),s=or(s),r=r(s),e.flags|=1,cn(t,e,r,n),e.child;case 14:return r=e.type,s=dr(r,e.pendingProps),s=dr(r.type,s),lx(t,e,r,s,n);case 15:return Uk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dr(r,s),Ld(t,e),e.tag=1,Cn(r)?(t=!0,cf(e)):t=!1,Ea(e,n),$k(e,r,s),Km(e,r,s,n),Zm(null,e,r,!0,t,n);case 19:return Jk(t,e,n);case 22:return Hk(t,e,n)}throw Error(z(156,e.tag))};function uS(t,e){return Lw(t,e)}function _T(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(t,e,n,r){return new _T(t,e,n,r)}function i0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function CT(t){if(typeof t=="function")return i0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_y)return 11;if(t===Cy)return 14}return 2}function bi(t,e){var n=t.alternate;return n===null?(n=tr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function $d(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")i0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case oa:return mo(n.children,s,i,e);case Sy:o=8,s|=8;break;case ym:return t=tr(12,n,e,s|2),t.elementType=ym,t.lanes=i,t;case vm:return t=tr(13,n,e,s),t.elementType=vm,t.lanes=i,t;case xm:return t=tr(19,n,e,s),t.elementType=xm,t.lanes=i,t;case bw:return gh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case vw:o=10;break e;case xw:o=9;break e;case _y:o=11;break e;case Cy:o=14;break e;case Bs:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=tr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function mo(t,e,n,r){return t=tr(7,t,r,e),t.lanes=n,t}function gh(t,e,n,r){return t=tr(22,t,r,e),t.elementType=bw,t.lanes=n,t.stateNode={isHidden:!1},t}function _p(t,e,n){return t=tr(6,t,null,e),t.lanes=n,t}function Cp(t,e,n){return e=tr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ET(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ip(0),this.expirationTimes=ip(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ip(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function o0(t,e,n,r,s,i,o,a,l){return t=new ET(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=tr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uy(i),t}function NT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ia,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function dS(t){if(!t)return Ei;t=t._reactInternals;e:{if(Do(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(Cn(n))return dk(t,n,e)}return e}function fS(t,e,n,r,s,i,o,a,l){return t=o0(n,r,!0,t,s,i,o,a,l),t.context=dS(null),n=t.current,r=dn(),s=xi(n),i=ys(r,s),i.callback=e??null,yi(n,i,s),t.current.lanes=s,wu(t,s,r),En(t,r),t}function yh(t,e,n,r){var s=e.current,i=dn(),o=xi(s);return n=dS(n),e.context===null?e.context=n:e.pendingContext=n,e=ys(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=yi(s,e,o),t!==null&&(_r(t,s,o,i),Rd(t,s,o)),o}function kf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function a0(t,e){bx(t,e),(t=t.alternate)&&bx(t,e)}function TT(){return null}var hS=typeof reportError=="function"?reportError:function(t){console.error(t)};function l0(t){this._internalRoot=t}vh.prototype.render=l0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));yh(t,e,null,null)};vh.prototype.unmount=l0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;No(function(){yh(null,t,null,null)}),e[ks]=null}};function vh(t){this._internalRoot=t}vh.prototype.unstable_scheduleHydration=function(t){if(t){var e=Hw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ws.length&&e!==0&&e<Ws[n].priority;n++);Ws.splice(n,0,t),n===0&&Ww(t)}};function c0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function xh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function wx(){}function OT(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=kf(o);i.call(c)}}var o=fS(e,r,t,0,null,!1,!1,"",wx);return t._reactRootContainer=o,t[ks]=o.current,Pc(t.nodeType===8?t.parentNode:t),No(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=kf(l);a.call(c)}}var l=o0(t,0,!1,null,null,!1,!1,"",wx);return t._reactRootContainer=l,t[ks]=l.current,Pc(t.nodeType===8?t.parentNode:t),No(function(){yh(e,l,n,r)}),l}function bh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=kf(o);a.call(l)}}yh(e,o,t,s)}else o=OT(n,e,t,s,r);return kf(o)}Vw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Xl(e.pendingLanes);n!==0&&(Ty(e,n|1),En(e,gt()),!(Ae&6)&&(nl=gt()+500,Ri()))}break;case 13:No(function(){var r=Ss(t,1);if(r!==null){var s=dn();_r(r,t,1,s)}}),a0(t,1)}};Oy=function(t){if(t.tag===13){var e=Ss(t,134217728);if(e!==null){var n=dn();_r(e,t,134217728,n)}a0(t,134217728)}};Uw=function(t){if(t.tag===13){var e=xi(t),n=Ss(t,e);if(n!==null){var r=dn();_r(n,t,e,r)}a0(t,e)}};Hw=function(){return Be};qw=function(t,e){var n=Be;try{return Be=t,e()}finally{Be=n}};Om=function(t,e,n){switch(e){case"input":if(km(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=uh(r);if(!s)throw Error(z(90));kw(r),km(r,s)}}}break;case"textarea":_w(t,n);break;case"select":e=n.value,e!=null&&ka(t,!!n.multiple,e,!1)}};Mw=n0;Pw=No;var jT={usingClientEntryPoint:!1,Events:[Su,ua,uh,Ow,jw,n0]},$l={findFiberByHostInstance:Zi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MT={bundleType:$l.bundleType,version:$l.version,rendererPackageName:$l.rendererPackageName,rendererConfig:$l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Os.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Iw(t),t===null?null:t.stateNode},findFiberByHostInstance:$l.findFiberByHostInstance||TT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fd.isDisabled&&fd.supportsFiber)try{oh=fd.inject(MT),Vr=fd}catch{}}Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jT;Un.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c0(e))throw Error(z(200));return NT(t,e,null,n)};Un.createRoot=function(t,e){if(!c0(t))throw Error(z(299));var n=!1,r="",s=hS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=o0(t,1,!1,null,null,n,!1,r,s),t[ks]=e.current,Pc(t.nodeType===8?t.parentNode:t),new l0(e)};Un.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=Iw(e),t=t===null?null:t.stateNode,t};Un.flushSync=function(t){return No(t)};Un.hydrate=function(t,e,n){if(!xh(e))throw Error(z(200));return bh(null,t,e,!0,n)};Un.hydrateRoot=function(t,e,n){if(!c0(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=hS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=fS(e,null,t,1,n??null,s,!1,i,o),t[ks]=e.current,Pc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new vh(e)};Un.render=function(t,e,n){if(!xh(e))throw Error(z(200));return bh(null,t,e,!1,n)};Un.unmountComponentAtNode=function(t){if(!xh(t))throw Error(z(40));return t._reactRootContainer?(No(function(){bh(null,null,t,!1,function(){t._reactRootContainer=null,t[ks]=null})}),!0):!1};Un.unstable_batchedUpdates=n0;Un.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!xh(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return bh(t,e,n,!1,r)};Un.version="18.3.1-next-f1338f8080-20240426";function pS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pS)}catch(t){console.error(t)}}pS(),pw.exports=Un;var u0=pw.exports;const mS=my(u0),PT=nw({__proto__:null,default:mS},[u0]);var gS,kx=u0;gS=kx.createRoot,kx.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function st(){return st=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},st.apply(this,arguments)}var bt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(bt||(bt={}));const Sx="popstate";function AT(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Bc("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:To(s)}return IT(e,n,null,t)}function Se(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function rl(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RT(){return Math.random().toString(36).substr(2,8)}function _x(t,e){return{usr:t.state,key:t.key,idx:e}}function Bc(t,e,n,r){return n===void 0&&(n=null),st({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ii(e):e,{state:n,key:e&&e.key||r||RT()})}function To(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ii(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function IT(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=bt.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(st({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=bt.Pop;let x=u(),v=x==null?null:x-c;c=x,l&&l({action:a,location:y.location,delta:v})}function h(x,v){a=bt.Push;let g=Bc(y.location,x,v);c=u()+1;let b=_x(g,c),k=y.createHref(g);try{o.pushState(b,"",k)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(k)}i&&l&&l({action:a,location:y.location,delta:1})}function p(x,v){a=bt.Replace;let g=Bc(y.location,x,v);c=u();let b=_x(g,c),k=y.createHref(g);o.replaceState(b,"",k),i&&l&&l({action:a,location:y.location,delta:0})}function m(x){let v=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof x=="string"?x:To(x);return g=g.replace(/ $/,"%20"),Se(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let y={get action(){return a},get location(){return t(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Sx,d),l=x,()=>{s.removeEventListener(Sx,d),l=null}},createHref(x){return e(s,x)},createURL:m,encodeLocation(x){let v=m(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(x){return o.go(x)}};return y}var He;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(He||(He={}));const DT=new Set(["lazy","caseSensitive","path","id","index","children"]);function LT(t){return t.index===!0}function Vc(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((s,i)=>{let o=[...n,String(i)],a=typeof s.id=="string"?s.id:o.join("-");if(Se(s.index!==!0||!s.children,"Cannot specify children on an index route"),Se(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),LT(s)){let l=st({},s,e(s),{id:a});return r[a]=l,l}else{let l=st({},s,e(s),{id:a,children:void 0});return r[a]=l,s.children&&(l.children=Vc(s.children,e,o,r)),l}})}function Wi(t,e,n){return n===void 0&&(n="/"),Bd(t,e,n,!1)}function Bd(t,e,n,r){let s=typeof e=="string"?Ii(e):e,i=Cs(s.pathname||"/",n);if(i==null)return null;let o=yS(t);zT(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=ZT(i);a=JT(o[l],c,r)}return a}function FT(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],handle:n.handle}}function yS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Se(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=vs([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(Se(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),yS(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:WT(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of vS(i.path))s(i,o,l)}),e}function vS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=vS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function zT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:KT(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const $T=/^:[\w-]+$/,BT=3,VT=2,UT=1,HT=10,qT=-2,Cx=t=>t==="*";function WT(t,e){let n=t.split("/"),r=n.length;return n.some(Cx)&&(r+=qT),e&&(r+=VT),n.filter(s=>!Cx(s)).reduce((s,i)=>s+($T.test(i)?BT:i===""?UT:HT),r)}function KT(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function JT(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=Sf({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=Sf({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:vs([i,d.pathname]),pathnameBase:XT(vs([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=vs([i,d.pathnameBase]))}return o}function Sf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=QT(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let y=a[d]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[d];return p&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function QT(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),rl(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function ZT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rl(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Cs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function GT(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ii(t):t;return{pathname:n?n.startsWith("/")?n:YT(n,e):e,search:eO(r),hash:tO(s)}}function YT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ep(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xS(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function wh(t,e){let n=xS(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function kh(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Ii(t):(s=st({},t),Se(!s.pathname||!s.pathname.includes("?"),Ep("?","pathname","search",s)),Se(!s.pathname||!s.pathname.includes("#"),Ep("#","pathname","hash",s)),Se(!s.search||!s.search.includes("#"),Ep("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=GT(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const vs=t=>t.join("/").replace(/\/\/+/g,"/"),XT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),eO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,tO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class _f{constructor(e,n,r,s){s===void 0&&(s=!1),this.status=e,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Sh(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const bS=["post","put","patch","delete"],nO=new Set(bS),rO=["get",...bS],sO=new Set(rO),iO=new Set([301,302,303,307,308]),oO=new Set([307,308]),Np={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},aO={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Bl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},d0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lO=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),wS="remix-router-transitions";function cO(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Se(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(t.mapRouteProperties)s=t.mapRouteProperties;else if(t.detectErrorBoundary){let _=t.detectErrorBoundary;s=N=>({hasErrorBoundary:_(N)})}else s=lO;let i={},o=Vc(t.routes,s,void 0,i),a,l=t.basename||"/",c=t.unstable_dataStrategy||mO,u=t.unstable_patchRoutesOnNavigation,d=st({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),h=null,p=new Set,m=1e3,y=new Set,x=null,v=null,g=null,b=t.hydrationData!=null,k=Wi(o,t.history.location,l),O=null;if(k==null&&!u){let _=ln(404,{pathname:t.history.location.pathname}),{matches:N,route:P}=Rx(o);k=N,O={[P.id]:_}}k&&!t.hydrationData&&Uu(k,o,t.history.location.pathname).active&&(k=null);let T;if(k)if(k.some(_=>_.route.lazy))T=!1;else if(!k.some(_=>_.route.loader))T=!0;else if(d.v7_partialHydration){let _=t.hydrationData?t.hydrationData.loaderData:null,N=t.hydrationData?t.hydrationData.errors:null,P=I=>I.route.loader?typeof I.route.loader=="function"&&I.route.loader.hydrate===!0?!1:_&&_[I.route.id]!==void 0||N&&N[I.route.id]!==void 0:!0;if(N){let I=k.findIndex(X=>N[X.route.id]!==void 0);T=k.slice(0,I+1).every(P)}else T=k.every(P)}else T=t.hydrationData!=null;else if(T=!1,k=[],d.v7_partialHydration){let _=Uu(null,o,t.history.location.pathname);_.active&&_.matches&&(k=_.matches)}let j,w={historyAction:t.history.action,location:t.history.location,matches:k,initialized:T,navigation:Np,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||O,fetchers:new Map,blockers:new Map},A=bt.Pop,F=!1,D,Q=!1,re=new Map,pe=null,Ve=!1,Ge=!1,We=[],V=new Set,Y=new Map,me=0,Re=-1,Ue=new Map,zt=new Set,Wt=new Map,Wn=new Map,St=new Set,sn=new Map,es=new Map,Cl=new Map,Bi;function El(){if(h=t.history.listen(_=>{let{action:N,location:P,delta:I}=_;if(Bi){Bi(),Bi=void 0;return}rl(es.size===0||I!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let X=lv({currentLocation:w.location,nextLocation:P,historyAction:N});if(X&&I!=null){let le=new Promise(ve=>{Bi=ve});t.history.go(I*-1),Bu(X,{state:"blocked",location:P,proceed(){Bu(X,{state:"proceeding",proceed:void 0,reset:void 0,location:P}),le.then(()=>t.history.go(I))},reset(){let ve=new Map(w.blockers);ve.set(X,Bl),Ot({blockers:ve})}});return}return ts(N,P)}),n){jO(e,re);let _=()=>MO(e,re);e.addEventListener("pagehide",_),pe=()=>e.removeEventListener("pagehide",_)}return w.initialized||ts(bt.Pop,w.location,{initialHydration:!0}),j}function Lu(){h&&h(),pe&&pe(),p.clear(),D&&D.abort(),w.fetchers.forEach((_,N)=>Ps(N)),w.blockers.forEach((_,N)=>av(N))}function Qh(_){return p.add(_),()=>p.delete(_)}function Ot(_,N){N===void 0&&(N={}),w=st({},w,_);let P=[],I=[];d.v7_fetcherPersist&&w.fetchers.forEach((X,le)=>{X.state==="idle"&&(St.has(le)?I.push(le):P.push(le))}),[...p].forEach(X=>X(w,{deletedFetchers:I,unstable_viewTransitionOpts:N.viewTransitionOpts,unstable_flushSync:N.flushSync===!0})),d.v7_fetcherPersist&&(P.forEach(X=>w.fetchers.delete(X)),I.forEach(X=>Ps(X)))}function Ms(_,N,P){var I,X;let{flushSync:le}=P===void 0?{}:P,ve=w.actionData!=null&&w.navigation.formMethod!=null&&mr(w.navigation.formMethod)&&w.navigation.state==="loading"&&((I=_.state)==null?void 0:I._isRedirect)!==!0,q;N.actionData?Object.keys(N.actionData).length>0?q=N.actionData:q=null:ve?q=w.actionData:q=null;let fe=N.loaderData?Px(w.loaderData,N.loaderData,N.matches||[],N.errors):w.loaderData,se=w.blockers;se.size>0&&(se=new Map(se),se.forEach(($e,Ye)=>se.set(Ye,Bl)));let ie=F===!0||w.navigation.formMethod!=null&&mr(w.navigation.formMethod)&&((X=_.state)==null?void 0:X._isRedirect)!==!0;a&&(o=a,a=void 0),Ve||A===bt.Pop||(A===bt.Push?t.history.push(_,_.state):A===bt.Replace&&t.history.replace(_,_.state));let Ie;if(A===bt.Pop){let $e=re.get(w.location.pathname);$e&&$e.has(_.pathname)?Ie={currentLocation:w.location,nextLocation:_}:re.has(_.pathname)&&(Ie={currentLocation:_,nextLocation:w.location})}else if(Q){let $e=re.get(w.location.pathname);$e?$e.add(_.pathname):($e=new Set([_.pathname]),re.set(w.location.pathname,$e)),Ie={currentLocation:w.location,nextLocation:_}}Ot(st({},N,{actionData:q,loaderData:fe,historyAction:A,location:_,initialized:!0,navigation:Np,revalidation:"idle",restoreScrollPosition:uv(_,N.matches||w.matches),preventScrollReset:ie,blockers:se}),{viewTransitionOpts:Ie,flushSync:le===!0}),A=bt.Pop,F=!1,Q=!1,Ve=!1,Ge=!1,We=[]}async function Nl(_,N){if(typeof _=="number"){t.history.go(_);return}let P=lg(w.location,w.matches,l,d.v7_prependBasename,_,d.v7_relativeSplatPath,N==null?void 0:N.fromRouteId,N==null?void 0:N.relative),{path:I,submission:X,error:le}=Ex(d.v7_normalizeFormMethod,!1,P,N),ve=w.location,q=Bc(w.location,I,N&&N.state);q=st({},q,t.history.encodeLocation(q));let fe=N&&N.replace!=null?N.replace:void 0,se=bt.Push;fe===!0?se=bt.Replace:fe===!1||X!=null&&mr(X.formMethod)&&X.formAction===w.location.pathname+w.location.search&&(se=bt.Replace);let ie=N&&"preventScrollReset"in N?N.preventScrollReset===!0:void 0,Ie=(N&&N.unstable_flushSync)===!0,$e=lv({currentLocation:ve,nextLocation:q,historyAction:se});if($e){Bu($e,{state:"blocked",location:q,proceed(){Bu($e,{state:"proceeding",proceed:void 0,reset:void 0,location:q}),Nl(_,N)},reset(){let Ye=new Map(w.blockers);Ye.set($e,Bl),Ot({blockers:Ye})}});return}return await ts(se,q,{submission:X,pendingError:le,preventScrollReset:ie,replace:N&&N.replace,enableViewTransition:N&&N.unstable_viewTransition,flushSync:Ie})}function Fu(){if(Te(),Ot({revalidation:"loading"}),w.navigation.state!=="submitting"){if(w.navigation.state==="idle"){ts(w.historyAction,w.location,{startUninterruptedRevalidation:!0});return}ts(A||w.historyAction,w.navigation.location,{overrideNavigation:w.navigation,enableViewTransition:Q===!0})}}async function ts(_,N,P){D&&D.abort(),D=null,A=_,Ve=(P&&P.startUninterruptedRevalidation)===!0,tN(w.location,w.matches),F=(P&&P.preventScrollReset)===!0,Q=(P&&P.enableViewTransition)===!0;let I=a||o,X=P&&P.overrideNavigation,le=Wi(I,N,l),ve=(P&&P.flushSync)===!0,q=Uu(le,I,N.pathname);if(q.active&&q.matches&&(le=q.matches),!le){let{error:Pe,notFoundMatches:jt,route:vt}=Gh(N.pathname);Ms(N,{matches:jt,loaderData:{},errors:{[vt.id]:Pe}},{flushSync:ve});return}if(w.initialized&&!Ge&&wO(w.location,N)&&!(P&&P.submission&&mr(P.submission.formMethod))){Ms(N,{matches:le},{flushSync:ve});return}D=new AbortController;let fe=Ko(t.history,N,D.signal,P&&P.submission),se;if(P&&P.pendingError)se=[ya(le).route.id,{type:He.error,error:P.pendingError}];else if(P&&P.submission&&mr(P.submission.formMethod)){let Pe=await Zh(fe,N,P.submission,le,q.active,{replace:P.replace,flushSync:ve});if(Pe.shortCircuited)return;if(Pe.pendingActionResult){let[jt,vt]=Pe.pendingActionResult;if(An(vt)&&Sh(vt.error)&&vt.error.status===404){D=null,Ms(N,{matches:Pe.matches,loaderData:{},errors:{[jt]:vt.error}});return}}le=Pe.matches||le,se=Pe.pendingActionResult,X=Tp(N,P.submission),ve=!1,q.active=!1,fe=Ko(t.history,fe.url,fe.signal)}let{shortCircuited:ie,matches:Ie,loaderData:$e,errors:Ye}=await ov(fe,N,le,q.active,X,P&&P.submission,P&&P.fetcherSubmission,P&&P.replace,P&&P.initialHydration===!0,ve,se);ie||(D=null,Ms(N,st({matches:Ie||le},Ax(se),{loaderData:$e,errors:Ye})))}async function Zh(_,N,P,I,X,le){le===void 0&&(le={}),Te();let ve=TO(N,P);if(Ot({navigation:ve},{flushSync:le.flushSync===!0}),X){let se=await Hu(I,N.pathname,_.signal);if(se.type==="aborted")return{shortCircuited:!0};if(se.type==="error"){let{boundaryId:ie,error:Ie}=Vu(N.pathname,se);return{matches:se.partialMatches,pendingActionResult:[ie,{type:He.error,error:Ie}]}}else if(se.matches)I=se.matches;else{let{notFoundMatches:ie,error:Ie,route:$e}=Gh(N.pathname);return{matches:ie,pendingActionResult:[$e.id,{type:He.error,error:Ie}]}}}let q,fe=tc(I,N);if(!fe.route.action&&!fe.route.lazy)q={type:He.error,error:ln(405,{method:_.method,pathname:N.pathname,routeId:fe.route.id})};else if(q=(await $("action",w,_,[fe],I,null))[fe.route.id],_.signal.aborted)return{shortCircuited:!0};if(Xi(q)){let se;return le&&le.replace!=null?se=le.replace:se=Ox(q.response.headers.get("Location"),new URL(_.url),l)===w.location.pathname+w.location.search,await U(_,q,!0,{submission:P,replace:se}),{shortCircuited:!0}}if(ci(q))throw ln(400,{type:"defer-action"});if(An(q)){let se=ya(I,fe.route.id);return(le&&le.replace)!==!0&&(A=bt.Push),{matches:I,pendingActionResult:[se.route.id,q]}}return{matches:I,pendingActionResult:[fe.route.id,q]}}async function ov(_,N,P,I,X,le,ve,q,fe,se,ie){let Ie=X||Tp(N,le),$e=le||ve||Dx(Ie),Ye=!Ve&&(!d.v7_partialHydration||!fe);if(I){if(Ye){let lt=Tl(ie);Ot(st({navigation:Ie},lt!==void 0?{actionData:lt}:{}),{flushSync:se})}let ke=await Hu(P,N.pathname,_.signal);if(ke.type==="aborted")return{shortCircuited:!0};if(ke.type==="error"){let{boundaryId:lt,error:Tn}=Vu(N.pathname,ke);return{matches:ke.partialMatches,loaderData:{},errors:{[lt]:Tn}}}else if(ke.matches)P=ke.matches;else{let{error:lt,notFoundMatches:Tn,route:ct}=Gh(N.pathname);return{matches:Tn,loaderData:{},errors:{[ct.id]:lt}}}}let Pe=a||o,[jt,vt]=Nx(t.history,w,P,$e,N,d.v7_partialHydration&&fe===!0,d.v7_skipActionErrorRevalidation,Ge,We,V,St,Wt,zt,Pe,l,ie);if(Yh(ke=>!(P&&P.some(lt=>lt.route.id===ke))||jt&&jt.some(lt=>lt.route.id===ke)),Re=++me,jt.length===0&&vt.length===0){let ke=$u();return Ms(N,st({matches:P,loaderData:{},errors:ie&&An(ie[1])?{[ie[0]]:ie[1].error}:null},Ax(ie),ke?{fetchers:new Map(w.fetchers)}:{}),{flushSync:se}),{shortCircuited:!0}}if(Ye){let ke={};if(!I){ke.navigation=Ie;let lt=Tl(ie);lt!==void 0&&(ke.actionData=lt)}vt.length>0&&(ke.fetchers=C(vt)),Ot(ke,{flushSync:se})}vt.forEach(ke=>{Y.has(ke.key)&&jr(ke.key),ke.controller&&Y.set(ke.key,ke.controller)});let Pl=()=>vt.forEach(ke=>jr(ke.key));D&&D.signal.addEventListener("abort",Pl);let{loaderResults:ns,fetcherResults:qo}=await te(w,P,jt,vt,_);if(_.signal.aborted)return{shortCircuited:!0};D&&D.signal.removeEventListener("abort",Pl),vt.forEach(ke=>Y.delete(ke.key));let As=hd(ns);if(As)return await U(_,As.result,!0,{replace:q}),{shortCircuited:!0};if(As=hd(qo),As)return zt.add(As.key),await U(_,As.result,!0,{replace:q}),{shortCircuited:!0};let{loaderData:qu,errors:rs}=Mx(w,P,jt,ns,ie,vt,qo,sn);sn.forEach((ke,lt)=>{ke.subscribe(Tn=>{(Tn||ke.done)&&sn.delete(lt)})}),d.v7_partialHydration&&fe&&w.errors&&Object.entries(w.errors).filter(ke=>{let[lt]=ke;return!jt.some(Tn=>Tn.route.id===lt)}).forEach(ke=>{let[lt,Tn]=ke;rs=Object.assign(rs||{},{[lt]:Tn})});let Wu=$u(),Ku=Ml(Re),Ju=Wu||Ku||vt.length>0;return st({matches:P,loaderData:qu,errors:rs},Ju?{fetchers:new Map(w.fetchers)}:{})}function Tl(_){if(_&&!An(_[1]))return{[_[0]]:_[1].data};if(w.actionData)return Object.keys(w.actionData).length===0?null:w.actionData}function C(_){return _.forEach(N=>{let P=w.fetchers.get(N.key),I=Vl(void 0,P?P.data:void 0);w.fetchers.set(N.key,I)}),new Map(w.fetchers)}function M(_,N,P,I){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Y.has(_)&&jr(_);let X=(I&&I.unstable_flushSync)===!0,le=a||o,ve=lg(w.location,w.matches,l,d.v7_prependBasename,P,d.v7_relativeSplatPath,N,I==null?void 0:I.relative),q=Wi(le,ve,l),fe=Uu(q,le,ve);if(fe.active&&fe.matches&&(q=fe.matches),!q){Ke(_,N,ln(404,{pathname:ve}),{flushSync:X});return}let{path:se,submission:ie,error:Ie}=Ex(d.v7_normalizeFormMethod,!0,ve,I);if(Ie){Ke(_,N,Ie,{flushSync:X});return}let $e=tc(q,se);if(F=(I&&I.preventScrollReset)===!0,ie&&mr(ie.formMethod)){R(_,N,se,$e,q,fe.active,X,ie);return}Wt.set(_,{routeId:N,path:se}),Z(_,N,se,$e,q,fe.active,X,ie)}async function R(_,N,P,I,X,le,ve,q){Te(),Wt.delete(_);function fe(ct){if(!ct.route.action&&!ct.route.lazy){let ss=ln(405,{method:q.formMethod,pathname:P,routeId:N});return Ke(_,N,ss,{flushSync:ve}),!0}return!1}if(!le&&fe(I))return;let se=w.fetchers.get(_);ze(_,OO(q,se),{flushSync:ve});let ie=new AbortController,Ie=Ko(t.history,P,ie.signal,q);if(le){let ct=await Hu(X,P,Ie.signal);if(ct.type==="aborted")return;if(ct.type==="error"){let{error:ss}=Vu(P,ct);Ke(_,N,ss,{flushSync:ve});return}else if(ct.matches){if(X=ct.matches,I=tc(X,P),fe(I))return}else{Ke(_,N,ln(404,{pathname:P}),{flushSync:ve});return}}Y.set(_,ie);let $e=me,Pe=(await $("action",w,Ie,[I],X,_))[I.route.id];if(Ie.signal.aborted){Y.get(_)===ie&&Y.delete(_);return}if(d.v7_fetcherPersist&&St.has(_)){if(Xi(Pe)||An(Pe)){ze(_,Ds(void 0));return}}else{if(Xi(Pe))if(Y.delete(_),Re>$e){ze(_,Ds(void 0));return}else return zt.add(_),ze(_,Vl(q)),U(Ie,Pe,!1,{fetcherSubmission:q});if(An(Pe)){Ke(_,N,Pe.error);return}}if(ci(Pe))throw ln(400,{type:"defer-action"});let jt=w.navigation.location||w.location,vt=Ko(t.history,jt,ie.signal),Pl=a||o,ns=w.navigation.state!=="idle"?Wi(Pl,w.navigation.location,l):w.matches;Se(ns,"Didn't find any matches after fetcher action");let qo=++me;Ue.set(_,qo);let As=Vl(q,Pe.data);w.fetchers.set(_,As);let[qu,rs]=Nx(t.history,w,ns,q,jt,!1,d.v7_skipActionErrorRevalidation,Ge,We,V,St,Wt,zt,Pl,l,[I.route.id,Pe]);rs.filter(ct=>ct.key!==_).forEach(ct=>{let ss=ct.key,fv=w.fetchers.get(ss),sN=Vl(void 0,fv?fv.data:void 0);w.fetchers.set(ss,sN),Y.has(ss)&&jr(ss),ct.controller&&Y.set(ss,ct.controller)}),Ot({fetchers:new Map(w.fetchers)});let Wu=()=>rs.forEach(ct=>jr(ct.key));ie.signal.addEventListener("abort",Wu);let{loaderResults:Ku,fetcherResults:Ju}=await te(w,ns,qu,rs,vt);if(ie.signal.aborted)return;ie.signal.removeEventListener("abort",Wu),Ue.delete(_),Y.delete(_),rs.forEach(ct=>Y.delete(ct.key));let ke=hd(Ku);if(ke)return U(vt,ke.result,!1);if(ke=hd(Ju),ke)return zt.add(ke.key),U(vt,ke.result,!1);let{loaderData:lt,errors:Tn}=Mx(w,ns,qu,Ku,void 0,rs,Ju,sn);if(w.fetchers.has(_)){let ct=Ds(Pe.data);w.fetchers.set(_,ct)}Ml(qo),w.navigation.state==="loading"&&qo>Re?(Se(A,"Expected pending action"),D&&D.abort(),Ms(w.navigation.location,{matches:ns,loaderData:lt,errors:Tn,fetchers:new Map(w.fetchers)})):(Ot({errors:Tn,loaderData:Px(w.loaderData,lt,ns,Tn),fetchers:new Map(w.fetchers)}),Ge=!1)}async function Z(_,N,P,I,X,le,ve,q){let fe=w.fetchers.get(_);ze(_,Vl(q,fe?fe.data:void 0),{flushSync:ve});let se=new AbortController,ie=Ko(t.history,P,se.signal);if(le){let Pe=await Hu(X,P,ie.signal);if(Pe.type==="aborted")return;if(Pe.type==="error"){let{error:jt}=Vu(P,Pe);Ke(_,N,jt,{flushSync:ve});return}else if(Pe.matches)X=Pe.matches,I=tc(X,P);else{Ke(_,N,ln(404,{pathname:P}),{flushSync:ve});return}}Y.set(_,se);let Ie=me,Ye=(await $("loader",w,ie,[I],X,_))[I.route.id];if(ci(Ye)&&(Ye=await f0(Ye,ie.signal,!0)||Ye),Y.get(_)===se&&Y.delete(_),!ie.signal.aborted){if(St.has(_)){ze(_,Ds(void 0));return}if(Xi(Ye))if(Re>Ie){ze(_,Ds(void 0));return}else{zt.add(_),await U(ie,Ye,!1);return}if(An(Ye)){Ke(_,N,Ye.error);return}Se(!ci(Ye),"Unhandled fetcher deferred data"),ze(_,Ds(Ye.data))}}async function U(_,N,P,I){let{submission:X,fetcherSubmission:le,replace:ve}=I===void 0?{}:I;N.response.headers.has("X-Remix-Revalidate")&&(Ge=!0);let q=N.response.headers.get("Location");Se(q,"Expected a Location header on the redirect Response"),q=Ox(q,new URL(_.url),l);let fe=Bc(w.location,q,{_isRedirect:!0});if(n){let Pe=!1;if(N.response.headers.has("X-Remix-Reload-Document"))Pe=!0;else if(d0.test(q)){const jt=t.history.createURL(q);Pe=jt.origin!==e.location.origin||Cs(jt.pathname,l)==null}if(Pe){ve?e.location.replace(q):e.location.assign(q);return}}D=null;let se=ve===!0||N.response.headers.has("X-Remix-Replace")?bt.Replace:bt.Push,{formMethod:ie,formAction:Ie,formEncType:$e}=w.navigation;!X&&!le&&ie&&Ie&&$e&&(X=Dx(w.navigation));let Ye=X||le;if(oO.has(N.response.status)&&Ye&&mr(Ye.formMethod))await ts(se,fe,{submission:st({},Ye,{formAction:q}),preventScrollReset:F,enableViewTransition:P?Q:void 0});else{let Pe=Tp(fe,X);await ts(se,fe,{overrideNavigation:Pe,fetcherSubmission:le,preventScrollReset:F,enableViewTransition:P?Q:void 0})}}async function $(_,N,P,I,X,le){let ve,q={};try{ve=await gO(c,_,N,P,I,X,le,i,s)}catch(fe){return I.forEach(se=>{q[se.route.id]={type:He.error,error:fe}}),q}for(let[fe,se]of Object.entries(ve))if(SO(se)){let ie=se.result;q[fe]={type:He.redirect,response:xO(ie,P,fe,X,l,d.v7_relativeSplatPath)}}else q[fe]=await vO(se);return q}async function te(_,N,P,I,X){let le=_.matches,ve=$("loader",_,X,P,N,null),q=Promise.all(I.map(async ie=>{if(ie.matches&&ie.match&&ie.controller){let $e=(await $("loader",_,Ko(t.history,ie.path,ie.controller.signal),[ie.match],ie.matches,ie.key))[ie.match.route.id];return{[ie.key]:$e}}else return Promise.resolve({[ie.key]:{type:He.error,error:ln(404,{pathname:ie.path})}})})),fe=await ve,se=(await q).reduce((ie,Ie)=>Object.assign(ie,Ie),{});return await Promise.all([EO(N,fe,X.signal,le,_.loaderData),NO(N,se,I)]),{loaderResults:fe,fetcherResults:se}}function Te(){Ge=!0,We.push(...Yh()),Wt.forEach((_,N)=>{Y.has(N)&&(V.add(N),jr(N))})}function ze(_,N,P){P===void 0&&(P={}),w.fetchers.set(_,N),Ot({fetchers:new Map(w.fetchers)},{flushSync:(P&&P.flushSync)===!0})}function Ke(_,N,P,I){I===void 0&&(I={});let X=ya(w.matches,N);Ps(_),Ot({errors:{[X.route.id]:P},fetchers:new Map(w.fetchers)},{flushSync:(I&&I.flushSync)===!0})}function zu(_){return d.v7_fetcherPersist&&(Wn.set(_,(Wn.get(_)||0)+1),St.has(_)&&St.delete(_)),w.fetchers.get(_)||aO}function Ps(_){let N=w.fetchers.get(_);Y.has(_)&&!(N&&N.state==="loading"&&Ue.has(_))&&jr(_),Wt.delete(_),Ue.delete(_),zt.delete(_),St.delete(_),V.delete(_),w.fetchers.delete(_)}function Ol(_){if(d.v7_fetcherPersist){let N=(Wn.get(_)||0)-1;N<=0?(Wn.delete(_),St.add(_)):Wn.set(_,N)}else Ps(_);Ot({fetchers:new Map(w.fetchers)})}function jr(_){let N=Y.get(_);Se(N,"Expected fetch controller: "+_),N.abort(),Y.delete(_)}function jl(_){for(let N of _){let P=zu(N),I=Ds(P.data);w.fetchers.set(N,I)}}function $u(){let _=[],N=!1;for(let P of zt){let I=w.fetchers.get(P);Se(I,"Expected fetcher: "+P),I.state==="loading"&&(zt.delete(P),_.push(P),N=!0)}return jl(_),N}function Ml(_){let N=[];for(let[P,I]of Ue)if(I<_){let X=w.fetchers.get(P);Se(X,"Expected fetcher: "+P),X.state==="loading"&&(jr(P),Ue.delete(P),N.push(P))}return jl(N),N.length>0}function XE(_,N){let P=w.blockers.get(_)||Bl;return es.get(_)!==N&&es.set(_,N),P}function av(_){w.blockers.delete(_),es.delete(_)}function Bu(_,N){let P=w.blockers.get(_)||Bl;Se(P.state==="unblocked"&&N.state==="blocked"||P.state==="blocked"&&N.state==="blocked"||P.state==="blocked"&&N.state==="proceeding"||P.state==="blocked"&&N.state==="unblocked"||P.state==="proceeding"&&N.state==="unblocked","Invalid blocker state transition: "+P.state+" -> "+N.state);let I=new Map(w.blockers);I.set(_,N),Ot({blockers:I})}function lv(_){let{currentLocation:N,nextLocation:P,historyAction:I}=_;if(es.size===0)return;es.size>1&&rl(!1,"A router only supports one blocker at a time");let X=Array.from(es.entries()),[le,ve]=X[X.length-1],q=w.blockers.get(le);if(!(q&&q.state==="proceeding")&&ve({currentLocation:N,nextLocation:P,historyAction:I}))return le}function Gh(_){let N=ln(404,{pathname:_}),P=a||o,{matches:I,route:X}=Rx(P);return Yh(),{notFoundMatches:I,route:X,error:N}}function Vu(_,N){return{boundaryId:ya(N.partialMatches).route.id,error:ln(400,{type:"route-discovery",pathname:_,message:N.error!=null&&"message"in N.error?N.error:String(N.error)})}}function Yh(_){let N=[];return sn.forEach((P,I)=>{(!_||_(I))&&(P.cancel(),N.push(I),sn.delete(I))}),N}function eN(_,N,P){if(x=_,g=N,v=P||null,!b&&w.navigation===Np){b=!0;let I=uv(w.location,w.matches);I!=null&&Ot({restoreScrollPosition:I})}return()=>{x=null,g=null,v=null}}function cv(_,N){return v&&v(_,N.map(I=>FT(I,w.loaderData)))||_.key}function tN(_,N){if(x&&g){let P=cv(_,N);x[P]=g()}}function uv(_,N){if(x){let P=cv(_,N),I=x[P];if(typeof I=="number")return I}return null}function Uu(_,N,P){if(u){if(y.has(P))return{active:!1,matches:_};if(_){if(Object.keys(_[0].params).length>0)return{active:!0,matches:Bd(N,P,l,!0)}}else return{active:!0,matches:Bd(N,P,l,!0)||[]}}return{active:!1,matches:null}}async function Hu(_,N,P){let I=_;for(;;){let X=a==null,le=a||o;try{await hO(u,N,I,le,i,s,Cl,P)}catch(fe){return{type:"error",error:fe,partialMatches:I}}finally{X&&(o=[...o])}if(P.aborted)return{type:"aborted"};let ve=Wi(le,N,l);if(ve)return dv(N,y),{type:"success",matches:ve};let q=Bd(le,N,l,!0);if(!q||I.length===q.length&&I.every((fe,se)=>fe.route.id===q[se].route.id))return dv(N,y),{type:"success",matches:null};I=q}}function dv(_,N){if(N.size>=m){let P=N.values().next().value;N.delete(P)}N.add(_)}function nN(_){i={},a=Vc(_,s,void 0,i)}function rN(_,N){let P=a==null;SS(_,N,a||o,i,s),P&&(o=[...o],Ot({}))}return j={get basename(){return l},get future(){return d},get state(){return w},get routes(){return o},get window(){return e},initialize:El,subscribe:Qh,enableScrollRestoration:eN,navigate:Nl,fetch:M,revalidate:Fu,createHref:_=>t.history.createHref(_),encodeLocation:_=>t.history.encodeLocation(_),getFetcher:zu,deleteFetcher:Ol,dispose:Lu,getBlocker:XE,deleteBlocker:av,patchRoutes:rN,_internalFetchControllers:Y,_internalActiveDeferreds:sn,_internalSetRoutes:nN},j}function uO(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function lg(t,e,n,r,s,i,o,a){let l,c;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){c=d;break}}else l=e,c=e[e.length-1];let u=kh(s||".",wh(l,i),Cs(t.pathname,n)||t.pathname,a==="path");return s==null&&(u.search=t.search,u.hash=t.hash),(s==null||s===""||s===".")&&c&&c.route.index&&!h0(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:vs([n,u.pathname])),To(u)}function Ex(t,e,n,r){if(!r||!uO(r))return{path:n};if(r.formMethod&&!CO(r.formMethod))return{path:n,error:ln(405,{method:r.formMethod})};let s=()=>({path:n,error:ln(400,{type:"invalid-body"})}),i=r.formMethod||"get",o=t?i.toUpperCase():i.toLowerCase(),a=_S(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!mr(o))return s();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,m)=>{let[y,x]=m;return""+p+y+"="+x+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!mr(o))return s();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return s()}}}Se(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=cg(r.formData),c=r.formData;else if(r.body instanceof FormData)l=cg(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=jx(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=jx(l)}catch{return s()}let u={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(mr(u.formMethod))return{path:n,submission:u};let d=Ii(n);return e&&d.search&&h0(d.search)&&l.append("index",""),d.search="?"+l,{path:To(d),submission:u}}function dO(t,e){let n=t;if(e){let r=t.findIndex(s=>s.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function Nx(t,e,n,r,s,i,o,a,l,c,u,d,h,p,m,y){let x=y?An(y[1])?y[1].error:y[1].data:void 0,v=t.createURL(e.location),g=t.createURL(s),b=y&&An(y[1])?y[0]:void 0,k=b?dO(n,b):n,O=y?y[1].statusCode:void 0,T=o&&O&&O>=400,j=k.filter((A,F)=>{let{route:D}=A;if(D.lazy)return!0;if(D.loader==null)return!1;if(i)return typeof D.loader!="function"||D.loader.hydrate?!0:e.loaderData[D.id]===void 0&&(!e.errors||e.errors[D.id]===void 0);if(fO(e.loaderData,e.matches[F],A)||l.some(pe=>pe===A.route.id))return!0;let Q=e.matches[F],re=A;return Tx(A,st({currentUrl:v,currentParams:Q.params,nextUrl:g,nextParams:re.params},r,{actionResult:x,actionStatus:O,defaultShouldRevalidate:T?!1:a||v.pathname+v.search===g.pathname+g.search||v.search!==g.search||kS(Q,re)}))}),w=[];return d.forEach((A,F)=>{if(i||!n.some(Ve=>Ve.route.id===A.routeId)||u.has(F))return;let D=Wi(p,A.path,m);if(!D){w.push({key:F,routeId:A.routeId,path:A.path,matches:null,match:null,controller:null});return}let Q=e.fetchers.get(F),re=tc(D,A.path),pe=!1;h.has(F)?pe=!1:c.has(F)?(c.delete(F),pe=!0):Q&&Q.state!=="idle"&&Q.data===void 0?pe=a:pe=Tx(re,st({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:g,nextParams:n[n.length-1].params},r,{actionResult:x,actionStatus:O,defaultShouldRevalidate:T?!1:a})),pe&&w.push({key:F,routeId:A.routeId,path:A.path,matches:D,match:re,controller:new AbortController})}),[j,w]}function fO(t,e,n){let r=!e||n.route.id!==e.route.id,s=t[n.route.id]===void 0;return r||s}function kS(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Tx(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function hO(t,e,n,r,s,i,o,a){let l=[e,...n.map(c=>c.route.id)].join("-");try{let c=o.get(l);c||(c=t({path:e,matches:n,patch:(u,d)=>{a.aborted||SS(u,d,r,s,i)}}),o.set(l,c)),c&&kO(c)&&await c}finally{o.delete(l)}}function SS(t,e,n,r,s){if(t){var i;let o=r[t];Se(o,"No route found to patch children into: routeId = "+t);let a=Vc(e,s,[t,"patch",String(((i=o.children)==null?void 0:i.length)||"0")],r);o.children?o.children.push(...a):o.children=a}else{let o=Vc(e,s,["patch",String(n.length||"0")],r);n.push(...o)}}async function pO(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let s=n[t.id];Se(s,"No route found in manifest");let i={};for(let o in r){let l=s[o]!==void 0&&o!=="hasErrorBoundary";rl(!l,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!DT.has(o)&&(i[o]=r[o])}Object.assign(s,i),Object.assign(s,st({},e(s),{lazy:void 0}))}async function mO(t){let{matches:e}=t,n=e.filter(s=>s.shouldLoad);return(await Promise.all(n.map(s=>s.resolve()))).reduce((s,i,o)=>Object.assign(s,{[n[o].route.id]:i}),{})}async function gO(t,e,n,r,s,i,o,a,l,c){let u=i.map(p=>p.route.lazy?pO(p.route,l,a):void 0),d=i.map((p,m)=>{let y=u[m],x=s.some(g=>g.route.id===p.route.id);return st({},p,{shouldLoad:x,resolve:async g=>(g&&r.method==="GET"&&(p.route.lazy||p.route.loader)&&(x=!0),x?yO(e,r,p,y,g,c):Promise.resolve({type:He.data,result:void 0}))})}),h=await t({matches:d,request:r,params:i[0].params,fetcherKey:o,context:c});try{await Promise.all(u)}catch{}return h}async function yO(t,e,n,r,s,i){let o,a,l=c=>{let u,d=new Promise((m,y)=>u=y);a=()=>u(),e.signal.addEventListener("abort",a);let h=m=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:i},...m!==void 0?[m]:[]),p=(async()=>{try{return{type:"data",result:await(s?s(y=>h(y)):h())}}catch(m){return{type:"error",result:m}}})();return Promise.race([p,d])};try{let c=n.route[t];if(r)if(c){let u,[d]=await Promise.all([l(c).catch(h=>{u=h}),r]);if(u!==void 0)throw u;o=d}else if(await r,c=n.route[t],c)o=await l(c);else if(t==="action"){let u=new URL(e.url),d=u.pathname+u.search;throw ln(405,{method:e.method,pathname:d,routeId:n.route.id})}else return{type:He.data,result:void 0};else if(c)o=await l(c);else{let u=new URL(e.url),d=u.pathname+u.search;throw ln(404,{pathname:d})}Se(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:He.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function vO(t){let{result:e,type:n}=t;if(CS(e)){let c;try{let u=e.headers.get("Content-Type");u&&/\bapplication\/json\b/.test(u)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(u){return{type:He.error,error:u}}return n===He.error?{type:He.error,error:new _f(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:He.data,data:c,statusCode:e.status,headers:e.headers}}if(n===He.error){if(Ix(e)){var r;if(e.data instanceof Error){var s;return{type:He.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status}}e=new _f(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:He.error,error:e,statusCode:Sh(e)?e.status:void 0}}if(_O(e)){var i,o;return{type:He.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(Ix(e)){var a,l;return{type:He.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:He.data,data:e}}function xO(t,e,n,r,s,i){let o=t.headers.get("Location");if(Se(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!d0.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=lg(new URL(e.url),a,s,!0,o,i),t.headers.set("Location",o)}return t}function Ox(t,e,n){if(d0.test(t)){let r=t,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),i=Cs(s.pathname,n)!=null;if(s.origin===e.origin&&i)return s.pathname+s.search+s.hash}return t}function Ko(t,e,n,r){let s=t.createURL(_S(e)).toString(),i={signal:n};if(r&&mr(r.formMethod)){let{formMethod:o,formEncType:a}=r;i.method=o.toUpperCase(),a==="application/json"?(i.headers=new Headers({"Content-Type":a}),i.body=JSON.stringify(r.json)):a==="text/plain"?i.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?i.body=cg(r.formData):i.body=r.formData}return new Request(s,i)}function cg(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function jx(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function bO(t,e,n,r,s){let i={},o=null,a,l=!1,c={},u=n&&An(n[1])?n[1].error:void 0;return t.forEach(d=>{if(!(d.route.id in e))return;let h=d.route.id,p=e[h];if(Se(!Xi(p),"Cannot handle redirect results in processLoaderData"),An(p)){let m=p.error;u!==void 0&&(m=u,u=void 0),o=o||{};{let y=ya(t,h);o[y.route.id]==null&&(o[y.route.id]=m)}i[h]=void 0,l||(l=!0,a=Sh(p.error)?p.error.status:500),p.headers&&(c[h]=p.headers)}else ci(p)?(r.set(h,p.deferredData),i[h]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(c[h]=p.headers)):(i[h]=p.data,p.statusCode&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(c[h]=p.headers))}),u!==void 0&&n&&(o={[n[0]]:u},i[n[0]]=void 0),{loaderData:i,errors:o,statusCode:a||200,loaderHeaders:c}}function Mx(t,e,n,r,s,i,o,a){let{loaderData:l,errors:c}=bO(e,r,s,a);return i.forEach(u=>{let{key:d,match:h,controller:p}=u,m=o[d];if(Se(m,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(An(m)){let y=ya(t.matches,h==null?void 0:h.route.id);c&&c[y.route.id]||(c=st({},c,{[y.route.id]:m.error})),t.fetchers.delete(d)}else if(Xi(m))Se(!1,"Unhandled fetcher revalidation redirect");else if(ci(m))Se(!1,"Unhandled fetcher deferred data");else{let y=Ds(m.data);t.fetchers.set(d,y)}}),{loaderData:l,errors:c}}function Px(t,e,n,r){let s=st({},e);for(let i of n){let o=i.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(s[o]=e[o]):t[o]!==void 0&&i.route.loader&&(s[o]=t[o]),r&&r.hasOwnProperty(o))break}return s}function Ax(t){return t?An(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function ya(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Rx(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ln(t,e){let{pathname:n,routeId:r,method:s,type:i,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+o):s&&n&&r?l="You made a "+s+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",s&&n&&r?l="You made a "+s.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(l='Invalid request method "'+s.toUpperCase()+'"')),new _f(t||500,a,new Error(l),!0)}function hd(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,s]=e[n];if(Xi(s))return{key:r,result:s}}}function _S(t){let e=typeof t=="string"?Ii(t):t;return To(st({},e,{hash:""}))}function wO(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function kO(t){return typeof t=="object"&&t!=null&&"then"in t}function SO(t){return CS(t.result)&&iO.has(t.result.status)}function ci(t){return t.type===He.deferred}function An(t){return t.type===He.error}function Xi(t){return(t&&t.type)===He.redirect}function Ix(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function _O(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function CS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function CO(t){return sO.has(t.toLowerCase())}function mr(t){return nO.has(t.toLowerCase())}async function EO(t,e,n,r,s){let i=Object.entries(e);for(let o=0;o<i.length;o++){let[a,l]=i[o],c=t.find(h=>(h==null?void 0:h.route.id)===a);if(!c)continue;let u=r.find(h=>h.route.id===c.route.id),d=u!=null&&!kS(u,c)&&(s&&s[c.route.id])!==void 0;ci(l)&&d&&await f0(l,n,!1).then(h=>{h&&(e[a]=h)})}}async function NO(t,e,n){for(let r=0;r<n.length;r++){let{key:s,routeId:i,controller:o}=n[r],a=e[s];t.find(c=>(c==null?void 0:c.route.id)===i)&&ci(a)&&(Se(o,"Expected an AbortController for revalidating fetcher deferred result"),await f0(a,o.signal,!0).then(c=>{c&&(e[s]=c)}))}}async function f0(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:He.data,data:t.deferredData.unwrappedData}}catch(s){return{type:He.error,error:s}}return{type:He.data,data:t.deferredData.data}}}function h0(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function tc(t,e){let n=typeof e=="string"?Ii(e).search:e.search;if(t[t.length-1].route.index&&h0(n||""))return t[t.length-1];let r=xS(t);return r[r.length-1]}function Dx(t){let{formMethod:e,formAction:n,formEncType:r,text:s,formData:i,json:o}=t;if(!(!e||!n||!r)){if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Tp(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function TO(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Vl(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function OO(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Ds(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function jO(t,e){try{let n=t.sessionStorage.getItem(wS);if(n){let r=JSON.parse(n);for(let[s,i]of Object.entries(r||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function MO(t,e){if(e.size>0){let n={};for(let[r,s]of e)n[r]=[...s];try{t.sessionStorage.setItem(wS,JSON.stringify(n))}catch(r){rl(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cf(){return Cf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cf.apply(this,arguments)}const Cu=E.createContext(null),p0=E.createContext(null),js=E.createContext(null),m0=E.createContext(null),Gr=E.createContext({outlet:null,matches:[],isDataRoute:!1}),ES=E.createContext(null);function PO(t,e){let{relative:n}=e===void 0?{}:e;wl()||Se(!1);let{basename:r,navigator:s}=E.useContext(js),{hash:i,pathname:o,search:a}=_h(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:vs([r,o])),s.createHref({pathname:l,search:a,hash:i})}function wl(){return E.useContext(m0)!=null}function Lo(){return wl()||Se(!1),E.useContext(m0).location}function NS(t){E.useContext(js).static||E.useLayoutEffect(t)}function Ft(){let{isDataRoute:t}=E.useContext(Gr);return t?WO():AO()}function AO(){wl()||Se(!1);let t=E.useContext(Cu),{basename:e,future:n,navigator:r}=E.useContext(js),{matches:s}=E.useContext(Gr),{pathname:i}=Lo(),o=JSON.stringify(wh(s,n.v7_relativeSplatPath)),a=E.useRef(!1);return NS(()=>{a.current=!0}),E.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=kh(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:vs([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,i,t])}const RO=E.createContext(null);function IO(t){let e=E.useContext(Gr).outlet;return e&&E.createElement(RO.Provider,{value:t},e)}function Eu(){let{matches:t}=E.useContext(Gr),e=t[t.length-1];return e?e.params:{}}function _h(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=E.useContext(js),{matches:s}=E.useContext(Gr),{pathname:i}=Lo(),o=JSON.stringify(wh(s,r.v7_relativeSplatPath));return E.useMemo(()=>kh(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function DO(t,e,n,r){wl()||Se(!1);let{navigator:s}=E.useContext(js),{matches:i}=E.useContext(Gr),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Lo(),u;u=c;let d=u.pathname||"/",h=d;if(l!=="/"){let y=l.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=Wi(t,{pathname:h});return BO(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:vs([l,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:vs([l,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r)}function LO(){let t=qO(),e=Sh(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:s},n):null,null)}const FO=E.createElement(LO,null);class zO extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?E.createElement(Gr.Provider,{value:this.props.routeContext},E.createElement(ES.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $O(t){let{routeContext:e,match:n,children:r}=t,s=E.useContext(Cu);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(Gr.Provider,{value:e},r)}function BO(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Se(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:p}=n,m=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let p,m=!1,y=null,x=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,y=d.route.errorElement||FO,l&&(c<0&&h===0?(KO("route-fallback"),m=!0,x=null):c===h&&(m=!0,x=d.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,h+1)),g=()=>{let b;return p?b=y:m?b=x:d.route.Component?b=E.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=u,E.createElement($O,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:b})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?E.createElement(zO,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:g(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):g()},null)}var TS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(TS||{}),Ef=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ef||{});function VO(t){let e=E.useContext(Cu);return e||Se(!1),e}function UO(t){let e=E.useContext(p0);return e||Se(!1),e}function HO(t){let e=E.useContext(Gr);return e||Se(!1),e}function OS(t){let e=HO(),n=e.matches[e.matches.length-1];return n.route.id||Se(!1),n.route.id}function qO(){var t;let e=E.useContext(ES),n=UO(Ef.UseRouteError),r=OS(Ef.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function WO(){let{router:t}=VO(TS.UseNavigateStable),e=OS(Ef.UseNavigateStable),n=E.useRef(!1);return NS(()=>{n.current=!0}),E.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Cf({fromRouteId:e},i)))},[t,e])}const Lx={};function KO(t,e,n){Lx[t]||(Lx[t]=!0)}function Nf(t){let{to:e,replace:n,state:r,relative:s}=t;wl()||Se(!1);let{future:i,static:o}=E.useContext(js),{matches:a}=E.useContext(Gr),{pathname:l}=Lo(),c=Ft(),u=kh(e,wh(a,i.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(u);return E.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:s}),[c,d,s,n,r]),null}function g0(t){return IO(t.context)}function JO(t){let{basename:e="/",children:n=null,location:r,navigationType:s=bt.Pop,navigator:i,static:o=!1,future:a}=t;wl()&&Se(!1);let l=e.replace(/^\/*/,"/"),c=E.useMemo(()=>({basename:l,navigator:i,static:o,future:Cf({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Ii(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:m="default"}=r,y=E.useMemo(()=>{let x=Cs(u,l);return x==null?null:{location:{pathname:x,search:d,hash:h,state:p,key:m},navigationType:s}},[l,u,d,h,p,m,s]);return y==null?null:E.createElement(js.Provider,{value:c},E.createElement(m0.Provider,{children:n,value:y}))}new Promise(()=>{});function QO(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:E.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:E.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:E.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sl(){return sl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sl.apply(this,arguments)}function jS(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function ZO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function GO(t,e){return t.button===0&&(!e||e==="_self")&&!ZO(t)}const YO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],XO=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],ej="6";try{window.__reactRouterVersion=ej}catch{}function tj(t,e){return cO({basename:void 0,future:sl({},void 0,{v7_prependBasename:!0}),history:AT({window:void 0}),hydrationData:nj(),routes:t,mapRouteProperties:QO,unstable_dataStrategy:void 0,unstable_patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function nj(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=sl({},e,{errors:rj(e.errors)})),e}function rj(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")n[r]=new _f(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let o=new i(s.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let i=new Error(s.message);i.stack="",n[r]=i}}else n[r]=s;return n}const MS=E.createContext({isTransitioning:!1}),sj=E.createContext(new Map),ij="startTransition",Fx=wN[ij],oj="flushSync",zx=PT[oj];function aj(t){Fx?Fx(t):t()}function Ul(t){zx?zx(t):t()}let lj=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function cj(t){let{fallbackElement:e,router:n,future:r}=t,[s,i]=E.useState(n.state),[o,a]=E.useState(),[l,c]=E.useState({isTransitioning:!1}),[u,d]=E.useState(),[h,p]=E.useState(),[m,y]=E.useState(),x=E.useRef(new Map),{v7_startTransition:v}=r||{},g=E.useCallback(w=>{v?aj(w):w()},[v]),b=E.useCallback((w,A)=>{let{deletedFetchers:F,unstable_flushSync:D,unstable_viewTransitionOpts:Q}=A;F.forEach(pe=>x.current.delete(pe)),w.fetchers.forEach((pe,Ve)=>{pe.data!==void 0&&x.current.set(Ve,pe.data)});let re=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!Q||re){D?Ul(()=>i(w)):g(()=>i(w));return}if(D){Ul(()=>{h&&(u&&u.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:Q.currentLocation,nextLocation:Q.nextLocation})});let pe=n.window.document.startViewTransition(()=>{Ul(()=>i(w))});pe.finished.finally(()=>{Ul(()=>{d(void 0),p(void 0),a(void 0),c({isTransitioning:!1})})}),Ul(()=>p(pe));return}h?(u&&u.resolve(),h.skipTransition(),y({state:w,currentLocation:Q.currentLocation,nextLocation:Q.nextLocation})):(a(w),c({isTransitioning:!0,flushSync:!1,currentLocation:Q.currentLocation,nextLocation:Q.nextLocation}))},[n.window,h,u,x,g]);E.useLayoutEffect(()=>n.subscribe(b),[n,b]),E.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new lj)},[l]),E.useEffect(()=>{if(u&&o&&n.window){let w=o,A=u.promise,F=n.window.document.startViewTransition(async()=>{g(()=>i(w)),await A});F.finished.finally(()=>{d(void 0),p(void 0),a(void 0),c({isTransitioning:!1})}),p(F)}},[g,o,u,n.window]),E.useEffect(()=>{u&&o&&s.location.key===o.location.key&&u.resolve()},[u,h,s.location,o]),E.useEffect(()=>{!l.isTransitioning&&m&&(a(m.state),c({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),y(void 0))},[l.isTransitioning,m]),E.useEffect(()=>{},[]);let k=E.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:w=>n.navigate(w),push:(w,A,F)=>n.navigate(w,{state:A,preventScrollReset:F==null?void 0:F.preventScrollReset}),replace:(w,A,F)=>n.navigate(w,{replace:!0,state:A,preventScrollReset:F==null?void 0:F.preventScrollReset})}),[n]),O=n.basename||"/",T=E.useMemo(()=>({router:n,navigator:k,static:!1,basename:O}),[n,k,O]),j=E.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return E.createElement(E.Fragment,null,E.createElement(Cu.Provider,{value:T},E.createElement(p0.Provider,{value:s},E.createElement(sj.Provider,{value:x.current},E.createElement(MS.Provider,{value:l},E.createElement(JO,{basename:O,location:s.location,navigationType:s.historyAction,navigator:k,future:j},s.initialized||n.future.v7_partialHydration?E.createElement(uj,{routes:n.routes,future:n.future,state:s}):e))))),null)}const uj=E.memo(dj);function dj(t){let{routes:e,future:n,state:r}=t;return DO(e,void 0,r,n)}const fj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mt=E.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,h=jS(e,YO),{basename:p}=E.useContext(js),m,y=!1;if(typeof c=="string"&&hj.test(c)&&(m=c,fj))try{let b=new URL(window.location.href),k=c.startsWith("//")?new URL(b.protocol+c):new URL(c),O=Cs(k.pathname,p);k.origin===b.origin&&O!=null?c=O+k.search+k.hash:y=!0}catch{}let x=PO(c,{relative:s}),v=mj(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,unstable_viewTransition:d});function g(b){r&&r(b),b.defaultPrevented||v(b)}return E.createElement("a",sl({},h,{href:m||x,onClick:y||i?r:g,ref:n,target:l}))}),y0=E.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:l,unstable_viewTransition:c,children:u}=e,d=jS(e,XO),h=_h(l,{relative:d.relative}),p=Lo(),m=E.useContext(p0),{navigator:y,basename:x}=E.useContext(js),v=m!=null&&gj(h)&&c===!0,g=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,b=p.pathname,k=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;s||(b=b.toLowerCase(),k=k?k.toLowerCase():null,g=g.toLowerCase()),k&&x&&(k=Cs(k,x)||k);const O=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let T=b===g||!o&&b.startsWith(g)&&b.charAt(O)==="/",j=k!=null&&(k===g||!o&&k.startsWith(g)&&k.charAt(g.length)==="/"),w={isActive:T,isPending:j,isTransitioning:v},A=T?r:void 0,F;typeof i=="function"?F=i(w):F=[i,T?"active":null,j?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let D=typeof a=="function"?a(w):a;return E.createElement(mt,sl({},d,{"aria-current":A,className:F,ref:n,style:D,to:l,unstable_viewTransition:c}),typeof u=="function"?u(w):u)});var ug;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ug||(ug={}));var $x;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})($x||($x={}));function pj(t){let e=E.useContext(Cu);return e||Se(!1),e}function mj(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Ft(),c=Lo(),u=_h(t,{relative:o});return E.useCallback(d=>{if(GO(d,n)){d.preventDefault();let h=r!==void 0?r:To(c)===To(u);l(t,{replace:h,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a})}},[c,l,u,r,s,n,t,i,o,a])}function gj(t,e){e===void 0&&(e={});let n=E.useContext(MS);n==null&&Se(!1);let{basename:r}=pj(ug.useViewTransitionState),s=_h(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=Cs(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Cs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Sf(s.pathname,o)!=null||Sf(s.pathname,i)!=null}var PS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Bx=ce.createContext&&ce.createContext(PS),yj=["attr","size","title"];function vj(t,e){if(t==null)return{};var n=xj(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xj(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Tf(){return Tf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tf.apply(this,arguments)}function Vx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Of(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vx(Object(n),!0).forEach(function(r){bj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bj(t,e,n){return e=wj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wj(t){var e=kj(t,"string");return typeof e=="symbol"?e:e+""}function kj(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AS(t){return t&&t.map((e,n)=>ce.createElement(e.tag,Of({key:n},e.attr),AS(e.child)))}function De(t){return e=>ce.createElement(Sj,Tf({attr:Of({},t.attr)},e),AS(t.child))}function Sj(t){var e=n=>{var{attr:r,size:s,title:i}=t,o=vj(t,yj),a=s||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),ce.createElement("svg",Tf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Of(Of({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&ce.createElement("title",null,i),t.children)};return Bx!==void 0?ce.createElement(Bx.Consumer,null,n=>e(n)):e(PS)}function _j(t){return De({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M80 299.3V512H196V299.3h86.5l18-97.8H196V166.9c0-51.7 20.3-71.5 72.7-71.5c16.3 0 29.4 .4 37 1.2V7.9C291.4 4 256.4 0 236.2 0C129.3 0 80 50.5 80 159.4v42.1H14v97.8H80z"},child:[]}]})(t)}function Cj(t){return De({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function Ej(t){return De({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM64 256c0-17.7 14.3-32 32-32H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H96c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"},child:[]}]})(t)}function Nj(t){return De({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M58.9 42.1c3-6.1 9.6-9.6 16.3-8.7L320 64 564.8 33.4c6.7-.8 13.3 2.7 16.3 8.7l41.7 83.4c9 17.9-.6 39.6-19.8 45.1L439.6 217.3c-13.9 4-28.8-1.9-36.2-14.3L320 64 236.6 203c-7.4 12.4-22.3 18.3-36.2 14.3L37.1 170.6c-19.3-5.5-28.8-27.2-19.8-45.1L58.9 42.1zM321.1 128l54.9 91.4c14.9 24.8 44.6 36.6 72.5 28.6L576 211.6v167c0 22-15 41.2-36.4 46.6l-204.1 51c-10.2 2.6-20.9 2.6-31 0l-204.1-51C79 419.7 64 400.5 64 378.5v-167L191.6 248c27.8 8 57.6-3.8 72.5-28.6L318.9 128h2.2z"},child:[]}]})(t)}function Tj(t){return De({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 24C0 10.7 10.7 0 24 0H69.5c22 0 41.5 12.8 50.6 32h411c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3H170.7l5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H199.7c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5H24C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"},child:[]}]})(t)}function Oj(t){return De({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M8 256a56 56 0 1 1 112 0A56 56 0 1 1 8 256zm160 0a56 56 0 1 1 112 0 56 56 0 1 1 -112 0zm216-56a56 56 0 1 1 0 112 56 56 0 1 1 0-112z"},child:[]}]})(t)}function jj(t){return De({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}const RS=[{id:1,title:"Inicio",href:"/"},{id:2,title:"Productos",href:"/products"},{id:3,title:"Sobre Nosotros",href:"/nosotros"}],kl=[{id:1,title:"Facebook",href:"https://www.facebook.com/baalak.cv",icon:f.jsx(_j,{})},{id:2,title:"Instagram",href:"https://www.instagram.com/baalak.cv",icon:f.jsx(Cj,{})},{id:3,title:"WhatsApp",href:"https://wa.me/message/E7HDZJLVTRDML1",icon:f.jsx(jj,{})}],Mj=[{id:1,title:"Productos",href:"/dashboard/productos",icon:f.jsx(Nj,{size:25})},{id:2,title:"Órdenes",href:"/dashboard/ordenes",icon:f.jsx(Tj,{size:25})}];function Pj(t){return De({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"},child:[]}]})(t)}function IS(t){return De({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},child:[]}]})(t)}function DS(t){return De({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"},child:[]}]})(t)}function Aj(t){return De({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},child:[]}]})(t)}const Rj=({isDashboard:t})=>f.jsxs(mt,{to:"/",className:`text-2xl font-bold tracking-tighter transition-all ${t&&"hover:scale-105"}`,children:[f.jsx("p",{className:"hidden lg:block",children:f.jsx("img",{src:"/img/Baalak-logo-banner.png",alt:"Baalak"})}),f.jsx("p",{className:"flex lg:hidden",children:f.jsx("img",{src:"/img/Baalak-logo-banner-small.png",alt:"Baalak"})})]}),Ij={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_PROJECT_URL_SUPABASE:"https://eqguyubrjvbrzhdxrtix.supabase.co",VITE_SUPABASE_API_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVxZ3V5dWJyanZicnpoZHhydGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI0OTk2NjAsImV4cCI6MjA1ODA3NTY2MH0.AjdGB_QnNQKY0lb7ktQouuT5QufahsxGH2BzrGfqCzw"},Ux=t=>{let e;const n=new Set,r=(u,d)=>{const h=typeof u=="function"?u(e):u;if(!Object.is(h,e)){const p=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(m=>m(e,p))}},s=()=>e,l={setState:r,getState:s,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(Ij?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(r,s,l);return l},Dj=t=>t?Ux(t):Ux;var LS={exports:{}},FS={},zS={exports:{}},$S={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var il=E;function Lj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fj=typeof Object.is=="function"?Object.is:Lj,zj=il.useState,$j=il.useEffect,Bj=il.useLayoutEffect,Vj=il.useDebugValue;function Uj(t,e){var n=e(),r=zj({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return Bj(function(){s.value=n,s.getSnapshot=e,Op(s)&&i({inst:s})},[t,n,e]),$j(function(){return Op(s)&&i({inst:s}),t(function(){Op(s)&&i({inst:s})})},[t]),Vj(n),n}function Op(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Fj(t,n)}catch{return!0}}function Hj(t,e){return e()}var qj=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Hj:Uj;$S.useSyncExternalStore=il.useSyncExternalStore!==void 0?il.useSyncExternalStore:qj;zS.exports=$S;var Wj=zS.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ch=E,Kj=Wj;function Jj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qj=typeof Object.is=="function"?Object.is:Jj,Zj=Kj.useSyncExternalStore,Gj=Ch.useRef,Yj=Ch.useEffect,Xj=Ch.useMemo,eM=Ch.useDebugValue;FS.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=Gj(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=Xj(function(){function l(p){if(!c){if(c=!0,u=p,p=r(p),s!==void 0&&o.hasValue){var m=o.value;if(s(m,p))return d=m}return d=p}if(m=d,Qj(u,p))return m;var y=r(p);return s!==void 0&&s(m,y)?m:(u=p,d=y)}var c=!1,u,d,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,s]);var a=Zj(t,i[0],i[1]);return Yj(function(){o.hasValue=!0,o.value=a},[a]),eM(a),a};LS.exports=FS;var tM=LS.exports;const nM=my(tM),BS={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_PROJECT_URL_SUPABASE:"https://eqguyubrjvbrzhdxrtix.supabase.co",VITE_SUPABASE_API_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVxZ3V5dWJyanZicnpoZHhydGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI0OTk2NjAsImV4cCI6MjA1ODA3NTY2MH0.AjdGB_QnNQKY0lb7ktQouuT5QufahsxGH2BzrGfqCzw"},{useDebugValue:rM}=ce,{useSyncExternalStoreWithSelector:sM}=nM;let Hx=!1;const iM=t=>t;function oM(t,e=iM,n){(BS?"production":void 0)!=="production"&&n&&!Hx&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Hx=!0);const r=sM(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return rM(r),r}const aM=t=>{(BS?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?Dj(t):t,n=(r,s)=>oM(e,r,s);return Object.assign(n,e),n},v0=t=>aM,Vd={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_PROJECT_URL_SUPABASE:"https://eqguyubrjvbrzhdxrtix.supabase.co",VITE_SUPABASE_API_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVxZ3V5dWJyanZicnpoZHhydGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI0OTk2NjAsImV4cCI6MjA1ODA3NTY2MH0.AjdGB_QnNQKY0lb7ktQouuT5QufahsxGH2BzrGfqCzw"},dg=new Map,pd=t=>{const e=dg.get(t);return e?Object.fromEntries(Object.entries(e.stores).map(([n,r])=>[n,r.getState()])):{}},lM=(t,e,n)=>{if(t===void 0)return{type:"untracked",connection:e.connect(n)};const r=dg.get(n.name);if(r)return{type:"tracked",store:t,...r};const s={connection:e.connect(n),stores:{}};return dg.set(n.name,s),{type:"tracked",store:t,...s}},cM=(t,e={})=>(n,r,s)=>{const{enabled:i,anonymousActionType:o,store:a,...l}=e;let c;try{c=(i??(Vd?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!c)return(Vd?"production":void 0)!=="production"&&i&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),t(n,r,s);const{connection:u,...d}=lM(a,c,l);let h=!0;s.setState=(y,x,v)=>{const g=n(y,x);if(!h)return g;const b=v===void 0?{type:o||"anonymous"}:typeof v=="string"?{type:v}:v;return a===void 0?(u==null||u.send(b,r()),g):(u==null||u.send({...b,type:`${a}/${b.type}`},{...pd(l.name),[a]:s.getState()}),g)};const p=(...y)=>{const x=h;h=!1,n(...y),h=x},m=t(s.setState,r,s);if(d.type==="untracked"?u==null||u.init(m):(d.stores[d.store]=s,u==null||u.init(Object.fromEntries(Object.entries(d.stores).map(([y,x])=>[y,y===d.store?m:x.getState()])))),s.dispatchFromDevtools&&typeof s.dispatch=="function"){let y=!1;const x=s.dispatch;s.dispatch=(...v)=>{(Vd?"production":void 0)!=="production"&&v[0].type==="__setState"&&!y&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),y=!0),x(...v)}}return u.subscribe(y=>{var x;switch(y.type){case"ACTION":if(typeof y.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return jp(y.payload,v=>{if(v.type==="__setState"){if(a===void 0){p(v.state);return}Object.keys(v.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const g=v.state[a];if(g==null)return;JSON.stringify(s.getState())!==JSON.stringify(g)&&p(g);return}s.dispatchFromDevtools&&typeof s.dispatch=="function"&&s.dispatch(v)});case"DISPATCH":switch(y.payload.type){case"RESET":return p(m),a===void 0?u==null?void 0:u.init(s.getState()):u==null?void 0:u.init(pd(l.name));case"COMMIT":if(a===void 0){u==null||u.init(s.getState());return}return u==null?void 0:u.init(pd(l.name));case"ROLLBACK":return jp(y.state,v=>{if(a===void 0){p(v),u==null||u.init(s.getState());return}p(v[a]),u==null||u.init(pd(l.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return jp(y.state,v=>{if(a===void 0){p(v);return}JSON.stringify(s.getState())!==JSON.stringify(v[a])&&p(v[a])});case"IMPORT_STATE":{const{nextLiftedState:v}=y.payload,g=(x=v.computedStates.slice(-1)[0])==null?void 0:x.state;if(!g)return;p(a===void 0?g:g[a]),u==null||u.send(null,v);return}case"PAUSE_RECORDING":return h=!h}return}}),m},x0=cM,jp=(t,e)=>{let n;try{n=JSON.parse(t)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}n!==void 0&&e(n)};function uM(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const o=l=>l===null?null:JSON.parse(l,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const Uc=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return Uc(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Uc(r)(n)}}}},dM=(t,e)=>(n,r,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:x=>x,version:0,merge:(x,v)=>({...v,...x}),...e},o=!1;const a=new Set,l=new Set;let c;try{c=i.getStorage()}catch{}if(!c)return t((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...x)},r,s);const u=Uc(i.serialize),d=()=>{const x=i.partialize({...r()});let v;const g=u({state:x,version:i.version}).then(b=>c.setItem(i.name,b)).catch(b=>{v=b});if(v)throw v;return g},h=s.setState;s.setState=(x,v)=>{h(x,v),d()};const p=t((...x)=>{n(...x),d()},r,s);let m;const y=()=>{var x;if(!c)return;o=!1,a.forEach(g=>g(r()));const v=((x=i.onRehydrateStorage)==null?void 0:x.call(i,r()))||void 0;return Uc(c.getItem.bind(c))(i.name).then(g=>{if(g)return i.deserialize(g)}).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==i.version){if(i.migrate)return i.migrate(g.state,g.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return g.state}).then(g=>{var b;return m=i.merge(g,(b=r())!=null?b:p),n(m,!0),d()}).then(()=>{v==null||v(m,void 0),o=!0,l.forEach(g=>g(m))}).catch(g=>{v==null||v(void 0,g)})};return s.persist={setOptions:x=>{i={...i,...x},x.getStorage&&(c=x.getStorage())},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:x=>(a.add(x),()=>{a.delete(x)}),onFinishHydration:x=>(l.add(x),()=>{l.delete(x)})},y(),m||p},fM=(t,e)=>(n,r,s)=>{let i={storage:uM(()=>localStorage),partialize:y=>y,version:0,merge:(y,x)=>({...x,...y}),...e},o=!1;const a=new Set,l=new Set;let c=i.storage;if(!c)return t((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...y)},r,s);const u=()=>{const y=i.partialize({...r()});return c.setItem(i.name,{state:y,version:i.version})},d=s.setState;s.setState=(y,x)=>{d(y,x),u()};const h=t((...y)=>{n(...y),u()},r,s);s.getInitialState=()=>h;let p;const m=()=>{var y,x;if(!c)return;o=!1,a.forEach(g=>{var b;return g((b=r())!=null?b:h)});const v=((x=i.onRehydrateStorage)==null?void 0:x.call(i,(y=r())!=null?y:h))||void 0;return Uc(c.getItem.bind(c))(i.name).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==i.version){if(i.migrate)return[!0,i.migrate(g.state,g.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,g.state];return[!1,void 0]}).then(g=>{var b;const[k,O]=g;if(p=i.merge(O,(b=r())!=null?b:h),n(p,!0),k)return u()}).then(()=>{v==null||v(p,void 0),p=r(),o=!0,l.forEach(g=>g(p))}).catch(g=>{v==null||v(void 0,g)})};return s.persist={setOptions:y=>{i={...i,...y},y.storage&&(c=y.storage)},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:y=>(a.add(y),()=>{a.delete(y)}),onFinishHydration:y=>(l.add(y),()=>{l.delete(y)})},i.skipHydration||m(),p||h},hM=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((Vd?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),dM(t,e)):fM(t,e),pM=hM,mM=t=>({isSheetOpen:!1,sheetContent:null,activeNavMobile:!1,openSheet:e=>{t({isSheetOpen:!0,sheetContent:e})},closeSheet:()=>{t({isSheetOpen:!1,sheetContent:null})},setActiveNavMobile:e=>{t({activeNavMobile:e})}}),Es=v0()(x0(mM)),gM=t=>({items:[],totalItemsInCart:0,totalAmount:0,addItem:e=>{t(n=>{const r=n.items.findIndex(a=>a.variantId===e.variantId);let s;r>=0?s=n.items.map((a,l)=>l===r?{...a,quantity:a.quantity+e.quantity}:a):s=[...n.items,e];const i=s.reduce((a,l)=>a+l.quantity,0),o=s.reduce((a,l)=>a+l.price*l.quantity,0);return{items:s,totalAmount:o,totalItemsInCart:i}})},removeItem:e=>{t(n=>{const r=n.items.filter(o=>o.variantId!==e),s=r.reduce((o,a)=>o+a.quantity,0),i=r.reduce((o,a)=>o+a.price*a.quantity,0);return{items:r,totalAmount:i,totalItemsInCart:s}})},updateQuantity:(e,n)=>{t(r=>{const s=r.items.map(a=>a.variantId===e?{...a,quantity:n}:a),i=s.reduce((a,l)=>a+l.quantity,0),o=s.reduce((a,l)=>a+l.price*l.quantity,0);return{items:s,totalAmount:o,totalItemsInCart:i}})},cleanCart:()=>{t({items:[],totalItemsInCart:0,totalAmount:0})}}),Fn=v0()(x0(pM(gM,{name:"cart-store"})));var Fo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ol=typeof window>"u"||"Deno"in globalThis;function Jn(){}function yM(t,e){return typeof t=="function"?t(e):t}function fg(t){return typeof t=="number"&&t>=0&&t!==1/0}function VS(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ta(t,e){return typeof t=="function"?t(e):t}function vr(t,e){return typeof t=="function"?t(e):t}function qx(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==b0(o,e.options))return!1}else if(!Hc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function Wx(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Oo(e.options.mutationKey)!==Oo(i))return!1}else if(!Hc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function b0(t,e){return((e==null?void 0:e.queryKeyHashFn)||Oo)(t)}function Oo(t){return JSON.stringify(t,(e,n)=>hg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Hc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Hc(t[n],e[n])):!1}function w0(t,e){if(t===e)return t;const n=Kx(t)&&Kx(e);if(n||hg(t)&&hg(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const u=n?c:i[c];(!n&&r.includes(u)||n)&&t[u]===void 0&&e[u]===void 0?(a[u]=void 0,l++):(a[u]=w0(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function jf(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function Kx(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function hg(t){if(!Jx(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Jx(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Jx(t){return Object.prototype.toString.call(t)==="[object Object]"}function vM(t){return new Promise(e=>{setTimeout(e,t)})}function pg(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?w0(t,e):e}function xM(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function bM(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var US=Symbol();function HS(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===US?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var so,Xs,Da,qb,wM=(qb=class extends Fo{constructor(){super();oe(this,so);oe(this,Xs);oe(this,Da);H(this,Da,e=>{if(!ol&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){S(this,Xs)||this.setEventListener(S(this,Da))}onUnsubscribe(){var e;this.hasListeners()||((e=S(this,Xs))==null||e.call(this),H(this,Xs,void 0))}setEventListener(e){var n;H(this,Da,e),(n=S(this,Xs))==null||n.call(this),H(this,Xs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){S(this,so)!==e&&(H(this,so,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof S(this,so)=="boolean"?S(this,so):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},so=new WeakMap,Xs=new WeakMap,Da=new WeakMap,qb),k0=new wM,La,ei,Fa,Wb,kM=(Wb=class extends Fo{constructor(){super();oe(this,La,!0);oe(this,ei);oe(this,Fa);H(this,Fa,e=>{if(!ol&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){S(this,ei)||this.setEventListener(S(this,Fa))}onUnsubscribe(){var e;this.hasListeners()||((e=S(this,ei))==null||e.call(this),H(this,ei,void 0))}setEventListener(e){var n;H(this,Fa,e),(n=S(this,ei))==null||n.call(this),H(this,ei,e(this.setOnline.bind(this)))}setOnline(e){S(this,La)!==e&&(H(this,La,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return S(this,La)}},La=new WeakMap,ei=new WeakMap,Fa=new WeakMap,Wb),Mf=new kM;function SM(t){return Math.min(1e3*2**t,3e4)}function qS(t){return(t??"online")==="online"?Mf.isOnline():!0}var WS=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Mp(t){return t instanceof WS}function KS(t){let e=!1,n=0,r=!1,s,i,o;const a=new Promise((v,g)=>{i=v,o=g}),l=v=>{var g;r||(m(new WS(v)),(g=t.abort)==null||g.call(t))},c=()=>{e=!0},u=()=>{e=!1},d=()=>k0.isFocused()&&(t.networkMode==="always"||Mf.isOnline())&&t.canRun(),h=()=>qS(t.networkMode)&&t.canRun(),p=v=>{var g;r||(r=!0,(g=t.onSuccess)==null||g.call(t,v),s==null||s(),i(v))},m=v=>{var g;r||(r=!0,(g=t.onError)==null||g.call(t,v),s==null||s(),o(v))},y=()=>new Promise(v=>{var g;s=b=>{(r||d())&&v(b)},(g=t.onPause)==null||g.call(t)}).then(()=>{var v;s=void 0,r||(v=t.onContinue)==null||v.call(t)}),x=()=>{if(r)return;let v;const g=n===0?t.initialPromise:void 0;try{v=g??t.fn()}catch(b){v=Promise.reject(b)}Promise.resolve(v).then(p).catch(b=>{var w;if(r)return;const k=t.retry??(ol?0:3),O=t.retryDelay??SM,T=typeof O=="function"?O(n,b):O,j=k===!0||typeof k=="number"&&n<k||typeof k=="function"&&k(n,b);if(e||!j){m(b);return}n++,(w=t.onFail)==null||w.call(t,n,b),vM(T).then(()=>d()?void 0:y()).then(()=>{e?m(b):x()})})};return{promise:a,cancel:l,continue:()=>(s==null||s(),a),cancelRetry:c,continueRetry:u,canStart:h,start:()=>(h()?x():y().then(x),a)}}function _M(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var pt=_M(),io,Kb,JS=(Kb=class{constructor(){oe(this,io)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),fg(this.gcTime)&&H(this,io,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ol?1/0:5*60*1e3))}clearGcTimeout(){S(this,io)&&(clearTimeout(S(this,io)),H(this,io,void 0))}},io=new WeakMap,Kb),za,$a,Kn,Qt,pu,oo,fr,cs,Jb,CM=(Jb=class extends JS{constructor(e){super();oe(this,fr);oe(this,za);oe(this,$a);oe(this,Kn);oe(this,Qt);oe(this,pu);oe(this,oo);H(this,oo,!1),H(this,pu,e.defaultOptions),this.setOptions(e.options),this.observers=[],H(this,Kn,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,H(this,za,EM(this.options)),this.state=e.state??S(this,za),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=S(this,Qt))==null?void 0:e.promise}setOptions(e){this.options={...S(this,pu),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&S(this,Kn).remove(this)}setData(e,n){const r=pg(this.state.data,e,this.options);return ye(this,fr,cs).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){ye(this,fr,cs).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=S(this,Qt))==null?void 0:r.promise;return(s=S(this,Qt))==null||s.cancel(e),n?n.then(Jn).catch(Jn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(S(this,za))}isActive(){return this.observers.some(e=>vr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!VS(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=S(this,Qt))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=S(this,Qt))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),S(this,Kn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(S(this,Qt)&&(S(this,oo)?S(this,Qt).cancel({revert:!0}):S(this,Qt).cancelRetry()),this.scheduleGc()),S(this,Kn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ye(this,fr,cs).call(this,{type:"invalidate"})}fetch(e,n){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(S(this,Qt))return S(this,Qt).continueRetry(),S(this,Qt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(H(this,oo,!0),r.signal)})},i=()=>{const d=HS(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return s(h),H(this,oo,!1),this.options.persister?this.options.persister(d,h,this):d(h)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(l=this.options.behavior)==null||l.onFetch(o,this),H(this,$a,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&ye(this,fr,cs).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const a=d=>{var h,p,m,y;Mp(d)&&d.silent||ye(this,fr,cs).call(this,{type:"error",error:d}),Mp(d)||((p=(h=S(this,Kn).config).onError)==null||p.call(h,d,this),(y=(m=S(this,Kn).config).onSettled)==null||y.call(m,this.state.data,d,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return H(this,Qt,KS({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var h,p,m,y;if(d===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(x){a(x);return}(p=(h=S(this,Kn).config).onSuccess)==null||p.call(h,d,this),(y=(m=S(this,Kn).config).onSettled)==null||y.call(m,d,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:a,onFail:(d,h)=>{ye(this,fr,cs).call(this,{type:"failed",failureCount:d,error:h})},onPause:()=>{ye(this,fr,cs).call(this,{type:"pause"})},onContinue:()=>{ye(this,fr,cs).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),S(this,Qt).start()}},za=new WeakMap,$a=new WeakMap,Kn=new WeakMap,Qt=new WeakMap,pu=new WeakMap,oo=new WeakMap,fr=new WeakSet,cs=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...QS(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Mp(s)&&s.revert&&S(this,$a)?{...S(this,$a),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),pt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),S(this,Kn).notify({query:this,type:"updated",action:e})})},Jb);function QS(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:qS(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function EM(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ir,Qb,NM=(Qb=class extends Fo{constructor(e={}){super();oe(this,Ir);this.config=e,H(this,Ir,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??b0(s,n);let o=this.get(i);return o||(o=new CM({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){S(this,Ir).has(e.queryHash)||(S(this,Ir).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=S(this,Ir).get(e.queryHash);n&&(e.destroy(),n===e&&S(this,Ir).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){pt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return S(this,Ir).get(e)}getAll(){return[...S(this,Ir).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>qx(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>qx(e,r)):n}notify(e){pt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){pt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){pt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ir=new WeakMap,Qb),Dr,on,ao,Lr,Ls,Zb,TM=(Zb=class extends JS{constructor(e){super();oe(this,Lr);oe(this,Dr);oe(this,on);oe(this,ao);this.mutationId=e.mutationId,H(this,on,e.mutationCache),H(this,Dr,[]),this.state=e.state||ZS(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){S(this,Dr).includes(e)||(S(this,Dr).push(e),this.clearGcTimeout(),S(this,on).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){H(this,Dr,S(this,Dr).filter(n=>n!==e)),this.scheduleGc(),S(this,on).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){S(this,Dr).length||(this.state.status==="pending"?this.scheduleGc():S(this,on).remove(this))}continue(){var e;return((e=S(this,ao))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,a,l,c,u,d,h,p,m,y,x,v,g,b,k,O,T,j;H(this,ao,KS({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(w,A)=>{ye(this,Lr,Ls).call(this,{type:"failed",failureCount:w,error:A})},onPause:()=>{ye(this,Lr,Ls).call(this,{type:"pause"})},onContinue:()=>{ye(this,Lr,Ls).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>S(this,on).canRun(this)}));const n=this.state.status==="pending",r=!S(this,ao).canStart();try{if(!n){ye(this,Lr,Ls).call(this,{type:"pending",variables:e,isPaused:r}),await((i=(s=S(this,on).config).onMutate)==null?void 0:i.call(s,e,this));const A=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));A!==this.state.context&&ye(this,Lr,Ls).call(this,{type:"pending",context:A,variables:e,isPaused:r})}const w=await S(this,ao).start();return await((c=(l=S(this,on).config).onSuccess)==null?void 0:c.call(l,w,e,this.state.context,this)),await((d=(u=this.options).onSuccess)==null?void 0:d.call(u,w,e,this.state.context)),await((p=(h=S(this,on).config).onSettled)==null?void 0:p.call(h,w,null,this.state.variables,this.state.context,this)),await((y=(m=this.options).onSettled)==null?void 0:y.call(m,w,null,e,this.state.context)),ye(this,Lr,Ls).call(this,{type:"success",data:w}),w}catch(w){try{throw await((v=(x=S(this,on).config).onError)==null?void 0:v.call(x,w,e,this.state.context,this)),await((b=(g=this.options).onError)==null?void 0:b.call(g,w,e,this.state.context)),await((O=(k=S(this,on).config).onSettled)==null?void 0:O.call(k,void 0,w,this.state.variables,this.state.context,this)),await((j=(T=this.options).onSettled)==null?void 0:j.call(T,void 0,w,e,this.state.context)),w}finally{ye(this,Lr,Ls).call(this,{type:"error",error:w})}}finally{S(this,on).runNext(this)}}},Dr=new WeakMap,on=new WeakMap,ao=new WeakMap,Lr=new WeakSet,Ls=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),pt.batch(()=>{S(this,Dr).forEach(r=>{r.onMutationUpdate(e)}),S(this,on).notify({mutation:this,type:"updated",action:e})})},Zb);function ZS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var jn,mu,Gb,OM=(Gb=class extends Fo{constructor(e={}){super();oe(this,jn);oe(this,mu);this.config=e,H(this,jn,new Map),H(this,mu,Date.now())}build(e,n,r){const s=new TM({mutationCache:this,mutationId:++Qu(this,mu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=md(e),r=S(this,jn).get(n)??[];r.push(e),S(this,jn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=md(e);if(S(this,jn).has(n)){const s=(r=S(this,jn).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?S(this,jn).delete(n):S(this,jn).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=S(this,jn).get(md(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=S(this,jn).get(md(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){pt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...S(this,jn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Wx(n,r))}findAll(e={}){return this.getAll().filter(n=>Wx(e,n))}notify(e){pt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return pt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Jn))))}},jn=new WeakMap,mu=new WeakMap,Gb);function md(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function jM(t){return{onFetch:(e,n)=>{const r=async()=>{var m,y,x,v,g;const s=e.options,i=(x=(y=(m=e.fetchOptions)==null?void 0:m.meta)==null?void 0:y.fetchMore)==null?void 0:x.direction,o=((v=e.state.data)==null?void 0:v.pages)||[],a=((g=e.state.data)==null?void 0:g.pageParams)||[],l={pages:[],pageParams:[]};let c=!1;const u=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?c=!0:e.signal.addEventListener("abort",()=>{c=!0}),e.signal)})},d=HS(e.options,e.fetchOptions),h=async(b,k,O)=>{if(c)return Promise.reject();if(k==null&&b.pages.length)return Promise.resolve(b);const T={queryKey:e.queryKey,pageParam:k,direction:O?"backward":"forward",meta:e.options.meta};u(T);const j=await d(T),{maxPages:w}=e.options,A=O?bM:xM;return{pages:A(b.pages,j,w),pageParams:A(b.pageParams,k,w)}};let p;if(i&&o.length){const b=i==="backward",k=b?MM:Qx,O={pages:o,pageParams:a},T=k(s,O);p=await h(O,T,b)}else{p=await h(l,a[0]??s.initialPageParam);const b=t??o.length;for(let k=1;k<b;k++){const O=Qx(s,p);if(O==null)break;p=await h(p,O)}}return p};e.options.persister?e.fetchFn=()=>{var s,i;return(i=(s=e.options).persister)==null?void 0:i.call(s,r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=r}}}function Qx(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function MM(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var ut,ti,ni,Ba,Va,ri,Ua,Ha,Yb,PM=(Yb=class{constructor(t={}){oe(this,ut);oe(this,ti);oe(this,ni);oe(this,Ba);oe(this,Va);oe(this,ri);oe(this,Ua);oe(this,Ha);H(this,ut,t.queryCache||new NM),H(this,ti,t.mutationCache||new OM),H(this,ni,t.defaultOptions||{}),H(this,Ba,new Map),H(this,Va,new Map),H(this,ri,0)}mount(){Qu(this,ri)._++,S(this,ri)===1&&(H(this,Ua,k0.subscribe(async t=>{t&&(await this.resumePausedMutations(),S(this,ut).onFocus())})),H(this,Ha,Mf.subscribe(async t=>{t&&(await this.resumePausedMutations(),S(this,ut).onOnline())})))}unmount(){var t,e;Qu(this,ri)._--,S(this,ri)===0&&((t=S(this,Ua))==null||t.call(this),H(this,Ua,void 0),(e=S(this,Ha))==null||e.call(this),H(this,Ha,void 0))}isFetching(t){return S(this,ut).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return S(this,ti).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=S(this,ut).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=S(this,ut).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Ta(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return S(this,ut).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=S(this,ut).get(r.queryHash),i=s==null?void 0:s.state.data,o=yM(e,i);if(o!==void 0)return S(this,ut).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return pt.batch(()=>S(this,ut).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=S(this,ut).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=S(this,ut);pt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=S(this,ut),r={type:"active",...t};return pt.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=pt.batch(()=>S(this,ut).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Jn).catch(Jn)}invalidateQueries(t={},e={}){return pt.batch(()=>{if(S(this,ut).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=pt.batch(()=>S(this,ut).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Jn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Jn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=S(this,ut).build(this,e);return n.isStaleByTime(Ta(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Jn).catch(Jn)}fetchInfiniteQuery(t){return t.behavior=jM(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Jn).catch(Jn)}resumePausedMutations(){return Mf.isOnline()?S(this,ti).resumePausedMutations():Promise.resolve()}getQueryCache(){return S(this,ut)}getMutationCache(){return S(this,ti)}getDefaultOptions(){return S(this,ni)}setDefaultOptions(t){H(this,ni,t)}setQueryDefaults(t,e){S(this,Ba).set(Oo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...S(this,Ba).values()];let n={};return e.forEach(r=>{Hc(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){S(this,Va).set(Oo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...S(this,Va).values()];let n={};return e.forEach(r=>{Hc(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...S(this,ni).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=b0(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===US&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...S(this,ni).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){S(this,ut).clear(),S(this,ti).clear()}},ut=new WeakMap,ti=new WeakMap,ni=new WeakMap,Ba=new WeakMap,Va=new WeakMap,ri=new WeakMap,Ua=new WeakMap,Ha=new WeakMap,Yb),xn,Oe,gu,an,lo,qa,Fr,yu,Wa,Ka,co,uo,si,Ja,Fe,nc,mg,gg,yg,vg,xg,bg,wg,GS,Xb,S0=(Xb=class extends Fo{constructor(e,n){super();oe(this,Fe);oe(this,xn);oe(this,Oe);oe(this,gu);oe(this,an);oe(this,lo);oe(this,qa);oe(this,Fr);oe(this,yu);oe(this,Wa);oe(this,Ka);oe(this,co);oe(this,uo);oe(this,si);oe(this,Ja,new Set);this.options=n,H(this,xn,e),H(this,Fr,null),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(S(this,Oe).addObserver(this),Zx(S(this,Oe),this.options)?ye(this,Fe,nc).call(this):this.updateResult(),ye(this,Fe,vg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return kg(S(this,Oe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return kg(S(this,Oe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ye(this,Fe,xg).call(this),ye(this,Fe,bg).call(this),S(this,Oe).removeObserver(this)}setOptions(e,n){const r=this.options,s=S(this,Oe);if(this.options=S(this,xn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof vr(this.options.enabled,S(this,Oe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ye(this,Fe,wg).call(this),S(this,Oe).setOptions(this.options),r._defaulted&&!jf(this.options,r)&&S(this,xn).getQueryCache().notify({type:"observerOptionsUpdated",query:S(this,Oe),observer:this});const i=this.hasListeners();i&&Gx(S(this,Oe),s,this.options,r)&&ye(this,Fe,nc).call(this),this.updateResult(n),i&&(S(this,Oe)!==s||vr(this.options.enabled,S(this,Oe))!==vr(r.enabled,S(this,Oe))||Ta(this.options.staleTime,S(this,Oe))!==Ta(r.staleTime,S(this,Oe)))&&ye(this,Fe,mg).call(this);const o=ye(this,Fe,gg).call(this);i&&(S(this,Oe)!==s||vr(this.options.enabled,S(this,Oe))!==vr(r.enabled,S(this,Oe))||o!==S(this,si))&&ye(this,Fe,yg).call(this,o)}getOptimisticResult(e){const n=S(this,xn).getQueryCache().build(S(this,xn),e),r=this.createResult(n,e);return RM(this,r)&&(H(this,an,r),H(this,qa,this.options),H(this,lo,S(this,Oe).state)),r}getCurrentResult(){return S(this,an)}trackResult(e,n){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),e[s])})}),r}trackProp(e){S(this,Ja).add(e)}getCurrentQuery(){return S(this,Oe)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=S(this,xn).defaultQueryOptions(e),r=S(this,xn).getQueryCache().build(S(this,xn),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){return ye(this,Fe,nc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),S(this,an)))}createResult(e,n){var j;const r=S(this,Oe),s=this.options,i=S(this,an),o=S(this,lo),a=S(this,qa),c=e!==r?e.state:S(this,gu),{state:u}=e;let d={...u},h=!1,p;if(n._optimisticResults){const w=this.hasListeners(),A=!w&&Zx(e,n),F=w&&Gx(e,r,n,s);(A||F)&&(d={...d,...QS(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:m,errorUpdatedAt:y,status:x}=d;if(n.select&&d.data!==void 0)if(i&&d.data===(o==null?void 0:o.data)&&n.select===S(this,yu))p=S(this,Wa);else try{H(this,yu,n.select),p=n.select(d.data),p=pg(i==null?void 0:i.data,p,n),H(this,Wa,p),H(this,Fr,null)}catch(w){H(this,Fr,w)}else p=d.data;if(n.placeholderData!==void 0&&p===void 0&&x==="pending"){let w;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))w=i.data;else if(w=typeof n.placeholderData=="function"?n.placeholderData((j=S(this,Ka))==null?void 0:j.state.data,S(this,Ka)):n.placeholderData,n.select&&w!==void 0)try{w=n.select(w),H(this,Fr,null)}catch(A){H(this,Fr,A)}w!==void 0&&(x="success",p=pg(i==null?void 0:i.data,w,n),h=!0)}S(this,Fr)&&(m=S(this,Fr),p=S(this,Wa),y=Date.now(),x="error");const v=d.fetchStatus==="fetching",g=x==="pending",b=x==="error",k=g&&v,O=p!==void 0;return{status:x,fetchStatus:d.fetchStatus,isPending:g,isSuccess:x==="success",isError:b,isInitialLoading:k,isLoading:k,data:p,dataUpdatedAt:d.dataUpdatedAt,error:m,errorUpdatedAt:y,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:v,isRefetching:v&&!g,isLoadingError:b&&!O,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:b&&O,isStale:_0(e,n),refetch:this.refetch}}updateResult(e){const n=S(this,an),r=this.createResult(S(this,Oe),this.options);if(H(this,lo,S(this,Oe).state),H(this,qa,this.options),S(this,lo).data!==void 0&&H(this,Ka,S(this,Oe)),jf(r,n))return;H(this,an,r);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!S(this,Ja).size)return!0;const l=new Set(a??S(this,Ja));return this.options.throwOnError&&l.add("error"),Object.keys(S(this,an)).some(c=>{const u=c;return S(this,an)[u]!==n[u]&&l.has(u)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),ye(this,Fe,GS).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ye(this,Fe,vg).call(this)}},xn=new WeakMap,Oe=new WeakMap,gu=new WeakMap,an=new WeakMap,lo=new WeakMap,qa=new WeakMap,Fr=new WeakMap,yu=new WeakMap,Wa=new WeakMap,Ka=new WeakMap,co=new WeakMap,uo=new WeakMap,si=new WeakMap,Ja=new WeakMap,Fe=new WeakSet,nc=function(e){ye(this,Fe,wg).call(this);let n=S(this,Oe).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Jn)),n},mg=function(){ye(this,Fe,xg).call(this);const e=Ta(this.options.staleTime,S(this,Oe));if(ol||S(this,an).isStale||!fg(e))return;const r=VS(S(this,an).dataUpdatedAt,e)+1;H(this,co,setTimeout(()=>{S(this,an).isStale||this.updateResult()},r))},gg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(S(this,Oe)):this.options.refetchInterval)??!1},yg=function(e){ye(this,Fe,bg).call(this),H(this,si,e),!(ol||vr(this.options.enabled,S(this,Oe))===!1||!fg(S(this,si))||S(this,si)===0)&&H(this,uo,setInterval(()=>{(this.options.refetchIntervalInBackground||k0.isFocused())&&ye(this,Fe,nc).call(this)},S(this,si)))},vg=function(){ye(this,Fe,mg).call(this),ye(this,Fe,yg).call(this,ye(this,Fe,gg).call(this))},xg=function(){S(this,co)&&(clearTimeout(S(this,co)),H(this,co,void 0))},bg=function(){S(this,uo)&&(clearInterval(S(this,uo)),H(this,uo,void 0))},wg=function(){const e=S(this,xn).getQueryCache().build(S(this,xn),this.options);if(e===S(this,Oe))return;const n=S(this,Oe);H(this,Oe,e),H(this,gu,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},GS=function(e){pt.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(S(this,an))}),S(this,xn).getQueryCache().notify({query:S(this,Oe),type:"observerResultsUpdated"})})},Xb);function AM(t,e){return vr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Zx(t,e){return AM(t,e)||t.state.data!==void 0&&kg(t,e,e.refetchOnMount)}function kg(t,e,n){if(vr(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&_0(t,e)}return!1}function Gx(t,e,n,r){return(t!==e||vr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&_0(t,n)}function _0(t,e){return vr(e.enabled,t)!==!1&&t.isStaleByTime(Ta(e.staleTime,t))}function RM(t,e){return!jf(t.getCurrentResult(),e)}function Yx(t,e){return t.filter(n=>!e.includes(n))}function IM(t,e,n){const r=t.slice(0);return r[e]=n,r}var fo,hr,Qa,Mn,ho,vu,xu,Vn,YS,Sg,_g,Cg,ew,DM=(ew=class extends Fo{constructor(e,n,r){super();oe(this,Vn);oe(this,fo);oe(this,hr);oe(this,Qa);oe(this,Mn);oe(this,ho);oe(this,vu);oe(this,xu);H(this,fo,e),H(this,Qa,[]),H(this,Mn,[]),H(this,hr,[]),this.setQueries(n)}onSubscribe(){this.listeners.size===1&&S(this,Mn).forEach(e=>{e.subscribe(n=>{ye(this,Vn,_g).call(this,e,n)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,S(this,Mn).forEach(e=>{e.destroy()})}setQueries(e,n,r){H(this,Qa,e),pt.batch(()=>{const s=S(this,Mn),i=ye(this,Vn,Sg).call(this,S(this,Qa));i.forEach(c=>c.observer.setOptions(c.defaultedQueryOptions,r));const o=i.map(c=>c.observer),a=o.map(c=>c.getCurrentResult()),l=o.some((c,u)=>c!==s[u]);s.length===o.length&&!l||(H(this,Mn,o),H(this,hr,a),this.hasListeners()&&(Yx(s,o).forEach(c=>{c.destroy()}),Yx(o,s).forEach(c=>{c.subscribe(u=>{ye(this,Vn,_g).call(this,c,u)})}),ye(this,Vn,Cg).call(this)))})}getCurrentResult(){return S(this,hr)}getQueries(){return S(this,Mn).map(e=>e.getCurrentQuery())}getObservers(){return S(this,Mn)}getOptimisticResult(e,n){const r=ye(this,Vn,Sg).call(this,e),s=r.map(i=>i.observer.getOptimisticResult(i.defaultedQueryOptions));return[s,i=>ye(this,Vn,YS).call(this,i??s,n),()=>r.map((i,o)=>{const a=s[o];return i.defaultedQueryOptions.notifyOnChangeProps?a:i.observer.trackResult(a,l=>{r.forEach(c=>{c.observer.trackProp(l)})})})]}},fo=new WeakMap,hr=new WeakMap,Qa=new WeakMap,Mn=new WeakMap,ho=new WeakMap,vu=new WeakMap,xu=new WeakMap,Vn=new WeakSet,YS=function(e,n){return n?((!S(this,ho)||S(this,hr)!==S(this,xu)||n!==S(this,vu))&&(H(this,vu,n),H(this,xu,S(this,hr)),H(this,ho,w0(S(this,ho),n(e)))),S(this,ho)):e},Sg=function(e){const n=S(this,Mn),r=new Map(n.map(d=>[d.options.queryHash,d])),s=e.map(d=>S(this,fo).defaultQueryOptions(d)),i=s.flatMap(d=>{const h=r.get(d.queryHash);return h!=null?[{defaultedQueryOptions:d,observer:h}]:[]}),o=new Set(i.map(d=>d.defaultedQueryOptions.queryHash)),a=s.filter(d=>!o.has(d.queryHash)),l=d=>{const h=S(this,fo).defaultQueryOptions(d);return S(this,Mn).find(m=>m.options.queryHash===h.queryHash)??new S0(S(this,fo),h)},c=a.map(d=>({defaultedQueryOptions:d,observer:l(d)})),u=(d,h)=>s.indexOf(d.defaultedQueryOptions)-s.indexOf(h.defaultedQueryOptions);return i.concat(c).sort(u)},_g=function(e,n){const r=S(this,Mn).indexOf(e);r!==-1&&(H(this,hr,IM(S(this,hr),r,n)),ye(this,Vn,Cg).call(this))},Cg=function(){pt.batch(()=>{this.listeners.forEach(e=>{e(S(this,hr))})})},ew),ii,oi,bn,ps,bs,Ud,Eg,tw,LM=(tw=class extends Fo{constructor(n,r){super();oe(this,bs);oe(this,ii);oe(this,oi);oe(this,bn);oe(this,ps);H(this,ii,n),this.setOptions(r),this.bindMethods(),ye(this,bs,Ud).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=S(this,ii).defaultMutationOptions(n),jf(this.options,r)||S(this,ii).getMutationCache().notify({type:"observerOptionsUpdated",mutation:S(this,bn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Oo(r.mutationKey)!==Oo(this.options.mutationKey)?this.reset():((s=S(this,bn))==null?void 0:s.state.status)==="pending"&&S(this,bn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=S(this,bn))==null||n.removeObserver(this)}onMutationUpdate(n){ye(this,bs,Ud).call(this),ye(this,bs,Eg).call(this,n)}getCurrentResult(){return S(this,oi)}reset(){var n;(n=S(this,bn))==null||n.removeObserver(this),H(this,bn,void 0),ye(this,bs,Ud).call(this),ye(this,bs,Eg).call(this)}mutate(n,r){var s;return H(this,ps,r),(s=S(this,bn))==null||s.removeObserver(this),H(this,bn,S(this,ii).getMutationCache().build(S(this,ii),this.options)),S(this,bn).addObserver(this),S(this,bn).execute(n)}},ii=new WeakMap,oi=new WeakMap,bn=new WeakMap,ps=new WeakMap,bs=new WeakSet,Ud=function(){var r;const n=((r=S(this,bn))==null?void 0:r.state)??ZS();H(this,oi,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Eg=function(n){pt.batch(()=>{var r,s,i,o,a,l,c,u;if(S(this,ps)&&this.hasListeners()){const d=S(this,oi).variables,h=S(this,oi).context;(n==null?void 0:n.type)==="success"?((s=(r=S(this,ps)).onSuccess)==null||s.call(r,n.data,d,h),(o=(i=S(this,ps)).onSettled)==null||o.call(i,n.data,null,d,h)):(n==null?void 0:n.type)==="error"&&((l=(a=S(this,ps)).onError)==null||l.call(a,n.error,d,h),(u=(c=S(this,ps)).onSettled)==null||u.call(c,void 0,n.error,d,h))}this.listeners.forEach(d=>{d(S(this,oi))})})},tw),XS=E.createContext(void 0),Yr=t=>{const e=E.useContext(XS);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},FM=({client:t,children:e})=>(E.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(XS.Provider,{value:t,children:e})),e_=E.createContext(!1),t_=()=>E.useContext(e_);e_.Provider;function zM(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var $M=E.createContext(zM()),n_=()=>E.useContext($M);function r_(t,e){return typeof t=="function"?t(...e):!!t}function BM(){}var s_=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},i_=t=>{E.useEffect(()=>{t.clearReset()},[t])},o_=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&r_(n,[t.error,r]),a_=t=>{t.suspense&&(typeof t.staleTime!="number"&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},VM=(t,e)=>t.isLoading&&t.isFetching&&!e,Ng=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Tg=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function UM({queries:t,...e},n){const r=Yr(),s=t_(),i=n_(),o=E.useMemo(()=>t.map(m=>{const y=r.defaultQueryOptions(m);return y._optimisticResults=s?"isRestoring":"optimistic",y}),[t,r,s]);o.forEach(m=>{a_(m),s_(m,i)}),i_(i);const[a]=E.useState(()=>new DM(r,o,e)),[l,c,u]=a.getOptimisticResult(o,e.combine);E.useSyncExternalStore(E.useCallback(m=>s?()=>{}:a.subscribe(pt.batchCalls(m)),[a,s]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),E.useEffect(()=>{a.setQueries(o,e,{listeners:!1})},[o,e,a]);const h=l.some((m,y)=>Ng(o[y],m))?l.flatMap((m,y)=>{const x=o[y];if(x){const v=new S0(r,x);if(Ng(x,m))return Tg(x,v,i);VM(m,s)&&Tg(x,v,i)}return[]}):[];if(h.length>0)throw Promise.all(h);const p=l.find((m,y)=>{const x=o[y];return x&&o_({result:m,errorResetBoundary:i,throwOnError:x.throwOnError,query:r.getQueryCache().get(x.queryHash)})});if(p!=null&&p.error)throw p.error;return c(u())}function HM(t,e,n){var c,u,d,h;const r=Yr(),s=t_(),i=n_(),o=r.defaultQueryOptions(t);(u=(c=r.getDefaultOptions().queries)==null?void 0:c._experimental_beforeQuery)==null||u.call(c,o),o._optimisticResults=s?"isRestoring":"optimistic",a_(o),s_(o,i),i_(i);const[a]=E.useState(()=>new e(r,o)),l=a.getOptimisticResult(o);if(E.useSyncExternalStore(E.useCallback(p=>{const m=s?()=>{}:a.subscribe(pt.batchCalls(p));return a.updateResult(),m},[a,s]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),E.useEffect(()=>{a.setOptions(o,{listeners:!1})},[o,a]),Ng(o,l))throw Tg(o,a,i);if(o_({result:l,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw l.error;return(h=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_afterQuery)==null||h.call(d,o,l),o.notifyOnChangeProps?l:a.trackResult(l)}function Xr(t,e){return HM(t,S0)}function zo(t,e){const n=Yr(),[r]=E.useState(()=>new LM(n,t));E.useEffect(()=>{r.setOptions(t)},[r,t]);const s=E.useSyncExternalStore(E.useCallback(o=>r.subscribe(pt.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=E.useCallback((o,a)=>{r.mutate(o,a).catch(BM)},[r]);if(s.error&&r_(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const Nt=t=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"MXN",minimumFractionDigits:2,maximumFractionDigits:2}).format(t),Og=t=>t.map(e=>{const n=e.variants.reduce((s,i)=>{const o=s.find(a=>a.target===i.target);return o?o.price=Math.min(o.price,i.price):s.push({target:i.target,type:i.type,kg:i.kg,price:i.price}),s},[]),r=Math.min(...n.map(s=>s.price));return{...e,price:r,targets:n.map(({target:s,type:i,kg:o})=>({target:s,type:i,kg:o})),variants:e.variants}}),Eh=t=>new Date(t).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}),qM=t=>new Date(t).toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"numeric"}),WM=t=>{switch(t){case"Pending":return"Pendiente";case"Paid":return"Pagado";case"Shipped":return"Enviado";case"Delivered":return"Entregado";default:return t}},KM=t=>t.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),JM=t=>{const e=t.split("/storage/v1/object/public/product-images/");if(e.length!==2)throw new Error(`URL de imagen no válida: ${t}`);return e[1]},Jo=t=>t===null||t===""?"":t.charAt(0).toUpperCase()+t.slice(1).toLowerCase(),QM="modulepreload",ZM=function(t){return"/"+t},Xx={},al=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.all(n.map(a=>{if(a=ZM(a),a in Xx)return;Xx[a]=!0;const l=a.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":QM,l||(u.as="script"),u.crossOrigin="",u.href=a,o&&u.setAttribute("nonce",o),document.head.appendChild(u),l)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})}))}return s.then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},GM=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>al(async()=>{const{default:r}=await Promise.resolve().then(()=>Sl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class C0 extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class YM extends C0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class XM extends C0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class eP extends C0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var jg;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(jg||(jg={}));var tP=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class nP{constructor(e,{headers:n={},customFetch:r,region:s=jg.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=GM(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return tP(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(m=>{throw new YM(m)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new XM(u);if(!u.ok)throw new eP(u);let h=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield u.json():h==="application/octet-stream"?p=yield u.blob():h==="text/event-stream"?p=u:h==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var Yn={},E0={},Nh={},Nu={},Th={},Oh={},rP=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ll=rP();const sP=ll.fetch,l_=ll.fetch.bind(ll),c_=ll.Headers,iP=ll.Request,oP=ll.Response,Sl=Object.freeze(Object.defineProperty({__proto__:null,Headers:c_,Request:iP,Response:oP,default:l_,fetch:sP},Symbol.toStringTag,{value:"Module"})),aP=iN(Sl);var N0={};Object.defineProperty(N0,"__esModule",{value:!0});class lP extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}N0.default=lP;var u_=ir&&ir.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Oh,"__esModule",{value:!0});const cP=u_(aP),uP=u_(N0);let dP=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=cP.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,u=null,d=null,h=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=v:u=JSON.parse(v))}const y=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");y&&x&&x.length>1&&(d=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const y=await i.text();try{c=JSON.parse(y),Array.isArray(c)&&i.status===404&&(u=[],c=null,h=200,p="OK")}catch{i.status===404&&y===""?(h=204,p="No Content"):c={message:y}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,p="OK"),c&&this.shouldThrowOnError)throw new uP.default(c)}return{error:c,data:u,count:d,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}};Oh.default=dP;var fP=ir&&ir.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Th,"__esModule",{value:!0});const hP=fP(Oh);let pP=class extends hP.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Th.default=pP;var mP=ir&&ir.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Nu,"__esModule",{value:!0});const gP=mP(Th);let yP=class extends gP.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Nu.default=yP;var vP=ir&&ir.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Nh,"__esModule",{value:!0});const Hl=vP(Nu);let xP=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Hl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Hl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Hl.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Hl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Hl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Nh.default=xP;var jh={},Mh={};Object.defineProperty(Mh,"__esModule",{value:!0});Mh.version=void 0;Mh.version="0.0.0-automated";Object.defineProperty(jh,"__esModule",{value:!0});jh.DEFAULT_HEADERS=void 0;const bP=Mh;jh.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${bP.version}`};var d_=ir&&ir.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(E0,"__esModule",{value:!0});const wP=d_(Nh),kP=d_(Nu),SP=jh;let _P=class f_{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},SP.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new wP.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new f_(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(o="POST",l=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new kP.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};E0.default=_P;var Tu=ir&&ir.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yn,"__esModule",{value:!0});Yn.PostgrestBuilder=Yn.PostgrestTransformBuilder=Yn.PostgrestFilterBuilder=Yn.PostgrestQueryBuilder=Yn.PostgrestClient=void 0;const h_=Tu(E0);Yn.PostgrestClient=h_.default;const p_=Tu(Nh);Yn.PostgrestQueryBuilder=p_.default;const m_=Tu(Nu);Yn.PostgrestFilterBuilder=m_.default;const g_=Tu(Th);Yn.PostgrestTransformBuilder=g_.default;const y_=Tu(Oh);Yn.PostgrestBuilder=y_.default;var CP=Yn.default={PostgrestClient:h_.default,PostgrestQueryBuilder:p_.default,PostgrestFilterBuilder:m_.default,PostgrestTransformBuilder:g_.default,PostgrestBuilder:y_.default};const{PostgrestClient:EP,PostgrestQueryBuilder:B9,PostgrestFilterBuilder:V9,PostgrestTransformBuilder:U9,PostgrestBuilder:H9}=CP,NP="2.10.2",TP={"X-Client-Info":`realtime-js/${NP}`},OP="1.0.0",v_=1e4,jP=1e3;var Oa;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Oa||(Oa={}));var On;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(On||(On={}));var gr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(gr||(gr={}));var Mg;(function(t){t.websocket="websocket"})(Mg||(Mg={}));var Ki;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ki||(Ki={}));class MP{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class x_{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Je;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Je||(Je={}));const e1=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=PP(o,t,e,s),i),{})},PP=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?b_(i,o):Pg(o)},b_=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return DP(e,n)}switch(t){case Je.bool:return AP(e);case Je.float4:case Je.float8:case Je.int2:case Je.int4:case Je.int8:case Je.numeric:case Je.oid:return RP(e);case Je.json:case Je.jsonb:return IP(e);case Je.timestamp:return LP(e);case Je.abstime:case Je.date:case Je.daterange:case Je.int4range:case Je.int8range:case Je.money:case Je.reltime:case Je.text:case Je.time:case Je.timestamptz:case Je.timetz:case Je.tsrange:case Je.tstzrange:return Pg(e);default:return Pg(e)}},Pg=t=>t,AP=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},RP=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},IP=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},DP=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>b_(e,a))}return t},LP=t=>typeof t=="string"?t.replace(" ","T"):t,w_=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Pp{constructor(e,n,r={},s=v_){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var t1;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(t1||(t1={}));class vc{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=vc.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=vc.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=vc.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=i[c];if(d){const h=u.map(x=>x.presence_ref),p=d.map(x=>x.presence_ref),m=u.filter(x=>p.indexOf(x.presence_ref)<0),y=d.filter(x=>h.indexOf(x.presence_ref)<0);m.length>0&&(a[c]=m),y.length>0&&(l[c]=y)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(p=>p.presence_ref),h=u.filter(p=>d.indexOf(p.presence_ref)<0);e[a].unshift(...h)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var n1;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(n1||(n1={}));var r1;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes"})(r1||(r1={}));var s1;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(s1||(s1={}));class T0{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=On.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Pp(this,gr.join,this.params,this.timeout),this.rejoinTimer=new x_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=On.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=On.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=On.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=On.errored,this.rejoinTimer.scheduleTimeout())}),this._on(gr.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new vc(this),this.broadcastEndpointURL=w_(this.socket.endPoint)+"/api/broadcast"}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>e&&e("CHANNEL_ERROR",u)),this._onClose(()=>e&&e("CLOSED"));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:u})=>{var d;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),u===void 0){e&&e("SUBSCRIBED");return}else{const h=this.bindings.postgres_changes,p=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,m=[];for(let y=0;y<p;y++){const x=h[y],{filter:{event:v,schema:g,table:b,filter:k}}=x,O=u&&u[y];if(O&&O.event===v&&O.schema===g&&O.table===b&&O.filter===k)m.push(Object.assign(Object.assign({},x),{id:O.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e("SUBSCRIBED");return}}).receive("error",u=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=l.body)===null||s===void 0?void 0:s.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=On.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(gr.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Pp(this,gr.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Pp(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=gr;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var m,y,x;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((x=(y=p.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(p=>p.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var m,y,x,v,g,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const k=p.id,O=(m=p.filter)===null||m===void 0?void 0:m.event;return k&&((y=n.ids)===null||y===void 0?void 0:y.includes(k))&&(O==="*"||(O==null?void 0:O.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const k=(g=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return k==="*"||k===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:y,table:x,commit_timestamp:v,type:g,errors:b}=m;h=Object.assign(Object.assign({},{schema:y,table:x,commit_timestamp:v,eventType:g,new:{},old:{},errors:b}),this._getPayloadRecords(m))}p.callback(h,r)})}_isClosed(){return this.state===On.closed}_isJoined(){return this.state===On.joined}_isJoining(){return this.state===On.joining}_isLeaving(){return this.state===On.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&T0.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(gr.close,{},e)}_onError(e){this._on(gr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=On.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=e1(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=e1(e.columns,e.old_record)),n}}const FP=()=>{},zP=typeof WebSocket<"u";class $P{constructor(e,n){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=TP,this.params={},this.timeout=v_,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=FP,this.conn=null,this.sendBuffer=[],this.serializer=new MP,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>al(async()=>{const{default:l}=await Promise.resolve().then(()=>Sl);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Mg.websocket}`,this.httpEndpoint=w_(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;s&&(this.accessToken=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new x_(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(zP){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new BP(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),al(async()=>{const{default:e}=await import("./browser-CVH4urTb.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Oa.connecting:return Ki.Connecting;case Oa.open:return Ki.Open;case Oa.closing:return Ki.Closing;default:return Ki.Closed}}isConnected(){return this.connectionState()===Ki.Open}channel(e,n={config:{}}){const r=new T0(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(n=>{e&&n.updateJoinPayload({access_token:e}),n.joinedOnce&&n._isJoined()&&n._push(gr.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:OP}))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;(o&&o===this.pendingHeartbeatRef||s===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(gr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(jP,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class BP{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Oa.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class O0 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Mt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class VP extends O0{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ag extends O0{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var UP=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const k_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>al(async()=>{const{default:r}=await Promise.resolve().then(()=>Sl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},HP=()=>UP(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield al(()=>Promise.resolve().then(()=>Sl),void 0)).Response:Response}),Rg=t=>{if(Array.isArray(t))return t.map(n=>Rg(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Rg(r)}),e};var $o=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Ap=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),qP=(t,e,n)=>$o(void 0,void 0,void 0,function*(){const r=yield HP();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new VP(Ap(s),t.status||500))}).catch(s=>{e(new Ag(Ap(s),s))}):e(new Ag(Ap(t),t))}),WP=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Ou(t,e,n,r,s,i){return $o(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,WP(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>qP(l,a,r))})})}function Pf(t,e,n,r){return $o(this,void 0,void 0,function*(){return Ou(t,"GET",e,n,r)})}function Us(t,e,n,r,s){return $o(this,void 0,void 0,function*(){return Ou(t,"POST",e,r,s,n)})}function KP(t,e,n,r,s){return $o(this,void 0,void 0,function*(){return Ou(t,"PUT",e,r,s,n)})}function JP(t,e,n,r){return $o(this,void 0,void 0,function*(){return Ou(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function S_(t,e,n,r,s){return $o(this,void 0,void 0,function*(){return Ou(t,"DELETE",e,r,s,n)})}var vn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const QP={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},i1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ZP{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=k_(s)}uploadOrUpdate(e,n,r,s){return vn(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},i1),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),i.append("",r),l&&i.append("metadata",this.encodeMetadata(l))):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Mt(i))return{data:null,error:i};throw i}})}upload(e,n,r){return vn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return vn(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:i1.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),h=yield d.json();return d.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(Mt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return vn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Us(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new O0("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(Mt(r))return{data:null,error:r};throw r}})}update(e,n,r){return vn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return vn(this,void 0,void 0,function*(){try{return{data:yield Us(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Mt(s))return{data:null,error:s};throw s}})}copy(e,n,r){return vn(this,void 0,void 0,function*(){try{return{data:{path:(yield Us(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Mt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return vn(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Us(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Mt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return vn(this,void 0,void 0,function*(){try{const s=yield Us(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Mt(s))return{data:null,error:s};throw s}})}download(e,n){return vn(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Pf(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Mt(a))return{data:null,error:a};throw a}})}info(e){return vn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Pf(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Rg(r),error:null}}catch(r){if(Mt(r))return{data:null,error:r};throw r}})}exists(e){return vn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield JP(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Mt(r)&&r instanceof Ag){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return vn(this,void 0,void 0,function*(){try{return{data:yield S_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Mt(n))return{data:null,error:n};throw n}})}list(e,n,r){return vn(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},QP),n),{prefix:e||""});return{data:yield Us(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Mt(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const GP="2.7.0",YP={"X-Client-Info":`storage-js/${GP}`};var Qo=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class XP{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},YP),n),this.fetch=k_(r)}listBuckets(){return Qo(this,void 0,void 0,function*(){try{return{data:yield Pf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Mt(e))return{data:null,error:e};throw e}})}getBucket(e){return Qo(this,void 0,void 0,function*(){try{return{data:yield Pf(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Mt(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Qo(this,void 0,void 0,function*(){try{return{data:yield Us(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Mt(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Qo(this,void 0,void 0,function*(){try{return{data:yield KP(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Mt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Qo(this,void 0,void 0,function*(){try{return{data:yield Us(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Mt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Qo(this,void 0,void 0,function*(){try{return{data:yield S_(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Mt(n))return{data:null,error:n};throw n}})}}class eA extends XP{constructor(e,n={},r){super(e,n,r)}from(e){return new ZP(this.url,this.headers,e,this.fetch)}}const tA="2.45.4";let rc="";typeof Deno<"u"?rc="deno":typeof document<"u"?rc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?rc="react-native":rc="node";const nA={"X-Client-Info":`supabase-js-${rc}/${tA}`},rA={headers:nA},sA={schema:"public"},iA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},oA={};var aA=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const lA=t=>{let e;return t?e=t:typeof fetch>"u"?e=l_:e=fetch,(...n)=>e(...n)},cA=()=>typeof Headers>"u"?c_:Headers,uA=(t,e,n)=>{const r=lA(n),s=cA();return(i,o)=>aA(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var dA=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function fA(t){return t.replace(/\/$/,"")}function hA(t,e){const{db:n,auth:r,realtime:s,global:i}=t,{db:o,auth:a,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>dA(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const __="2.65.0",pA="http://localhost:9999",mA="supabase.auth.token",gA={"X-Client-Info":`gotrue-js/${__}`},o1=10,Ig="X-Supabase-Api-Version",C_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function yA(t){return Math.round(Date.now()/1e3)+t}function vA(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ur=()=>typeof document<"u",Vi={tested:!1,writable:!1},xc=()=>{if(!ur())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Vi.tested)return Vi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Vi.tested=!0,Vi.writable=!0}catch{Vi.tested=!0,Vi.writable=!1}return Vi.writable};function Rp(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const E_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>al(async()=>{const{default:r}=await Promise.resolve().then(()=>Sl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},xA=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",N_=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},gd=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},yd=async(t,e)=>{await t.removeItem(e)};function bA(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,a,l,c,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)o=e.indexOf(t.charAt(u++)),a=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),r=o<<2|a>>4,s=(a&15)<<4|l>>2,i=(l&3)<<6|c,n=n+String.fromCharCode(r),l!=64&&s!=0&&(n=n+String.fromCharCode(s)),c!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class Ph{constructor(){this.promise=new Ph.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ph.promiseConstructor=Promise;function a1(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(bA(r))}async function wA(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function kA(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function SA(t){return("0"+t.toString(16)).substr(-2)}function _A(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,SA).join("")}async function CA(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function EA(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function NA(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await CA(t);return EA(n)}async function Zo(t,e,n=!1){const r=_A();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await N_(t,`${e}-code-verifier`,s);const i=await NA(r);return[i,r===i?"plain":"s256"]}const TA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function OA(t){const e=t.headers.get(Ig);if(!e||!e.match(TA))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class j0 extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ce(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class jA extends j0{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function MA(t){return Ce(t)&&t.name==="AuthApiError"}class T_ extends j0{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Bo extends j0{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Fs extends Bo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function PA(t){return Ce(t)&&t.name==="AuthSessionMissingError"}class Ip extends Bo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vd extends Bo{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class xd extends Bo{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class l1 extends Bo{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Dg extends Bo{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Dp(t){return Ce(t)&&t.name==="AuthRetryableFetchError"}class c1 extends Bo{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var AA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const qi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),RA=[502,503,504];async function u1(t){var e;if(!xA(t))throw new Dg(qi(t),0);if(RA.includes(t.status))throw new Dg(qi(t),t.status);let n;try{n=await t.json()}catch(i){throw new T_(qi(i),i)}let r;const s=OA(t);if(s&&s.getTime()>=C_["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new c1(qi(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Fs}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new c1(qi(n),t.status,n.weak_password.reasons);throw new jA(qi(n),t.status||500,r)}const IA=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function je(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Ig]||(i[Ig]=C_["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await DA(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function DA(t,e,n,r,s,i){const o=IA(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Dg(qi(l),0)}if(a.ok||await u1(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await u1(l)}}function zs(t){var e;let n=null;$A(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=yA(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function d1(t){const e=zs(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Js(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function LA(t){return{data:t,error:null}}function FA(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=AA(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function zA(t){return t}function $A(t){return t.access_token&&t.refresh_token&&t.expires_in}var BA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class VA{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=E_(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await je(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await je(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Js})}catch(r){if(Ce(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=BA(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:FA,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ce(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await je(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Js})}catch(n){if(Ce(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:zA});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const y=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(m.split(";")[1].split("=")[1]);c[`${x}Page`]=y}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(Ce(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await je(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Js})}catch(n){if(Ce(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await je(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Js})}catch(r){if(Ce(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await je(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Js})}catch(r){if(Ce(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await je(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await je(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}}}const UA={getItem:t=>xc()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{xc()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{xc()&&globalThis.localStorage.removeItem(t)}};function f1(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function HA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Go={debug:!!(globalThis&&xc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class O_ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class qA extends O_{}async function WA(t,e,n){Go.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Go.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Go.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Go.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Go.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new qA(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Go.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}HA();const KA={url:pA,storageKey:mA,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gA,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},ql=30*1e3,h1=3;async function p1(t,e,n){return await n()}class qc{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=qc.nextInstanceID,qc.nextInstanceID+=1,this.instanceID>0&&ur()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},KA),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new VA({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=E_(s.fetch),this.lock=s.lock||p1,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ur()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=WA:this.lock=p1,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:xc()?this.storage=UA:(this.memoryStorage={},this.storage=f1(this.memoryStorage)):(this.memoryStorage={},this.storage=f1(this.memoryStorage)),ur()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${__}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=ur()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:r}=await this._getSessionFromURL(e);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.message)==="Identity is already linked"||(r==null?void 0:r.message)==="Identity is already linked to another user"?{error:r}:(await this._removeSession(),{error:r});const{session:s,redirectType:i}=n;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return Ce(e)?{error:e}:{error:new T_("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:zs}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Ce(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:u,password:d,options:h}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Zo(this.storage,this.storageKey)),i=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:zs})}else if("phone"in e){const{phone:u,password:d,options:h}=e;i=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:zs})}else throw new vd("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Ce(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:d1})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:d1})}else throw new vd("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ip}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Ce(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await gd(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:zs});if(await yd(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ip}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(Ce(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:zs}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ip}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(Ce(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Zo(this.storage,this.storageKey));const{error:d}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new vd("You must provide either an email or phone number.")}catch(a){if(Ce(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:zs});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(Ce(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Zo(this.storage,this.storageKey)),await je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:LA})}catch(i){if(Ce(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Fs;const{error:s}=await je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(Ce(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await je(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await je(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new vd("You must provide either an email or phone number and a type")}catch(n){if(Ce(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await gd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Js}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Fs}:await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Js})})}catch(n){if(Ce(n))return PA(n)&&(await this._removeSession(),await yd(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Fs;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Zo(this.storage,this.storageKey));const{data:c,error:u}=await je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Js});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Ce(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return a1(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Fs;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=a1(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(Ce(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Fs;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ce(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e){try{if(!ur())throw new xd("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new xd("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new l1("Not a valid PKCE flow url.");const n=Rp(window.location.href);if(e){if(!n.code)throw new l1("No code detected.");const{data:g,error:b}=await this._exchangeCodeForSession(n.code);if(b)throw b;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:g.session,redirectType:null},error:null}}if(n.error||n.error_description||n.error_code)throw new xd(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=n;if(!i||!a||!o||!c)throw new xd("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;l&&(h=parseInt(l));const p=h-u;p*1e3<=ql&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const m=h-d;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,u);const{data:y,error:x}=await this._getUser(i);if(x)throw x;const v={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:n.type},error:null}}catch(n){if(Ce(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){const e=Rp(window.location.href);return!!(ur()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=Rp(window.location.href),n=await gd(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(MA(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await yd(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){const n=vA(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Zo(this.storage,this.storageKey,!0));try{return await je(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Ce(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,u;const{data:d,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await je(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return ur()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ce(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await je(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await kA(async s=>(s>0&&await wA(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:zs})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Dp(i)&&Date.now()+o-r<ql})}catch(r){if(this._debug(n,"error",r),Ce(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),ur()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await gd(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<s+o1;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${o1}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Dp(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Fs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ph;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Fs;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),Ce(i)){const o={session:null,error:i};return Dp(i)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await N_(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await yd(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ur()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ql);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/ql);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ql}ms, refresh threshold is ${h1} ticks`),s<=h1&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof O_)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ur()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Zo(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await je(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await je(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="phone"&&delete l.totp,e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await je(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await je(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}qc.nextInstanceID=0;const JA=qc;class QA extends JA{constructor(e){super(e)}}var ZA=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class GA{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=fA(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:sA,realtime:oA,auth:Object.assign(Object.assign({},iA),{storageKey:l}),global:rA},u=hA(r??{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=uA(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},u.realtime)),this.rest=new EP(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new nP(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new eA(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return ZA(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,u){var d;const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new QA({url:this.authUrl,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:(d="Authorization"in this.headers)!==null&&d!==void 0?d:!1})}_initRealtimeClient(e){return new $P(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const YA=(t,e,n)=>new GA(t,e,n),XA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVxZ3V5dWJyanZicnpoZHhydGl4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI0OTk2NjAsImV4cCI6MjA1ODA3NTY2MH0.AjdGB_QnNQKY0lb7ktQouuT5QufahsxGH2BzrGfqCzw",eR="https://eqguyubrjvbrzhdxrtix.supabase.co",ue=YA(eR,XA),tR=async t=>{const n=(t-1)*10,r=n+10-1,{data:s,error:i,count:o}=await ue.from("products").select("*, variants(*)",{count:"exact"}).order("created_at",{ascending:!1}).range(n,r);if(i)throw console.log(i.message),new Error(i.message);return{products:s,count:o}},nR=async({page:t=1,brands:e=[]})=>{const r=(t-1)*10,s=r+10-1;let i=ue.from("products").select("*, variants(*)",{count:"exact"}).order("created_at",{ascending:!1}).range(r,s);e.length>0&&(i=i.in("brand",e));const{data:o,error:a,count:l}=await i;if(a)throw console.log(a.message),new Error(a.message);return{data:o,count:l}},rR=async()=>{const{data:t,error:e}=await ue.from("products").select("*, variants(*)").order("created_at",{ascending:!1}).limit(4);if(e)throw console.log(e.message),new Error(e.message);return t},sR=async()=>{const{data:t,error:e}=await ue.from("products").select("*, variants(*)").limit(20);if(e)throw console.log(e.message),new Error(e.message);return t.sort(()=>.5-Math.random()).slice(0,4)},iR=async t=>{const{data:e,error:n}=await ue.from("products").select("*, variants(*)").eq("slug",t).single();if(n)throw console.log(n.message),new Error(n.message);return e},oR=async t=>{const{data:e,error:n}=await ue.from("products").select("*, variants(*)").ilike("name",`%${t}%`);if(n)throw console.log(n.message),new Error(n.message);return e},aR=async t=>{try{const{data:e,error:n}=await ue.from("products").insert({name:t.name,brand:t.brand,slug:t.slug,description:t.description,images:[]}).select().single();if(n)throw new Error(n.message);const r=e.id,s=await Promise.all(t.images.map(async l=>{const{data:c,error:u}=await ue.storage.from("product-images").upload(`${r}/${e.id}-${l.name}`,l);if(u)throw new Error(u.message);return`${ue.storage.from("product-images").getPublicUrl(c.path).data.publicUrl}`})),{error:i}=await ue.from("products").update({images:s}).eq("id",e.id);if(i)throw new Error(i.message);const o=t.variants.map(l=>({product_id:e.id,stock:l.stock,price:l.price,type:l.type,target:l.target,kg:l.kg})),{error:a}=await ue.from("variants").insert(o);if(a)throw new Error(a.message);return e}catch(e){throw console.log(e),new Error("Error inesperado, Vuelva a intentarlo")}},lR=async t=>{const{error:e}=await ue.from("variants").delete().eq("product_id",t);if(e)throw new Error(e.message);const{data:n,error:r}=await ue.from("products").select("images").eq("id",t).single();if(r)throw new Error(r.message);const{error:s}=await ue.from("products").delete().eq("id",t);if(s)throw new Error(s.message);if(n.images.length>0){const i=t,o=n.images.map(l=>{const c=l.split("/").pop();return`${i}/${c}`}),{error:a}=await ue.storage.from("product-images").remove(o);if(a)throw new Error(a.message)}return!0},cR=async(t,e)=>{const{data:n,error:r}=await ue.from("products").select("images").eq("id",t).single();if(r)throw new Error(r.message);const s=n.images||[],{data:i,error:o}=await ue.from("products").update({name:e.name,brand:e.brand,slug:e.slug,description:e.description}).eq("id",t).select().single();if(o)throw new Error(o.message);const a=t,l=e.images.filter(g=>g),u=s.filter(g=>!l.includes(g)).map(JM);if(u.length>0){const{error:g}=await ue.storage.from("product-images").remove(u);if(g)throw console.log(g),new Error(g.message);console.log(`Imagenes eliminadas: ${u.join(", ")}`)}const d=await Promise.all(l.map(async g=>{if(g instanceof File){const{data:b,error:k}=await ue.storage.from("product-images").upload(`${a}/${t}-${g.name}`,g);if(k)throw new Error(k.message);return ue.storage.from("product-images").getPublicUrl(b.path).data.publicUrl}else{if(typeof g=="string")return g;throw new Error("Tipo de imagen no soportado")}})),{error:h}=await ue.from("products").update({images:d}).eq("id",t);if(h)throw new Error(h.message);const p=e.variants.filter(g=>g.id),m=e.variants.filter(g=>!g.id);if(p.length>0){const{error:g}=await ue.from("variants").upsert(p.map(b=>({id:b.id,product_id:t,stock:b.stock,price:b.price,type:b.type,target:b.target,kg:b.kg})),{onConflict:"id"});if(g)throw new Error(g.message)}let y=[];if(m.length>0){const{data:g,error:b}=await ue.from("variants").insert(m.map(k=>({product_id:t,stock:k.stock,price:k.price,type:k.type,target:k.target,kg:k.kg}))).select();if(b)throw new Error(b.message);y=g.map(k=>k.id)}const x=[...p.map(g=>g.id),...y],{error:v}=await ue.from("variants").delete().eq("product_id",t).not("id","in",`(${x?x.join(","):0})`);if(v)throw new Error(v.message);return i},uR=async({email:t,password:e,fullName:n,phone:r})=>{var s;try{const{data:i,error:o}=await ue.auth.signUp({email:t,password:e});if(o)throw new Error(o.message);const a=(s=i.user)==null?void 0:s.id;if(!a)throw new Error("Error al obtener el id del usuario");const{error:l}=await ue.auth.signInWithPassword({email:t,password:e});if(l)throw console.log(l),new Error("Email o contraseña incorrectos");const{error:c}=await ue.from("user_roles").insert({user_id:a,role:"customer"});if(c)throw console.log(c),new Error("Error al registrar el rol del usuario");const{error:u}=await ue.from("customers").insert({user_id:a,full_name:n,phone:r,email:t});if(u)throw console.log(u),new Error("Error al registrar los datos del usuario");return i}catch(i){throw console.log(i),new Error("Error al registrar el usuario")}},dR=async({email:t,password:e})=>{const{data:n,error:r}=await ue.auth.signInWithPassword({email:t,password:e});if(r)throw console.log(r),new Error("Email o contraseña incorrectos");return n},j_=async()=>{const{error:t}=await ue.auth.signOut();if(t)throw console.log(t),new Error("Error al cerrar sesión")},M_=async()=>{const{data:t,error:e}=await ue.auth.getSession();if(e)throw console.log(e),new Error("Error al obtener la sesión");return t},fR=async t=>{const{data:e,error:n}=await ue.from("customers").select("*").eq("user_id",t).single();if(n)throw console.log(n),new Error("Error al obtener los datos del usuario");return e},P_=async t=>{const{data:e,error:n}=await ue.from("user_roles").select("role").eq("user_id",t).single();if(n)throw console.log(n),new Error("Error al obtener el rol del usuario");return e.role},hR=async t=>{const{data:e,error:n}=await ue.auth.getUser();if(n)throw console.log(n),new Error(n.message);const r=e.user.id,{data:s,error:i}=await ue.from("customers").select("id").eq("user_id",r).single();if(i)throw console.log(i),new Error(i.message);const o=s.id;for(const p of t.cartItems){const{data:m,error:y}=await ue.from("variants").select("stock").eq("id",p.variantId).single();if(y)throw console.log(y),new Error(y.message);if(m.stock<p.quantity)throw new Error("No hay stock suficiente los artículos seleccionados")}const{data:a,error:l}=await ue.from("addresses").insert({address_line1:t.address.addressLine1,address_line2:t.address.addressLine2,city:t.address.city,state:t.address.state,postal_code:t.address.postalCode,customer_id:o}).select().single();if(l)throw console.log(l),new Error(l.message);const{data:c,error:u}=await ue.from("orders").insert({customer_id:o,address_id:a.id,total_amount:t.totalAmount,status:"Pending"}).select().single();if(u)throw console.log(u),new Error(u.message);const d=t.cartItems.map(p=>({order_id:c.id,variant_id:p.variantId,quantity:p.quantity,price:p.price})),{error:h}=await ue.from("order_items").insert(d);if(h)throw console.log(h),new Error(h.message);for(const p of t.cartItems){const{data:m}=await ue.from("variants").select("stock").eq("id",p.variantId).single();if(!m)throw new Error("No se encontró la variante");const y=m.stock-p.quantity,{error:x}=await ue.from("variants").update({stock:y}).eq("id",p.variantId);if(x)throw console.log(x),new Error("No se pudo actualizar el stock de la variante")}return c},pR=async()=>{const{data:t,error:e}=await ue.auth.getUser();if(e)throw console.log(e),new Error(e.message);const{data:n,error:r}=await ue.from("customers").select("id").eq("user_id",t.user.id).single();if(r)throw console.log(r),new Error(r.message);const s=n.id,{data:i,error:o}=await ue.from("orders").select("id, total_amount, status, created_at").eq("customer_id",s).order("created_at",{ascending:!1});if(o)throw console.log(o),new Error(o.message);return i},A_=async t=>{var l,c,u,d,h,p,m;const{data:e,error:n}=await ue.auth.getUser();if(n)throw console.log(n),new Error(n.message);const{data:r,error:s}=await ue.from("customers").select("id").eq("user_id",e.user.id).single();if(s)throw console.log(s),new Error(s.message);const i=r.id,{data:o,error:a}=await ue.from("orders").select("*, addresses(*), customers(full_name, email), order_items(quantity, price, variants(target, type, kg, products(name, images)))").eq("customer_id",i).eq("id",t).single();if(a)throw console.log(a),new Error(a.message);return{customer:{email:(l=o==null?void 0:o.customers)==null?void 0:l.email,full_name:(c=o.customers)==null?void 0:c.full_name},totalAmount:o.total_amount,status:o.status,created_at:o.created_at,address:{addressLine1:(u=o.addresses)==null?void 0:u.address_line1,addressLine2:(d=o.addresses)==null?void 0:d.address_line2,city:(h=o.addresses)==null?void 0:h.city,state:(p=o.addresses)==null?void 0:p.state,postalCode:(m=o.addresses)==null?void 0:m.postal_code},orderItems:o.order_items.map(y=>{var x,v,g,b,k,O,T;return{quantity:y.quantity,price:y.price,target:(x=y.variants)==null?void 0:x.target,type:(v=y.variants)==null?void 0:v.type,kg:(g=y.variants)==null?void 0:g.kg,productName:(k=(b=y.variants)==null?void 0:b.products)==null?void 0:k.name,productImage:(T=(O=y.variants)==null?void 0:O.products)==null?void 0:T.images[0]}})}},mR=async()=>{const{data:t,error:e}=await ue.from("orders").select("id, total_amount, status, created_at, customers(full_name, email)").order("created_at",{ascending:!1});if(e)throw console.log(e),new Error(e.message);return t},gR=async({id:t,status:e})=>{const{error:n}=await ue.from("orders").update({status:e}).eq("id",t);if(n)throw console.log(n),new Error(n.message)},yR=({page:t=1})=>{const{data:e,isLoading:n}=Xr({queryKey:["products",t],queryFn:()=>tR(t),staleTime:3e5});return{products:e==null?void 0:e.products,isLoading:n,totalProducts:(e==null?void 0:e.count)??0}},vR=({page:t,brands:e})=>{const{data:n,isLoading:r}=Xr({queryKey:["filteredProducts",t,e],queryFn:()=>nR({page:t,brands:e}),retry:!1});return{data:n==null?void 0:n.data,isLoading:r,totalProducts:(n==null?void 0:n.count)??0}},xR=()=>{const t=UM({queries:[{queryKey:["recentProducts"],queryFn:rR},{queryKey:["popularProducts"],queryFn:sR}]}),[e,n]=t,r=e.isLoading||n.isLoading,s=e.isError||n.isError;return{recentProducts:e.data||[],popularProducts:n.data||[],isLoading:r,isError:s}};let bR={data:""},wR=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||bR,kR=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,SR=/\/\*[^]*?\*\/|  +/g,m1=/\n+/g,Qs=(t,e)=>{let n="",r="",s="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?Qs(o,i):i+"{"+Qs(o,i[1]=="k"?"":e)+"}":typeof o=="object"?r+=Qs(o,e?e.replace(/([^,])+/g,a=>i.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Qs.p?Qs.p(i,o):i+":"+o+";")}return n+(e&&s?e+"{"+s+"}":s)+r},is={},R_=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+R_(t[n]);return e}return t},_R=(t,e,n,r,s)=>{let i=R_(t),o=is[i]||(is[i]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(i));if(!is[o]){let l=i!==t?t:(c=>{let u,d,h=[{}];for(;u=kR.exec(c.replace(SR,""));)u[4]?h.shift():u[3]?(d=u[3].replace(m1," ").trim(),h.unshift(h[0][d]=h[0][d]||{})):h[0][u[1]]=u[2].replace(m1," ").trim();return h[0]})(t);is[o]=Qs(s?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&is.g?is.g:null;return n&&(is.g=is[o]),((l,c,u,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(is[o],e,r,a),o},CR=(t,e,n)=>t.reduce((r,s,i)=>{let o=e[i];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":Qs(a,""):a===!1?"":a}return r+s+(o??"")},"");function Ah(t){let e=this||{},n=t.call?t(e.p):t;return _R(n.unshift?n.raw?CR(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,wR(e.target),e.g,e.o,e.k)}let I_,Lg,Fg;Ah.bind({g:1});let Ns=Ah.bind({k:1});function ER(t,e,n,r){Qs.p=e,I_=t,Lg=n,Fg=r}function Di(t,e){let n=this||{};return function(){let r=arguments;function s(i,o){let a=Object.assign({},i),l=a.className||s.className;n.p=Object.assign({theme:Lg&&Lg()},a),n.o=/ *go\d+/.test(l),a.className=Ah.apply(n,r)+(l?" "+l:"");let c=t;return t[0]&&(c=a.as||t,delete a.as),Fg&&c[0]&&Fg(a),I_(c,a)}return s}}var NR=t=>typeof t=="function",Af=(t,e)=>NR(t)?t(e):t,TR=(()=>{let t=0;return()=>(++t).toString()})(),D_=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),OR=20,Hd=new Map,jR=1e3,g1=t=>{if(Hd.has(t))return;let e=setTimeout(()=>{Hd.delete(t),Vo({type:4,toastId:t})},jR);Hd.set(t,e)},MR=t=>{let e=Hd.get(t);e&&clearTimeout(e)},zg=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,OR)};case 1:return e.toast.id&&MR(e.toast.id),{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return t.toasts.find(i=>i.id===n.id)?zg(t,{type:1,toast:n}):zg(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?g1(r):t.toasts.forEach(i=>{g1(i.id)}),{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},qd=[],Wd={toasts:[],pausedAt:void 0},Vo=t=>{Wd=zg(Wd,t),qd.forEach(e=>{e(Wd)})},PR={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},AR=(t={})=>{let[e,n]=E.useState(Wd);E.useEffect(()=>(qd.push(n),()=>{let s=qd.indexOf(n);s>-1&&qd.splice(s,1)}),[e]);let r=e.toasts.map(s=>{var i,o;return{...t,...t[s.type],...s,duration:s.duration||((i=t[s.type])==null?void 0:i.duration)||(t==null?void 0:t.duration)||PR[s.type],style:{...t.style,...(o=t[s.type])==null?void 0:o.style,...s.style}}});return{...e,toasts:r}},RR=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||TR()}),ju=t=>(e,n)=>{let r=RR(e,t,n);return Vo({type:2,toast:r}),r.id},Dn=(t,e)=>ju("blank")(t,e);Dn.error=ju("error");Dn.success=ju("success");Dn.loading=ju("loading");Dn.custom=ju("custom");Dn.dismiss=t=>{Vo({type:3,toastId:t})};Dn.remove=t=>Vo({type:4,toastId:t});Dn.promise=(t,e,n)=>{let r=Dn.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(s=>(Dn.success(Af(e.success,s),{id:r,...n,...n==null?void 0:n.success}),s)).catch(s=>{Dn.error(Af(e.error,s),{id:r,...n,...n==null?void 0:n.error})}),t};var IR=(t,e)=>{Vo({type:1,toast:{id:t,height:e}})},DR=()=>{Vo({type:5,time:Date.now()})},LR=t=>{let{toasts:e,pausedAt:n}=AR(t);E.useEffect(()=>{if(n)return;let i=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(l<0){a.visible&&Dn.dismiss(a.id);return}return setTimeout(()=>Dn.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=E.useCallback(()=>{n&&Vo({type:6,time:Date.now()})},[n]),s=E.useCallback((i,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=o||{},u=e.filter(p=>(p.position||c)===(i.position||c)&&p.height),d=u.findIndex(p=>p.id===i.id),h=u.filter((p,m)=>m<d&&p.visible).length;return u.filter(p=>p.visible).slice(...a?[h+1]:[0,h]).reduce((p,m)=>p+(m.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:IR,startPause:DR,endPause:r,calculateOffset:s}}},FR=Ns`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,zR=Ns`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,$R=Ns`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,BR=Di("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${FR} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${zR} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${$R} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,VR=Ns`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,UR=Di("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${VR} 1s linear infinite;
`,HR=Ns`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,qR=Ns`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,WR=Di("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${HR} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${qR} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,KR=Di("div")`
  position: absolute;
`,JR=Di("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,QR=Ns`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ZR=Di("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${QR} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,GR=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?E.createElement(ZR,null,e):e:n==="blank"?null:E.createElement(JR,null,E.createElement(UR,{...r}),n!=="loading"&&E.createElement(KR,null,n==="error"?E.createElement(BR,{...r}):E.createElement(WR,{...r})))},YR=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,XR=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,eI="0%{opacity:0;} 100%{opacity:1;}",tI="0%{opacity:1;} 100%{opacity:0;}",nI=Di("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,rI=Di("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,sI=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=D_()?[eI,tI]:[YR(n),XR(n)];return{animation:e?`${Ns(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ns(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},iI=E.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?sI(t.position||e||"top-center",t.visible):{opacity:0},i=E.createElement(GR,{toast:t}),o=E.createElement(rI,{...t.ariaProps},Af(t.message,t));return E.createElement(nI,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:i,message:o}):E.createElement(E.Fragment,null,i,o))});ER(E.createElement);var oI=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let i=E.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return E.createElement("div",{ref:i,className:e,style:n},s)},aI=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:D_()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},lI=Ah`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,bd=16,cI=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:a,handlers:l}=LR(n);return E.createElement("div",{style:{position:"fixed",zIndex:9999,top:bd,left:bd,right:bd,bottom:bd,pointerEvents:"none",...i},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let u=c.position||e,d=l.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),h=aI(u,d);return E.createElement(oI,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?lI:"",style:h},c.type==="custom"?Af(c.message,c):s?s(c):E.createElement(iI,{toast:c,position:u}))}))},qr=Dn;const uI=()=>{const t=Yr(),e=Ft(),{mutate:n,isPending:r}=zo({mutationFn:aR,onSuccess:()=>{t.invalidateQueries({queryKey:["products"]}),e("/dashboard/productos")},onError:s=>{qr.error("Ocurrió un error al crear el producto"),console.log(s)}});return{mutate:n,isPending:r}},L_=t=>{const{data:e,isLoading:n,isError:r}=Xr({queryKey:["product",t],queryFn:()=>iR(t),retry:!1});return{product:e,isError:r,isLoading:n}},dI=()=>{const t=Yr(),{mutate:e,isPending:n}=zo({mutationFn:lR,onSuccess:()=>{t.invalidateQueries({queryKey:["products"]}),qr.success("Producto eliminado correctamente",{position:"bottom-right"})},onError:r=>{console.log(r),qr.error("Ocurrió un error al eliminar el producto",{position:"bottom-right"})}});return{mutate:e,isPending:n}},fI=t=>{const e=Yr(),n=Ft(),{mutate:r,isPending:s}=zo({mutationFn:async i=>cR(t,i),onSuccess:()=>{e.invalidateQueries({queryKey:["products"]}),qr.success("Producto actualizado",{position:"bottom-right"}),n("/dashboard/productos")},onError:i=>{console.log(i),qr.error("Ocurrió un error al actualizar el producto",{position:"bottom-right"})}});return{mutate:r,isPending:s}},hI=()=>{const t=Ft(),e=Yr(),{mutate:n,isPending:r}=zo({mutationFn:dR,onSuccess:()=>{e.invalidateQueries({queryKey:["user"]}),t("/")},onError:s=>{qr.error(s.message,{position:"bottom-right"})}});return{mutate:n,isPending:r}},pI=()=>{const t=Ft(),e=Yr(),{mutate:n,isPending:r}=zo({mutationFn:uR,onSuccess:()=>{e.invalidateQueries({queryKey:["user"]}),t("/")},onError:s=>{qr.error(s.message,{position:"bottom-right"})}});return{mutate:n,isPending:r}},Uo=()=>{const{data:t,isLoading:e}=Xr({queryKey:["user"],queryFn:M_,retry:!1,refetchOnWindowFocus:!0});return{session:t==null?void 0:t.session,isLoading:e}},mI=t=>{const{data:e,isLoading:n}=Xr({queryKey:["customer",t],queryFn:()=>fR(t),enabled:!!t,retry:!1,refetchOnWindowFocus:!0});return{data:e,isLoading:n}},gI=t=>{const{data:e,isLoading:n}=Xr({queryKey:["rol-user"],queryFn:async()=>await P_(t),enabled:!!t});return{data:e,isLoading:n}},yI=()=>{const t=Yr(),e=Ft(),{mutate:n,isPending:r}=zo({mutationFn:hR,onSuccess:s=>{t.invalidateQueries({queryKey:["orders"]}),e(`/checkout/${s.id}/thank-you`)},onError:s=>{qr.error(s.message,{position:"bottom-right"})}});return{mutate:n,isPending:r}},F_=t=>{const{data:e,isLoading:n,isError:r}=Xr({queryKey:["order",t],queryFn:()=>A_(t),enabled:!!t,retry:!1});return{data:e,isLoading:n,isError:r}},vI=()=>{const{data:t,isLoading:e}=Xr({queryKey:["orders"],queryFn:pR,retry:!1});return{data:t,isLoading:e}},xI=()=>{const{data:t,isLoading:e}=Xr({queryKey:["orders","admin"],queryFn:mR});return{data:t,isLoading:e}},bI=()=>{const t=Yr(),{mutate:e,isPending:n}=zo({mutationFn:gR,onSuccess:()=>{t.invalidateQueries({queryKey:["orders","admin"]})},onError:r=>{console.log(r),qr.error("No se pudo actualizar el estado de la orden",{position:"bottom-right"})}});return{mutate:e,isPending:n}},wI=t=>{const{data:e,isLoading:n}=Xr({queryKey:["order","admin",t],queryFn:()=>A_(t),enabled:!!t,retry:!1});return{data:e,isLoading:n}};function M0(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12a9 9 0 1 1-6.219-8.56"},child:[]}]})(t)}function z_(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12h14"},child:[]}]})(t)}function $_(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12h14"},child:[]},{tag:"path",attr:{d:"M12 5v14"},child:[]}]})(t)}const kI=()=>{const t=Es(l=>l.openSheet),e=Fn(l=>l.totalItemsInCart),n=Es(l=>l.setActiveNavMobile),{session:r,isLoading:s}=Uo(),i=r==null?void 0:r.user.id,{data:o}=mI(i),{data:a}=gI(i);return f.jsxs("header",{className:"bg-white text-black py-4 flex items-center justify-between px-5 border-b border-slate-200 lg:px-12",children:[f.jsx(Rj,{}),f.jsx("nav",{className:"space-x-5 hidden md:flex",children:RS.map(l=>f.jsx(y0,{to:l.href,className:({isActive:c})=>`${c?"text-cyan-600 underline":""} transition-all duration-300 font-medium hover:text-cyan-600 hover:underline `,children:l.title},l.id))}),f.jsxs("div",{className:"flex gap-5 items-center",children:[f.jsx("button",{onClick:()=>t("search"),children:f.jsx(IS,{size:25})}),s?f.jsx(M0,{className:"animate-spin",size:60}):r?f.jsx("div",{className:"relative",children:f.jsx(mt,{to:a==="admin"?"/dashboard":"/account",className:"border-2 border-slate-700 w-9 h-9 rounded-full grid place-items-center text-lg font-bold",children:o&&o.full_name[0]})}):f.jsx(mt,{to:"/login",children:f.jsx(Aj,{size:25})}),f.jsxs("button",{className:"relative",onClick:()=>t("cart"),children:[f.jsx("span",{className:"absolute -bottom-2 -right-2 w-5 h-5 grid place-items-center bg-black text-white text-xs rounded-full",children:e}),f.jsx(DS,{size:25})]})]}),f.jsx("button",{className:"md:hidden",onClick:()=>n(!0),children:f.jsx(Ej,{size:25})})]})},ta=({children:t,isOpen:e,closeModal:n})=>{const r=s=>s.stopPropagation();return f.jsx("article",{className:`modal ${e&&"is-open"}`,onClick:n,children:f.jsx("div",{className:"modal-container",onClick:r,children:t})})},SI=()=>{const[t,e]=E.useState(!1),n=()=>e(!0),r=()=>e(!1);return f.jsxs("footer",{className:"py-4 bg-gray-950 px-2 flex justify-between gap-8 text-slate-200 text-sm flex-wrap mt-5 md:flex-nowrap",children:[f.jsx(mt,{to:"/",className:"tracking-tighter flex-5",children:f.jsx("img",{src:"/img/Baalak-logo-footer.png",alt:"Baalak"})}),f.jsxs("div",{className:"flex flex-col gap-4 flex-1",children:[f.jsx("p",{className:"font-semibold uppercase tracking-tighter",children:"Horarios de atención"}),f.jsxs("nav",{className:"flex flex-col gap-2 text-xs font-medium",children:[f.jsx("span",{className:"text-slate-300 hover:text-white",children:"Lun - Vier  8:00 a.m. - 8:00 p.m."}),f.jsx("span",{className:"text-slate-300 hover:text-white",children:"Sab         8:00 a.m. - 5:00 p.m."}),f.jsx("span",{className:"text-slate-300 hover:text-white",children:"Dom/Fest    8:00 a.m. - 4:00 p.m."})]})]}),f.jsxs("div",{className:"flex flex-col gap-4 flex-1",children:[f.jsx("p",{className:"font-semibold uppercase tracking-tighter",children:"Ubicación"}),f.jsx("nav",{className:"flex flex-col gap-2 text-xs font-medium",children:f.jsxs("div",{className:"flex relative group overflow-hidden items-center gap-6",children:[f.jsx("span",{className:"text-slate-300 hover:text-white",children:"Av. Central #33, Barrio de Santa Ana, 24050, San Francisco de Campeche, Campeche, México."}),f.jsx("button",{className:"bg-white text-black border border-slate-200 absolute w-full bottom-0 py-3 rounded-3xl flex items-center justify-center gap-1 text-sm font-medium hover:bg-stone-100 translate-y-[100%] transition-all duration-300 group-hover:translate-y-0",onClick:n,children:"Ver Ubicación en el mapa"}),f.jsx(ta,{isOpen:t,closeModal:r,children:f.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3181.4274111452305!2d-90.53723282564627!3d19.83129032782944!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x85f833e7e7ee3b57%3A0x890db96f7ed2ac60!2sBaalak'%20Clinica%20Veterinaria!5e1!3m2!1ses-419!2smx!4v1748715086040!5m2!1ses-419!2smx",width:"100%",height:"100%",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]})})]}),f.jsxs("div",{className:"flex flex-col gap-4 flex-1",children:[f.jsx("p",{className:"font-semibold uppercase tracking-tighter",children:"Contacto"}),f.jsxs("nav",{className:"flex flex-col gap-2 text-xs font-medium",children:[f.jsx("span",{className:"text-slate-300 hover:text-white",children:"baalak.cv@gmail.com"}),f.jsx("span",{className:"text-slate-300 hover:text-white",children:"981 811 7853"}),f.jsx("span",{className:"text-slate-300 hover:text-white",children:"981 206 2582"})]})]}),f.jsxs("div",{className:"flex flex-col gap-4 flex-1",children:[f.jsx("p",{className:"font-semibold uppercase tracking-tighter",children:"Políticas"}),f.jsxs("nav",{className:"flex flex-col gap-2 text-xs font-medium",children:[f.jsx(mt,{to:"/aviso_de_privacidad",className:"text-slate-300 hover:text-white",children:"Políticas de privacidad"}),f.jsx(mt,{to:"/terminos_y_condiciones",className:"text-slate-300 hover:text-white",children:"Términos y condiciones"})]})]}),f.jsxs("div",{className:"flex flex-col gap-4 flex-1",children:[f.jsx("p",{className:"font-semibold uppercase tracking-tighter",children:"Síguenos en nuestras redes sociales"}),f.jsx("div",{className:"flex",children:kl.map(s=>f.jsx("a",{href:s.href,target:"_blank",rel:"noreferrer",className:"text-slate-300 border border-gray-8000 w-full h-full py-3.5 flex items-center justify-center transition-all hover:bg-white hover:text-gray-950",children:s.icon},s.id))})]})]})},_I=()=>f.jsxs("div",{className:"relative bg-gray-900 text-white",children:[f.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-70 h-full",style:{backgroundImage:"url(/img/background-banner.png)"}}),f.jsx("div",{className:"absolute inset-0 bg-black opacity-50"}),f.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center py-20 px-4 text-center lg:py-20 lg:px-8",children:[f.jsx("h1",{className:"text-4xl font-bold mb-4 lg:text-6xl",children:"Los mejores productos para el bienestar de tus mascotas"}),f.jsx("p",{className:"text-lg mb-8 lg:text-2xl",children:"Descubre las ofertas exclusivas y las últimas novedades para el cuidado de tus mascotas"})]})]}),CI=()=>f.jsx("div",{className:"relative bg-gray-500 text-white py-40",children:f.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-70 h-full",style:{backgroundImage:"url(/img/background-newsletter.png)"}})});function EI(t){return De({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M346.5 240H272v-74.5c0-8.8-7.2-16-16-16s-16 7.2-16 16V240h-74.5c-8.8 0-16 6-16 16s7.5 16 16 16H240v74.5c0 9.5 7 16 16 16s16-7.2 16-16V272h74.5c8.8 0 16-7.2 16-16s-7.2-16-16-16z"},child:[]},{tag:"path",attr:{d:"M256 76c48.1 0 93.3 18.7 127.3 52.7S436 207.9 436 256s-18.7 93.3-52.7 127.3S304.1 436 256 436c-48.1 0-93.3-18.7-127.3-52.7S76 304.1 76 256s18.7-93.3 52.7-127.3S207.9 76 256 76m0-28C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48z"},child:[]}]})(t)}function NI(t){return De({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"},child:[]}]})(t)}function B_(t){return De({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M331.3 308.7L278.6 256l52.7-52.7c6.2-6.2 6.2-16.4 0-22.6-6.2-6.2-16.4-6.2-22.6 0L256 233.4l-52.7-52.7c-6.2-6.2-15.6-7.1-22.6 0-7.1 7.1-6 16.6 0 22.6l52.7 52.7-52.7 52.7c-6.7 6.7-6.4 16.3 0 22.6 6.4 6.4 16.4 6.2 22.6 0l52.7-52.7 52.7 52.7c6.2 6.2 16.4 6.2 22.6 0 6.3-6.2 6.3-16.4 0-22.6z"},child:[]},{tag:"path",attr:{d:"M256 76c48.1 0 93.3 18.7 127.3 52.7S436 207.9 436 256s-18.7 93.3-52.7 127.3S304.1 436 256 436c-48.1 0-93.3-18.7-127.3-52.7S76 304.1 76 256s18.7-93.3 52.7-127.3S207.9 76 256 76m0-28C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48z"},child:[]}]})(t)}function P0(t){return De({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"},child:[]}]})(t)}function TI(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11.0049 2L18.3032 4.28071C18.7206 4.41117 19.0049 4.79781 19.0049 5.23519V7H21.0049C21.5572 7 22.0049 7.44772 22.0049 8V16C22.0049 16.5523 21.5572 17 21.0049 17L17.7848 17.0011C17.3982 17.5108 16.9276 17.9618 16.3849 18.3318L11.0049 22L5.62486 18.3318C3.98563 17.2141 3.00488 15.3584 3.00488 13.3744V5.23519C3.00488 4.79781 3.28913 4.41117 3.70661 4.28071L11.0049 2ZM11.0049 4.094L5.00488 5.97V13.3744C5.00488 14.6193 5.58406 15.7884 6.56329 16.5428L6.75154 16.6793L11.0049 19.579L14.7869 17H10.0049C9.4526 17 9.00488 16.5523 9.00488 16V8C9.00488 7.44772 9.4526 7 10.0049 7H17.0049V5.97L11.0049 4.094ZM11.0049 12V15H20.0049V12H11.0049ZM11.0049 10H20.0049V9H11.0049V10Z"},child:[]}]})(t)}const OI=({item:t})=>{const e=Fn(i=>i.removeItem),n=Fn(i=>i.updateQuantity),r=()=>{n(t.variantId,t.quantity+1)},s=()=>{t.quantity>1&&n(t.variantId,t.quantity-1)};return f.jsxs("li",{className:"flex justify-between items-center gap-5",children:[f.jsx("div",{className:"flex",children:f.jsx("img",{src:t.image,alt:t.name,className:"w-20 h-20 object-contain"})}),f.jsxs("div",{className:"flex-1 space-y-3",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("p",{className:"font-semibold",children:t.name}),f.jsx("p",{className:"text-sm font-medium text-gray-600 mt-1",children:Nt(t.price)})]}),f.jsx("div",{className:"flex gap-3",children:f.jsxs("p",{className:"text-[13px] text-gray-600",children:[t.type," / ",t.target," / ",t.kg," kg."]})}),f.jsxs("div",{className:"flex gap-4",children:[f.jsxs("div",{className:"flex items-center gap-5 px-2 py-1 border border-slate-200 w-fit rounded-full",children:[f.jsx("button",{onClick:s,disabled:t.quantity===1,children:f.jsx(z_,{size:15})}),f.jsx("span",{className:"text-slate-500 text-sm",children:t.quantity}),f.jsx("button",{onClick:r,children:f.jsx($_,{size:15})})]}),f.jsx("button",{className:"underline font-medium text-[10px]",onClick:()=>e(t.variantId),children:"Eliminar"})]})]})]})},jI=()=>{const t=Es(s=>s.closeSheet),e=Fn(s=>s.items),n=Fn(s=>s.cleanCart),r=Fn(s=>s.totalItemsInCart);return f.jsxs("div",{className:"flex flex-col h-full",children:[f.jsxs("div",{className:"px-5 py-7 flex justify-between items-center border-b border-slate-200",children:[f.jsxs("span",{className:"flex gap-3 items-center font-semibold",children:[f.jsx(DS,{size:20}),r," artículos"]}),f.jsx("button",{onClick:t,children:f.jsx(P0,{size:25,className:"text-black"})})]}),r>0?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"p-7 overflow-auto flex-1",children:f.jsx("ul",{className:"space-y-9",children:e.map(s=>f.jsx(OI,{item:s},s.variantId))})}),f.jsxs("div",{className:"mt-4 p-7",children:[f.jsxs(mt,{to:"/checkout",className:"w-full bg-black text-white py-3.5 rounded-full flex items-center justify-center gap-3",children:[f.jsx(TI,{size:24}),"Continuar con la compra"]}),f.jsx("button",{className:"mt-3 w-full text-black border border-black rounded-full py-3",onClick:n,children:"Limpiar Carrito"})]})]}):f.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-7",children:[f.jsx("p",{className:"text-sm font-medium tracking-tight",children:"Su carro está vacío"}),f.jsx(mt,{to:"/products",className:"py-4 bg-black rounded-full text-white px-7 text-xs uppercase tracking-widest font-semibold",onClick:t,children:"Empezar a comprar"})]})]})},MI=()=>{const[t,e]=E.useState(""),[n,r]=E.useState([]),s=Es(a=>a.closeSheet),i=Ft(),o=async a=>{if(a.preventDefault(),t.trim()){const l=await oR(t);r(l)}};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"py-5 px-7 flex gap-10 items-center border-b border-slate-200",children:[f.jsxs("form",{className:"flex gap-3 items-center flex-1",onSubmit:o,children:[f.jsx(IS,{size:22}),f.jsx("input",{type:"text",placeholder:"¿Qué busca?",className:"outline-none w-full text-sm ",value:t,onChange:a=>e(a.target.value)})]}),f.jsx("button",{onClick:s,children:f.jsx(P0,{size:25,className:"text-black"})})]}),f.jsx("div",{className:"p-5",children:n.length>0?f.jsx("ul",{children:n.map(a=>f.jsx("li",{className:"py-2 group",children:f.jsxs("button",{className:"flex items-center gap-3",onClick:()=>{i(`/products/${a.slug}`),s()},children:[f.jsx("img",{src:a.images[0],alt:a.name,className:"h-20 w-20 object-contain p-3"}),f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("p",{className:"text-sm font-semibold group-hover:underline",children:a.name}),f.jsxs("p",{className:"text-[13px] text-gray-600",children:[a.variants[0].target," /"," ",a.variants[0].type," /"," ",a.variants[0].kg," kg."]}),f.jsx("p",{className:"text-sm font-medium text-gray-600",children:Nt(a.variants[0].price)})]})]})},a.id))}):f.jsx("p",{className:"text-sm text-gray-600",children:"No se encontraron resultados"})})]})},PI=()=>{const t=Es(s=>s.sheetContent),e=Es(s=>s.closeSheet),n=E.useRef(null);E.useEffect(()=>{document.body.style.overflow="hidden";const s=i=>{n.current&&!n.current.contains(i.target)&&e()};return document.addEventListener("mousedown",s),()=>{document.body.style.overflow="unset",document.removeEventListener("mousedown",s)}},[e]);const r=()=>{switch(t){case"cart":return f.jsx(jI,{});case"search":return f.jsx(MI,{});default:return null}};return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-end animate-fade-in",children:f.jsx("div",{ref:n,className:"bg-white text-black h-screen w-[500px] shadow-lg animate-slide-in",children:r()})})},AI=()=>{const t=Es(e=>e.setActiveNavMobile);return f.jsxs("div",{className:"bg-white text-black h-screen w-full shadow-lg animate-slide-in-left fixed z-50 flex justify-center py-32",children:[f.jsx("button",{className:"absolute top-5 right-5",onClick:()=>t(!1),children:f.jsx(P0,{size:30,className:"text-black"})}),f.jsxs("div",{className:"flex flex-col gap-20",children:[f.jsx(mt,{to:"/",className:"text-4xl font-bold tracking-tighter transition-all",onClick:()=>t(!1),children:f.jsx("p",{children:f.jsx("img",{src:"/img/Baalak-logo-banner-small.png",alt:"Baalak"})})}),f.jsx("nav",{className:"flex flex-col items-center gap-5",children:RS.map(e=>f.jsx(y0,{to:e.href,className:({isActive:n})=>`
                                ${n?"text-cyan-600 underline":""} transition-all duration-300 font-semibold text-xl hover:text-cyan-600 hover:underline
                            `,onClick:()=>t(!1),children:e.title},e.id))})]})]})},RI=()=>{const{pathname:t}=Lo(),e=Es(r=>r.isSheetOpen),n=Es(r=>r.activeNavMobile);return f.jsxs("div",{className:"h-screen flex flex-col font-montserrat",children:[f.jsx(kI,{}),t==="/"&&f.jsx(_I,{}),f.jsx("main",{className:"container my-5 flex-1",children:f.jsx(g0,{})}),t==="/"&&f.jsx(CI,{}),e&&f.jsx(PI,{}),n&&f.jsx(AI,{}),f.jsx(SI,{})]})};function II(t){return De({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8c-0.020-1.045-0.247-2.086-0.665-3.038-0.417-0.953-1.023-1.817-1.766-2.53s-1.624-1.278-2.578-1.651c-0.953-0.374-1.978-0.552-2.991-0.531-1.013 0.020-2.021 0.24-2.943 0.646-0.923 0.405-1.758 0.992-2.449 1.712s-1.237 1.574-1.597 2.497c-0.361 0.923-0.533 1.914-0.512 2.895 0.020 0.981 0.234 1.955 0.627 2.847 0.392 0.892 0.961 1.7 1.658 2.368s1.523 1.195 2.416 1.543c0.892 0.348 1.851 0.514 2.799 0.493 0.949-0.020 1.89-0.227 2.751-0.608 0.862-0.379 1.642-0.929 2.287-1.604s1.154-1.472 1.488-2.335c0.204-0.523 0.342-1.069 0.415-1.622 0.019 0.001 0.039 0.002 0.059 0.002 0.552 0 1-0.448 1-1 0-0.028-0.001-0.056-0.004-0.083h0.004zM14.411 10.655c-0.367 0.831-0.898 1.584-1.55 2.206s-1.422 1.112-2.254 1.434c-0.832 0.323-1.723 0.476-2.608 0.454-0.884-0.020-1.759-0.215-2.56-0.57-0.801-0.354-1.526-0.867-2.125-1.495s-1.071-1.371-1.38-2.173c-0.31-0.801-0.457-1.66-0.435-2.512s0.208-1.694 0.551-2.464c0.342-0.77 0.836-1.468 1.441-2.044s1.321-1.029 2.092-1.326c0.771-0.298 1.596-0.438 2.416-0.416s1.629 0.202 2.368 0.532c0.74 0.329 1.41 0.805 1.963 1.387s0.988 1.27 1.272 2.011c0.285 0.74 0.418 1.532 0.397 2.32h0.004c-0.002 0.027-0.004 0.055-0.004 0.083 0 0.516 0.39 0.94 0.892 0.994-0.097 0.544-0.258 1.075-0.481 1.578z"},child:[]}]})(t)}function DI(t){return De({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 0c-4.355 0-7.898 3.481-7.998 7.812 0.092-3.779 2.966-6.812 6.498-6.812 3.59 0 6.5 3.134 6.5 7 0 0.828 0.672 1.5 1.5 1.5s1.5-0.672 1.5-1.5c0-4.418-3.582-8-8-8zM8 16c4.355 0 7.898-3.481 7.998-7.812-0.092 3.779-2.966 6.812-6.498 6.812-3.59 0-6.5-3.134-6.5-7 0-0.828-0.672-1.5-1.5-1.5s-1.5 0.672-1.5 1.5c0 4.418 3.582 8 8 8z"},child:[]}]})(t)}function LI(t){return De({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14.942 12.57l-4.942-8.235v-3.335h0.5c0.275 0 0.5-0.225 0.5-0.5s-0.225-0.5-0.5-0.5h-5c-0.275 0-0.5 0.225-0.5 0.5s0.225 0.5 0.5 0.5h0.5v3.335l-4.942 8.235c-1.132 1.886-0.258 3.43 1.942 3.43h10c2.2 0 3.074-1.543 1.942-3.43zM3.766 10l3.234-5.39v-3.61h2v3.61l3.234 5.39h-8.468z"},child:[]}]})(t)}const qn=()=>f.jsx("div",{className:"flex items-center justify-center h-screen",children:f.jsx(DI,{className:"animate-spin",size:70})});function FI(t){return De({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 176v160m80-80H176"},child:[]}]})(t)}function A0(t){return De({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M328 112 184 256l144 144"},child:[]}]})(t)}function V_(t){return De({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M304 336v40a40 40 0 0 1-40 40H104a40 40 0 0 1-40-40V136a40 40 0 0 1 40-40h152c22.09 0 48 17.91 48 40v40m64 160 80-80-80-80m-192 80h256"},child:[]}]})(t)}const zI=()=>{const{isLoading:t}=Uo(),e=Ft();if(E.useEffect(()=>{ue.auth.onAuthStateChange(async(r,s)=>{(r==="SIGNED_OUT"||!s)&&e("/login",{replace:!0})})},[e]),t)return f.jsx(qn,{});const n=async()=>{await j_()};return f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsx("div",{className:"flex justify-end",children:f.jsxs("button",{className:"bg-cyan-600 py-[10px] rounded-md flex justify-center gap-2 font-semibold text-sm hover:bg-red-500",onClick:n,children:[f.jsx("span",{className:"hidden lg:block",children:"Cerrar sesión"}),f.jsx(V_,{size:20,className:"inline-block"})]})}),f.jsx("main",{className:"container mt-12 flex-1",children:f.jsx(g0,{})})]})},$I=()=>{const t=async()=>{await j_()};return f.jsxs("div",{className:"w-[100px] bg-stone-800 text-white flex flex-col gap-10 items-center p-5 fixed h-screen lg:w-[200px]",children:[f.jsx(mt,{className:"w-full",to:"/",children:f.jsxs("button",{className:"border w-full rounded-md py-2 border-slate-200 px-5 flex items-center justify-center gap-2 text-xs font-medium uppercase tracking-widest hover:bg-cyan-600 transition-all",children:[f.jsx(A0,{size:20}),"Volver"]})}),f.jsx("nav",{className:"w-full space-y-5 flex-1",children:Mj.map(e=>f.jsxs(y0,{to:e.href,className:({isActive:n})=>`flex items-center justify-center gap-3 pl-0 py-3 transition-all duration-300 rounded-md ${n?"text-white bg-cyan-600":"hover:text-white hover:bg-cyan-600"} lg:pl-5 lg:justify-start`,children:[e.icon,f.jsx("p",{className:"font-semibold hidden lg:block",children:e.title})]},e.id))}),f.jsxs("button",{className:"bg-red-500 w-full py-[10px] rounded-md flex items-center justify-center gap-2 font-semibold text-sm hover:bg-cyan-600",onClick:t,children:[f.jsx("span",{className:"hidden lg:block",children:"Cerrar sesión"}),f.jsx(V_,{size:20,className:"inline-block"})]})]})},BI=["Orden","Cliente","Fecha","Estado","Total"],VI=[{value:"Pending",label:"Pendiente"},{value:"Paid",label:"Pagado"},{value:"Shipped",label:"Enviado"},{value:"Delivered",label:"Entregado"}],UI=({orders:t})=>{const e=Ft(),{mutate:n}=bI(),r=(s,i)=>{n({id:s,status:i})};return f.jsx("div",{className:"relative w-full h-full",children:f.jsxs("table",{className:"text-sm w-full caption-bottom overflow-auto",children:[f.jsx("thead",{className:"border-b border-gray-200 pb-3",children:f.jsx("tr",{className:"text-sm font-bold",children:BI.map((s,i)=>f.jsx("th",{className:"h-12 px-4 text-left",children:s},i))})}),f.jsx("tbody",{className:"[&_tr:last-child]:border-0",children:t.map(s=>{var i,o;return f.jsxs("tr",{className:"cursor-pointer hover:bg-gray-200 transition-colors duration-200",onClick:()=>e(`/dashboard/ordenes/${s.id}`),children:[f.jsx("td",{className:"p-4 font-medium tracking-tighter",children:s.id}),f.jsxs("td",{className:"p-4 font-medium tracking-tighter flex flex-col gap-1",children:[f.jsx("span",{className:"font-semibold",children:(i=s.customers)==null?void 0:i.full_name}),f.jsx("span",{children:(o=s.customers)==null?void 0:o.email})]}),f.jsx("td",{className:"p-4 font-medium tracking-tighter",children:Eh(s.created_at)}),f.jsx("td",{className:"p-4 font-medium tracking-tighter",children:f.jsx("select",{value:s.status||"",onClick:a=>a.stopPropagation(),className:"border border-gray-300 p-2 rounded",onChange:a=>r(s.id,a.target.value),children:VI.map(a=>f.jsx("option",{value:a.value,children:a.label},a.value))})}),f.jsx("td",{className:"p-4 font-medium tracking-tighter",children:Nt(s.total_amount)})]},s.id)})})]})})},U_=({totalItems:t,page:e,setPage:n})=>{const r=()=>{n(e+1)},s=()=>{n(u=>Math.max(u-1,1))},o=t?Math.ceil(t/10):1,a=e>=o,l=(e-1)*10+1,c=Math.min(e*10,t);return f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("p",{className:"text-xs font-medium",children:[" Mostrando"," ",f.jsxs("span",{className:"font-bold",children:[" ",l," - ",c," "]})," "," de",f.jsxs("span",{className:"font-bold",children:[" ",t," "]})," productos"]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{className:"btn-paginated",onClick:s,disabled:e===1,children:" Anterior"}),f.jsx("button",{className:"btn-paginated",onClick:r,disabled:a,children:" Siguiente"})]})]})},wd=({content:t})=>f.jsx("td",{className:"p-4 font-medium tracking-tighter",children:t}),HI=["","Nombre","Variante","Precio","Stock","Fecha de creación",""],qI=()=>{const[t,e]=E.useState(null),[n,r]=E.useState({}),[s,i]=E.useState(1),{products:o,isLoading:a,totalProducts:l}=yR({page:s}),{mutate:c,isPending:u}=dI(),d=m=>{e(t===m?null:m)},h=(m,y)=>{r({...n,[m]:y})},p=m=>{c(m),e(null)};return!o||a||!l||u?f.jsx(qn,{}):f.jsxs("div",{className:"flex flex-col flex-1 border border-gray-200 rounded-lg p-5 bg-white",children:[f.jsx("h1",{className:"font-bold text-xl",children:"Productos"}),f.jsx("p",{className:"text-sm mt-1 mb-8 font-regular text-gray-500",children:"Gestiona tus productos y mira las estadísticas de tus ventas"}),f.jsx("div",{className:"relative w-full h-full",children:f.jsxs("table",{className:"text-sm w-full caption-bottom overflow-auto",children:[f.jsx("thead",{className:"border-b border-gray-200 pb-3",children:f.jsx("tr",{className:"text-sm font-bold",children:HI.map((m,y)=>f.jsx("th",{className:"h-12 px-4 text-left",children:m},y))})}),f.jsx("tbody",{children:o.map((m,y)=>{const x=n[m.id]??0,v=m.variants[x]||{};return f.jsxs("tr",{children:[f.jsx("td",{className:"p-4 align-middle sm:table-cell",children:f.jsx("img",{src:m.images[0]||"https://ui.shadcn.com/placeholder.svg",alt:"Imagen Product",loading:"lazy",decoding:"async",className:"w-16 h-16 aspect-square rounded-md object-contain"})}),f.jsx(wd,{content:m.name}),f.jsx("td",{className:"p-4 font-medium tracking-tighter",children:f.jsx("select",{className:"border border-gray-300 rounded-md p-1 w-full",onChange:g=>h(m.id,Number(g.target.value)),value:x,children:m.variants.map((g,b)=>f.jsxs("option",{value:b,children:[g.target," - ",g.type," - ",g.kg," kg."]},g.id))})}),f.jsx(wd,{content:Nt(v==null?void 0:v.price)}),f.jsx(wd,{content:(v.stock||0).toString()}),f.jsx(wd,{content:qM(m.created_at)}),f.jsxs("td",{className:"relative",children:[f.jsx("button",{className:"text-slate-900",onClick:()=>d(y),children:f.jsx(Oj,{})}),t===y&&f.jsxs("div",{className:"absolute right-0 mt-2 bg-white border border-gray-200 rounded-md shadow-xl z-10 w-[120px]",role:"menu",children:[f.jsxs(mt,{to:`/dashboard/productos/editar/${m.slug}`,className:"flex items-center gap-1 w-full text-left px-4 py-2 text-xs font-medium text-gray-700 hover:bg-gray-100",children:["Editar",f.jsx(Pj,{size:13,className:"inline-block"})]}),f.jsx("button",{className:"block w-full text-left px-4 py-2 text-xs font-medium text-gray-700 hover:bg-gray-100",onClick:()=>p(m.id),children:"Eliminar"})]})]})]},y)})})]})}),f.jsx(U_,{page:s,setPage:i,totalItems:l})]})};var Mu=t=>t.type==="checkbox",eo=t=>t instanceof Date,un=t=>t==null;const H_=t=>typeof t=="object";var yt=t=>!un(t)&&!Array.isArray(t)&&H_(t)&&!eo(t),WI=t=>yt(t)&&t.target?Mu(t.target)?t.target.checked:t.target.value:t,KI=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,JI=(t,e)=>t.has(KI(e)),QI=t=>{const e=t.constructor&&t.constructor.prototype;return yt(e)&&e.hasOwnProperty("isPrototypeOf")},R0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function dt(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(R0&&(t instanceof Blob||r))&&(n||yt(t)))if(e=n?[]:{},!n&&!QI(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=dt(t[s]));else return t;return e}var Pu=t=>Array.isArray(t)?t.filter(Boolean):[],tt=t=>t===void 0,K=(t,e,n)=>{if(!e||!yt(t))return n;const r=Pu(e.split(/[,[\].]+?/)).reduce((s,i)=>un(s)?s:s[i],t);return tt(r)||r===t?tt(t[e])?n:t[e]:r},Rr=t=>typeof t=="boolean",I0=t=>/^\w*$/.test(t),q_=t=>Pu(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Le=(t,e,n)=>{let r=-1;const s=I0(e)?[e]:q_(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let l=n;if(r!==o){const c=t[a];l=yt(c)||Array.isArray(c)?c:isNaN(+s[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=l,t=t[a]}};const y1={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Xn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},as={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ZI=ce.createContext(null),GI=()=>ce.useContext(ZI);var YI=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==Xn.all&&(e._proxyFormState[o]=!r||Xn.all),t[o]}});return s},$r=t=>typeof t=="string",XI=(t,e,n,r,s)=>$r(t)?(r&&e.watch.add(t),K(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),K(n,i))):(r&&(e.watchAll=!0),n),W_=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},Sn=t=>Array.isArray(t)?t:[t],v1=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},$g=t=>un(t)||!H_(t);function Zs(t,e){if($g(t)||$g(e))return t===e;if(eo(t)&&eo(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(eo(i)&&eo(o)||yt(i)&&yt(o)||Array.isArray(i)&&Array.isArray(o)?!Zs(i,o):i!==o)return!1}}return!0}var Zt=t=>yt(t)&&!Object.keys(t).length,D0=t=>t.type==="file",br=t=>typeof t=="function",Rf=t=>{if(!R0)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},K_=t=>t.type==="select-multiple",L0=t=>t.type==="radio",eD=t=>L0(t)||Mu(t),Lp=t=>Rf(t)&&t.isConnected;function tD(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=tt(t)?r++:t[e[r++]];return t}function nD(t){for(const e in t)if(t.hasOwnProperty(e)&&!tt(t[e]))return!1;return!0}function xt(t,e){const n=Array.isArray(e)?e:I0(e)?[e]:q_(e),r=n.length===1?t:tD(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(yt(r)&&Zt(r)||Array.isArray(r)&&nD(r))&&xt(t,n.slice(0,-1)),t}var J_=t=>{for(const e in t)if(br(t[e]))return!0;return!1};function If(t,e={}){const n=Array.isArray(t);if(yt(t)||n)for(const r in t)Array.isArray(t[r])||yt(t[r])&&!J_(t[r])?(e[r]=Array.isArray(t[r])?[]:{},If(t[r],e[r])):un(t[r])||(e[r]=!0);return e}function Q_(t,e,n){const r=Array.isArray(t);if(yt(t)||r)for(const s in t)Array.isArray(t[s])||yt(t[s])&&!J_(t[s])?tt(e)||$g(n[s])?n[s]=Array.isArray(t[s])?If(t[s],[]):{...If(t[s])}:Q_(t[s],un(e)?{}:e[s],n[s]):n[s]=!Zs(t[s],e[s]);return n}var Wl=(t,e)=>Q_(t,e,If(e));const x1={value:!1,isValid:!1},b1={value:!0,isValid:!0};var Z_=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!tt(t[0].attributes.value)?tt(t[0].value)||t[0].value===""?b1:{value:t[0].value,isValid:!0}:b1:x1}return x1},G_=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>tt(t)?t:e?t===""?NaN:t&&+t:n&&$r(t)?new Date(t):r?r(t):t;const w1={isValid:!1,value:null};var Y_=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,w1):w1;function k1(t){const e=t.ref;return D0(e)?e.files:L0(e)?Y_(t.refs).value:K_(e)?[...e.selectedOptions].map(({value:n})=>n):Mu(e)?Z_(t.refs).value:G_(tt(e.value)?t.ref.value:e.value,t)}var rD=(t,e,n,r)=>{const s={};for(const i of t){const o=K(e,i);o&&Le(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Df=t=>t instanceof RegExp,Kl=t=>tt(t)?t:Df(t)?t.source:yt(t)?Df(t.value)?t.value.source:t.value:t,va=t=>({isOnSubmit:!t||t===Xn.onSubmit,isOnBlur:t===Xn.onBlur,isOnChange:t===Xn.onChange,isOnAll:t===Xn.all,isOnTouch:t===Xn.onTouched});const S1="AsyncFunction";var sD=t=>!!t&&!!t.validate&&!!(br(t.validate)&&t.validate.constructor.name===S1||yt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===S1)),iD=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Bg=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const ja=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=K(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(ja(a,e))break}else if(yt(a)&&ja(a,e))break}}};function _1(t,e,n){const r=K(t,n);if(r||I0(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=K(e,i),a=K(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var oD=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Zt(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||Xn.all))},aD=(t,e,n)=>!t||!e||t===e||Sn(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),lD=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,cD=(t,e)=>!Pu(K(t,e)).length&&xt(t,e),X_=(t,e,n)=>{const r=Sn(K(t,n));return Le(r,"root",e[n]),Le(t,n,r),t},Kd=t=>$r(t);function C1(t,e,n="validate"){if(Kd(t)||Array.isArray(t)&&t.every(Kd)||Rr(t)&&!t)return{type:n,message:Kd(t)?t:"",ref:e}}var Yo=t=>yt(t)&&!Df(t)?t:{value:t,message:""},Vg=async(t,e,n,r,s,i)=>{const{ref:o,refs:a,required:l,maxLength:c,minLength:u,min:d,max:h,pattern:p,validate:m,name:y,valueAsNumber:x,mount:v}=t._f,g=K(n,y);if(!v||e.has(y))return{};const b=a?a[0]:o,k=Q=>{s&&b.reportValidity&&(b.setCustomValidity(Rr(Q)?"":Q||""),b.reportValidity())},O={},T=L0(o),j=Mu(o),w=T||j,A=(x||D0(o))&&tt(o.value)&&tt(g)||Rf(o)&&o.value===""||g===""||Array.isArray(g)&&!g.length,F=W_.bind(null,y,r,O),D=(Q,re,pe,Ve=as.maxLength,Ge=as.minLength)=>{const We=Q?re:pe;O[y]={type:Q?Ve:Ge,message:We,ref:o,...F(Q?Ve:Ge,We)}};if(i?!Array.isArray(g)||!g.length:l&&(!w&&(A||un(g))||Rr(g)&&!g||j&&!Z_(a).isValid||T&&!Y_(a).isValid)){const{value:Q,message:re}=Kd(l)?{value:!!l,message:l}:Yo(l);if(Q&&(O[y]={type:as.required,message:re,ref:b,...F(as.required,re)},!r))return k(re),O}if(!A&&(!un(d)||!un(h))){let Q,re;const pe=Yo(h),Ve=Yo(d);if(!un(g)&&!isNaN(g)){const Ge=o.valueAsNumber||g&&+g;un(pe.value)||(Q=Ge>pe.value),un(Ve.value)||(re=Ge<Ve.value)}else{const Ge=o.valueAsDate||new Date(g),We=me=>new Date(new Date().toDateString()+" "+me),V=o.type=="time",Y=o.type=="week";$r(pe.value)&&g&&(Q=V?We(g)>We(pe.value):Y?g>pe.value:Ge>new Date(pe.value)),$r(Ve.value)&&g&&(re=V?We(g)<We(Ve.value):Y?g<Ve.value:Ge<new Date(Ve.value))}if((Q||re)&&(D(!!Q,pe.message,Ve.message,as.max,as.min),!r))return k(O[y].message),O}if((c||u)&&!A&&($r(g)||i&&Array.isArray(g))){const Q=Yo(c),re=Yo(u),pe=!un(Q.value)&&g.length>+Q.value,Ve=!un(re.value)&&g.length<+re.value;if((pe||Ve)&&(D(pe,Q.message,re.message),!r))return k(O[y].message),O}if(p&&!A&&$r(g)){const{value:Q,message:re}=Yo(p);if(Df(Q)&&!g.match(Q)&&(O[y]={type:as.pattern,message:re,ref:o,...F(as.pattern,re)},!r))return k(re),O}if(m){if(br(m)){const Q=await m(g,n),re=C1(Q,b);if(re&&(O[y]={...re,...F(as.validate,re.message)},!r))return k(re.message),O}else if(yt(m)){let Q={};for(const re in m){if(!Zt(Q)&&!r)break;const pe=C1(await m[re](g,n),b,re);pe&&(Q={...pe,...F(re,pe.message)},k(pe.message),r&&(O[y]=Q))}if(!Zt(Q)&&(O[y]={ref:b,...Q},!r))return O}}return k(!0),O};const uD={mode:Xn.onSubmit,reValidateMode:Xn.onChange,shouldFocusError:!0};function dD(t={}){let e={...uD,...t},n={submitCount:0,isDirty:!1,isLoading:br(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let s=yt(e.defaultValues)||yt(e.values)?dt(e.values||e.defaultValues)||{}:{},i=e.shouldUnregister?{}:dt(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...u};const h={array:v1(),state:v1()},p=va(e.mode),m=va(e.reValidateMode),y=e.criteriaMode===Xn.all,x=C=>M=>{clearTimeout(c),c=setTimeout(C,M)},v=async C=>{if(!e.disabled&&(u.isValid||d.isValid||C)){const M=e.resolver?Zt((await A()).errors):await D(r,!0);M!==n.isValid&&h.state.next({isValid:M})}},g=(C,M)=>{!e.disabled&&(u.isValidating||u.validatingFields||d.isValidating||d.validatingFields)&&((C||Array.from(a.mount)).forEach(R=>{R&&(M?Le(n.validatingFields,R,M):xt(n.validatingFields,R))}),h.state.next({validatingFields:n.validatingFields,isValidating:!Zt(n.validatingFields)}))},b=(C,M=[],R,Z,U=!0,$=!0)=>{if(Z&&R&&!e.disabled){if(o.action=!0,$&&Array.isArray(K(r,C))){const te=R(K(r,C),Z.argA,Z.argB);U&&Le(r,C,te)}if($&&Array.isArray(K(n.errors,C))){const te=R(K(n.errors,C),Z.argA,Z.argB);U&&Le(n.errors,C,te),cD(n.errors,C)}if((u.touchedFields||d.touchedFields)&&$&&Array.isArray(K(n.touchedFields,C))){const te=R(K(n.touchedFields,C),Z.argA,Z.argB);U&&Le(n.touchedFields,C,te)}(u.dirtyFields||d.dirtyFields)&&(n.dirtyFields=Wl(s,i)),h.state.next({name:C,isDirty:re(C,M),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Le(i,C,M)},k=(C,M)=>{Le(n.errors,C,M),h.state.next({errors:n.errors})},O=C=>{n.errors=C,h.state.next({errors:n.errors,isValid:!1})},T=(C,M,R,Z)=>{const U=K(r,C);if(U){const $=K(i,C,tt(R)?K(s,C):R);tt($)||Z&&Z.defaultChecked||M?Le(i,C,M?$:k1(U._f)):Ge(C,$),o.mount&&v()}},j=(C,M,R,Z,U)=>{let $=!1,te=!1;const Te={name:C};if(!e.disabled){if(!R||Z){(u.isDirty||d.isDirty)&&(te=n.isDirty,n.isDirty=Te.isDirty=re(),$=te!==Te.isDirty);const ze=Zs(K(s,C),M);te=!!K(n.dirtyFields,C),ze?xt(n.dirtyFields,C):Le(n.dirtyFields,C,!0),Te.dirtyFields=n.dirtyFields,$=$||(u.dirtyFields||d.dirtyFields)&&te!==!ze}if(R){const ze=K(n.touchedFields,C);ze||(Le(n.touchedFields,C,R),Te.touchedFields=n.touchedFields,$=$||(u.touchedFields||d.touchedFields)&&ze!==R)}$&&U&&h.state.next(Te)}return $?Te:{}},w=(C,M,R,Z)=>{const U=K(n.errors,C),$=(u.isValid||d.isValid)&&Rr(M)&&n.isValid!==M;if(e.delayError&&R?(l=x(()=>k(C,R)),l(e.delayError)):(clearTimeout(c),l=null,R?Le(n.errors,C,R):xt(n.errors,C)),(R?!Zs(U,R):U)||!Zt(Z)||$){const te={...Z,...$&&Rr(M)?{isValid:M}:{},errors:n.errors,name:C};n={...n,...te},h.state.next(te)}},A=async C=>{g(C,!0);const M=await e.resolver(i,e.context,rD(C||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return g(C),M},F=async C=>{const{errors:M}=await A(C);if(C)for(const R of C){const Z=K(M,R);Z?Le(n.errors,R,Z):xt(n.errors,R)}else n.errors=M;return M},D=async(C,M,R={valid:!0})=>{for(const Z in C){const U=C[Z];if(U){const{_f:$,...te}=U;if($){const Te=a.array.has($.name),ze=U._f&&sD(U._f);ze&&u.validatingFields&&g([Z],!0);const Ke=await Vg(U,a.disabled,i,y,e.shouldUseNativeValidation&&!M,Te);if(ze&&u.validatingFields&&g([Z]),Ke[$.name]&&(R.valid=!1,M))break;!M&&(K(Ke,$.name)?Te?X_(n.errors,Ke,$.name):Le(n.errors,$.name,Ke[$.name]):xt(n.errors,$.name))}!Zt(te)&&await D(te,M,R)}}return R.valid},Q=()=>{for(const C of a.unMount){const M=K(r,C);M&&(M._f.refs?M._f.refs.every(R=>!Lp(R)):!Lp(M._f.ref))&&Cl(C)}a.unMount=new Set},re=(C,M)=>!e.disabled&&(C&&M&&Le(i,C,M),!Zs(Ue(),s)),pe=(C,M,R)=>XI(C,a,{...o.mount?i:tt(M)?s:$r(C)?{[C]:M}:M},R,M),Ve=C=>Pu(K(o.mount?i:s,C,e.shouldUnregister?K(s,C,[]):[])),Ge=(C,M,R={})=>{const Z=K(r,C);let U=M;if(Z){const $=Z._f;$&&(!$.disabled&&Le(i,C,G_(M,$)),U=Rf($.ref)&&un(M)?"":M,K_($.ref)?[...$.ref.options].forEach(te=>te.selected=U.includes(te.value)):$.refs?Mu($.ref)?$.refs.length>1?$.refs.forEach(te=>(!te.defaultChecked||!te.disabled)&&(te.checked=Array.isArray(U)?!!U.find(Te=>Te===te.value):U===te.value)):$.refs[0]&&($.refs[0].checked=!!U):$.refs.forEach(te=>te.checked=te.value===U):D0($.ref)?$.ref.value="":($.ref.value=U,$.ref.type||h.state.next({name:C,values:dt(i)})))}(R.shouldDirty||R.shouldTouch)&&j(C,U,R.shouldTouch,R.shouldDirty,!0),R.shouldValidate&&Re(C)},We=(C,M,R)=>{for(const Z in M){const U=M[Z],$=`${C}.${Z}`,te=K(r,$);(a.array.has(C)||yt(U)||te&&!te._f)&&!eo(U)?We($,U,R):Ge($,U,R)}},V=(C,M,R={})=>{const Z=K(r,C),U=a.array.has(C),$=dt(M);Le(i,C,$),U?(h.array.next({name:C,values:dt(i)}),(u.isDirty||u.dirtyFields||d.isDirty||d.dirtyFields)&&R.shouldDirty&&h.state.next({name:C,dirtyFields:Wl(s,i),isDirty:re(C,$)})):Z&&!Z._f&&!un($)?We(C,$,R):Ge(C,$,R),Bg(C,a)&&h.state.next({...n}),h.state.next({name:o.mount?C:void 0,values:dt(i)})},Y=async C=>{o.mount=!0;const M=C.target;let R=M.name,Z=!0;const U=K(r,R),$=te=>{Z=Number.isNaN(te)||eo(te)&&isNaN(te.getTime())||Zs(te,K(i,R,te))};if(U){let te,Te;const ze=M.type?k1(U._f):WI(C),Ke=C.type===y1.BLUR||C.type===y1.FOCUS_OUT,zu=!iD(U._f)&&!e.resolver&&!K(n.errors,R)&&!U._f.deps||lD(Ke,K(n.touchedFields,R),n.isSubmitted,m,p),Ps=Bg(R,a,Ke);Le(i,R,ze),Ke?(U._f.onBlur&&U._f.onBlur(C),l&&l(0)):U._f.onChange&&U._f.onChange(C);const Ol=j(R,ze,Ke),jr=!Zt(Ol)||Ps;if(!Ke&&h.state.next({name:R,type:C.type,values:dt(i)}),zu)return(u.isValid||d.isValid)&&(e.mode==="onBlur"?Ke&&v():Ke||v()),jr&&h.state.next({name:R,...Ps?{}:Ol});if(!Ke&&Ps&&h.state.next({...n}),e.resolver){const{errors:jl}=await A([R]);if($(ze),Z){const $u=_1(n.errors,r,R),Ml=_1(jl,r,$u.name||R);te=Ml.error,R=Ml.name,Te=Zt(jl)}}else g([R],!0),te=(await Vg(U,a.disabled,i,y,e.shouldUseNativeValidation))[R],g([R]),$(ze),Z&&(te?Te=!1:(u.isValid||d.isValid)&&(Te=await D(r,!0)));Z&&(U._f.deps&&Re(U._f.deps),w(R,Te,te,Ol))}},me=(C,M)=>{if(K(n.errors,M)&&C.focus)return C.focus(),1},Re=async(C,M={})=>{let R,Z;const U=Sn(C);if(e.resolver){const $=await F(tt(C)?C:U);R=Zt($),Z=C?!U.some(te=>K($,te)):R}else C?(Z=(await Promise.all(U.map(async $=>{const te=K(r,$);return await D(te&&te._f?{[$]:te}:te)}))).every(Boolean),!(!Z&&!n.isValid)&&v()):Z=R=await D(r);return h.state.next({...!$r(C)||(u.isValid||d.isValid)&&R!==n.isValid?{}:{name:C},...e.resolver||!C?{isValid:R}:{},errors:n.errors}),M.shouldFocus&&!Z&&ja(r,me,C?U:a.mount),Z},Ue=C=>{const M={...o.mount?i:s};return tt(C)?M:$r(C)?K(M,C):C.map(R=>K(M,R))},zt=(C,M)=>({invalid:!!K((M||n).errors,C),isDirty:!!K((M||n).dirtyFields,C),error:K((M||n).errors,C),isValidating:!!K(n.validatingFields,C),isTouched:!!K((M||n).touchedFields,C)}),Wt=C=>{C&&Sn(C).forEach(M=>xt(n.errors,M)),h.state.next({errors:C?n.errors:{}})},Wn=(C,M,R)=>{const Z=(K(r,C,{_f:{}})._f||{}).ref,U=K(n.errors,C)||{},{ref:$,message:te,type:Te,...ze}=U;Le(n.errors,C,{...ze,...M,ref:Z}),h.state.next({name:C,errors:n.errors,isValid:!1}),R&&R.shouldFocus&&Z&&Z.focus&&Z.focus()},St=(C,M)=>br(C)?h.state.subscribe({next:R=>C(pe(void 0,M),R)}):pe(C,M,!0),sn=C=>h.state.subscribe({next:M=>{aD(C.name,M.name,C.exact)&&oD(M,C.formState||u,Zh,C.reRenderRoot)&&C.callback({values:{...i},...n,...M})}}).unsubscribe,es=C=>(o.mount=!0,d={...d,...C.formState},sn({...C,formState:d})),Cl=(C,M={})=>{for(const R of C?Sn(C):a.mount)a.mount.delete(R),a.array.delete(R),M.keepValue||(xt(r,R),xt(i,R)),!M.keepError&&xt(n.errors,R),!M.keepDirty&&xt(n.dirtyFields,R),!M.keepTouched&&xt(n.touchedFields,R),!M.keepIsValidating&&xt(n.validatingFields,R),!e.shouldUnregister&&!M.keepDefaultValue&&xt(s,R);h.state.next({values:dt(i)}),h.state.next({...n,...M.keepDirty?{isDirty:re()}:{}}),!M.keepIsValid&&v()},Bi=({disabled:C,name:M})=>{(Rr(C)&&o.mount||C||a.disabled.has(M))&&(C?a.disabled.add(M):a.disabled.delete(M))},El=(C,M={})=>{let R=K(r,C);const Z=Rr(M.disabled)||Rr(e.disabled);return Le(r,C,{...R||{},_f:{...R&&R._f?R._f:{ref:{name:C}},name:C,mount:!0,...M}}),a.mount.add(C),R?Bi({disabled:Rr(M.disabled)?M.disabled:e.disabled,name:C}):T(C,!0,M.value),{...Z?{disabled:M.disabled||e.disabled}:{},...e.progressive?{required:!!M.required,min:Kl(M.min),max:Kl(M.max),minLength:Kl(M.minLength),maxLength:Kl(M.maxLength),pattern:Kl(M.pattern)}:{},name:C,onChange:Y,onBlur:Y,ref:U=>{if(U){El(C,M),R=K(r,C);const $=tt(U.value)&&U.querySelectorAll&&U.querySelectorAll("input,select,textarea")[0]||U,te=eD($),Te=R._f.refs||[];if(te?Te.find(ze=>ze===$):$===R._f.ref)return;Le(r,C,{_f:{...R._f,...te?{refs:[...Te.filter(Lp),$,...Array.isArray(K(s,C))?[{}]:[]],ref:{type:$.type,name:C}}:{ref:$}}}),T(C,!1,void 0,$)}else R=K(r,C,{}),R._f&&(R._f.mount=!1),(e.shouldUnregister||M.shouldUnregister)&&!(JI(a.array,C)&&o.action)&&a.unMount.add(C)}}},Lu=()=>e.shouldFocusError&&ja(r,me,a.mount),Qh=C=>{Rr(C)&&(h.state.next({disabled:C}),ja(r,(M,R)=>{const Z=K(r,R);Z&&(M.disabled=Z._f.disabled||C,Array.isArray(Z._f.refs)&&Z._f.refs.forEach(U=>{U.disabled=Z._f.disabled||C}))},0,!1))},Ot=(C,M)=>async R=>{let Z;R&&(R.preventDefault&&R.preventDefault(),R.persist&&R.persist());let U=dt(i);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:$,values:te}=await A();n.errors=$,U=te}else await D(r);if(a.disabled.size)for(const $ of a.disabled)Le(U,$,void 0);if(xt(n.errors,"root"),Zt(n.errors)){h.state.next({errors:{}});try{await C(U,R)}catch($){Z=$}}else M&&await M({...n.errors},R),Lu(),setTimeout(Lu);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Zt(n.errors)&&!Z,submitCount:n.submitCount+1,errors:n.errors}),Z)throw Z},Ms=(C,M={})=>{K(r,C)&&(tt(M.defaultValue)?V(C,dt(K(s,C))):(V(C,M.defaultValue),Le(s,C,dt(M.defaultValue))),M.keepTouched||xt(n.touchedFields,C),M.keepDirty||(xt(n.dirtyFields,C),n.isDirty=M.defaultValue?re(C,dt(K(s,C))):re()),M.keepError||(xt(n.errors,C),u.isValid&&v()),h.state.next({...n}))},Nl=(C,M={})=>{const R=C?dt(C):s,Z=dt(R),U=Zt(C),$=U?s:Z;if(M.keepDefaultValues||(s=R),!M.keepValues){if(M.keepDirtyValues){const te=new Set([...a.mount,...Object.keys(Wl(s,i))]);for(const Te of Array.from(te))K(n.dirtyFields,Te)?Le($,Te,K(i,Te)):V(Te,K($,Te))}else{if(R0&&tt(C))for(const te of a.mount){const Te=K(r,te);if(Te&&Te._f){const ze=Array.isArray(Te._f.refs)?Te._f.refs[0]:Te._f.ref;if(Rf(ze)){const Ke=ze.closest("form");if(Ke){Ke.reset();break}}}}for(const te of a.mount)V(te,K($,te))}i=dt($),h.array.next({values:{...$}}),h.state.next({values:{...$}})}a={mount:M.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!M.keepIsValid||!!M.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:M.keepSubmitCount?n.submitCount:0,isDirty:U?!1:M.keepDirty?n.isDirty:!!(M.keepDefaultValues&&!Zs(C,s)),isSubmitted:M.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:U?{}:M.keepDirtyValues?M.keepDefaultValues&&i?Wl(s,i):n.dirtyFields:M.keepDefaultValues&&C?Wl(s,C):M.keepDirty?n.dirtyFields:{},touchedFields:M.keepTouched?n.touchedFields:{},errors:M.keepErrors?n.errors:{},isSubmitSuccessful:M.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Fu=(C,M)=>Nl(br(C)?C(i):C,M),ts=(C,M={})=>{const R=K(r,C),Z=R&&R._f;if(Z){const U=Z.refs?Z.refs[0]:Z.ref;U.focus&&(U.focus(),M.shouldSelect&&br(U.select)&&U.select())}},Zh=C=>{n={...n,...C}},Tl={control:{register:El,unregister:Cl,getFieldState:zt,handleSubmit:Ot,setError:Wn,_subscribe:sn,_runSchema:A,_getWatch:pe,_getDirty:re,_setValid:v,_setFieldArray:b,_setDisabledField:Bi,_setErrors:O,_getFieldArray:Ve,_reset:Nl,_resetDefaultValues:()=>br(e.defaultValues)&&e.defaultValues().then(C=>{Fu(C,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:Q,_disableForm:Qh,_subjects:h,_proxyFormState:u,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(C){o=C},get _defaultValues(){return s},get _names(){return a},set _names(C){a=C},get _formState(){return n},get _options(){return e},set _options(C){e={...e,...C}}},subscribe:es,trigger:Re,register:El,handleSubmit:Ot,watch:St,setValue:V,getValues:Ue,reset:Fu,resetField:Ms,clearErrors:Wt,unregister:Cl,setError:Wn,setFocus:ts,getFieldState:zt};return{...Tl,formControl:Tl}}var Is=()=>{const t=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const n=(Math.random()*16+t)%16|0;return(e=="x"?n:n&3|8).toString(16)})},Fp=(t,e,n={})=>n.shouldFocus||tt(n.shouldFocus)?n.focusName||`${t}.${tt(n.focusIndex)?e:n.focusIndex}.`:"",zp=(t,e)=>[...t,...Sn(e)],$p=t=>Array.isArray(t)?t.map(()=>{}):void 0;function Bp(t,e,n){return[...t.slice(0,e),...Sn(n),...t.slice(e)]}var Vp=(t,e,n)=>Array.isArray(t)?(tt(t[n])&&(t[n]=void 0),t.splice(n,0,t.splice(e,1)[0]),t):[],Up=(t,e)=>[...Sn(e),...Sn(t)];function fD(t,e){let n=0;const r=[...t];for(const s of e)r.splice(s-n,1),n++;return Pu(r).length?r:[]}var Hp=(t,e)=>tt(e)?[]:fD(t,Sn(e).sort((n,r)=>n-r)),qp=(t,e,n)=>{[t[e],t[n]]=[t[n],t[e]]},E1=(t,e,n)=>(t[e]=n,t);function hD(t){const e=GI(),{control:n=e.control,name:r,keyName:s="id",shouldUnregister:i,rules:o}=t,[a,l]=ce.useState(n._getFieldArray(r)),c=ce.useRef(n._getFieldArray(r).map(Is)),u=ce.useRef(a),d=ce.useRef(r),h=ce.useRef(!1);d.current=r,u.current=a,n._names.array.add(r),o&&n.register(r,o),ce.useEffect(()=>n._subjects.array.subscribe({next:({values:T,name:j})=>{if(j===d.current||!j){const w=K(T,d.current);Array.isArray(w)&&(l(w),c.current=w.map(Is))}}}).unsubscribe,[n]);const p=ce.useCallback(T=>{h.current=!0,n._setFieldArray(r,T)},[n,r]),m=(T,j)=>{const w=Sn(dt(T)),A=zp(n._getFieldArray(r),w);n._names.focus=Fp(r,A.length-1,j),c.current=zp(c.current,w.map(Is)),p(A),l(A),n._setFieldArray(r,A,zp,{argA:$p(T)})},y=(T,j)=>{const w=Sn(dt(T)),A=Up(n._getFieldArray(r),w);n._names.focus=Fp(r,0,j),c.current=Up(c.current,w.map(Is)),p(A),l(A),n._setFieldArray(r,A,Up,{argA:$p(T)})},x=T=>{const j=Hp(n._getFieldArray(r),T);c.current=Hp(c.current,T),p(j),l(j),!Array.isArray(K(n._fields,r))&&Le(n._fields,r,void 0),n._setFieldArray(r,j,Hp,{argA:T})},v=(T,j,w)=>{const A=Sn(dt(j)),F=Bp(n._getFieldArray(r),T,A);n._names.focus=Fp(r,T,w),c.current=Bp(c.current,T,A.map(Is)),p(F),l(F),n._setFieldArray(r,F,Bp,{argA:T,argB:$p(j)})},g=(T,j)=>{const w=n._getFieldArray(r);qp(w,T,j),qp(c.current,T,j),p(w),l(w),n._setFieldArray(r,w,qp,{argA:T,argB:j},!1)},b=(T,j)=>{const w=n._getFieldArray(r);Vp(w,T,j),Vp(c.current,T,j),p(w),l(w),n._setFieldArray(r,w,Vp,{argA:T,argB:j},!1)},k=(T,j)=>{const w=dt(j),A=E1(n._getFieldArray(r),T,w);c.current=[...A].map((F,D)=>!F||D===T?Is():c.current[D]),p(A),l([...A]),n._setFieldArray(r,A,E1,{argA:T,argB:w},!0,!1)},O=T=>{const j=Sn(dt(T));c.current=j.map(Is),p([...j]),l([...j]),n._setFieldArray(r,[...j],w=>w,{},!0,!1)};return ce.useEffect(()=>{if(n._state.action=!1,Bg(r,n._names)&&n._subjects.state.next({...n._formState}),h.current&&(!va(n._options.mode).isOnSubmit||n._formState.isSubmitted)&&!va(n._options.reValidateMode).isOnSubmit)if(n._options.resolver)n._runSchema([r]).then(T=>{const j=K(T.errors,r),w=K(n._formState.errors,r);(w?!j&&w.type||j&&(w.type!==j.type||w.message!==j.message):j&&j.type)&&(j?Le(n._formState.errors,r,j):xt(n._formState.errors,r),n._subjects.state.next({errors:n._formState.errors}))});else{const T=K(n._fields,r);T&&T._f&&!(va(n._options.reValidateMode).isOnSubmit&&va(n._options.mode).isOnSubmit)&&Vg(T,n._names.disabled,n._formValues,n._options.criteriaMode===Xn.all,n._options.shouldUseNativeValidation,!0).then(j=>!Zt(j)&&n._subjects.state.next({errors:X_(n._formState.errors,j,r)}))}n._subjects.state.next({name:r,values:dt(n._formValues)}),n._names.focus&&ja(n._fields,(T,j)=>{if(n._names.focus&&j.startsWith(n._names.focus)&&T.focus)return T.focus(),1}),n._names.focus="",n._setValid(),h.current=!1},[a,r,n]),ce.useEffect(()=>(!K(n._formValues,r)&&n._setFieldArray(r),()=>{const T=(j,w)=>{const A=K(n._fields,j);A&&A._f&&(A._f.mount=w)};n._options.shouldUnregister||i?n.unregister(r):T(r,!1)}),[r,n,s,i]),{swap:ce.useCallback(g,[p,r,n]),move:ce.useCallback(b,[p,r,n]),prepend:ce.useCallback(y,[p,r,n]),append:ce.useCallback(m,[p,r,n]),remove:ce.useCallback(x,[p,r,n]),insert:ce.useCallback(v,[p,r,n]),update:ce.useCallback(k,[p,r,n]),replace:ce.useCallback(O,[p,r,n]),fields:ce.useMemo(()=>a.map((T,j)=>({...T,[s]:c.current[j]||Is()})),[a,s])}}function F0(t={}){const e=ce.useRef(void 0),n=ce.useRef(void 0),[r,s]=ce.useState({isDirty:!1,isValidating:!1,isLoading:br(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:br(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:dD(t),formState:r},t.formControl&&t.defaultValues&&!br(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const i=e.current.control;return i._options=t,ce.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0}),[i]),ce.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),ce.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),ce.useEffect(()=>{t.values&&!Zs(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),ce.useEffect(()=>{t.errors&&!Zt(t.errors)&&i._setErrors(t.errors)},[t.errors,i]),ce.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),ce.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[t.shouldUnregister,i]),e.current.formState=YI(r,i),e.current}const N1=(t,e,n)=>{if(t&&"reportValidity"in t){const r=K(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},eC=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?N1(r.ref,n,t):r.refs&&r.refs.forEach(s=>N1(s,n,t))}},pD=(t,e)=>{e.shouldUseNativeValidation&&eC(t,e);const n={};for(const r in t){const s=K(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(mD(e.names||Object.keys(t),r)){const o=Object.assign({},K(n,r));Le(o,"root",i),Le(n,r,o)}else Le(n,r,i)}return n},mD=(t,e)=>t.some(n=>n.startsWith(e+"."));var gD=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(d){return t.push(d)})}),e){var l=n[o].types,c=l&&l[r.code];n[o]=W_(o,e,n,s,c?[].concat(c,r.message):r.message)}t.shift()}return n},z0=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(c){return i.shouldUseNativeValidation&&eC({},i),{errors:{},values:n.raw?r:c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:pD(gD(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Me;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Me||(Me={}));var Ug;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Ug||(Ug={}));const G=Me.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Gs=t=>{switch(typeof t){case"undefined":return G.undefined;case"string":return G.string;case"number":return isNaN(t)?G.nan:G.number;case"boolean":return G.boolean;case"function":return G.function;case"bigint":return G.bigint;case"symbol":return G.symbol;case"object":return Array.isArray(t)?G.array:t===null?G.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?G.promise:typeof Map<"u"&&t instanceof Map?G.map:typeof Set<"u"&&t instanceof Set?G.set:typeof Date<"u"&&t instanceof Date?G.date:G.object;default:return G.unknown}},B=Me.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),yD=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class zn extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return s(this),r}static assert(e){if(!(e instanceof zn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Me.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}zn.create=t=>new zn(t);const cl=(t,e)=>{let n;switch(t.code){case B.invalid_type:t.received===G.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case B.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Me.jsonStringifyReplacer)}`;break;case B.unrecognized_keys:n=`Unrecognized key(s) in object: ${Me.joinValues(t.keys,", ")}`;break;case B.invalid_union:n="Invalid input";break;case B.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Me.joinValues(t.options)}`;break;case B.invalid_enum_value:n=`Invalid enum value. Expected ${Me.joinValues(t.options)}, received '${t.received}'`;break;case B.invalid_arguments:n="Invalid function arguments";break;case B.invalid_return_type:n="Invalid function return type";break;case B.invalid_date:n="Invalid date";break;case B.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Me.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case B.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case B.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case B.custom:n="Invalid input";break;case B.invalid_intersection_types:n="Intersection results could not be merged";break;case B.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case B.not_finite:n="Number must be finite";break;default:n=e.defaultError,Me.assertNever(t)}return{message:n}};let tC=cl;function vD(t){tC=t}function Lf(){return tC}const Ff=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}},xD=[];function W(t,e){const n=Lf(),r=Ff({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===cl?void 0:cl].filter(s=>!!s)});t.common.issues.push(r)}class tn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return ge;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return tn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return ge;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const ge=Object.freeze({status:"aborted"}),xa=t=>({status:"dirty",value:t}),fn=t=>({status:"valid",value:t}),Hg=t=>t.status==="aborted",qg=t=>t.status==="dirty",Wc=t=>t.status==="valid",Kc=t=>typeof Promise<"u"&&t instanceof Promise;function zf(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function nC(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var ae;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ae||(ae={}));var sc,ic;class Wr{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const T1=(t,e)=>{if(Wc(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new zn(t.common.issues);return this._error=n,this._error}}};function be(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{var l,c;const{message:u}=t;return o.code==="invalid_enum_value"?{message:u??a.defaultError}:typeof a.data>"u"?{message:(l=u??r)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(c=u??n)!==null&&c!==void 0?c:a.defaultError}},description:s}}class _e{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Gs(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Gs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new tn,ctx:{common:e.parent.common,data:e.data,parsedType:Gs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Kc(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Gs(e)},i=this._parseSync({data:e,path:s.path,parent:s});return T1(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Gs(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Kc(s)?s:Promise.resolve(s));return T1(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:B.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Tr({schema:this,typeName:he.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Hr.create(this,this._def)}nullable(){return ji.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Cr.create(this,this._def)}promise(){return dl.create(this,this._def)}or(e){return Gc.create([this,e],this._def)}and(e){return Yc.create(this,e,this._def)}transform(e){return new Tr({...be(this._def),schema:this,typeName:he.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new ru({...be(this._def),innerType:this,defaultValue:n,typeName:he.ZodDefault})}brand(){return new $0({typeName:he.ZodBranded,type:this,...be(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new su({...be(this._def),innerType:this,catchValue:n,typeName:he.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Au.create(this,e)}readonly(){return iu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const bD=/^c[^\s-]{8,}$/i,wD=/^[0-9a-z]+$/,kD=/^[0-9A-HJKMNP-TV-Z]{26}$/,SD=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,_D=/^[a-z0-9_-]{21}$/i,CD=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ED=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ND="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Wp;const TD=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,OD=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,jD=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,rC="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",MD=new RegExp(`^${rC}$`);function sC(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function PD(t){return new RegExp(`^${sC(t)}$`)}function iC(t){let e=`${rC}T${sC(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function AD(t,e){return!!((e==="v4"||!e)&&TD.test(t)||(e==="v6"||!e)&&OD.test(t))}class kr extends _e{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==G.string){const i=this._getOrReturnCtx(e);return W(i,{code:B.invalid_type,expected:G.string,received:i.parsedType}),ge}const r=new tn;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),W(s,{code:B.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),W(s,{code:B.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?W(s,{code:B.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&W(s,{code:B.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")ED.test(e.data)||(s=this._getOrReturnCtx(e,s),W(s,{validation:"email",code:B.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Wp||(Wp=new RegExp(ND,"u")),Wp.test(e.data)||(s=this._getOrReturnCtx(e,s),W(s,{validation:"emoji",code:B.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")SD.test(e.data)||(s=this._getOrReturnCtx(e,s),W(s,{validation:"uuid",code:B.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")_D.test(e.data)||(s=this._getOrReturnCtx(e,s),W(s,{validation:"nanoid",code:B.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")bD.test(e.data)||(s=this._getOrReturnCtx(e,s),W(s,{validation:"cuid",code:B.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")wD.test(e.data)||(s=this._getOrReturnCtx(e,s),W(s,{validation:"cuid2",code:B.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")kD.test(e.data)||(s=this._getOrReturnCtx(e,s),W(s,{validation:"ulid",code:B.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),W(s,{validation:"url",code:B.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),W(s,{validation:"regex",code:B.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),W(s,{code:B.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),W(s,{code:B.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),W(s,{code:B.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?iC(i).test(e.data)||(s=this._getOrReturnCtx(e,s),W(s,{code:B.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?MD.test(e.data)||(s=this._getOrReturnCtx(e,s),W(s,{code:B.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?PD(i).test(e.data)||(s=this._getOrReturnCtx(e,s),W(s,{code:B.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?CD.test(e.data)||(s=this._getOrReturnCtx(e,s),W(s,{validation:"duration",code:B.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?AD(e.data,i.version)||(s=this._getOrReturnCtx(e,s),W(s,{validation:"ip",code:B.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?jD.test(e.data)||(s=this._getOrReturnCtx(e,s),W(s,{validation:"base64",code:B.invalid_string,message:i.message}),r.dirty()):Me.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:B.invalid_string,...ae.errToObj(r)})}_addCheck(e){return new kr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ae.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ae.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ae.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ae.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ae.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ae.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ae.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ae.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ae.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ae.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...ae.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ae.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ae.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ae.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ae.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ae.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ae.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ae.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ae.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ae.errToObj(n)})}nonempty(e){return this.min(1,ae.errToObj(e))}trim(){return new kr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new kr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new kr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}kr.create=t=>{var e;return new kr({checks:[],typeName:he.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...be(t)})};function RD(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Ni extends _e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==G.number){const i=this._getOrReturnCtx(e);return W(i,{code:B.invalid_type,expected:G.number,received:i.parsedType}),ge}let r;const s=new tn;for(const i of this._def.checks)i.kind==="int"?Me.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),W(r,{code:B.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),W(r,{code:B.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),W(r,{code:B.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?RD(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),W(r,{code:B.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),W(r,{code:B.not_finite,message:i.message}),s.dirty()):Me.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ae.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ae.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ae.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ae.toString(n))}setLimit(e,n,r,s){return new Ni({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ae.toString(s)}]})}_addCheck(e){return new Ni({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ae.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ae.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ae.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ae.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ae.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ae.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ae.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ae.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ae.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Me.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Ni.create=t=>new Ni({checks:[],typeName:he.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...be(t)});class Ti extends _e{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==G.bigint){const i=this._getOrReturnCtx(e);return W(i,{code:B.invalid_type,expected:G.bigint,received:i.parsedType}),ge}let r;const s=new tn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),W(r,{code:B.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),W(r,{code:B.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),W(r,{code:B.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Me.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ae.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ae.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ae.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ae.toString(n))}setLimit(e,n,r,s){return new Ti({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ae.toString(s)}]})}_addCheck(e){return new Ti({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ae.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ae.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ae.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ae.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ae.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ti.create=t=>{var e;return new Ti({checks:[],typeName:he.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...be(t)})};class Jc extends _e{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==G.boolean){const r=this._getOrReturnCtx(e);return W(r,{code:B.invalid_type,expected:G.boolean,received:r.parsedType}),ge}return fn(e.data)}}Jc.create=t=>new Jc({typeName:he.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...be(t)});class jo extends _e{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==G.date){const i=this._getOrReturnCtx(e);return W(i,{code:B.invalid_type,expected:G.date,received:i.parsedType}),ge}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return W(i,{code:B.invalid_date}),ge}const r=new tn;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),W(s,{code:B.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),W(s,{code:B.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Me.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new jo({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ae.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ae.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}jo.create=t=>new jo({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:he.ZodDate,...be(t)});class $f extends _e{_parse(e){if(this._getType(e)!==G.symbol){const r=this._getOrReturnCtx(e);return W(r,{code:B.invalid_type,expected:G.symbol,received:r.parsedType}),ge}return fn(e.data)}}$f.create=t=>new $f({typeName:he.ZodSymbol,...be(t)});class Qc extends _e{_parse(e){if(this._getType(e)!==G.undefined){const r=this._getOrReturnCtx(e);return W(r,{code:B.invalid_type,expected:G.undefined,received:r.parsedType}),ge}return fn(e.data)}}Qc.create=t=>new Qc({typeName:he.ZodUndefined,...be(t)});class Zc extends _e{_parse(e){if(this._getType(e)!==G.null){const r=this._getOrReturnCtx(e);return W(r,{code:B.invalid_type,expected:G.null,received:r.parsedType}),ge}return fn(e.data)}}Zc.create=t=>new Zc({typeName:he.ZodNull,...be(t)});class ul extends _e{constructor(){super(...arguments),this._any=!0}_parse(e){return fn(e.data)}}ul.create=t=>new ul({typeName:he.ZodAny,...be(t)});class go extends _e{constructor(){super(...arguments),this._unknown=!0}_parse(e){return fn(e.data)}}go.create=t=>new go({typeName:he.ZodUnknown,...be(t)});class Ts extends _e{_parse(e){const n=this._getOrReturnCtx(e);return W(n,{code:B.invalid_type,expected:G.never,received:n.parsedType}),ge}}Ts.create=t=>new Ts({typeName:he.ZodNever,...be(t)});class Bf extends _e{_parse(e){if(this._getType(e)!==G.undefined){const r=this._getOrReturnCtx(e);return W(r,{code:B.invalid_type,expected:G.void,received:r.parsedType}),ge}return fn(e.data)}}Bf.create=t=>new Bf({typeName:he.ZodVoid,...be(t)});class Cr extends _e{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==G.array)return W(n,{code:B.invalid_type,expected:G.array,received:n.parsedType}),ge;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(W(n,{code:o?B.too_big:B.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(W(n,{code:B.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(W(n,{code:B.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new Wr(n,o,n.path,a)))).then(o=>tn.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new Wr(n,o,n.path,a)));return tn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Cr({...this._def,minLength:{value:e,message:ae.toString(n)}})}max(e,n){return new Cr({...this._def,maxLength:{value:e,message:ae.toString(n)}})}length(e,n){return new Cr({...this._def,exactLength:{value:e,message:ae.toString(n)}})}nonempty(e){return this.min(1,e)}}Cr.create=(t,e)=>new Cr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:he.ZodArray,...be(e)});function na(t){if(t instanceof rt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Hr.create(na(r))}return new rt({...t._def,shape:()=>e})}else return t instanceof Cr?new Cr({...t._def,type:na(t.element)}):t instanceof Hr?Hr.create(na(t.unwrap())):t instanceof ji?ji.create(na(t.unwrap())):t instanceof Kr?Kr.create(t.items.map(e=>na(e))):t}class rt extends _e{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Me.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==G.object){const c=this._getOrReturnCtx(e);return W(c,{code:B.invalid_type,expected:G.object,received:c.parsedType}),ge}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Ts&&this._def.unknownKeys==="strip"))for(const c in s.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const u=i[c],d=s.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Wr(s,d,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof Ts){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(c==="strict")a.length>0&&(W(s,{code:B.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const d=s.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Wr(s,d,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key,h=await u.value;c.push({key:d,value:h,alwaysSet:u.alwaysSet})}return c}).then(c=>tn.mergeObjectSync(r,c)):tn.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return ae.errToObj,new rt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const l=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=ae.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new rt({...this._def,unknownKeys:"strip"})}passthrough(){return new rt({...this._def,unknownKeys:"passthrough"})}extend(e){return new rt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new rt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:he.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new rt({...this._def,catchall:e})}pick(e){const n={};return Me.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new rt({...this._def,shape:()=>n})}omit(e){const n={};return Me.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new rt({...this._def,shape:()=>n})}deepPartial(){return na(this)}partial(e){const n={};return Me.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new rt({...this._def,shape:()=>n})}required(e){const n={};return Me.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Hr;)i=i._def.innerType;n[r]=i}}),new rt({...this._def,shape:()=>n})}keyof(){return oC(Me.objectKeys(this.shape))}}rt.create=(t,e)=>new rt({shape:()=>t,unknownKeys:"strip",catchall:Ts.create(),typeName:he.ZodObject,...be(e)});rt.strictCreate=(t,e)=>new rt({shape:()=>t,unknownKeys:"strict",catchall:Ts.create(),typeName:he.ZodObject,...be(e)});rt.lazycreate=(t,e)=>new rt({shape:t,unknownKeys:"strip",catchall:Ts.create(),typeName:he.ZodObject,...be(e)});class Gc extends _e{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new zn(a.ctx.common.issues));return W(n,{code:B.invalid_union,unionErrors:o}),ge}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new zn(l));return W(n,{code:B.invalid_union,unionErrors:a}),ge}}get options(){return this._def.options}}Gc.create=(t,e)=>new Gc({options:t,typeName:he.ZodUnion,...be(e)});const us=t=>t instanceof eu?us(t.schema):t instanceof Tr?us(t.innerType()):t instanceof tu?[t.value]:t instanceof Oi?t.options:t instanceof nu?Me.objectValues(t.enum):t instanceof ru?us(t._def.innerType):t instanceof Qc?[void 0]:t instanceof Zc?[null]:t instanceof Hr?[void 0,...us(t.unwrap())]:t instanceof ji?[null,...us(t.unwrap())]:t instanceof $0||t instanceof iu?us(t.unwrap()):t instanceof su?us(t._def.innerType):[];class Rh extends _e{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==G.object)return W(n,{code:B.invalid_type,expected:G.object,received:n.parsedType}),ge;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(W(n,{code:B.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),ge)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=us(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new Rh({typeName:he.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...be(r)})}}function Wg(t,e){const n=Gs(t),r=Gs(e);if(t===e)return{valid:!0,data:t};if(n===G.object&&r===G.object){const s=Me.objectKeys(e),i=Me.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=Wg(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===G.array&&r===G.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=Wg(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===G.date&&r===G.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Yc extends _e{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(Hg(i)||Hg(o))return ge;const a=Wg(i.value,o.value);return a.valid?((qg(i)||qg(o))&&n.dirty(),{status:n.value,value:a.data}):(W(r,{code:B.invalid_intersection_types}),ge)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Yc.create=(t,e,n)=>new Yc({left:t,right:e,typeName:he.ZodIntersection,...be(n)});class Kr extends _e{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==G.array)return W(r,{code:B.invalid_type,expected:G.array,received:r.parsedType}),ge;if(r.data.length<this._def.items.length)return W(r,{code:B.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ge;!this._def.rest&&r.data.length>this._def.items.length&&(W(r,{code:B.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Wr(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>tn.mergeArray(n,o)):tn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Kr({...this._def,rest:e})}}Kr.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Kr({items:t,typeName:he.ZodTuple,rest:null,...be(e)})};class Xc extends _e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==G.object)return W(r,{code:B.invalid_type,expected:G.object,received:r.parsedType}),ge;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new Wr(r,a,r.path,a)),value:o._parse(new Wr(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?tn.mergeObjectAsync(n,s):tn.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof _e?new Xc({keyType:e,valueType:n,typeName:he.ZodRecord,...be(r)}):new Xc({keyType:kr.create(),valueType:e,typeName:he.ZodRecord,...be(n)})}}class Vf extends _e{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==G.map)return W(r,{code:B.invalid_type,expected:G.map,received:r.parsedType}),ge;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:s._parse(new Wr(r,a,r.path,[c,"key"])),value:i._parse(new Wr(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return ge;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return ge;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}}}}Vf.create=(t,e,n)=>new Vf({valueType:e,keyType:t,typeName:he.ZodMap,...be(n)});class Mo extends _e{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==G.set)return W(r,{code:B.invalid_type,expected:G.set,received:r.parsedType}),ge;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(W(r,{code:B.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(W(r,{code:B.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(l){const c=new Set;for(const u of l){if(u.status==="aborted")return ge;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>i._parse(new Wr(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new Mo({...this._def,minSize:{value:e,message:ae.toString(n)}})}max(e,n){return new Mo({...this._def,maxSize:{value:e,message:ae.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Mo.create=(t,e)=>new Mo({valueType:t,minSize:null,maxSize:null,typeName:he.ZodSet,...be(e)});class Ma extends _e{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==G.function)return W(n,{code:B.invalid_type,expected:G.function,received:n.parsedType}),ge;function r(a,l){return Ff({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Lf(),cl].filter(c=>!!c),issueData:{code:B.invalid_arguments,argumentsError:l}})}function s(a,l){return Ff({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Lf(),cl].filter(c=>!!c),issueData:{code:B.invalid_return_type,returnTypeError:l}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof dl){const a=this;return fn(async function(...l){const c=new zn([]),u=await a._def.args.parseAsync(l,i).catch(p=>{throw c.addIssue(r(l,p)),c}),d=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(d,i).catch(p=>{throw c.addIssue(s(d,p)),c})})}else{const a=this;return fn(function(...l){const c=a._def.args.safeParse(l,i);if(!c.success)throw new zn([r(l,c.error)]);const u=Reflect.apply(o,this,c.data),d=a._def.returns.safeParse(u,i);if(!d.success)throw new zn([s(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ma({...this._def,args:Kr.create(e).rest(go.create())})}returns(e){return new Ma({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Ma({args:e||Kr.create([]).rest(go.create()),returns:n||go.create(),typeName:he.ZodFunction,...be(r)})}}class eu extends _e{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}eu.create=(t,e)=>new eu({getter:t,typeName:he.ZodLazy,...be(e)});class tu extends _e{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return W(n,{received:n.data,code:B.invalid_literal,expected:this._def.value}),ge}return{status:"valid",value:e.data}}get value(){return this._def.value}}tu.create=(t,e)=>new tu({value:t,typeName:he.ZodLiteral,...be(e)});function oC(t,e){return new Oi({values:t,typeName:he.ZodEnum,...be(e)})}class Oi extends _e{constructor(){super(...arguments),sc.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return W(n,{expected:Me.joinValues(r),received:n.parsedType,code:B.invalid_type}),ge}if(zf(this,sc)||nC(this,sc,new Set(this._def.values)),!zf(this,sc).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return W(n,{received:n.data,code:B.invalid_enum_value,options:r}),ge}return fn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Oi.create(e,{...this._def,...n})}exclude(e,n=this._def){return Oi.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}sc=new WeakMap;Oi.create=oC;class nu extends _e{constructor(){super(...arguments),ic.set(this,void 0)}_parse(e){const n=Me.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==G.string&&r.parsedType!==G.number){const s=Me.objectValues(n);return W(r,{expected:Me.joinValues(s),received:r.parsedType,code:B.invalid_type}),ge}if(zf(this,ic)||nC(this,ic,new Set(Me.getValidEnumValues(this._def.values))),!zf(this,ic).has(e.data)){const s=Me.objectValues(n);return W(r,{received:r.data,code:B.invalid_enum_value,options:s}),ge}return fn(e.data)}get enum(){return this._def.values}}ic=new WeakMap;nu.create=(t,e)=>new nu({values:t,typeName:he.ZodNativeEnum,...be(e)});class dl extends _e{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==G.promise&&n.common.async===!1)return W(n,{code:B.invalid_type,expected:G.promise,received:n.parsedType}),ge;const r=n.parsedType===G.promise?n.data:Promise.resolve(n.data);return fn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}dl.create=(t,e)=>new dl({type:t,typeName:he.ZodPromise,...be(e)});class Tr extends _e{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===he.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{W(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return ge;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?ge:l.status==="dirty"||n.value==="dirty"?xa(l.value):l});{if(n.value==="aborted")return ge;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?ge:a.status==="dirty"||n.value==="dirty"?xa(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?ge:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?ge:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Wc(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Wc(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);Me.assertNever(s)}}Tr.create=(t,e,n)=>new Tr({schema:t,typeName:he.ZodEffects,effect:e,...be(n)});Tr.createWithPreprocess=(t,e,n)=>new Tr({schema:e,effect:{type:"preprocess",transform:t},typeName:he.ZodEffects,...be(n)});class Hr extends _e{_parse(e){return this._getType(e)===G.undefined?fn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Hr.create=(t,e)=>new Hr({innerType:t,typeName:he.ZodOptional,...be(e)});class ji extends _e{_parse(e){return this._getType(e)===G.null?fn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ji.create=(t,e)=>new ji({innerType:t,typeName:he.ZodNullable,...be(e)});class ru extends _e{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===G.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}ru.create=(t,e)=>new ru({innerType:t,typeName:he.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...be(e)});class su extends _e{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Kc(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new zn(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new zn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}su.create=(t,e)=>new su({innerType:t,typeName:he.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...be(e)});class Uf extends _e{_parse(e){if(this._getType(e)!==G.nan){const r=this._getOrReturnCtx(e);return W(r,{code:B.invalid_type,expected:G.nan,received:r.parsedType}),ge}return{status:"valid",value:e.data}}}Uf.create=t=>new Uf({typeName:he.ZodNaN,...be(t)});const ID=Symbol("zod_brand");class $0 extends _e{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Au extends _e{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ge:i.status==="dirty"?(n.dirty(),xa(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?ge:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Au({in:e,out:n,typeName:he.ZodPipeline})}}class iu extends _e{_parse(e){const n=this._def.innerType._parse(e),r=s=>(Wc(s)&&(s.value=Object.freeze(s.value)),s);return Kc(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}iu.create=(t,e)=>new iu({innerType:t,typeName:he.ZodReadonly,...be(e)});function aC(t,e={},n){return t?ul.create().superRefine((r,s)=>{var i,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(o=(i=a.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0,c=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...c,fatal:l})}}):ul.create()}const DD={object:rt.lazycreate};var he;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(he||(he={}));const LD=(t,e={message:`Input not instance of ${t.name}`})=>aC(n=>n instanceof t,e),lC=kr.create,cC=Ni.create,FD=Uf.create,zD=Ti.create,uC=Jc.create,$D=jo.create,BD=$f.create,VD=Qc.create,UD=Zc.create,HD=ul.create,qD=go.create,WD=Ts.create,KD=Bf.create,JD=Cr.create,QD=rt.create,ZD=rt.strictCreate,GD=Gc.create,YD=Rh.create,XD=Yc.create,e4=Kr.create,t4=Xc.create,n4=Vf.create,r4=Mo.create,s4=Ma.create,i4=eu.create,o4=tu.create,a4=Oi.create,l4=nu.create,c4=dl.create,O1=Tr.create,u4=Hr.create,d4=ji.create,f4=Tr.createWithPreprocess,h4=Au.create,p4=()=>lC().optional(),m4=()=>cC().optional(),g4=()=>uC().optional(),y4={string:t=>kr.create({...t,coerce:!0}),number:t=>Ni.create({...t,coerce:!0}),boolean:t=>Jc.create({...t,coerce:!0}),bigint:t=>Ti.create({...t,coerce:!0}),date:t=>jo.create({...t,coerce:!0})},v4=ge;var Qe=Object.freeze({__proto__:null,defaultErrorMap:cl,setErrorMap:vD,getErrorMap:Lf,makeIssue:Ff,EMPTY_PATH:xD,addIssueToContext:W,ParseStatus:tn,INVALID:ge,DIRTY:xa,OK:fn,isAborted:Hg,isDirty:qg,isValid:Wc,isAsync:Kc,get util(){return Me},get objectUtil(){return Ug},ZodParsedType:G,getParsedType:Gs,ZodType:_e,datetimeRegex:iC,ZodString:kr,ZodNumber:Ni,ZodBigInt:Ti,ZodBoolean:Jc,ZodDate:jo,ZodSymbol:$f,ZodUndefined:Qc,ZodNull:Zc,ZodAny:ul,ZodUnknown:go,ZodNever:Ts,ZodVoid:Bf,ZodArray:Cr,ZodObject:rt,ZodUnion:Gc,ZodDiscriminatedUnion:Rh,ZodIntersection:Yc,ZodTuple:Kr,ZodRecord:Xc,ZodMap:Vf,ZodSet:Mo,ZodFunction:Ma,ZodLazy:eu,ZodLiteral:tu,ZodEnum:Oi,ZodNativeEnum:nu,ZodPromise:dl,ZodEffects:Tr,ZodTransformer:Tr,ZodOptional:Hr,ZodNullable:ji,ZodDefault:ru,ZodCatch:su,ZodNaN:Uf,BRAND:ID,ZodBranded:$0,ZodPipeline:Au,ZodReadonly:iu,custom:aC,Schema:_e,ZodSchema:_e,late:DD,get ZodFirstPartyTypeKind(){return he},coerce:y4,any:HD,array:JD,bigint:zD,boolean:uC,date:$D,discriminatedUnion:YD,effect:O1,enum:a4,function:s4,instanceof:LD,intersection:XD,lazy:i4,literal:o4,map:n4,nan:FD,nativeEnum:l4,never:WD,null:UD,nullable:d4,number:cC,object:QD,oboolean:g4,onumber:m4,optional:u4,ostring:p4,pipeline:h4,preprocess:f4,promise:c4,record:t4,set:r4,strictObject:ZD,string:lC,symbol:BD,transformer:O1,tuple:e4,undefined:VD,union:GD,unknown:qD,void:KD,NEVER:v4,ZodIssueCode:B,quotelessJson:yD,ZodError:zn});const x4=Qe.object({email:Qe.string().email("El correo electrónico no es válido"),password:Qe.string().min(6,"La contraseña debe tener al menos 6 caracteres"),fullName:Qe.string().min(1,"El nombre completo es requerido"),phone:Qe.string().min(10,"El numero de teléfono debe ser de 10 digitos")}),b4=Qe.object({addressLine1:Qe.string().min(1,"La dirección es requerida").max(100,"La dirección no debe exceder los 100 carácteres"),addressLine2:Qe.string().max(100,"La dirección no debe exceder los 100 carácteres").optional(),city:Qe.string().min(1,"La ciudad es requerida").max(50,"La ciudad no debe exceder los 50 carácteres"),state:Qe.string().min(1,"El estado es requerido").max(50,"El estado no debe exceder los 50 carácteres"),postalCode:Qe.string().max(5,"El código postal no debe exceder los 5 carácteres")}),w4=t=>!t||!Array.isArray(t.content)||t.content.length==0?!0:!t.content.some(e=>e.type==="paragraph"&&e.content&&Array.isArray(e.content)&&e.content.some(n=>n.type==="text"&&n.text&&n.text.trim()!=="")),k4=Qe.object({name:Qe.string().min(1,"El nombre del producto es obligatorio"),brand:Qe.string().min(1,"La marca del producto es obligatoria"),slug:Qe.string().min(1,"El slug del producto es obligatorio").regex(/^[a-z0-9]+(?:-[a-z0-9]+)*$/,"Slug inválido"),description:Qe.custom(t=>!w4(t),{message:"La descripción no puede estar vacía"}),variants:Qe.array(Qe.object({id:Qe.string().optional(),stock:Qe.number(),price:Qe.number().min(.01,"El precio debe ser mayor a 0"),target:Qe.string().min(1,"El objetivo es requerido"),type:Qe.string().min(1,"El tipo es requerido"),kg:Qe.number().min(.01,"El peso es requerido")})).min(1,"Debe haber al menos una variante"),images:Qe.array(Qe.any()).min(1,"Debe haber al menos una imagen")}),Jl=({className:t,titleSection:e,children:n})=>f.jsxs("div",{className:`bg-white border border-gray-300 shadow-sm rounded-md flex flex-col gap-4 p-7 h-fit ${t}`,children:[e&&f.jsxs("h2",{className:"font-bold tracking-tight text-xl",children:[e,":"]}),n]}),Kp=({className:t,label:e,placeholder:n,type:r,name:s,register:i,errors:o,required:a})=>f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("label",{htmlFor:s,className:"text-xs font-bold tracking-tight capitalize text-slate-900",children:[e,":"]}),a&&f.jsx("span",{className:`${a&&"text-red-500 text-sm mr-3"} font-bold self-end`,children:"*"})]}),f.jsx("div",{className:`border border-gray-300 rounded-md overflow-hidden gap-5 items-center ${o[s]?"border-red-500":""}`,children:f.jsx("input",{type:r,placeholder:n,id:s,className:`py-1.5 text-sm px-3 font-medium tracking-tighter w-full text-slate-600 outline-none focus:outline-none ${t}`,autoComplete:"off",...i(s)})})]}),S4=["Stock","Precio","Objetivo","Tipo","Peso",""],_4=({control:t,errors:e,register:n})=>{const{fields:r,remove:s,append:i}=hD({control:t,name:"variants"}),o=()=>{i({stock:0,price:0,target:"",type:"",kg:0})},a=l=>{s(l)};return f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsxs("div",{className:"space-y-4 border-b border-slate-200 pb-6",children:[f.jsx("div",{className:"grid grid-cols-5 gap-4 justify-start",children:S4.map((l,c)=>f.jsx("p",{className:"text-xs font-semibold text-slate-800",children:l},c))}),r.map((l,c)=>f.jsxs("div",{children:[f.jsxs("div",{className:"grid grid-cols-5 gap-4 items-center",children:[f.jsx("input",{type:"number",placeholder:"Stock",...n(`variants.${c}.stock`,{valueAsNumber:!0}),className:"border rounded-md px-3 py-1.5 text-xs font-semibold placeholder:font-normal focus:outline-none appearance-none"}),f.jsx("input",{type:"number",step:"0.01",placeholder:"Precio",...n(`variants.${c}.price`,{valueAsNumber:!0}),className:"border rounded-md px-3 py-1.5 text-xs font-semibold placeholder:font-normal focus:outline-none appearance-none"}),f.jsx("input",{type:"text",placeholder:"Target",...n(`variants.${c}.target`),className:"border rounded-md px-3 py-1.5 text-xs font-semibold placeholder:font-normal focus:outline-none appearance-none"}),f.jsx("input",{type:"text",placeholder:"Type",...n(`variants.${c}.type`),className:"border rounded-md px-3 py-1.5 text-xs font-semibold placeholder:font-normal focus:outline-none appearance-none"}),f.jsx("input",{type:"number",placeholder:"Kg",...n(`variants.${c}.kg`,{valueAsNumber:!0}),step:"0.01",className:"border rounded-md px-3 py-1.5 text-xs font-semibold placeholder:font-normal focus:outline-none appearance-none"}),f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{type:"button",onClick:()=>a(c),className:"p-1",children:f.jsx(B_,{size:20})})})]}),e.variants&&e.variants[c]&&f.jsx("p",{className:"text-red-500 text-xs mt-1"})]},l.id))]}),f.jsxs("button",{type:"button",onClick:o,className:"px-4 py-2 text-slate-800 rounded-md text-sm font-semibold tracking-tight flex items-center gap-1 self-center hover:bg-slate-100",children:[f.jsx(EI,{size:16}),"Añadir Variante"]}),r.length===0&&e.variants&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Debes añadir al menos una variante"})]})},C4=({setValue:t,errors:e,watch:n})=>{const[r,s]=E.useState([]),i=n("images");E.useEffect(()=>{if(i&&i.length>0&&r.length==0){const l=i.map(c=>({previewUrl:c}));s(l),t("images",i)}},[i,r.length,t]);const o=l=>{if(l.target.files){const c=Array.from(l.target.files).map(d=>({file:d,previewUrl:URL.createObjectURL(d)})),u=[...r,...c];s(u),t("images",u.map(d=>d.file||d.previewUrl))}},a=l=>{const c=r.filter((u,d)=>d!==l);s(c),t("images",c.map(u=>u.file||u.previewUrl))};return f.jsxs(f.Fragment,{children:[f.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:o,className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-slate-100 file:text-slate-700 hover:file:bg-slate-200"}),f.jsx("div",{className:"grid grid-cols-4 lg:grid-cols-2 gap-4",children:r.map((l,c)=>f.jsx("div",{children:f.jsxs("div",{className:"border border-gray-200 w-full h-20 rounded-md p-1 relative lg:h-28",children:[f.jsx("img",{src:l.previewUrl,alt:`Preview ${c}`,className:"rounded-md w-full h-full object-contain"}),f.jsx("button",{type:"button",onClick:()=>a(c),className:"flex justify-end absolute -top-3 -right-4 hover:scale-110 transition-all z-10",children:f.jsx(B_,{size:22,className:"text-red-500"})})]})},c))}),(i==null?void 0:i.length)===0&&e.images&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:e.images.message})]})};function Bt(t){this.content=t}Bt.prototype={constructor:Bt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,s=r.find(t),i=r.content.slice();return s==-1?i.push(n||t,e):(i[s+1]=e,n&&(i[s]=n)),new Bt(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Bt(n)},addToStart:function(t,e){return new Bt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Bt(n)},addBefore:function(t,e,n){var r=this.remove(e),s=r.content.slice(),i=r.find(t);return s.splice(i==-1?s.length:i,0,e,n),new Bt(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Bt.from(t),t.size?new Bt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Bt.from(t),t.size?new Bt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Bt.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Bt.from=function(t){if(t instanceof Bt)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Bt(e)};function dC(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let s=t.child(r),i=e.child(r);if(s==i){n+=s.nodeSize;continue}if(!s.sameMarkup(i))return n;if(s.isText&&s.text!=i.text){for(let o=0;s.text[o]==i.text[o];o++)n++;return n}if(s.content.size||i.content.size){let o=dC(s.content,i.content,n+1);if(o!=null)return o}n+=s.nodeSize}}function fC(t,e,n,r){for(let s=t.childCount,i=e.childCount;;){if(s==0||i==0)return s==i?null:{a:n,b:r};let o=t.child(--s),a=e.child(--i),l=o.nodeSize;if(o==a){n-=l,r-=l;continue}if(!o.sameMarkup(a))return{a:n,b:r};if(o.isText&&o.text!=a.text){let c=0,u=Math.min(o.text.length,a.text.length);for(;c<u&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(o.content.size||a.content.size){let c=fC(o.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class L{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,s=0,i){for(let o=0,a=0;a<n;o++){let l=this.content[o],c=a+l.nodeSize;if(c>e&&r(l,s+a,i||null,o)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,n-u),r,s+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,s){let i="",o=!0;return this.nodesBetween(e,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?s?typeof s=="function"?s(a):s:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(o?o=!1:i+=r),i+=c},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,s=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(s[s.length-1]=n.withText(n.text+r.text),i=1);i<e.content.length;i++)s.push(e.content[i]);return new L(s,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],s=0;if(n>e)for(let i=0,o=0;o<n;i++){let a=this.content[i],l=o+a.nodeSize;l>e&&((o<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,n-o-1))),r.push(a),s+=a.nodeSize),o=l}return new L(r,s)}cutByIndex(e,n){return e==n?L.empty:e==0&&n==this.content.length?this:new L(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let s=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return s[e]=n,new L(s,i)}addToStart(e){return new L([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new L(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let s=this.content[n];e(s,r,n),r+=s.nodeSize}}findDiffStart(e,n=0){return dC(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return fC(this,e,n,r)}findIndex(e,n=-1){if(e==0)return kd(0,e);if(e==this.size)return kd(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,s=0;;r++){let i=this.child(r),o=s+i.nodeSize;if(o>=e)return o==e||n>0?kd(r+1,o):kd(r,s);s=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return L.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new L(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return L.empty;let n,r=0;for(let s=0;s<e.length;s++){let i=e[s];r+=i.nodeSize,s&&i.isText&&e[s-1].sameMarkup(i)?(n||(n=e.slice(0,s)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new L(n||e,r)}static from(e){if(!e)return L.empty;if(e instanceof L)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new L([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}L.empty=new L([],0);const Jp={index:0,offset:0};function kd(t,e){return Jp.index=t,Jp.offset=e,Jp}function Hf(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Hf(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Hf(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let qe=class Kg{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let s=0;s<e.length;s++){let i=e[s];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,s));else{if(i.type.excludes(this.type))return e;!r&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,s)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Hf(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let s=r.create(n.attrs);return r.checkAttrs(s.attrs),s}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Kg.none;if(e instanceof Kg)return[e];let n=e.slice();return n.sort((r,s)=>r.type.rank-s.type.rank),n}};qe.none=[];class qf extends Error{}class J{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=pC(this.content,e+this.openStart,n);return r&&new J(r,this.openStart,this.openEnd)}removeBetween(e,n){return new J(hC(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return J.empty;let r=n.openStart||0,s=n.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new J(L.fromJSON(e,n.content),r,s)}static maxOpen(e,n=!0){let r=0,s=0;for(let i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=e.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)s++;return new J(e,r,s)}}J.empty=new J(L.empty,0,0);function hC(t,e,n){let{index:r,offset:s}=t.findIndex(e),i=t.maybeChild(r),{index:o,offset:a}=t.findIndex(n);if(s==e||i.isText){if(a!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(r,i.copy(hC(i.content,e-s-1,n-s-1)))}function pC(t,e,n,r){let{index:s,offset:i}=t.findIndex(e),o=t.maybeChild(s);if(i==e||o.isText)return t.cut(0,e).append(n).append(t.cut(e));let a=pC(o.content,e-i-1,n);return a&&t.replaceChild(s,o.copy(a))}function E4(t,e,n){if(n.openStart>t.depth)throw new qf("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new qf("Inconsistent open depths");return mC(t,e,n,0)}function mC(t,e,n,r){let s=t.index(r),i=t.node(r);if(s==e.index(r)&&r<t.depth-n.openStart){let o=mC(t,e,n,r+1);return i.copy(i.content.replaceChild(s,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let o=t.parent,a=o.content;return vo(o,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=N4(n,t);return vo(i,yC(t,o,a,e,r))}else return vo(i,Wf(t,e,r))}function gC(t,e){if(!e.type.compatibleContent(t.type))throw new qf("Cannot join "+e.type.name+" onto "+t.type.name)}function Jg(t,e,n){let r=t.node(n);return gC(r,e.node(n)),r}function yo(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function bc(t,e,n,r){let s=(e||t).node(n),i=0,o=e?e.index(n):s.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(yo(t.nodeAfter,r),i++));for(let a=i;a<o;a++)yo(s.child(a),r);e&&e.depth==n&&e.textOffset&&yo(e.nodeBefore,r)}function vo(t,e){return t.type.checkContent(e),t.copy(e)}function yC(t,e,n,r,s){let i=t.depth>s&&Jg(t,e,s+1),o=r.depth>s&&Jg(n,r,s+1),a=[];return bc(null,t,s,a),i&&o&&e.index(s)==n.index(s)?(gC(i,o),yo(vo(i,yC(t,e,n,r,s+1)),a)):(i&&yo(vo(i,Wf(t,e,s+1)),a),bc(e,n,s,a),o&&yo(vo(o,Wf(n,r,s+1)),a)),bc(r,null,s,a),new L(a)}function Wf(t,e,n){let r=[];if(bc(null,t,n,r),t.depth>n){let s=Jg(t,e,n+1);yo(vo(s,Wf(t,e,n+1)),r)}return bc(e,null,n,r),new L(r)}function N4(t,e){let n=e.depth-t.openStart,s=e.node(n).copy(t.content);for(let i=n-1;i>=0;i--)s=e.node(i).copy(L.from(s));return{start:s.resolveNoCache(t.openStart+n),end:s.resolveNoCache(s.content.size-t.openEnd-n)}}class ou{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=e.child(n);return r?e.child(n).cut(r):s}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let i=0;i<e;i++)s+=r.child(i).nodeSize;return s}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return qe.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),s=e.maybeChild(n);if(!r){let a=r;r=s,s=a}let i=r.marks;for(var o=0;o<i.length;o++)i[o].type.spec.inclusive===!1&&(!s||!i[o].isInSet(s.marks))&&(i=i[o--].removeFromSet(i));return i}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,s=e.parent.maybeChild(e.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!s||!r[i].isInSet(s.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Kf(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],s=0,i=n;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(i),c=i-l;if(r.push(o,a,s+l),!c||(o=o.child(a),o.isText))break;i=c-1,s+=l+1}return new ou(n,r,i)}static resolveCached(e,n){let r=j1.get(e);if(r)for(let i=0;i<r.elts.length;i++){let o=r.elts[i];if(o.pos==n)return o}else j1.set(e,r=new T4);let s=r.elts[r.i]=ou.resolve(e,n);return r.i=(r.i+1)%O4,s}}class T4{constructor(){this.elts=[],this.i=0}}const O4=12,j1=new WeakMap;class Kf{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const j4=Object.create(null);let xo=class Qg{constructor(e,n,r,s=qe.none){this.type=e,this.attrs=n,this.marks=s,this.content=r||L.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,s=0){this.content.nodesBetween(e,n,r,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,s){return this.content.textBetween(e,n,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Hf(this.attrs,n||e.defaultAttrs||j4)&&qe.sameSet(this.marks,r||qe.none)}copy(e=null){return e==this.content?this:new Qg(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Qg(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return J.empty;let s=this.resolve(e),i=this.resolve(n),o=r?0:s.sharedDepth(n),a=s.start(o),c=s.node(o).content.cut(s.pos-a,i.pos-a);return new J(c,s.depth-o,i.depth-o)}replace(e,n,r){return E4(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:s}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(s==e||n.isText)return n;e-=s+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let s=this.content.child(n-1);return{node:s,index:n-1,offset:r-s.nodeSize}}resolve(e){return ou.resolveCached(this,e)}resolveNoCache(e){return ou.resolve(this,e)}rangeHasMark(e,n,r){let s=!1;return n>e&&this.nodesBetween(e,n,i=>(r.isInSet(i.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),vC(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=L.empty,s=0,i=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,s,i),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=s;l<i;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,s){if(s&&!this.type.allowsMarks(s))return!1;let i=this.contentMatchAt(e).matchType(r),o=i&&i.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=qe.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!qe.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let s=L.fromJSON(e,n.content),i=e.nodeType(n.type).create(n.attrs,s,r);return i.type.checkAttrs(i.attrs),i}};xo.prototype.text=void 0;class Jf extends xo{constructor(e,n,r,s){if(super(e,n,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):vC(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Jf(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Jf(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function vC(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Po{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new M4(e,n);if(r.next==null)return Po.empty;let s=xC(r);r.next&&r.err("Unexpected trailing text");let i=F4(L4(s));return z4(i,r),i}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let s=this;for(let i=n;s&&i<r;i++)s=s.matchType(e.child(i).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let s=[this];function i(o,a){let l=o.matchFragment(e,r);if(l&&(!n||l.validEnd))return L.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:u,next:d}=o.next[c];if(!(u.isText||u.hasRequiredAttrs())&&s.indexOf(d)==-1){s.push(d);let h=i(d,a.concat(u));if(h)return h}}return null}return i(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),i=s.match;if(i.matchType(e)){let o=[];for(let a=s;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<i.next.length;o++){let{type:a,next:l}=i.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!s.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:s}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let s=0;s<r.next.length;s++)e.indexOf(r.next[s].next)==-1&&n(r.next[s].next)}return n(this),e.map((r,s)=>{let i=s+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)i+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return i}).join(`
`)}}Po.empty=new Po(!0);class M4{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function xC(t){let e=[];do e.push(P4(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function P4(t){let e=[];do e.push(A4(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function A4(t){let e=D4(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=R4(t,e);else break;return e}function M1(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function R4(t,e){let n=M1(t),r=n;return t.eat(",")&&(t.next!="}"?r=M1(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function I4(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let s=[];for(let i in n){let o=n[i];o.groups.indexOf(e)>-1&&s.push(o)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function D4(t){if(t.eat("(")){let e=xC(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=I4(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function L4(t){let e=[[]];return s(i(t,0),n()),e;function n(){return e.push([])-1}function r(o,a,l){let c={term:l,to:a};return e[o].push(c),c}function s(o,a){o.forEach(l=>l.to=a)}function i(o,a){if(o.type=="choice")return o.exprs.reduce((l,c)=>l.concat(i(c,a)),[]);if(o.type=="seq")for(let l=0;;l++){let c=i(o.exprs[l],a);if(l==o.exprs.length-1)return c;s(c,a=n())}else if(o.type=="star"){let l=n();return r(a,l),s(i(o.expr,l),l),[r(l)]}else if(o.type=="plus"){let l=n();return s(i(o.expr,a),l),s(i(o.expr,l),l),[r(l)]}else{if(o.type=="opt")return[r(a)].concat(i(o.expr,a));if(o.type=="range"){let l=a;for(let c=0;c<o.min;c++){let u=n();s(i(o.expr,l),u),l=u}if(o.max==-1)s(i(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let u=n();r(l,u),s(i(o.expr,l),u),l=u}return[r(l)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function bC(t,e){return e-t}function P1(t,e){let n=[];return r(e),n.sort(bC);function r(s){let i=t[s];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(s);for(let o=0;o<i.length;o++){let{term:a,to:l}=i[o];!a&&n.indexOf(l)==-1&&r(l)}}}function F4(t){let e=Object.create(null);return n(P1(t,0));function n(r){let s=[];r.forEach(o=>{t[o].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<s.length;u++)s[u][0]==a&&(c=s[u][1]);P1(t,l).forEach(u=>{c||s.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let i=e[r.join(",")]=new Po(r.indexOf(t.length-1)>-1);for(let o=0;o<s.length;o++){let a=s[o][1].sort(bC);i.next.push({type:s[o][0],next:e[a.join(",")]||n(a)})}return i}}function z4(t,e){for(let n=0,r=[t];n<r.length;n++){let s=r[n],i=!s.validEnd,o=[];for(let a=0;a<s.next.length;a++){let{type:l,next:c}=s.next[a];o.push(l.name),i&&!(l.isText||l.hasRequiredAttrs())&&(i=!1),r.indexOf(c)==-1&&r.push(c)}i&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function wC(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function kC(t,e){let n=Object.create(null);for(let r in t){let s=e&&e[r];if(s===void 0){let i=t[r];if(i.hasDefault)s=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=s}return n}function SC(t,e,n,r){for(let s in e)if(!(s in t))throw new RangeError(`Unsupported attribute ${s} for ${n} of type ${s}`);for(let s in t){let i=t[s];i.validate&&i.validate(e[s])}}function _C(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new B4(t,r,e[r]);return n}let A1=class CC{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=_C(e,r.attrs),this.defaultAttrs=wC(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Po.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:kC(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new xo(this,this.computeAttrs(e),L.from(n),qe.setFrom(r))}createChecked(e=null,n,r){return n=L.from(n),this.checkContent(n),new xo(this,this.computeAttrs(e),n,qe.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=L.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let s=this.contentMatch.matchFragment(n),i=s&&s.fillBefore(L.empty,!0);return i?new xo(this,e,n.append(i),qe.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){SC(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:qe.none:e}static compile(e,n){let r=Object.create(null);e.forEach((i,o)=>r[i]=new CC(i,n,o));let s=n.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function $4(t,e,n){let r=n.split("|");return s=>{let i=s===null?"null":typeof s;if(r.indexOf(i)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${i}`)}}class B4{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?$4(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Ih{constructor(e,n,r,s){this.name=e,this.rank=n,this.schema=r,this.spec=s,this.attrs=_C(e,s.attrs),this.excluded=null;let i=wC(this.attrs);this.instance=i?new qe(this,i):null}create(e=null){return!e&&this.instance?this.instance:new qe(this,kC(this.attrs,e))}static compile(e,n){let r=Object.create(null),s=0;return e.forEach((i,o)=>r[i]=new Ih(i,s++,n,o)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){SC(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class EC{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let s in e)n[s]=e[s];n.nodes=Bt.from(e.nodes),n.marks=Bt.from(e.marks||{}),this.nodes=A1.compile(this.spec.nodes,this),this.marks=Ih.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let i=this.nodes[s],o=i.spec.content||"",a=i.spec.marks;if(i.contentMatch=r[o]||(r[o]=Po.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=a=="_"?null:a?R1(this,a.split(" ")):a==""||!i.inlineContent?[]:null}for(let s in this.marks){let i=this.marks[s],o=i.spec.excludes;i.excluded=o==null?[i]:o==""?[]:R1(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof A1){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,s)}text(e,n){let r=this.nodes.text;return new Jf(r,r.defaultAttrs,e,qe.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return xo.fromJSON(this,e)}markFromJSON(e){return qe.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function R1(t,e){let n=[];for(let r=0;r<e.length;r++){let s=e[r],i=t.marks[s],o=i;if(i)n.push(i);else for(let a in t.marks){let l=t.marks[a];(s=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(s)>-1)&&n.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function V4(t){return t.tag!=null}function U4(t){return t.style!=null}class wi{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(s=>{if(V4(s))this.tags.push(s);else if(U4(s)){let i=/[^=]*/.exec(s.style)[0];r.indexOf(i)<0&&r.push(i),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let i=e.nodes[s.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new D1(this,n,!1);return r.addAll(e,qe.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new D1(this,n,!0);return r.addAll(e,qe.none,n.from,n.to),J.maxOpen(r.finish())}matchTag(e,n,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let i=this.tags[s];if(W4(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let o=i.getAttrs(e);if(o===!1)continue;i.attrs=o||void 0}return i}}}matchStyle(e,n,r,s){for(let i=s?this.styles.indexOf(s)+1:0;i<this.styles.length;i++){let o=this.styles[i],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(o.getAttrs){let l=o.getAttrs(n);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let n=[];function r(s){let i=s.priority==null?50:s.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<i)break}n.splice(o,0,s)}for(let s in e.marks){let i=e.marks[s].spec.parseDOM;i&&i.forEach(o=>{r(o=L1(o)),o.mark||o.ignore||o.clearMark||(o.mark=s)})}for(let s in e.nodes){let i=e.nodes[s].spec.parseDOM;i&&i.forEach(o=>{r(o=L1(o)),o.node||o.ignore||o.mark||(o.node=s)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new wi(e,wi.schemaRules(e)))}}const NC={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},H4={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},TC={ol:!0,ul:!0},Qf=1,Zf=2,wc=4;function I1(t,e,n){return e!=null?(e?Qf:0)|(e==="full"?Zf:0):t&&t.whitespace=="pre"?Qf|Zf:n&~wc}class Sd{constructor(e,n,r,s,i,o){this.type=e,this.attrs=n,this.marks=r,this.solid=s,this.options=o,this.content=[],this.activeMarks=qe.none,this.match=i||(o&wc?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(L.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Qf)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-s[0].length))}}let n=L.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(L.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!NC.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class D1{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let s=n.topNode,i,o=I1(null,n.preserveWhitespace,0)|(r?wc:0);s?i=new Sd(s.type,s.attrs,qe.none,!0,n.topMatch||s.type.contentMatch,o):r?i=new Sd(null,null,qe.none,!0,null,o):i=new Sd(e.schema.topNodeType,null,qe.none,!0,null,o),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,s=this.top;if(s.options&Zf||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s.options&Qf)s.options&Zf?r=r.replace(/\r\n?/g,`
`):r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let i=s.content[s.content.length-1],o=e.previousSibling;(!i||o&&o.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let s=e.nodeName.toLowerCase(),i;TC.hasOwnProperty(s)&&this.parser.normalizeLists&&q4(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,r));if(o?o.ignore:H4.hasOwnProperty(s))this.findInside(e),this.ignoreFallback(e,n);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let a,l=this.top,c=this.needsBlock;if(NC.hasOwnProperty(s))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),a=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);return}let u=o&&o.skip?n:this.readStyles(e,n);u&&this.addAll(e,u),a&&this.sync(l),this.needsBlock=c}else{let a=this.readStyles(e,n);a&&this.addElementByRule(e,o,a,o.consuming===!1?i:void 0)}}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let i=this.parser.matchedStyles[s],o=r.getPropertyValue(i);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(i,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(e,n,r,s){let i,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),r)||this.leafFallback(e,r);else{let l=this.enter(o,n.attrs||null,r,n.preserveWhitespace);l&&(i=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(s)this.addElement(e,r,s);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,r)}i&&this.sync(a)&&this.open--}addAll(e,n,r,s){let i=r||0;for(let o=r?e.childNodes[r]:e.firstChild,a=s==null?null:e.childNodes[s];o!=a;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o,n);this.findAtPoint(e,i)}findPlace(e,n){let r,s;for(let i=this.open;i>=0;i--){let o=this.nodes[i],a=o.findWrapping(e);if(a&&(!r||r.length>a.length)&&(r=a,s=o,!a.length)||o.solid)break}if(!r)return null;this.sync(s);for(let i=0;i<r.length;i++)n=this.enterInner(r[i],null,n,!1);return n}insertNode(e,n){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let r=this.findPlace(e,n);if(r){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let i=qe.none;for(let o of r.concat(e.marks))(s.type?s.type.allowsMarkType(o.type):F1(o.type,e.type))&&(i=o.addToSet(i));return s.content.push(e.mark(i)),!0}return!1}enter(e,n,r,s){let i=this.findPlace(e.create(n),r);return i&&(i=this.enterInner(e,n,r,!0,s)),i}enterInner(e,n,r,s=!1,i){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=I1(e,i,o.options);o.options&wc&&o.content.length==0&&(a|=wc);let l=qe.none;return r=r.filter(c=>(o.type?o.type.allowsMarkType(c.type):F1(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new Sd(e,n,l,s,null,a)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(s?0:1),o=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=i;l--)if(o(a-1,l))return!0;return!1}else{let u=l>0||l==0&&s?this.nodes[l].type:r&&l>=i?r.node(l-i).type:null;if(!u||u.name!=c&&u.groups.indexOf(c)==-1)return!1;l--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function q4(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&TC.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function W4(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function L1(t){let e={};for(let n in t)e[n]=t[n];return e}function F1(t,e){let n=e.schema.nodes;for(let r in n){let s=n[r];if(!s.allowsMarkType(t))continue;let i=[],o=a=>{i.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||i.indexOf(u)<0&&o(u))return!0}};if(o(s.contentMatch))return!0}}class Ho{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=Qp(n).createDocumentFragment());let s=r,i=[];return e.forEach(o=>{if(i.length||o.marks.length){let a=0,l=0;for(;a<i.length&&l<o.marks.length;){let c=o.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(i[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<i.length;)s=i.pop()[1];for(;l<o.marks.length;){let c=o.marks[l++],u=this.serializeMark(c,o.isInline,n);u&&(i.push([c,s]),s.appendChild(u.dom),s=u.contentDOM||u.dom)}}s.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:s}=Jd(Qp(n),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,s)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let s=e.marks.length-1;s>=0;s--){let i=this.serializeMark(e.marks[s],e.isInline,n);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(e,n,r={}){let s=this.marks[e.type.name];return s&&Jd(Qp(r),s(e,n),null,e.attrs)}static renderSpec(e,n,r=null,s){return Jd(e,n,r,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Ho(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=z1(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return z1(e.marks)}}function z1(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Qp(t){return t.document||window.document}const $1=new WeakMap;function K4(t){let e=$1.get(t);return e===void 0&&$1.set(t,e=J4(t)),e}function J4(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let s=0;s<r.length;s++)n(r[s]);else for(let s in r)n(r[s])}return n(t),e}function Jd(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],i;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(i=K4(r))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=s.indexOf(" ");o>0&&(n=s.slice(0,o),s=s.slice(o+1));let a,l=n?t.createElementNS(n,s):t.createElement(s),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let h=d.indexOf(" ");h>0?l.setAttributeNS(d.slice(0,h),d.slice(h+1),c[d]):l.setAttribute(d,c[d])}}for(let d=u;d<e.length;d++){let h=e[d];if(h===0){if(d<e.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:p,contentDOM:m}=Jd(t,h,n,r);if(l.appendChild(p),m){if(a)throw new RangeError("Multiple content holes");a=m}}}return{dom:l,contentDOM:a}}const OC=65535,jC=Math.pow(2,16);function Q4(t,e){return t+e*jC}function B1(t){return t&OC}function Z4(t){return(t-(t&OC))/jC}const MC=1,PC=2,Qd=4,AC=8;class Zg{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&AC)>0}get deletedBefore(){return(this.delInfo&(MC|Qd))>0}get deletedAfter(){return(this.delInfo&(PC|Qd))>0}get deletedAcross(){return(this.delInfo&Qd)>0}}class Rn{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Rn.empty)return Rn.empty}recover(e){let n=0,r=B1(e);if(!this.inverted)for(let s=0;s<r;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+n+Z4(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let s=0,i=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?s:0);if(l>e)break;let c=this.ranges[a+i],u=this.ranges[a+o],d=l+c;if(e<=d){let h=c?e==l?-1:e==d?1:n:n,p=l+s+(h<0?0:u);if(r)return p;let m=e==(n<0?l:d)?null:Q4(a/3,e-l),y=e==l?PC:e==d?MC:Qd;return(n<0?e!=l:e!=d)&&(y|=AC),new Zg(p,y,m)}s+=u-c}return r?e+s:new Zg(e+s,0,null)}touches(e,n){let r=0,s=B1(n),i=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+i],u=l+c;if(e<=u&&a==s*3)return!0;r+=this.ranges[a+o]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,i=0;s<this.ranges.length;s+=3){let o=this.ranges[s],a=o-(this.inverted?i:0),l=o+(this.inverted?0:i),c=this.ranges[s+n],u=this.ranges[s+r];e(a,a+c,l,l+u),i+=u-c}}invert(){return new Rn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Rn.empty:new Rn(e<0?[0,-e,0]:[0,0,e])}}Rn.empty=new Rn([]);class Pa{constructor(e=[],n,r=0,s=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=s}slice(e=0,n=this.maps.length){return new Pa(this.maps,this.mirror,e,n)}copy(){return new Pa(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let s=e.getMirror(n);this.appendMap(e.maps[n],s!=null&&s<n?r+s:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let s=e.getMirror(n);this.appendMap(e.maps[n].invert(),s!=null&&s>n?r-s-1:void 0)}}invert(){let e=new Pa;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let s=0;for(let i=this.from;i<this.to;i++){let o=this.maps[i],a=o.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(i);if(l!=null&&l>i&&l<this.to){i=l,e=this.maps[l].recover(a.recover);continue}}s|=a.delInfo,e=a.pos}return r?e:new Zg(e,s,null)}}const Zp=Object.create(null);class rn{getMap(){return Rn.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Zp[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Zp)throw new RangeError("Duplicate use of step JSON ID "+e);return Zp[e]=n,n.prototype.jsonID=e,n}}class kt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new kt(e,null)}static fail(e){return new kt(null,e)}static fromReplace(e,n,r,s){try{return kt.ok(e.replace(n,r,s))}catch(i){if(i instanceof qf)return kt.fail(i.message);throw i}}}function B0(t,e,n){let r=[];for(let s=0;s<t.childCount;s++){let i=t.child(s);i.content.size&&(i=i.copy(B0(i.content,e,i))),i.isInline&&(i=e(i,n,s)),r.push(i)}return L.fromArray(r)}class ui extends rn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),i=new J(B0(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),s),n.openStart,n.openEnd);return kt.fromReplace(e,this.from,this.to,i)}invert(){return new Br(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ui(n.pos,r.pos,this.mark)}merge(e){return e instanceof ui&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ui(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ui(n.from,n.to,e.markFromJSON(n.mark))}}rn.jsonID("addMark",ui);class Br extends rn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new J(B0(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),n.openStart,n.openEnd);return kt.fromReplace(e,this.from,this.to,r)}invert(){return new ui(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Br(n.pos,r.pos,this.mark)}merge(e){return e instanceof Br&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Br(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Br(n.from,n.to,e.markFromJSON(n.mark))}}rn.jsonID("removeMark",Br);class di extends rn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return kt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return kt.fromReplace(e,this.pos,this.pos+1,new J(L.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(r))return new di(this.pos,n.marks[s]);return new di(this.pos,this.mark)}}return new fl(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new di(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new di(n.pos,e.markFromJSON(n.mark))}}rn.jsonID("addNodeMark",di);class fl extends rn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return kt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return kt.fromReplace(e,this.pos,this.pos+1,new J(L.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new di(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new fl(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new fl(n.pos,e.markFromJSON(n.mark))}}rn.jsonID("removeNodeMark",fl);class At extends rn{constructor(e,n,r,s=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=s}apply(e){return this.structure&&Gg(e,this.from,this.to)?kt.fail("Structure replace would overwrite content"):kt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Rn([this.from,this.to-this.from,this.slice.size])}invert(e){return new At(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new At(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof At)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?J.empty:new J(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new At(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?J.empty:new J(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new At(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new At(n.from,n.to,J.fromJSON(e,n.slice),!!n.structure)}}rn.jsonID("replace",At);class It extends rn{constructor(e,n,r,s,i,o,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=s,this.slice=i,this.insert=o,this.structure=a}apply(e){if(this.structure&&(Gg(e,this.from,this.gapFrom)||Gg(e,this.gapTo,this.to)))return kt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return kt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?kt.fromReplace(e,this.from,this.to,r):kt.fail("Content does not fit in gap")}getMap(){return new Rn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new It(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||s<n.pos||i>r.pos?null:new It(n.pos,r.pos,s,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new It(n.from,n.to,n.gapFrom,n.gapTo,J.fromJSON(e,n.slice),n.insert,!!n.structure)}}rn.jsonID("replaceAround",It);function Gg(t,e,n){let r=t.resolve(e),s=n-e,i=r.depth;for(;s>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,s--;if(s>0){let o=r.node(i).maybeChild(r.indexAfter(i));for(;s>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,s--}}return!1}function G4(t,e,n,r){let s=[],i=[],o,a;t.doc.nodesBetween(e,n,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let h=Math.max(c,e),p=Math.min(c+l.nodeSize,n),m=r.addToSet(d);for(let y=0;y<d.length;y++)d[y].isInSet(m)||(o&&o.to==h&&o.mark.eq(d[y])?o.to=p:s.push(o=new Br(h,p,d[y])));a&&a.to==h?a.to=p:i.push(a=new ui(h,p,r))}}),s.forEach(l=>t.step(l)),i.forEach(l=>t.step(l))}function Y4(t,e,n,r){let s=[],i=0;t.doc.nodesBetween(e,n,(o,a)=>{if(!o.isInline)return;i++;let l=null;if(r instanceof Ih){let c=o.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(o.marks)&&(l=[r]):l=o.marks;if(l&&l.length){let c=Math.min(a+o.nodeSize,n);for(let u=0;u<l.length;u++){let d=l[u],h;for(let p=0;p<s.length;p++){let m=s[p];m.step==i-1&&d.eq(s[p].style)&&(h=m)}h?(h.to=c,h.step=i):s.push({style:d,from:Math.max(a,e),to:c,step:i})}}}),s.forEach(o=>t.step(new Br(o.from,o.to,o.style)))}function RC(t,e,n,r=n.contentMatch,s=!0){let i=t.doc.nodeAt(e),o=[],a=e+1;for(let l=0;l<i.childCount;l++){let c=i.child(l),u=a+c.nodeSize,d=r.matchType(c.type);if(!d)o.push(new At(a,u,J.empty));else{r=d;for(let h=0;h<c.marks.length;h++)n.allowsMarkType(c.marks[h].type)||t.step(new Br(a,u,c.marks[h]));if(s&&c.isText&&n.whitespace!="pre"){let h,p=/\r?\n|\r/g,m;for(;h=p.exec(c.text);)m||(m=new J(L.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),o.push(new At(a+h.index,a+h.index+h[0].length,m))}}a=u}if(!r.validEnd){let l=r.fillBefore(L.empty,!0);t.replace(a,a,new J(l,0,0))}for(let l=o.length-1;l>=0;l--)t.step(o[l])}function X4(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function _l(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let s=t.$from.node(r),i=t.$from.index(r),o=t.$to.indexAfter(r);if(r<t.depth&&s.canReplace(i,o,n))return r;if(r==0||s.type.spec.isolating||!X4(s,i,o))break}return null}function e3(t,e,n){let{$from:r,$to:s,depth:i}=e,o=r.before(i+1),a=s.after(i+1),l=o,c=a,u=L.empty,d=0;for(let m=i,y=!1;m>n;m--)y||r.index(m)>0?(y=!0,u=L.from(r.node(m).copy(u)),d++):l--;let h=L.empty,p=0;for(let m=i,y=!1;m>n;m--)y||s.after(m+1)<s.end(m)?(y=!0,h=L.from(s.node(m).copy(h)),p++):c++;t.step(new It(l,c,o,a,new J(u.append(h),d,p),u.size-d,!0))}function V0(t,e,n=null,r=t){let s=t3(t,e),i=s&&n3(r,e);return i?s.map(V1).concat({type:e,attrs:n}).concat(i.map(V1)):null}function V1(t){return{type:t,attrs:null}}function t3(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;let o=i.length?i[0]:e;return n.canReplaceWith(r,s,o)?i:null}function n3(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.child(r),o=e.contentMatch.findWrapping(i.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let c=r;l&&c<s;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:o}function r3(t,e,n){let r=L.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let a=n[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=L.from(n[o].type.create(n[o].attrs,r))}let s=e.start,i=e.end;t.step(new It(s,i,s,i,new J(r,0,0),n.length,!0))}function s3(t,e,n,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,n,(o,a)=>{let l=typeof s=="function"?s(o):s;if(o.isTextblock&&!o.hasMarkup(r,l)&&a3(t.doc,t.mapping.slice(i).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let p=r.whitespace=="pre",m=!!r.contentMatch.matchType(r.schema.linebreakReplacement);p&&!m?c=!1:!p&&m&&(c=!0)}c===!1&&o3(t,o,a,i),RC(t,t.mapping.slice(i).map(a,1),r,void 0,c===null);let u=t.mapping.slice(i),d=u.map(a,1),h=u.map(a+o.nodeSize,1);return t.step(new It(d,h,d+1,h-1,new J(L.from(r.create(l,null,o.marks)),0,0),1,!0)),c===!0&&i3(t,o,a,i),!1}})}function i3(t,e,n,r){e.forEach((s,i)=>{if(s.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(s.text);){let l=t.mapping.slice(r).map(n+1+i+o.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function o3(t,e,n,r){e.forEach((s,i)=>{if(s.type==s.type.schema.linebreakReplacement){let o=t.mapping.slice(r).map(n+1+i);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function a3(t,e,n){let r=t.resolve(e),s=r.index();return r.parent.canReplaceWith(s,s+1,n)}function l3(t,e,n,r,s){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let o=n.create(r,null,s||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,o);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new It(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new J(L.from(o),0,0),1,!0))}function Aa(t,e,n=1,r){let s=t.resolve(e),i=s.depth-n,o=r&&r[r.length-1]||s.parent;if(i<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!o.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let c=s.depth-1,u=n-2;c>i;c--,u--){let d=s.node(c),h=s.index(c);if(d.type.spec.isolating)return!1;let p=d.content.cutByIndex(h,d.childCount),m=r&&r[u+1];m&&(p=p.replaceChild(0,m.type.create(m.attrs)));let y=r&&r[u]||d;if(!d.canReplace(h+1,d.childCount)||!y.type.validContent(p))return!1}let a=s.indexAfter(i),l=r&&r[0];return s.node(i).canReplaceWith(a,a,l?l.type:s.node(i+1).type)}function c3(t,e,n=1,r){let s=t.doc.resolve(e),i=L.empty,o=L.empty;for(let a=s.depth,l=s.depth-n,c=n-1;a>l;a--,c--){i=L.from(s.node(a).copy(i));let u=r&&r[c];o=L.from(u?u.type.create(u.attrs,o):s.node(a).copy(o))}t.step(new At(e,e,new J(i.append(o),n,n),!0))}function Li(t,e){let n=t.resolve(e),r=n.index();return IC(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function IC(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function Dh(t,e,n=-1){let r=t.resolve(e);for(let s=r.depth;;s--){let i,o,a=r.index(s);if(s==r.depth?(i=r.nodeBefore,o=r.nodeAfter):n>0?(i=r.node(s+1),a++,o=r.node(s).maybeChild(a)):(i=r.node(s).maybeChild(a-1),o=r.node(s+1)),i&&!i.isTextblock&&IC(i,o)&&r.node(s).canReplace(a,a+1))return e;if(s==0)break;e=n<0?r.before(s):r.after(s)}}function u3(t,e,n){let r=new At(e-n,e+n,J.empty,!0);t.step(r)}function d3(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let i=r.index(s);if(r.node(s).canReplaceWith(i,i,n))return r.before(s+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let i=r.indexAfter(s);if(r.node(s).canReplaceWith(i,i,n))return r.after(s+1);if(i<r.node(s).childCount)return null}return null}function DC(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let s=n.content;for(let i=0;i<n.openStart;i++)s=s.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,l=r.index(o)+(a>0?1:0),c=r.node(o),u=!1;if(i==1)u=c.canReplace(l,l,s);else{let d=c.contentMatchAt(l).findWrapping(s.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function Lh(t,e,n=e,r=J.empty){if(e==n&&!r.size)return null;let s=t.resolve(e),i=t.resolve(n);return LC(s,i,r)?new At(e,n,r):new f3(s,i,r).fit()}function LC(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class f3{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=L.empty;for(let s=0;s<=e.depth;s++){let i=e.node(s);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=L.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(e<0?this.$to:r.doc.resolve(e));if(!s)return null;let i=this.placed,o=r.depth,a=s.depth;for(;o&&a&&i.childCount==1;)i=i.firstChild.content,o--,a--;let l=new J(i,o,a);return e>-1?new It(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new At(r.pos,s.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<e;r++){let i=n.firstChild;if(n.childCount>1&&(s=0),i.type.spec.isolating&&s<=r){e=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let s,i=null;r?(i=Gp(this.unplaced.content,r-1).firstChild,s=i.content):s=this.unplaced.content;let o=s.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,d=null;if(n==1&&(o?c.matchType(o.type)||(d=c.fillBefore(L.from(o),!1)):i&&l.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:a,parent:i,inject:d};if(n==2&&o&&(u=c.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:i,wrap:u};if(i&&c.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=Gp(e,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new J(e,n+1,Math.max(r,s.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=Gp(e,n);if(s.childCount<=1&&n>0){let i=e.size-n<=n+s.size;this.unplaced=new J(oc(e,n-1,1),n-1,i?n-1:r)}else this.unplaced=new J(oc(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:s,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let y=0;y<i.length;y++)this.openFrontierNode(i[y]);let o=this.unplaced,a=r?r.content:o.content,l=o.openStart-e,c=0,u=[],{match:d,type:h}=this.frontier[n];if(s){for(let y=0;y<s.childCount;y++)u.push(s.child(y));d=d.matchFragment(s)}let p=a.size+e-(o.content.size-o.openEnd);for(;c<a.childCount;){let y=a.child(c),x=d.matchType(y.type);if(!x)break;c++,(c>1||l==0||y.content.size)&&(d=x,u.push(FC(y.mark(h.allowedMarks(y.marks)),c==1?l:0,c==a.childCount?p:-1)))}let m=c==a.childCount;m||(p=-1),this.placed=ac(this.placed,n,L.from(u)),this.frontier[n].match=d,m&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let y=0,x=a;y<p;y++){let v=x.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),x=v.content}this.unplaced=m?e==0?J.empty:new J(oc(o.content,e-1,1),e-1,p<0?o.openEnd:e-1):new J(oc(o.content,e,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Yp(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:s}=this.frontier[n],i=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),o=Yp(e,n,s,r,i);if(o){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=Yp(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:o,move:i?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=ac(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let s=e.node(r),i=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,i)}return e}openFrontierNode(e,n=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=ac(this.placed,this.depth,L.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(L.empty,!0);n.childCount&&(this.placed=ac(this.placed,this.frontier.length,n))}}function oc(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(oc(t.firstChild.content,e-1,n)))}function ac(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(ac(t.lastChild.content,e-1,n)))}function Gp(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function FC(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,FC(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(L.empty,!0)))),t.copy(r)}function Yp(t,e,n,r,s){let i=t.node(e),o=s?t.indexAfter(e):t.index(e);if(o==i.childCount&&!n.compatibleContent(i.type))return null;let a=r.fillBefore(i.content,!0,o);return a&&!h3(n,i.content,o)?a:null}function h3(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function p3(t){return t.spec.defining||t.spec.definingForContent}function m3(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let s=t.doc.resolve(e),i=t.doc.resolve(n);if(LC(s,i,r))return t.step(new At(e,n,r));let o=$C(s,t.doc.resolve(n));o[o.length-1]==0&&o.pop();let a=-(s.depth+1);o.unshift(a);for(let h=s.depth,p=s.pos-1;h>0;h--,p--){let m=s.node(h).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;o.indexOf(h)>-1?a=h:s.before(h)==p&&o.splice(1,0,-h)}let l=o.indexOf(a),c=[],u=r.openStart;for(let h=r.content,p=0;;p++){let m=h.firstChild;if(c.push(m),p==r.openStart)break;h=m.content}for(let h=u-1;h>=0;h--){let p=c[h],m=p3(p.type);if(m&&!p.sameMarkup(s.node(Math.abs(a)-1)))u=h;else if(m||!p.type.isTextblock)break}for(let h=r.openStart;h>=0;h--){let p=(h+u+1)%(r.openStart+1),m=c[p];if(m)for(let y=0;y<o.length;y++){let x=o[(y+l)%o.length],v=!0;x<0&&(v=!1,x=-x);let g=s.node(x-1),b=s.index(x-1);if(g.canReplaceWith(b,b,m.type,m.marks))return t.replace(s.before(x),v?i.after(x):n,new J(zC(r.content,0,r.openStart,p),p,r.openEnd))}}let d=t.steps.length;for(let h=o.length-1;h>=0&&(t.replace(e,n,r),!(t.steps.length>d));h--){let p=o[h];p<0||(e=s.before(p),n=i.after(p))}}function zC(t,e,n,r,s){if(e<n){let i=t.firstChild;t=t.replaceChild(0,i.copy(zC(i.content,e+1,n,r,i)))}if(e>r){let i=s.contentMatchAt(0),o=i.fillBefore(t).append(t);t=o.append(i.matchFragment(o).fillBefore(L.empty,!0))}return t}function g3(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let s=d3(t.doc,e,r.type);s!=null&&(e=n=s)}t.replaceRange(e,n,new J(L.from(r),0,0))}function y3(t,e,n){let r=t.doc.resolve(e),s=t.doc.resolve(n),i=$C(r,s);for(let o=0;o<i.length;o++){let a=i[o],l=o==i.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),s.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),s.indexAfter(a-1))))return t.delete(r.before(a),s.after(a))}for(let o=1;o<=r.depth&&o<=s.depth;o++)if(e-r.start(o)==r.depth-o&&n>r.end(o)&&s.end(o)-n!=s.depth-o)return t.delete(r.before(o),n);t.delete(e,n)}function $C(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let s=r;s>=0;s--){let i=t.start(s);if(i<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(i==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==i-1)&&n.push(s)}return n}class Ra extends rn{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return kt.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let s=n.type.create(r,null,n.marks);return kt.fromReplace(e,this.pos,this.pos+1,new J(L.from(s),0,n.isLeaf?0:1))}getMap(){return Rn.empty}invert(e){return new Ra(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ra(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Ra(n.pos,n.attr,n.value)}}rn.jsonID("attr",Ra);class au extends rn{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let s in e.attrs)n[s]=e.attrs[s];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return kt.ok(r)}getMap(){return Rn.empty}invert(e){return new au(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new au(n.attr,n.value)}}rn.jsonID("docAttr",au);let hl=class extends Error{};hl=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};hl.prototype=Object.create(Error.prototype);hl.prototype.constructor=hl;hl.prototype.name="TransformError";class v3{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Pa}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new hl(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=J.empty){let s=Lh(this.doc,e,n,r);return s&&this.step(s),this}replaceWith(e,n,r){return this.replace(e,n,new J(L.from(r),0,0))}delete(e,n){return this.replace(e,n,J.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return m3(this,e,n,r),this}replaceRangeWith(e,n,r){return g3(this,e,n,r),this}deleteRange(e,n){return y3(this,e,n),this}lift(e,n){return e3(this,e,n),this}join(e,n=1){return u3(this,e,n),this}wrap(e,n){return r3(this,e,n),this}setBlockType(e,n=e,r,s=null){return s3(this,e,n,r,s),this}setNodeMarkup(e,n,r=null,s){return l3(this,e,n,r,s),this}setNodeAttribute(e,n,r){return this.step(new Ra(e,n,r)),this}setDocAttribute(e,n){return this.step(new au(e,n)),this}addNodeMark(e,n){return this.step(new di(e,n)),this}removeNodeMark(e,n){if(!(n instanceof qe)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new fl(e,n)),this}split(e,n=1,r){return c3(this,e,n,r),this}addMark(e,n,r){return G4(this,e,n,r),this}removeMark(e,n,r){return Y4(this,e,n,r),this}clearIncompatible(e,n,r){return RC(this,e,n,r),this}}const Xp=Object.create(null);class we{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new x3(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=J.empty){let r=n.content.lastChild,s=null;for(let a=0;a<n.openEnd;a++)s=r,r=r.lastChild;let i=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:c}=o[a],u=e.mapping.slice(i);e.replaceRange(u.map(l.pos),u.map(c.pos),a?J.empty:n),a==0&&q1(e,i,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,s=this.ranges;for(let i=0;i<s.length;i++){let{$from:o,$to:a}=s[i],l=e.mapping.slice(r),c=l.map(o.pos),u=l.map(a.pos);i?e.deleteRange(c,u):(e.replaceRangeWith(c,u,n),q1(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let s=e.parent.inlineContent?new xe(e):ra(e.node(0),e.parent,e.pos,e.index(),n,r);if(s)return s;for(let i=e.depth-1;i>=0;i--){let o=n<0?ra(e.node(0),e.node(i),e.before(i+1),e.index(i),n,r):ra(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,r);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Er(e.node(0))}static atStart(e){return ra(e,e,0,0,1)||new Er(e)}static atEnd(e){return ra(e,e,e.content.size,e.childCount,-1)||new Er(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Xp[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Xp)throw new RangeError("Duplicate use of selection JSON ID "+e);return Xp[e]=n,n.prototype.jsonID=e,n}getBookmark(){return xe.between(this.$anchor,this.$head).getBookmark()}}we.prototype.visible=!0;class x3{constructor(e,n){this.$from=e,this.$to=n}}let U1=!1;function H1(t){!U1&&!t.parent.inlineContent&&(U1=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class xe extends we{constructor(e,n=e){H1(e),H1(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return we.near(r);let s=e.resolve(n.map(this.anchor));return new xe(s.parent.inlineContent?s:r,r)}replace(e,n=J.empty){if(super.replace(e,n),n==J.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof xe&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Fh(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new xe(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let s=e.resolve(n);return new this(s,r==n?s:e.resolve(r))}static between(e,n,r){let s=e.pos-n.pos;if((!r||s)&&(r=s>=0?1:-1),!n.parent.inlineContent){let i=we.findFrom(n,r,!0)||we.findFrom(n,-r,!0);if(i)n=i.$head;else return we.near(n,r)}return e.parent.inlineContent||(s==0?e=n:(e=(we.findFrom(e,-r,!0)||we.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=s<0&&(e=n))),new xe(e,n)}}we.jsonID("text",xe);class Fh{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Fh(e.map(this.anchor),e.map(this.head))}resolve(e){return xe.between(e.resolve(this.anchor),e.resolve(this.head))}}class de extends we{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:s}=n.mapResult(this.anchor),i=e.resolve(s);return r?we.near(i):new de(i)}content(){return new J(L.from(this.node),0,0)}eq(e){return e instanceof de&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new U0(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new de(e.resolve(n.anchor))}static create(e,n){return new de(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}de.prototype.visible=!1;we.jsonID("node",de);class U0{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Fh(r,r):new U0(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&de.isSelectable(r)?new de(n):we.near(n)}}class Er extends we{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=J.empty){if(n==J.empty){e.delete(0,e.doc.content.size);let r=we.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Er(e)}map(e){return new Er(e)}eq(e){return e instanceof Er}getBookmark(){return b3}}we.jsonID("all",Er);const b3={map(){return this},resolve(t){return new Er(t)}};function ra(t,e,n,r,s,i=!1){if(e.inlineContent)return xe.create(t,n);for(let o=r-(s>0?0:1);s>0?o<e.childCount:o>=0;o+=s){let a=e.child(o);if(a.isAtom){if(!i&&de.isSelectable(a))return de.create(t,n-(s<0?a.nodeSize:0))}else{let l=ra(t,a,n+s,s<0?a.childCount:0,s,i);if(l)return l}n+=a.nodeSize*s}return null}function q1(t,e,n){let r=t.steps.length-1;if(r<e)return;let s=t.steps[r];if(!(s instanceof At||s instanceof It))return;let i=t.mapping.maps[r],o;i.forEach((a,l,c,u)=>{o==null&&(o=u)}),t.setSelection(we.near(t.doc.resolve(o),n))}const W1=1,_d=2,K1=4;class w3 extends v3{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|W1)&~_d,this.storedMarks=null,this}get selectionSet(){return(this.updated&W1)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=_d,this}ensureMarks(e){return qe.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&_d)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~_d,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||qe.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let s=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let i=this.storedMarks;if(!i){let o=this.doc.resolve(n);i=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,s.text(e,i)),this.selection.empty||this.setSelection(we.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=K1,this}get scrolledIntoView(){return(this.updated&K1)>0}}function J1(t,e){return!e||!t?t:t.bind(e)}class lc{constructor(e,n,r){this.name=e,this.init=J1(n.init,r),this.apply=J1(n.apply,r)}}const k3=[new lc("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new lc("selection",{init(t,e){return t.selection||we.atStart(e.doc)},apply(t){return t.selection}}),new lc("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new lc("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class em{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=k3.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new lc(r.key,r.spec.state,r))})}}class ba{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),s=null;for(;;){let i=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=s?s[o].n:0,c=s?s[o].state:this,u=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,o)){if(u.setMeta("appendedTransaction",e),!s){s=[];for(let d=0;d<this.config.plugins.length;d++)s.push(d<o?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),i=!0}s&&(s[o]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new ba(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let i=r[s];n[i.name]=i.apply(e,this[i.name],this,n)}return n}get tr(){return new w3(this)}static create(e){let n=new em(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new ba(n);for(let s=0;s<n.fields.length;s++)r[n.fields[s].name]=n.fields[s].init(e,r);return r}reconfigure(e){let n=new em(this.schema,e.plugins),r=n.fields,s=new ba(n);for(let i=0;i<r.length;i++){let o=r[i].name;s[o]=this.hasOwnProperty(o)?this[o]:r[i].init(e,s)}return s}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[r],i=s.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(s,this[s.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new em(e.schema,e.plugins),i=new ba(s);return s.fields.forEach(o=>{if(o.name=="doc")i.doc=xo.fromJSON(e.schema,n.doc);else if(o.name=="selection")i.selection=we.fromJSON(i.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){i[o.name]=c.fromJSON.call(l,e,n[a],i);return}}i[o.name]=o.init(e,i)}}),i}}function BC(t,e,n){for(let r in t){let s=t[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=BC(s,e,{})),n[r]=s}return n}class lr{constructor(e){this.spec=e,this.props={},e.props&&BC(e.props,this,this.props),this.key=e.key?e.key.key:VC("plugin")}getState(e){return e[this.key]}}const tm=Object.create(null);function VC(t){return t in tm?t+"$"+ ++tm[t]:(tm[t]=0,t+"$")}class Fi{constructor(e="key"){this.key=VC(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Vt=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},lu=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Yg=null;const fs=function(t,e,n){let r=Yg||(Yg=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},S3=function(){Yg=null},Ao=function(t,e,n,r){return n&&(Q1(t,e,n,r,-1)||Q1(t,e,n,r,1))},_3=/^(img|br|input|textarea|hr)$/i;function Q1(t,e,n,r,s){for(;;){if(t==n&&e==r)return!0;if(e==(s<0?0:er(t))){let i=t.parentNode;if(!i||i.nodeType!=1||Ru(t)||_3.test(t.nodeName)||t.contentEditable=="false")return!1;e=Vt(t)+(s<0?0:1),t=i}else if(t.nodeType==1){if(t=t.childNodes[e+(s<0?-1:0)],t.contentEditable=="false")return!1;e=s<0?er(t):0}else return!1}}function er(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function C3(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=er(t)}else if(t.parentNode&&!Ru(t))e=Vt(t),t=t.parentNode;else return null}}function E3(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Ru(t))e=Vt(t)+1,t=t.parentNode;else return null}}function N3(t,e,n){for(let r=e==0,s=e==er(t);r||s;){if(t==n)return!0;let i=Vt(t);if(t=t.parentNode,!t)return!1;r=r&&i==0,s=s&&i==er(t)}}function Ru(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const zh=function(t){return t.focusNode&&Ao(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Ji(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function T3(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function O3(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(er(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(er(r.startContainer),r.startOffset)}}}const Jr=typeof navigator<"u"?navigator:null,Z1=typeof document<"u"?document:null,zi=Jr&&Jr.userAgent||"",Xg=/Edge\/(\d+)/.exec(zi),UC=/MSIE \d/.exec(zi),ey=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(zi),Nn=!!(UC||ey||Xg),ki=UC?document.documentMode:ey?+ey[1]:Xg?+Xg[1]:0,Or=!Nn&&/gecko\/(\d+)/i.test(zi);Or&&+(/Firefox\/(\d+)/.exec(zi)||[0,0])[1];const ty=!Nn&&/Chrome\/(\d+)/.exec(zi),Xt=!!ty,HC=ty?+ty[1]:0,hn=!Nn&&!!Jr&&/Apple Computer/.test(Jr.vendor),pl=hn&&(/Mobile\/\w+/.test(zi)||!!Jr&&Jr.maxTouchPoints>2),Qn=pl||(Jr?/Mac/.test(Jr.platform):!1),j3=Jr?/Win/.test(Jr.platform):!1,xr=/Android \d/.test(zi),Iu=!!Z1&&"webkitFontSmoothing"in Z1.documentElement.style,M3=Iu?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function P3(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function ls(t,e){return typeof t=="number"?t:t[e]}function A3(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function G1(t,e,n){let r=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let o=n||t.dom;o;o=lu(o)){if(o.nodeType!=1)continue;let a=o,l=a==i.body,c=l?P3(i):A3(a),u=0,d=0;if(e.top<c.top+ls(r,"top")?d=-(c.top-e.top+ls(s,"top")):e.bottom>c.bottom-ls(r,"bottom")&&(d=e.bottom-e.top>c.bottom-c.top?e.top+ls(s,"top")-c.top:e.bottom-c.bottom+ls(s,"bottom")),e.left<c.left+ls(r,"left")?u=-(c.left-e.left+ls(s,"left")):e.right>c.right-ls(r,"right")&&(u=e.right-c.right+ls(s,"right")),u||d)if(l)i.defaultView.scrollBy(u,d);else{let h=a.scrollLeft,p=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let m=a.scrollLeft-h,y=a.scrollTop-p;e={left:e.left-m,top:e.top-y,right:e.right-m,bottom:e.bottom-y}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(o).position))break}}function R3(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,s;for(let i=(e.left+e.right)/2,o=n+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=t.root.elementFromPoint(i,o);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,s=l.top;break}}return{refDOM:r,refTop:s,stack:qC(t.dom)}}function qC(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=lu(r));return e}function I3({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;WC(n,r==0?0:r-e)}function WC(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:s,left:i}=t[n];r.scrollTop!=s+e&&(r.scrollTop=s+e),r.scrollLeft!=i&&(r.scrollLeft=i)}}let Xo=null;function D3(t){if(t.setActive)return t.setActive();if(Xo)return t.focus(Xo);let e=qC(t);t.focus(Xo==null?{get preventScroll(){return Xo={preventScroll:!0},!0}}:void 0),Xo||(Xo=!1,WC(e,0))}function KC(t,e){let n,r=2e8,s,i=0,o=e.top,a=e.top,l,c;for(let u=t.firstChild,d=0;u;u=u.nextSibling,d++){let h;if(u.nodeType==1)h=u.getClientRects();else if(u.nodeType==3)h=fs(u).getClientRects();else continue;for(let p=0;p<h.length;p++){let m=h[p];if(m.top<=o&&m.bottom>=a){o=Math.max(m.bottom,o),a=Math.min(m.top,a);let y=m.left>e.left?m.left-e.left:m.right<e.left?e.left-m.right:0;if(y<r){n=u,r=y,s=y&&n.nodeType==3?{left:m.right<e.left?m.right:m.left,top:e.top}:e,u.nodeType==1&&y&&(i=d+(e.left>=(m.left+m.right)/2?1:0));continue}}else m.top>e.top&&!l&&m.left<=e.left&&m.right>=e.left&&(l=u,c={left:Math.max(m.left,Math.min(m.right,e.left)),top:m.top});!n&&(e.left>=m.right&&e.top>=m.top||e.left>=m.left&&e.top>=m.bottom)&&(i=d+1)}}return!n&&l&&(n=l,s=c,r=0),n&&n.nodeType==3?L3(n,s):!n||r&&n.nodeType==1?{node:t,offset:i}:KC(n,s)}function L3(t,e){let n=t.nodeValue.length,r=document.createRange();for(let s=0;s<n;s++){r.setEnd(t,s+1),r.setStart(t,s);let i=$s(r,1);if(i.top!=i.bottom&&H0(e,i))return{node:t,offset:s+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}function H0(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function F3(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function z3(t,e,n){let{node:r,offset:s}=KC(e,n),i=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();i=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(r,s,i)}function $3(t,e,n,r){let s=-1;for(let i=e,o=!1;i!=t.dom;){let a=t.docView.nearestDesc(i,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)){let l=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&(!o&&l.left>r.left||l.top>r.top?s=a.posBefore:(!o&&l.right<r.left||l.bottom<r.top)&&(s=a.posAfter),o=!0),!a.contentDOM&&s<0&&!a.node.isText)return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter}i=a.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,n,-1)}function JC(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),i=s;;){let o=t.childNodes[i];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(H0(e,c))return JC(o,e,c)}}if((i=(i+1)%r)==s)break}return t}function B3(t,e){let n=t.dom.ownerDocument,r,s=0,i=O3(n,e.left,e.top);i&&({node:r,offset:s}=i);let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=t.dom.getBoundingClientRect();if(!H0(e,c)||(o=JC(t.dom,e,c),!o))return null}if(hn)for(let c=o;r&&c;c=lu(c))c.draggable&&(r=void 0);if(o=F3(o,e),r){if(Or&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let u=r.childNodes[s],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&s++}let c;Iu&&s&&r.nodeType==1&&(c=r.childNodes[s-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&s--,r==t.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(a=$3(t,r,s,e))}a==null&&(a=z3(t,o,e));let l=t.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function Y1(t){return t.top<t.bottom||t.left<t.right}function $s(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(Y1(r))return r}return Array.prototype.find.call(n,Y1)||t.getBoundingClientRect()}const V3=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function QC(t,e,n){let{node:r,offset:s,atom:i}=t.docView.domFromPos(e,n<0?-1:1),o=Iu||Or;if(r.nodeType==3)if(o&&(V3.test(r.nodeValue)||(n<0?!s:s==r.nodeValue.length))){let l=$s(fs(r,s,s),n);if(Or&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let c=$s(fs(r,s-1,s-1),-1);if(c.top==l.top){let u=$s(fs(r,s,s+1),-1);if(u.top!=l.top)return Ql(u,u.left<c.left)}}return l}else{let l=s,c=s,u=n<0?1:-1;return n<0&&!s?(c++,u=-1):n>=0&&s==r.nodeValue.length?(l--,u=1):n<0?l--:c++,Ql($s(fs(r,l,c),u),u<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&s&&(n<0||s==er(r))){let l=r.childNodes[s-1];if(l.nodeType==1)return nm(l.getBoundingClientRect(),!1)}if(i==null&&s<er(r)){let l=r.childNodes[s];if(l.nodeType==1)return nm(l.getBoundingClientRect(),!0)}return nm(r.getBoundingClientRect(),n>=0)}if(i==null&&s&&(n<0||s==er(r))){let l=r.childNodes[s-1],c=l.nodeType==3?fs(l,er(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return Ql($s(c,1),!1)}if(i==null&&s<er(r)){let l=r.childNodes[s];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?fs(l,0,o?0:1):l.nodeType==1?l:null:null;if(c)return Ql($s(c,-1),!0)}return Ql($s(r.nodeType==3?fs(r):r,-n),n>=0)}function Ql(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function nm(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function ZC(t,e,n){let r=t.state,s=t.root.activeElement;r!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),s!=t.dom&&s&&s.focus()}}function U3(t,e,n){let r=e.selection,s=n=="up"?r.$from:r.$to;return ZC(t,e,()=>{let{node:i}=t.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(i,!0);if(!a)break;if(a.node.isBlock){i=a.contentDOM||a.dom;break}i=a.dom.parentNode}let o=QC(t,s.pos,1);for(let a=i.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=fs(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(n=="up"?o.top-u.top>(u.bottom-o.top)*2:u.bottom-o.bottom>(o.bottom-u.top)*2))return!1}}return!0})}const H3=/[\u0590-\u08ac]/;function q3(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,i=!s,o=s==r.parent.content.size,a=t.domSelection();return a?!H3.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?i:o:ZC(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=t.domSelectionRange(),h=a.caretBidiLevel;a.modify("move",n,"character");let p=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:m,focusOffset:y}=t.domSelectionRange(),x=m&&!p.contains(m.nodeType==1?m:m.parentNode)||l==m&&c==y;try{a.collapse(u,d),l&&(l!=u||c!=d)&&a.extend&&a.extend(l,c)}catch{}return h!=null&&(a.caretBidiLevel=h),x}):r.pos==r.start()||r.pos==r.end()}let X1=null,eb=null,tb=!1;function W3(t,e,n){return X1==e&&eb==n?tb:(X1=e,eb=n,tb=n=="up"||n=="down"?U3(t,e,n):q3(t,e,n))}const sr=0,nb=1,to=2,Qr=3;class Du{constructor(e,n,r,s){this.parent=e,this.children=n,this.dom=r,this.contentDOM=s,this.dirty=sr,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let s=this.children[n];if(s==e)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let i,o;if(e==this.contentDOM)i=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(o)+o.size:this.posAtStart}else{let i,o;if(e==this.contentDOM)i=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(o):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=n>Vt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!1;break}if(i.previousSibling)break}if(s==null&&n==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!0;break}if(i.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,s=e;s;s=s.parentNode){let i=this.getDesc(s),o;if(i&&(!n||i.node))if(r&&(o=i.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return i}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let s=e;s;s=s.parentNode){let i=this.getDesc(s);if(i)return i.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let s=this.children[n],i=r+s.size;if(r==e&&i!=r){for(;!s.border&&s.children.length;)s=s.children[0];return s}if(e<i)return s.descAt(e-r-s.border);r=i}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,s=0;for(let i=0;r<this.children.length;r++){let o=this.children[r],a=i+o.size;if(a>e||o instanceof YC){s=e-i;break}i=a}if(s)return this.children[r].domFromPos(s-this.children[r].border,n);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof GC&&i.side>=0;r--);if(n<=0){let i,o=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,o=!1);return i&&n&&o&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?Vt(i.dom)+1:0}}else{let i,o=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,o=!1);return i&&o&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?Vt(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,i=-1;for(let o=r,a=0;;a++){let l=this.children[a],c=o+l.size;if(s==-1&&e<=c){let u=o+l.border;if(e>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,u);e=o;for(let d=a;d>0;d--){let h=this.children[d-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){s=Vt(h.dom)+1;break}e-=h.size}s==-1&&(s=0)}if(s>-1&&(c>n||a==this.children.length-1)){n=c;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){i=Vt(d.dom);break}n+=d.size}i==-1&&(i=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:e,to:n,fromOffset:s,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,s=!1){let i=Math.min(e,n),o=Math.max(e,n);for(let h=0,p=0;h<this.children.length;h++){let m=this.children[h],y=p+m.size;if(i>p&&o<y)return m.setSelection(e-p-m.border,n-p-m.border,r,s);p=y}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),c=r.getSelection(),u=!1;if((Or||hn)&&e==n){let{node:h,offset:p}=a;if(h.nodeType==3){if(u=!!(p&&h.nodeValue[p-1]==`
`),u&&p==h.nodeValue.length)for(let m=h,y;m;m=m.parentNode){if(y=m.nextSibling){y.nodeName=="BR"&&(a=l={node:y.parentNode,offset:Vt(y)+1});break}let x=m.pmViewDesc;if(x&&x.node&&x.node.isBlock)break}}else{let m=h.childNodes[p-1];u=m&&(m.nodeName=="BR"||m.contentEditable=="false")}}if(Or&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let h=c.focusNode.childNodes[c.focusOffset];h&&h.contentEditable=="false"&&(s=!0)}if(!(s||u&&hn)&&Ao(a.node,a.offset,c.anchorNode,c.anchorOffset)&&Ao(l.node,l.offset,c.focusNode,c.focusOffset))return;let d=!1;if((c.extend||e==n)&&!u){c.collapse(a.node,a.offset);try{e!=n&&c.extend(l.node,l.offset),d=!0}catch{}}if(!d){if(e>n){let p=a;a=l,l=p}let h=document.createRange();h.setEnd(l.node,l.offset),h.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(h)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,s=0;s<this.children.length;s++){let i=this.children[s],o=r+i.size;if(r==o?e<=o&&n>=r:e<o&&n>r){let a=r+i.border,l=o-i.border;if(e>=a&&n<=l){this.dirty=e==r||n==o?to:nb,e==a&&n==l&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=Qr:i.markDirty(e-a,n-a);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?to:Qr}r=o}this.dirty=to}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?to:nb;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class GC extends Du{constructor(e,n,r,s){let i,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!i)return s;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=n,this.widget=n,i=this}matchesWidget(e){return this.dirty==sr&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class K3 extends Du{constructor(e,n,r,s){super(e,[],n,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Ro extends Du{constructor(e,n,r,s){super(e,[],r,s),this.mark=n}static create(e,n,r,s){let i=s.nodeViews[n.type.name],o=i&&i(n,s,r);return(!o||!o.dom)&&(o=Ho.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Ro(e,n,o.dom,o.contentDOM||o.dom)}parseRule(){return this.dirty&Qr||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Qr&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=sr){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=sr}}slice(e,n,r){let s=Ro.create(this.parent,this.mark,!0,r),i=this.children,o=this.size;n<o&&(i=sy(i,n,o,r)),e>0&&(i=sy(i,0,e,r));for(let a=0;a<i.length;a++)i[a].parent=s;return s.children=i,s}}class Si extends Du{constructor(e,n,r,s,i,o,a,l,c){super(e,[],i,o),this.node=n,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=a}static create(e,n,r,s,i,o){let a=i.nodeViews[n.type.name],l,c=a&&a(n,i,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},r,s),u=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=Ho.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let h=u;return u=tE(u,r,n),c?l=new J3(e,n,r,s,u,d||null,h,c,i,o+1):n.isText?new $h(e,n,r,s,u,h,i):new Si(e,n,r,s,u,d||null,h,i,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>L.empty)}return e}matchesNode(e,n,r){return this.dirty==sr&&e.eq(this.node)&&ry(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,s=n,i=e.composing?this.localCompositionInfo(e,n):null,o=i&&i.pos>-1?i:null,a=i&&i.pos<0,l=new Z3(this,o&&o.node,e);X3(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?qe.none:this.node.child(u).marks,r,e),l.placeWidget(c,e,s)},(c,u,d,h)=>{l.syncToMarks(c.marks,r,e);let p;l.findNodeMatch(c,u,d,h)||a&&e.state.selection.from>s&&e.state.selection.to<s+c.nodeSize&&(p=l.findIndexWithChild(i.node))>-1&&l.updateNodeAt(c,u,d,p,e)||l.updateNextNode(c,u,d,e,h,s)||l.addNode(c,u,d,e,s),s+=c.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==to)&&(o&&this.protectLocalComposition(e,o),XC(this.contentDOM,this.children,e),pl&&eL(this.dom))}localCompositionInfo(e,n){let{from:r,to:s}=e.state.selection;if(!(e.state.selection instanceof xe)||r<n||s>n+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let o=i.nodeValue,a=tL(this.node.content,o,r-n,s-n);return a<0?null:{node:i,pos:a,text:o}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:s}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let o=new K3(this,i,n,s);e.input.compositionNodes.push(o),this.children=sy(this.children,r,r+s.length,e,o)}update(e,n,r,s){return this.dirty==Qr||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,s),!0)}updateInner(e,n,r,s){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=sr}updateOuterDeco(e){if(ry(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=eE(this.dom,this.nodeDOM,ny(this.outerDeco,this.node,n),ny(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function rb(t,e,n,r,s){tE(r,e,t);let i=new Si(void 0,t,e,n,r,r,r,s,0);return i.contentDOM&&i.updateChildren(s,0),i}class $h extends Si{constructor(e,n,r,s,i,o,a){super(e,n,r,s,i,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,s){return this.dirty==Qr||this.dirty!=sr&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=sr||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=sr,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let s=this.node.cut(e,n),i=document.createTextNode(s.text);return new $h(this.parent,s,this.outerDeco,this.innerDeco,i,i,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Qr)}get domAtom(){return!1}isText(e){return this.node.text==e}}class YC extends Du{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==sr&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class J3 extends Si{constructor(e,n,r,s,i,o,a,l,c,u){super(e,n,r,s,i,o,a,c,u),this.spec=l}update(e,n,r,s){if(this.dirty==Qr)return!1;if(this.spec.update){let i=this.spec.update(e,n,r);return i&&this.updateInner(e,n,r,s),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,s){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function XC(t,e,n){let r=t.firstChild,s=!1;for(let i=0;i<e.length;i++){let o=e[i],a=o.dom;if(a.parentNode==t){for(;a!=r;)r=sb(r),s=!0;r=r.nextSibling}else s=!0,t.insertBefore(a,r);if(o instanceof Ro){let l=r?r.previousSibling:t.lastChild;XC(o.contentDOM,o.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=sb(r),s=!0;s&&n.trackWrites==t&&(n.trackWrites=null)}const kc=function(t){t&&(this.nodeName=t)};kc.prototype=Object.create(null);const no=[new kc];function ny(t,e,n){if(t.length==0)return no;let r=n?no[0]:new kc,s=[r];for(let i=0;i<t.length;i++){let o=t[i].type.attrs;if(o){o.nodeName&&s.push(r=new kc(o.nodeName));for(let a in o){let l=o[a];l!=null&&(n&&s.length==1&&s.push(r=new kc(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return s}function eE(t,e,n,r){if(n==no&&r==no)return e;let s=e;for(let i=0;i<r.length;i++){let o=r[i],a=n[i];if(i){let l;a&&a.nodeName==o.nodeName&&s!=t&&(l=s.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(s),a=no[0]),s=l}Q3(s,a||no[0],o)}return s}function Q3(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)s.indexOf(r[i])==-1&&t.classList.remove(r[i]);for(let i=0;i<s.length;i++)r.indexOf(s[i])==-1&&t.classList.add(s[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(e.style);)t.style.removeProperty(s[1])}n.style&&(t.style.cssText+=n.style)}}function tE(t,e,n){return eE(t,t,no,ny(e,n,t.nodeType!=1))}function ry(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function sb(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class Z3{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=G3(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let s=0,i=this.stack.length>>1,o=Math.min(i,e.length);for(;s<o&&(s==i-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<i;)this.destroyRest(),this.top.dirty=sr,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[i])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Ro.create(this.top,e[i],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,i++}}findNodeMatch(e,n,r,s){let i=-1,o;if(s>=this.preMatch.index&&(o=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&o.matchesNode(e,n,r))i=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,n,r)&&!this.preMatch.matched.has(c)){i=a;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,n,r,s,i){let o=this.top.children[s];return o.dirty==Qr&&o.dom==o.contentDOM&&(o.dirty=to),o.update(e,n,r,i)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}e=n}}updateNextNode(e,n,r,s,i,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof Si){let c=this.preMatch.matched.get(l);if(c!=null&&c!=i)return!1;let u=l.dom,d,h=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=Qr&&ry(n,l.outerDeco));if(!h&&l.update(e,n,r,s))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!h&&(d=this.recreateWrapper(l,e,n,r,s,o)))return this.top.children[this.index]=d,d.contentDOM&&(d.dirty=to,d.updateChildren(s,o+1),d.dirty=sr),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,s,i,o){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content))return null;let a=Si.create(this.top,n,r,s,i,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,n,r,s,i){let o=Si.create(this.top,e,n,r,s,i);o.contentDOM&&o.updateChildren(s,i+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,n,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let i=new GC(this.top,e,n,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Ro;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof $h)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((hn||Xt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new YC(this.top,[],r,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function G3(t,e){let n=e,r=n.children.length,s=t.childCount,i=new Map,o=[];e:for(;s>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof Ro)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(s-1))break;--s,i.set(a,s),o.push(a)}}return{index:s,matched:i,matches:o.reverse()}}function Y3(t,e){return t.type.side-e.type.side}function X3(t,e,n,r){let s=e.locals(t),i=0;if(s.length==0){for(let c=0;c<t.childCount;c++){let u=t.child(c);r(u,s,e.forChild(i,u),c),i+=u.nodeSize}return}let o=0,a=[],l=null;for(let c=0;;){let u,d;for(;o<s.length&&s[o].to==i;){let x=s[o++];x.widget&&(u?(d||(d=[u])).push(x):u=x)}if(u)if(d){d.sort(Y3);for(let x=0;x<d.length;x++)n(d[x],c,!!l)}else n(u,c,!!l);let h,p;if(l)p=-1,h=l,l=null;else if(c<t.childCount)p=c,h=t.child(c++);else break;for(let x=0;x<a.length;x++)a[x].to<=i&&a.splice(x--,1);for(;o<s.length&&s[o].from<=i&&s[o].to>i;)a.push(s[o++]);let m=i+h.nodeSize;if(h.isText){let x=m;o<s.length&&s[o].from<x&&(x=s[o].from);for(let v=0;v<a.length;v++)a[v].to<x&&(x=a[v].to);x<m&&(l=h.cut(x-i),h=h.cut(0,x-i),m=x,p=-1)}else for(;o<s.length&&s[o].to<m;)o++;let y=h.isInline&&!h.isLeaf?a.filter(x=>!x.inline):a.slice();r(h,y,e.forChild(i,h),p),i=m}}function eL(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function tL(t,e,n,r){for(let s=0,i=0;s<t.childCount&&i<=r;){let o=t.child(s++),a=i;if(i+=o.nodeSize,!o.isText)continue;let l=o.text;for(;s<t.childCount;){let c=t.child(s++);if(i+=c.nodeSize,!c.isText)break;l+=c.text}if(i>=n){if(i>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let c=a<r?l.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=n)return a+c;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function sy(t,e,n,r,s){let i=[];for(let o=0,a=0;o<t.length;o++){let l=t[o],c=a,u=a+=l.size;c>=n||u<=e?i.push(l):(c<e&&i.push(l.slice(0,e-c,r)),s&&(i.push(s),s=void 0),u>n&&i.push(l.slice(n-c,l.size,r)))}return i}function q0(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let s=t.docView.nearestDesc(n.focusNode),i=s&&s.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=r.resolve(o),l,c;if(zh(n)){for(l=a;s&&!s.node;)s=s.parent;let u=s.node;if(s&&u.isAtom&&de.isSelectable(u)&&s.parent&&!(u.isInline&&N3(n.focusNode,n.focusOffset,s.dom))){let d=s.posBefore;c=new de(o==d?a:r.resolve(d))}}else{let u=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null;l=r.resolve(u)}if(!c){let u=e=="pointer"||t.state.selection.head<a.pos&&!i?1:-1;c=W0(t,l,a,u)}return c}function nE(t){return t.editable?t.hasFocus():sE(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function xs(t,e=!1){let n=t.state.selection;if(rE(t,n),!!nE(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Xt){let r=t.domSelectionRange(),s=t.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&Ao(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)rL(t);else{let{anchor:r,head:s}=n,i,o;ib&&!(n instanceof xe)&&(n.$from.parent.inlineContent||(i=ob(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=ob(t,n.to))),t.docView.setSelection(r,s,t.root,e),ib&&(i&&ab(i),o&&ab(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&nL(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const ib=hn||Xt&&HC<63;function ob(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),s=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(hn&&s&&s.contentEditable=="false")return rm(s);if((!s||s.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(s)return rm(s);if(i)return rm(i)}}function rm(t){return t.contentEditable="true",hn&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function ab(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function nL(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,s=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!nE(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function rL(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,s=r.nodeName=="IMG";s?n.setStart(r.parentNode,Vt(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!s&&!t.state.selection.visible&&Nn&&ki<=11&&(r.disabled=!0,r.disabled=!1)}function rE(t,e){if(e instanceof de){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(lb(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else lb(t)}function lb(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function W0(t,e,n,r){return t.someProp("createSelectionBetween",s=>s(t,e,n))||xe.between(e,n,r)}function cb(t){return t.editable&&!t.hasFocus()?!1:sE(t)}function sE(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function sL(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Ao(e.node,e.offset,n.anchorNode,n.anchorOffset)}function iy(t,e){let{$anchor:n,$head:r}=t.selection,s=e>0?n.max(r):n.min(r),i=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return i&&we.findFrom(i,e)}function Hs(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function ub(t,e,n){let r=t.state.selection;if(r instanceof xe)if(n.indexOf("s")>-1){let{$head:s}=r,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let o=t.state.doc.resolve(s.pos+i.nodeSize*(e<0?-1:1));return Hs(t,new xe(r.$anchor,o))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=iy(t.state,e);return s&&s instanceof de?Hs(t,s):!1}else if(!(Qn&&n.indexOf("m")>-1)){let s=r.$head,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,o;if(!i||i.isText)return!1;let a=e<0?s.pos-i.nodeSize:s.pos;return i.isAtom||(o=t.docView.descAt(a))&&!o.contentDOM?de.isSelectable(i)?Hs(t,new de(e<0?t.state.doc.resolve(s.pos-i.nodeSize):s)):Iu?Hs(t,new xe(t.state.doc.resolve(e<0?a:a+i.nodeSize))):!1:!1}}else return!1;else{if(r instanceof de&&r.node.isInline)return Hs(t,new xe(e>0?r.$to:r.$from));{let s=iy(t.state,e);return s?Hs(t,s):!1}}}function Gf(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Sc(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function ea(t,e){return e<0?iL(t):oL(t)}function iL(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s,i,o=!1;for(Or&&n.nodeType==1&&r<Gf(n)&&Sc(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(Sc(a,-1))s=n,i=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(iE(n))break;{let a=n.previousSibling;for(;a&&Sc(a,-1);)s=n.parentNode,i=Vt(a),a=a.previousSibling;if(a)n=a,r=Gf(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}o?oy(t,n,r):s&&oy(t,s,i)}function oL(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s=Gf(n),i,o;for(;;)if(r<s){if(n.nodeType!=1)break;let a=n.childNodes[r];if(Sc(a,1))i=n,o=++r;else break}else{if(iE(n))break;{let a=n.nextSibling;for(;a&&Sc(a,1);)i=a.parentNode,o=Vt(a)+1,a=a.nextSibling;if(a)n=a,r=0,s=Gf(n);else{if(n=n.parentNode,n==t.dom)break;r=s=0}}}i&&oy(t,i,o)}function iE(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function aL(t,e){for(;t&&e==t.childNodes.length&&!Ru(t);)e=Vt(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function lL(t,e){for(;t&&!e&&!Ru(t);)e=Vt(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function oy(t,e,n){if(e.nodeType!=3){let i,o;(o=aL(e,n))?(e=o,n=0):(i=lL(e,n))&&(e=i,n=i.nodeValue.length)}let r=t.domSelection();if(!r)return;if(zh(r)){let i=document.createRange();i.setEnd(e,n),i.setStart(e,n),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&xs(t)},50)}function db(t,e){let n=t.state.doc.resolve(e);if(!(Xt||j3)&&n.parent.inlineContent){let s=t.coordsAtPos(e);if(e>n.start()){let i=t.coordsAtPos(e-1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left<s.left?"ltr":"rtl"}if(e<n.end()){let i=t.coordsAtPos(e+1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function fb(t,e,n){let r=t.state.selection;if(r instanceof xe&&!r.empty||n.indexOf("s")>-1||Qn&&n.indexOf("m")>-1)return!1;let{$from:s,$to:i}=r;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=iy(t.state,e);if(o&&o instanceof de)return Hs(t,o)}if(!s.parent.inlineContent){let o=e<0?s:i,a=r instanceof Er?we.near(o,e):we.findFrom(o,e);return a?Hs(t,a):!1}return!1}function hb(t,e){if(!(t.state.selection instanceof xe))return!0;let{$head:n,$anchor:r,empty:s}=t.state.selection;if(!n.sameParent(r))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let o=t.state.tr;return e<0?o.delete(n.pos-i.nodeSize,n.pos):o.delete(n.pos,n.pos+i.nodeSize),t.dispatch(o),!0}return!1}function pb(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function cL(t){if(!hn||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;pb(t,r,"true"),setTimeout(()=>pb(t,r,"false"),20)}return!1}function uL(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function dL(t,e){let n=e.keyCode,r=uL(e);if(n==8||Qn&&n==72&&r=="c")return hb(t,-1)||ea(t,-1);if(n==46&&!e.shiftKey||Qn&&n==68&&r=="c")return hb(t,1)||ea(t,1);if(n==13||n==27)return!0;if(n==37||Qn&&n==66&&r=="c"){let s=n==37?db(t,t.state.selection.from)=="ltr"?-1:1:-1;return ub(t,s,r)||ea(t,s)}else if(n==39||Qn&&n==70&&r=="c"){let s=n==39?db(t,t.state.selection.from)=="ltr"?1:-1:1;return ub(t,s,r)||ea(t,s)}else{if(n==38||Qn&&n==80&&r=="c")return fb(t,-1,r)||ea(t,-1);if(n==40||Qn&&n==78&&r=="c")return cL(t)||fb(t,1,r)||ea(t,1);if(r==(Qn?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function oE(t,e){t.someProp("transformCopied",p=>{e=p(e,t)});let n=[],{content:r,openStart:s,openEnd:i}=e;for(;s>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,i--;let p=r.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let o=t.someProp("clipboardSerializer")||Ho.fromSchema(t.state.schema),a=fE(),l=a.createElement("div");l.appendChild(o.serializeFragment(r,{document:a}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=dE[c.nodeName.toLowerCase()]);){for(let p=u.length-1;p>=0;p--){let m=a.createElement(u[p]);for(;l.firstChild;)m.appendChild(l.firstChild);l.appendChild(m),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${s} ${i}${d?` -${d}`:""} ${JSON.stringify(n)}`);let h=t.someProp("clipboardTextSerializer",p=>p(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:h,slice:e}}function aE(t,e,n,r,s){let i=s.parent.type.spec.code,o,a;if(!n&&!e)return null;let l=e&&(r||i||!n);if(l){if(t.someProp("transformPastedText",h=>{e=h(e,i||r,t)}),i)return e?new J(L.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):J.empty;let d=t.someProp("clipboardTextParser",h=>h(e,s,r,t));if(d)a=d;else{let h=s.marks(),{schema:p}=t.state,m=Ho.fromSchema(p);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(y=>{let x=o.appendChild(document.createElement("p"));y&&x.appendChild(m.serializeNode(p.text(y,h)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),o=mL(n),Iu&&gL(o);let c=o&&o.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let h=o.firstChild;for(;h&&h.nodeType!=1;)h=h.nextSibling;if(!h)break;o=h}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||wi.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||u),context:s,ruleFromNode(h){return h.nodeName=="BR"&&!h.nextSibling&&h.parentNode&&!fL.test(h.parentNode.nodeName)?{ignore:!0}:null}})),u)a=yL(mb(a,+u[1],+u[2]),u[4]);else if(a=J.maxOpen(hL(a.content,s),!0),a.openStart||a.openEnd){let d=0,h=0;for(let p=a.content.firstChild;d<a.openStart&&!p.type.spec.isolating;d++,p=p.firstChild);for(let p=a.content.lastChild;h<a.openEnd&&!p.type.spec.isolating;h++,p=p.lastChild);a=mb(a,d,h)}return t.someProp("transformPasted",d=>{a=d(a,t)}),a}const fL=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function hL(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.index(n)),i,o=[];if(t.forEach(a=>{if(!o)return;let l=s.findWrapping(a.type),c;if(!l)return o=null;if(c=o.length&&i.length&&cE(l,i,a,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=uE(o[o.length-1],i.length));let u=lE(a,l);o.push(u),s=s.matchType(u.type),i=l}}),o)return L.from(o)}return t}function lE(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,L.from(t));return t}function cE(t,e,n,r,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let i=cE(t,e,n,r.lastChild,s+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(s==t.length-1?n.type:t[s+1]))return r.copy(r.content.append(L.from(lE(n,t,s+1))))}}function uE(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,uE(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(L.empty,!0);return t.copy(n.append(r))}function ay(t,e,n,r,s,i){let o=e<0?t.firstChild:t.lastChild,a=o.content;return t.childCount>1&&(i=0),s<r-1&&(a=ay(a,e,n,r,s+1,i)),s>=n&&(a=e<0?o.contentMatchAt(0).fillBefore(a,i<=s).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(L.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(a))}function mb(t,e,n){return e<t.openStart&&(t=new J(ay(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new J(ay(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const dE={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let gb=null;function fE(){return gb||(gb=document.implementation.createHTMLDocument("title"))}function pL(t){let e=window.trustedTypes;return e?e.createPolicy("detachedDocument",{createHTML:n=>n}).createHTML(t):t}function mL(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=fE().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),s;if((s=r&&dE[r[1].toLowerCase()])&&(t=s.map(i=>"<"+i+">").join("")+t+s.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=pL(t),s)for(let i=0;i<s.length;i++)n=n.querySelector(s[i])||n;return n}function gL(t){let e=t.querySelectorAll(Xt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function yL(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:s,openStart:i,openEnd:o}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;s=L.from(l.create(r[a+1],s)),i++,o++}return new J(s,i,o)}const pn={},mn={},vL={touchstart:!0,touchmove:!0};class xL{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function bL(t){for(let e in pn){let n=pn[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{kL(t,r)&&!K0(t,r)&&(t.editable||!(r.type in mn))&&n(t,r)},vL[e]?{passive:!0}:void 0)}hn&&t.dom.addEventListener("input",()=>null),ly(t)}function fi(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function wL(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function ly(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>K0(t,r))})}function K0(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function kL(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function SL(t,e){!K0(t,e)&&pn[e.type]&&(t.editable||!(e.type in mn))&&pn[e.type](t,e)}mn.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!pE(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(xr&&Xt&&n.keyCode==13)))if(t.domObserver.selectionChanged(t.domSelectionRange())?t.domObserver.flush():n.keyCode!=229&&t.domObserver.forceFlush(),pl&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",s=>s(t,Ji(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||dL(t,n)?n.preventDefault():fi(t,"key")};mn.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};mn.keypress=(t,e)=>{let n=e;if(pE(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Qn&&n.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof xe)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(n.charCode);!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",i=>i(t,r.$from.pos,r.$to.pos,s))&&t.dispatch(t.state.tr.insertText(s).scrollIntoView()),n.preventDefault()}};function Bh(t){return{left:t.clientX,top:t.clientY}}function _L(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function J0(t,e,n,r,s){if(r==-1)return!1;let i=t.state.doc.resolve(r);for(let o=i.depth+1;o>0;o--)if(t.someProp(e,a=>o>i.depth?a(t,n,i.nodeAfter,i.before(o),s,!0):a(t,n,i.node(o),i.before(o),s,!1)))return!0;return!1}function Ia(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function CL(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&de.isSelectable(r)?(Ia(t,new de(n)),!0):!1}function EL(t,e){if(e==-1)return!1;let n=t.state.selection,r,s;n instanceof de&&(r=n.node);let i=t.state.doc.resolve(e);for(let o=i.depth+1;o>0;o--){let a=o>i.depth?i.nodeAfter:i.node(o);if(de.isSelectable(a)){r&&n.$from.depth>0&&o>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?s=i.before(n.$from.depth):s=i.before(o);break}}return s!=null?(Ia(t,de.create(t.state.doc,s)),!0):!1}function NL(t,e,n,r,s){return J0(t,"handleClickOn",e,n,r)||t.someProp("handleClick",i=>i(t,e,r))||(s?EL(t,n):CL(t,n))}function TL(t,e,n,r){return J0(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",s=>s(t,e,r))}function OL(t,e,n,r){return J0(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",s=>s(t,e,r))||jL(t,n,r)}function jL(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Ia(t,xe.create(r,0,r.content.size)),!0):!1;let s=r.resolve(e);for(let i=s.depth+1;i>0;i--){let o=i>s.depth?s.nodeAfter:s.node(i),a=s.before(i);if(o.inlineContent)Ia(t,xe.create(r,a+1,a+1+o.content.size));else if(de.isSelectable(o))Ia(t,de.create(r,a));else continue;return!0}}function Q0(t){return Yf(t)}const hE=Qn?"metaKey":"ctrlKey";pn.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=Q0(t),s=Date.now(),i="singleClick";s-t.input.lastClick.time<500&&_L(n,t.input.lastClick)&&!n[hE]&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:i};let o=t.posAtCoords(Bh(n));o&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new ML(t,o,n,!!r)):(i=="doubleClick"?TL:OL)(t,o.pos,o.inside,n)?n.preventDefault():fi(t,"pointer"))};class ML{constructor(e,n,r,s){this.view=e,this.pos=n,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[hE],this.allowDefault=r.shiftKey;let i,o;if(n.inside>-1)i=e.state.doc.nodeAt(n.inside),o=n.inside;else{let u=e.state.doc.resolve(n.pos);i=u.parent,o=u.depth?u.before():0}const a=s?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=e.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||c instanceof de&&c.from<=o&&c.to>o)&&(this.mightDrag={node:i,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Or&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),fi(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>xs(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Bh(e))),this.updateAllowDefault(e),this.allowDefault||!n?fi(this.view,"pointer"):NL(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||hn&&this.mightDrag&&!this.mightDrag.node.isAtom||Xt&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Ia(this.view,we.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):fi(this.view,"pointer")}move(e){this.updateAllowDefault(e),fi(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}pn.touchstart=t=>{t.input.lastTouch=Date.now(),Q0(t),fi(t,"pointer")};pn.touchmove=t=>{t.input.lastTouch=Date.now(),fi(t,"pointer")};pn.contextmenu=t=>Q0(t);function pE(t,e){return t.composing?!0:hn&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const PL=xr?5e3:-1;mn.compositionstart=mn.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof xe&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Yf(t,!0),t.markCursor=null;else if(Yf(t,!e.selection.empty),Or&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let s=r.focusNode,i=r.focusOffset;s&&s.nodeType==1&&i!=0;){let o=i<0?s.lastChild:s.childNodes[i-1];if(!o)break;if(o.nodeType==3){let a=t.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else s=o,i=-1}}t.input.composing=!0}mE(t,PL)};mn.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,mE(t,20))};function mE(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Yf(t),e))}function gE(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=RL());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function AL(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=C3(e.focusNode,e.focusOffset),r=E3(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let s=r.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(n==i||r==i)return i;if(!s||!s.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n||r}function RL(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Yf(t,e=!1){if(!(xr&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),gE(t),e||t.docView&&t.docView.dirty){let n=q0(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function IL(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const cu=Nn&&ki<15||pl&&M3<604;pn.copy=mn.cut=(t,e)=>{let n=e,r=t.state.selection,s=n.type=="cut";if(r.empty)return;let i=cu?null:n.clipboardData,o=r.content(),{dom:a,text:l}=oE(t,o);i?(n.preventDefault(),i.clearData(),i.setData("text/html",a.innerHTML),i.setData("text/plain",l)):IL(t,a),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function DL(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function LL(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?uu(t,r.value,null,s,e):uu(t,r.textContent,r.innerHTML,s,e)},50)}function uu(t,e,n,r,s){let i=aE(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,s,i||J.empty)))return!0;if(!i)return!1;let o=DL(i),a=o?t.state.tr.replaceSelectionWith(o,r):t.state.tr.replaceSelection(i);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function yE(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}mn.paste=(t,e)=>{let n=e;if(t.composing&&!xr)return;let r=cu?null:n.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&uu(t,yE(r),r.getData("text/html"),s,n)?n.preventDefault():LL(t,n)};class vE{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const xE=Qn?"altKey":"ctrlKey";pn.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let s=t.state.selection,i=s.empty?null:t.posAtCoords(Bh(n)),o;if(!(i&&i.pos>=s.from&&i.pos<=(s instanceof de?s.to-1:s.to))){if(r&&r.mightDrag)o=de.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=t.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=t.docView&&(o=de.create(t.state.doc,d.posBefore))}}let a=(o||t.state.selection).content(),{dom:l,text:c,slice:u}=oE(t,a);(!n.dataTransfer.files.length||!Xt||HC>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(cu?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",cu||n.dataTransfer.setData("text/plain",c),t.dragging=new vE(u,!n[xE],o)};pn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};mn.dragover=mn.dragenter=(t,e)=>e.preventDefault();mn.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let s=t.posAtCoords(Bh(n));if(!s)return;let i=t.state.doc.resolve(s.pos),o=r&&r.slice;o?t.someProp("transformPasted",m=>{o=m(o,t)}):o=aE(t,yE(n.dataTransfer),cu?null:n.dataTransfer.getData("text/html"),!1,i);let a=!!(r&&!n[xE]);if(t.someProp("handleDrop",m=>m(t,n,o||J.empty,a))){n.preventDefault();return}if(!o)return;n.preventDefault();let l=o?DC(t.state.doc,i.pos,o):i.pos;l==null&&(l=i.pos);let c=t.state.tr;if(a){let{node:m}=r;m?m.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,h=c.doc;if(d?c.replaceRangeWith(u,u,o.content.firstChild):c.replaceRange(u,u,o),c.doc.eq(h))return;let p=c.doc.resolve(u);if(d&&de.isSelectable(o.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new de(p));else{let m=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((y,x,v,g)=>m=g),c.setSelection(W0(t,p,c.doc.resolve(m)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};pn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&xs(t)},20))};pn.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};pn.beforeinput=(t,e)=>{if(Xt&&xr&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,Ji(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in mn)pn[t]=mn[t];function du(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Xf{constructor(e,n){this.toDOM=e,this.spec=n||bo,this.side=this.spec.side||0}map(e,n,r,s){let{pos:i,deleted:o}=e.mapResult(n.from+s,this.side<0?-1:1);return o?null:new nr(i-r,i-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Xf&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&du(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class _i{constructor(e,n){this.attrs=e,this.spec=n||bo}map(e,n,r,s){let i=e.map(n.from+s,this.spec.inclusiveStart?-1:1)-r,o=e.map(n.to+s,this.spec.inclusiveEnd?1:-1)-r;return i>=o?null:new nr(i,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof _i&&du(this.attrs,e.attrs)&&du(this.spec,e.spec)}static is(e){return e.type instanceof _i}destroy(){}}class Z0{constructor(e,n){this.attrs=e,this.spec=n||bo}map(e,n,r,s){let i=e.mapResult(n.from+s,1);if(i.deleted)return null;let o=e.mapResult(n.to+s,-1);return o.deleted||o.pos<=i.pos?null:new nr(i.pos-r,o.pos-r,this)}valid(e,n){let{index:r,offset:s}=e.content.findIndex(n.from),i;return s==n.from&&!(i=e.child(r)).isText&&s+i.nodeSize==n.to}eq(e){return this==e||e instanceof Z0&&du(this.attrs,e.attrs)&&du(this.spec,e.spec)}destroy(){}}class nr{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new nr(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new nr(e,e,new Xf(n,r))}static inline(e,n,r,s){return new nr(e,n,new _i(r,s))}static node(e,n,r,s){return new nr(e,n,new Z0(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof _i}get widget(){return this.type instanceof Xf}}const sa=[],bo={};class Ct{constructor(e,n){this.local=e.length?e:sa,this.children=n.length?n:sa}static create(e,n){return n.length?eh(n,e,0,bo):Gt}find(e,n,r){let s=[];return this.findInner(e??0,n??1e9,s,0,r),s}findInner(e,n,r,s,i){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=e&&(!i||i(a.spec))&&r.push(a.copy(a.from+s,a.to+s))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,n-a,r,s+a,i)}}map(e,n,r){return this==Gt||e.maps.length==0?this:this.mapInner(e,n,0,0,r||bo)}mapInner(e,n,r,s,i){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,s);l&&l.type.valid(n,l)?(o||(o=[])).push(l):i.onRemove&&i.onRemove(this.local[a].spec)}return this.children.length?FL(this.children,o||[],e,n,r,s,i):o?new Ct(o.sort(wo),sa):Gt}add(e,n){return n.length?this==Gt?Ct.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let s,i=0;e.forEach((a,l)=>{let c=l+r,u;if(u=wE(n,a,c)){for(s||(s=this.children.slice());i<s.length&&s[i]<l;)i+=3;s[i]==l?s[i+2]=s[i+2].addInner(a,u,c+1):s.splice(i,0,l,l+a.nodeSize,eh(u,a,c+1,bo)),i+=3}});let o=bE(i?kE(n):n,-r);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new Ct(o.length?this.local.concat(o).sort(wo):this.local,s||this.children)}remove(e){return e.length==0||this==Gt?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,s=this.local;for(let i=0;i<r.length;i+=3){let o,a=r[i]+n,l=r[i+1]+n;for(let u=0,d;u<e.length;u++)(d=e[u])&&d.from>a&&d.to<l&&(e[u]=null,(o||(o=[])).push(d));if(!o)continue;r==this.children&&(r=this.children.slice());let c=r[i+2].removeInner(o,a+1);c!=Gt?r[i+2]=c:(r.splice(i,3),i-=3)}if(s.length){for(let i=0,o;i<e.length;i++)if(o=e[i])for(let a=0;a<s.length;a++)s[a].eq(o,n)&&(s==this.local&&(s=this.local.slice()),s.splice(a--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new Ct(s,r):Gt}forChild(e,n){if(this==Gt)return this;if(n.isLeaf)return Ct.empty;let r,s;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let i=e+1,o=i+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>i&&l.type instanceof _i){let c=Math.max(i,l.from)-i,u=Math.min(o,l.to)-i;c<u&&(s||(s=[])).push(l.copy(c,u))}}if(s){let a=new Ct(s.sort(wo),sa);return r?new Ys([a,r]):a}return r||Gt}eq(e){if(this==e)return!0;if(!(e instanceof Ct)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return G0(this.localsInner(e))}localsInner(e){if(this==Gt)return sa;if(e.inlineContent||!this.local.some(_i.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof _i||n.push(this.local[r]);return n}forEachSet(e){e(this)}}Ct.empty=new Ct([],[]);Ct.removeOverlap=G0;const Gt=Ct.empty;class Ys{constructor(e){this.members=e}map(e,n){const r=this.members.map(s=>s.map(e,n,bo));return Ys.from(r)}forChild(e,n){if(n.isLeaf)return Ct.empty;let r=[];for(let s=0;s<this.members.length;s++){let i=this.members[s].forChild(e,n);i!=Gt&&(i instanceof Ys?r=r.concat(i.members):r.push(i))}return Ys.from(r)}eq(e){if(!(e instanceof Ys)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let s=0;s<this.members.length;s++){let i=this.members[s].localsInner(e);if(i.length)if(!n)n=i;else{r&&(n=n.slice(),r=!1);for(let o=0;o<i.length;o++)n.push(i[o])}}return n?G0(r?n:n.sort(wo)):sa}static from(e){switch(e.length){case 0:return Gt;case 1:return e[0];default:return new Ys(e.every(n=>n instanceof Ct)?e:e.reduce((n,r)=>n.concat(r instanceof Ct?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function FL(t,e,n,r,s,i,o){let a=t.slice();for(let c=0,u=i;c<n.maps.length;c++){let d=0;n.maps[c].forEach((h,p,m,y)=>{let x=y-m-(p-h);for(let v=0;v<a.length;v+=3){let g=a[v+1];if(g<0||h>g+u-d)continue;let b=a[v]+u-d;p>=b?a[v+1]=h<=b?-2:-1:h>=u&&x&&(a[v]+=x,a[v+1]+=x)}d+=x}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=n.map(t[c]+i),d=u-s;if(d<0||d>=r.content.size){l=!0;continue}let h=n.map(t[c+1]+i,-1),p=h-s,{index:m,offset:y}=r.content.findIndex(d),x=r.maybeChild(m);if(x&&y==d&&y+x.nodeSize==p){let v=a[c+2].mapInner(n,x,u+1,t[c]+i+1,o);v!=Gt?(a[c]=d,a[c+1]=p,a[c+2]=v):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=zL(a,t,e,n,s,i,o),u=eh(c,r,0,o);e=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,h=0;d<u.children.length;d+=3){let p=u.children[d];for(;h<a.length&&a[h]<p;)h+=3;a.splice(h,0,u.children[d],u.children[d+1],u.children[d+2])}}return new Ct(e.sort(wo),a)}function bE(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let s=t[r];n.push(new nr(s.from+e,s.to+e,s.type))}return n}function zL(t,e,n,r,s,i,o){function a(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(r,s,c);d?n.push(d):o.onRemove&&o.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+i+1);return n}function wE(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,s=null;for(let i=0,o;i<t.length;i++)(o=t[i])&&o.from>n&&o.to<r&&((s||(s=[])).push(o),t[i]=null);return s}function kE(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function eh(t,e,n,r){let s=[],i=!1;e.forEach((a,l)=>{let c=wE(t,a,l+n);if(c){i=!0;let u=eh(c,a,n+l+1,r);u!=Gt&&s.push(l,l+a.nodeSize,u)}});let o=bE(i?kE(t):t,-n).sort(wo);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||s.length?new Ct(o,s):Gt}function wo(t,e){return t.from-e.from||t.to-e.to}function G0(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let s=n+1;s<e.length;s++){let i=e[s];if(i.from==r.from){i.to!=r.to&&(e==t&&(e=t.slice()),e[s]=i.copy(i.from,r.to),yb(e,s+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,i.from),yb(e,s,r.copy(i.from,r.to)));break}}}return e}function yb(t,e,n){for(;e<t.length&&wo(n,t[e])>0;)e++;t.splice(e,0,n)}function sm(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Gt&&e.push(r)}),t.cursorWrapper&&e.push(Ct.create(t.state.doc,[t.cursorWrapper.deco])),Ys.from(e)}const $L={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},BL=Nn&&ki<=11;class VL{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class UL{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new VL,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);Nn&&ki<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),BL&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,$L)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(cb(this.view)){if(this.suppressingSelectionUpdates)return xs(this.view);if(Nn&&ki<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Ao(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let i=e.focusNode;i;i=lu(i))n.add(i);for(let i=e.anchorNode;i;i=lu(i))if(n.has(i)){r=i;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}selectionChanged(e){return!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&cb(this.view)&&!this.ignoreSelectionChange(e)}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),s=this.selectionChanged(r),i=-1,o=-1,a=!1,l=[];if(e.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],l);d&&(i=i<0?d.from:Math.min(d.from,i),o=o<0?d.to:Math.max(d.to,o),d.typeOver&&(a=!0))}if(Or&&l.length){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,h]=u;d.parentNode&&d.parentNode.parentNode==h.parentNode?h.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let h of u){let p=h.parentNode;p&&p.nodeName=="LI"&&(!d||WL(e,d)!=p)&&h.remove()}}}let c=null;i<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&zh(r)&&(c=q0(e))&&c.eq(we.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,xs(e),this.currentSelection.set(r),e.scrollToSelection()):(i>-1||s)&&(i>-1&&(e.docView.markDirty(i,o),HL(e)),this.handleDOMChange(i,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||xs(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let d=e.addedNodes[u];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let s=e.previousSibling,i=e.nextSibling;if(Nn&&ki<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:d,nextSibling:h}=e.addedNodes[u];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(s=d),(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(i=h)}let o=s&&s.parentNode==e.target?Vt(s)+1:0,a=r.localPosFromDOM(e.target,o,-1),l=i&&i.parentNode==e.target?Vt(i):e.target.childNodes.length,c=r.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let vb=new WeakMap,xb=!1;function HL(t){if(!vb.has(t)&&(vb.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Or,xb)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),xb=!0}}function bb(t,e){let n=e.startContainer,r=e.startOffset,s=e.endContainer,i=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return Ao(o.node,o.offset,s,i)&&([n,r,s,i]=[s,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:i}}function qL(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return bb(t,s)}let n;function r(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?bb(t,n):null}function WL(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function KL(t,e,n){let{node:r,fromOffset:s,toOffset:i,from:o,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),c,u=l.anchorNode;if(u&&t.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],zh(l)||c.push({node:l.focusNode,offset:l.focusOffset})),Xt&&t.input.lastKeyCode===8)for(let x=i;x>s;x--){let v=r.childNodes[x-1],g=v.pmViewDesc;if(v.nodeName=="BR"&&!g){i=x;break}if(!g||g.size)break}let d=t.state.doc,h=t.someProp("domParser")||wi.fromSchema(t.state.schema),p=d.resolve(o),m=null,y=h.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:s,to:i,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:JL,context:p});if(c&&c[0].pos!=null){let x=c[0].pos,v=c[1]&&c[1].pos;v==null&&(v=x),m={anchor:x+o,head:v+o}}return{doc:y,sel:m,from:o,to:a}}function JL(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(hn&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||hn&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const QL=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function ZL(t,e,n,r,s){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let A=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,F=q0(t,A);if(F&&!t.state.selection.eq(F)){if(Xt&&xr&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",Q=>Q(t,Ji(13,"Enter"))))return;let D=t.state.tr.setSelection(F);A=="pointer"?D.setMeta("pointer",!0):A=="key"&&D.scrollIntoView(),i&&D.setMeta("composition",i),t.dispatch(D)}return}let o=t.state.doc.resolve(e),a=o.sharedDepth(n);e=o.before(a+1),n=t.state.doc.resolve(n).after(a+1);let l=t.state.selection,c=KL(t,e,n),u=t.state.doc,d=u.slice(c.from,c.to),h,p;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(h=t.state.selection.to,p="end"):(h=t.state.selection.from,p="start"),t.input.lastKeyCode=null;let m=XL(d.content,c.doc.content,c.from,h,p);if(m&&t.input.domChangeCount++,(pl&&t.input.lastIOSEnter>Date.now()-225||xr)&&s.some(A=>A.nodeType==1&&!QL.test(A.nodeName))&&(!m||m.endA>=m.endB)&&t.someProp("handleKeyDown",A=>A(t,Ji(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!m)if(r&&l instanceof xe&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))m={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let A=wb(t,t.state.doc,c.sel);if(A&&!A.eq(t.state.selection)){let F=t.state.tr.setSelection(A);i&&F.setMeta("composition",i),t.dispatch(F)}}return}t.state.selection.from<t.state.selection.to&&m.start==m.endB&&t.state.selection instanceof xe&&(m.start>t.state.selection.from&&m.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?m.start=t.state.selection.from:m.endA<t.state.selection.to&&m.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(m.endB+=t.state.selection.to-m.endA,m.endA=t.state.selection.to)),Nn&&ki<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>c.from&&c.doc.textBetween(m.start-c.from-1,m.start-c.from+1)=="  "&&(m.start--,m.endA--,m.endB--);let y=c.doc.resolveNoCache(m.start-c.from),x=c.doc.resolveNoCache(m.endB-c.from),v=u.resolve(m.start),g=y.sameParent(x)&&y.parent.inlineContent&&v.end()>=m.endA,b;if((pl&&t.input.lastIOSEnter>Date.now()-225&&(!g||s.some(A=>A.nodeName=="DIV"||A.nodeName=="P"))||!g&&y.pos<c.doc.content.size&&!y.sameParent(x)&&(b=we.findFrom(c.doc.resolve(y.pos+1),1,!0))&&b.head==x.pos)&&t.someProp("handleKeyDown",A=>A(t,Ji(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>m.start&&YL(u,m.start,m.endA,y,x)&&t.someProp("handleKeyDown",A=>A(t,Ji(8,"Backspace")))){xr&&Xt&&t.domObserver.suppressSelectionUpdates();return}Xt&&xr&&m.endB==m.start&&(t.input.lastAndroidDelete=Date.now()),xr&&!g&&y.start()!=x.start()&&x.parentOffset==0&&y.depth==x.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==m.endA&&(m.endB-=2,x=c.doc.resolveNoCache(m.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(A){return A(t,Ji(13,"Enter"))})},20));let k=m.start,O=m.endA,T,j,w;if(g){if(y.pos==x.pos)Nn&&ki<=11&&y.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>xs(t),20)),T=t.state.tr.delete(k,O),j=u.resolve(m.start).marksAcross(u.resolve(m.endA));else if(m.endA==m.endB&&(w=GL(y.parent.content.cut(y.parentOffset,x.parentOffset),v.parent.content.cut(v.parentOffset,m.endA-v.start()))))T=t.state.tr,w.type=="add"?T.addMark(k,O,w.mark):T.removeMark(k,O,w.mark);else if(y.parent.child(y.index()).isText&&y.index()==x.index()-(x.textOffset?0:1)){let A=y.parent.textBetween(y.parentOffset,x.parentOffset);if(t.someProp("handleTextInput",F=>F(t,k,O,A)))return;T=t.state.tr.insertText(A,k,O)}}if(T||(T=t.state.tr.replace(k,O,c.doc.slice(m.start-c.from,m.endB-c.from))),c.sel){let A=wb(t,T.doc,c.sel);A&&!(Xt&&xr&&t.composing&&A.empty&&(m.start!=m.endB||t.input.lastAndroidDelete<Date.now()-100)&&(A.head==k||A.head==T.mapping.map(O)-1)||Nn&&A.empty&&A.head==k)&&T.setSelection(A)}j&&T.ensureMarks(j),i&&T.setMeta("composition",i),t.dispatch(T.scrollIntoView())}function wb(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:W0(t,e.resolve(n.anchor),e.resolve(n.head))}function GL(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,s=n,i=r,o,a,l;for(let u=0;u<r.length;u++)s=r[u].removeFromSet(s);for(let u=0;u<n.length;u++)i=n[u].removeFromSet(i);if(s.length==1&&i.length==0)a=s[0],o="add",l=u=>u.mark(a.addToSet(u.marks));else if(s.length==0&&i.length==1)a=i[0],o="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if(L.from(c).eq(t))return{mark:a,type:o}}function YL(t,e,n,r,s){if(n-e<=s.pos-r.pos||im(r,!0,!1)<s.pos)return!1;let i=t.resolve(e);if(!r.parent.isTextblock){let a=i.nodeAfter;return a!=null&&n==e+a.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let o=t.resolve(im(i,!0,!0));return!o.parent.isTextblock||o.pos>n||im(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function im(t,e,n){let r=t.depth,s=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,s++,e=!1;if(n){let i=t.node(r).maybeChild(t.indexAfter(r));for(;i&&!i.isLeaf;)i=i.firstChild,s++}return s}function XL(t,e,n,r,s){let i=t.findDiffStart(e,n);if(i==null)return null;let{a:o,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(s=="end"){let l=Math.max(0,i-Math.min(o,a));r-=o+l-i}if(o<i&&t.size<e.size){let l=r<=i&&r>=o?i-r:0;i-=l,i&&i<e.size&&kb(e.textBetween(i-1,i+1))&&(i+=l?1:-1),a=i+(a-o),o=i}else if(a<i){let l=r<=i&&r>=a?i-r:0;i-=l,i&&i<t.size&&kb(t.textBetween(i-1,i+1))&&(i+=l?1:-1),o=i+(o-a),a=i}return{start:i,endA:o,endB:a}}function kb(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class e5{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new xL,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(Nb),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Cb(this),_b(this),this.nodeViews=Eb(this),this.docView=rb(this.state.doc,Sb(this),sm(this),this.dom,this),this.domObserver=new UL(this,(r,s,i,o)=>ZL(this,r,s,i,o)),this.domObserver.start(),bL(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&ly(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Nb),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let s=this.state,i=!1,o=!1;e.storedMarks&&this.composing&&(gE(this),o=!0),this.state=e;let a=s.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let p=Eb(this);n5(p,this.nodeViews)&&(this.nodeViews=p,i=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&ly(this),this.editable=Cb(this),_b(this);let l=sm(this),c=Sb(this),u=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",d=i||!this.docView.matchesNode(e.doc,c,l);(d||!e.selection.eq(s.selection))&&(o=!0);let h=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&R3(this);if(o){this.domObserver.stop();let p=d&&(Nn||Xt)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&t5(s.selection,e.selection);if(d){let m=Xt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=AL(this)),(i||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=rb(e.doc,c,l,this.dom,this)),m&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&sL(this))?xs(this,p):(rE(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():h&&I3(h)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof de){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&G1(this,n.getBoundingClientRect(),e)}else G1(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let i=r.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==r.node&&(s=i)}this.dragging=new vE(e.slice,e.move,s<0?void 0:de.create(this.state.doc,s))}someProp(e,n){let r=this._props&&this._props[e],s;if(r!=null&&(s=n?n(r):r))return s;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(s=n?n(a):a))return s}let i=this.state.plugins;if(i)for(let o=0;o<i.length;o++){let a=i[o].props[e];if(a!=null&&(s=n?n(a):a))return s}}hasFocus(){if(Nn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&D3(this.dom),xs(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return B3(this,e)}coordsAtPos(e,n=1){return QC(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let s=this.docView.posFromDOM(e,n,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,n){return W3(this,n||this.state,e)}pasteHTML(e,n){return uu(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return uu(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(wL(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],sm(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,S3())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return SL(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?hn&&this.root.nodeType===11&&T3(this.dom.ownerDocument)==this.dom&&qL(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function Sb(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[nr.node(0,t.state.doc.content.size,e)]}function _b(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:nr.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Cb(t){return!t.someProp("editable",e=>e(t.state)===!1)}function t5(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function Eb(t){let e=Object.create(null);function n(r){for(let s in r)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=r[s])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function n5(t,e){let n=0,r=0;for(let s in t){if(t[s]!=e[s])return!0;n++}for(let s in e)r++;return n!=r}function Nb(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Mi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},th={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},r5=typeof navigator<"u"&&/Mac/.test(navigator.platform),s5=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ut=0;Ut<10;Ut++)Mi[48+Ut]=Mi[96+Ut]=String(Ut);for(var Ut=1;Ut<=24;Ut++)Mi[Ut+111]="F"+Ut;for(var Ut=65;Ut<=90;Ut++)Mi[Ut]=String.fromCharCode(Ut+32),th[Ut]=String.fromCharCode(Ut);for(var om in Mi)th.hasOwnProperty(om)||(th[om]=Mi[om]);function i5(t){var e=r5&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||s5&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?th:Mi)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const o5=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function a5(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,s,i,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))s=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))o5?o=!0:s=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),s&&(n="Ctrl-"+n),o&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function l5(t){let e=Object.create(null);for(let n in t)e[a5(n)]=t[n];return e}function am(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function c5(t){return new lr({props:{handleKeyDown:SE(t)}})}function SE(t){let e=l5(t);return function(n,r){let s=i5(r),i,o=e[am(s,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let a=e[am(s,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||s.charCodeAt(0)>127)&&(i=Mi[r.keyCode])&&i!=s){let a=e[am(i,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const u5=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function _E(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const d5=(t,e,n)=>{let r=_E(t,n);if(!r)return!1;let s=Y0(r);if(!s){let o=r.blockRange(),a=o&&_l(o);return a==null?!1:(e&&e(t.tr.lift(o,a).scrollIntoView()),!0)}let i=s.nodeBefore;if(TE(t,s,e,-1))return!0;if(r.parent.content.size==0&&(ml(i,"end")||de.isSelectable(i)))for(let o=r.depth;;o--){let a=Lh(t.doc,r.before(o),r.after(o),J.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(ml(i,"end")?we.findFrom(l.doc.resolve(l.mapping.map(s.pos,-1)),-1):de.create(l.doc,s.pos-i.nodeSize)),e(l.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos-i.nodeSize,s.pos).scrollIntoView()),!0):!1},f5=(t,e,n)=>{let r=_E(t,n);if(!r)return!1;let s=Y0(r);return s?CE(t,s,e):!1},h5=(t,e,n)=>{let r=EE(t,n);if(!r)return!1;let s=X0(r);return s?CE(t,s,e):!1};function CE(t,e,n){let r=e.nodeBefore,s=r,i=e.pos-1;for(;!s.isTextblock;i--){if(s.type.spec.isolating)return!1;let u=s.lastChild;if(!u)return!1;s=u}let o=e.nodeAfter,a=o,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let c=Lh(t.doc,i,l,J.empty);if(!c||c.from!=i||c instanceof At&&c.slice.size>=l-i)return!1;if(n){let u=t.tr.step(c);u.setSelection(xe.create(u.doc,i)),n(u.scrollIntoView())}return!0}function ml(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const p5=(t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;i=Y0(r)}let o=i&&i.nodeBefore;return!o||!de.isSelectable(o)?!1:(e&&e(t.tr.setSelection(de.create(t.doc,i.pos-o.nodeSize)).scrollIntoView()),!0)};function Y0(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function EE(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const m5=(t,e,n)=>{let r=EE(t,n);if(!r)return!1;let s=X0(r);if(!s)return!1;let i=s.nodeAfter;if(TE(t,s,e,1))return!0;if(r.parent.content.size==0&&(ml(i,"start")||de.isSelectable(i))){let o=Lh(t.doc,r.before(),r.after(),J.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=t.tr.step(o);a.setSelection(ml(i,"start")?we.findFrom(a.doc.resolve(a.mapping.map(s.pos)),1):de.create(a.doc,a.mapping.map(s.pos))),e(a.scrollIntoView())}return!0}}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+i.nodeSize).scrollIntoView()),!0):!1},g5=(t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;i=X0(r)}let o=i&&i.nodeAfter;return!o||!de.isSelectable(o)?!1:(e&&e(t.tr.setSelection(de.create(t.doc,i.pos)).scrollIntoView()),!0)};function X0(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const y5=(t,e)=>{let n=t.selection,r=n instanceof de,s;if(r){if(n.node.isTextblock||!Li(t.doc,n.from))return!1;s=n.from}else if(s=Dh(t.doc,n.from,-1),s==null)return!1;if(e){let i=t.tr.join(s);r&&i.setSelection(de.create(i.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},v5=(t,e)=>{let n=t.selection,r;if(n instanceof de){if(n.node.isTextblock||!Li(t.doc,n.to))return!1;r=n.to}else if(r=Dh(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},x5=(t,e)=>{let{$from:n,$to:r}=t.selection,s=n.blockRange(r),i=s&&_l(s);return i==null?!1:(e&&e(t.tr.lift(s,i).scrollIntoView()),!0)},b5=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function NE(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const w5=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let s=n.node(-1),i=n.indexAfter(-1),o=NE(s.contentMatchAt(i));if(!o||!s.canReplaceWith(i,i,o))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,o.createAndFill());l.setSelection(we.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},k5=(t,e)=>{let n=t.selection,{$from:r,$to:s}=n;if(n instanceof Er||r.parent.inlineContent||s.parent.inlineContent)return!1;let i=NE(s.parent.contentMatchAt(s.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let o=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,a=t.tr.insert(o,i.createAndFill());a.setSelection(xe.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},S5=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(Aa(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),s=r&&_l(r);return s==null?!1:(e&&e(t.tr.lift(r,s).scrollIntoView()),!0)},_5=(t,e)=>{let{$from:n,to:r}=t.selection,s,i=n.sharedDepth(r);return i==0?!1:(s=n.before(i),e&&e(t.tr.setSelection(de.create(t.doc,s))),!0)};function C5(t,e,n){let r=e.nodeBefore,s=e.nodeAfter,i=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(s.isTextblock||Li(t.doc,e.pos))?!1:(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function TE(t,e,n,r){let s=e.nodeBefore,i=e.nodeAfter,o,a,l=s.type.spec.isolating||i.type.spec.isolating;if(!l&&C5(t,e,n))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(o=(a=s.contentMatchAt(s.childCount)).findWrapping(i.type))&&a.matchType(o[0]||i.type).validEnd){if(n){let p=e.pos+i.nodeSize,m=L.empty;for(let v=o.length-1;v>=0;v--)m=L.from(o[v].create(null,m));m=L.from(s.copy(m));let y=t.tr.step(new It(e.pos-1,p,e.pos,p,new J(m,1,0),o.length,!0)),x=p+2*o.length;Li(y.doc,x)&&y.join(x),n(y.scrollIntoView())}return!0}let u=i.type.spec.isolating||r>0&&l?null:we.findFrom(e,1),d=u&&u.$from.blockRange(u.$to),h=d&&_l(d);if(h!=null&&h>=e.depth)return n&&n(t.tr.lift(d,h).scrollIntoView()),!0;if(c&&ml(i,"start",!0)&&ml(s,"end")){let p=s,m=[];for(;m.push(p),!p.isTextblock;)p=p.lastChild;let y=i,x=1;for(;!y.isTextblock;y=y.firstChild)x++;if(p.canReplace(p.childCount,p.childCount,y.content)){if(n){let v=L.empty;for(let b=m.length-1;b>=0;b--)v=L.from(m[b].copy(v));let g=t.tr.step(new It(e.pos-m.length,e.pos+i.nodeSize,e.pos+x,e.pos+i.nodeSize-x,new J(v,m.length,0),0,!0));n(g.scrollIntoView())}return!0}}return!1}function OE(t){return function(e,n){let r=e.selection,s=t<0?r.$from:r.$to,i=s.depth;for(;s.node(i).isInline;){if(!i)return!1;i--}return s.node(i).isTextblock?(n&&n(e.tr.setSelection(xe.create(e.doc,t<0?s.start(i):s.end(i)))),!0):!1}}const E5=OE(-1),N5=OE(1);function T5(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,o=s.blockRange(i),a=o&&V0(o,t,e);return a?(r&&r(n.tr.wrap(o,a).scrollIntoView()),!0):!1}}function Tb(t,e=null){return function(n,r){let s=!1;for(let i=0;i<n.selection.ranges.length&&!s;i++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[i];n.doc.nodesBetween(o,a,(l,c)=>{if(s)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)s=!0;else{let u=n.doc.resolve(c),d=u.index();s=u.parent.canReplaceWith(d,d+1,t)}})}if(!s)return!1;if(r){let i=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[o];i.setBlockType(a,l,t,e)}r(i.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function O5(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,o=s.blockRange(i),a=!1,l=o;if(!o)return!1;if(o.depth>=2&&s.node(o.depth-1).type.compatibleContent(t)&&o.startIndex==0){if(s.index(o.depth-1)==0)return!1;let u=n.doc.resolve(o.start-2);l=new Kf(u,u,o.depth),o.endIndex<o.parent.childCount&&(o=new Kf(s,n.doc.resolve(i.end(o.depth)),o.depth)),a=!0}let c=V0(l,t,e,o);return c?(r&&r(j5(n.tr,o,c,a,t).scrollIntoView()),!0):!1}}function j5(t,e,n,r,s){let i=L.empty;for(let u=n.length-1;u>=0;u--)i=L.from(n[u].type.create(n[u].attrs,i));t.step(new It(e.start-(r?2:0),e.end,e.start,e.end,new J(i,0,0),n.length,!0));let o=0;for(let u=0;u<n.length;u++)n[u].type==s&&(o=u+1);let a=n.length-o,l=e.start+n.length-(r?2:0),c=e.parent;for(let u=e.startIndex,d=e.endIndex,h=!0;u<d;u++,h=!1)!h&&Aa(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return t}function M5(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,o=>o.childCount>0&&o.firstChild.type==t);return i?n?r.node(i.depth-1).type==t?P5(e,n,t,i):A5(e,n,i):!0:!1}}function P5(t,e,n,r){let s=t.tr,i=r.end,o=r.$to.end(r.depth);i<o&&(s.step(new It(i-1,o,i,o,new J(L.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Kf(s.doc.resolve(r.$from.pos),s.doc.resolve(o),r.depth));const a=_l(r);if(a==null)return!1;s.lift(r,a);let l=s.mapping.map(i,-1)-1;return Li(s.doc,l)&&s.join(l),e(s.scrollIntoView()),!0}function A5(t,e,n){let r=t.tr,s=n.parent;for(let p=n.end,m=n.endIndex-1,y=n.startIndex;m>y;m--)p-=s.child(m).nodeSize,r.delete(p-1,p+1);let i=r.doc.resolve(n.start),o=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==s.childCount,c=i.node(-1),u=i.index(-1);if(!c.canReplace(u+(a?0:1),u+1,o.content.append(l?L.empty:L.from(s))))return!1;let d=i.pos,h=d+o.nodeSize;return r.step(new It(d-(a?1:0),h+(l?1:0),d+1,h-1,new J((a?L.empty:L.from(s.copy(L.empty))).append(l?L.empty:L.from(s.copy(L.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function R5(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,c=>c.childCount>0&&c.firstChild.type==t);if(!i)return!1;let o=i.startIndex;if(o==0)return!1;let a=i.parent,l=a.child(o-1);if(l.type!=t)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,u=L.from(c?t.create():null),d=new J(L.from(t.create(null,L.from(a.type.create(null,u)))),c?3:1,0),h=i.start,p=i.end;n(e.tr.step(new It(h-(c?3:1),p,h,p,d,1,!0)).scrollIntoView())}return!0}}function Vh(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:s}=n,{storedMarks:i}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return r},get doc(){return s},get tr(){return r=n.selection,s=n.doc,i=n.storedMarks,n}}}class Uh{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:s}=n,{tr:i}=r,o=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...u)=>{const d=l(...u)(o);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(i),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:s,state:i}=this,{view:o}=s,a=[],l=!!e,c=e||i.tr,u=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(c),a.every(h=>h===!0)),d={...Object.fromEntries(Object.entries(r).map(([h,p])=>[h,(...y)=>{const x=this.buildProps(c,n),v=p(...y)(x);return a.push(v),d}])),run:u};return d}createCan(e){const{rawCommands:n,state:r}=this,s=!1,i=e||r.tr,o=this.buildProps(i,s);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)({...o,dispatch:void 0})])),chain:()=>this.createChain(i,s)}}buildProps(e,n=!0){const{rawCommands:r,editor:s,state:i}=this,{view:o}=s,a={tr:e,editor:s,view:o,state:Vh({state:i,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(a)]))}};return a}}class I5{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(s=>s.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(s=>s!==n):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function ne(t,e,n){return t.config[e]===void 0&&t.parent?ne(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?ne(t.parent,e,n):null}):t.config[e]}function Hh(t){const e=t.filter(s=>s.type==="extension"),n=t.filter(s=>s.type==="node"),r=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function jE(t){const e=[],{nodeExtensions:n,markExtensions:r}=Hh(t),s=[...n,...r],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:s},l=ne(o,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(d=>{Object.entries(u.attributes).forEach(([h,p])=>{e.push({type:d,name:h,attribute:{...i,...p}})})})})}),s.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=ne(o,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,d])=>{const h={...i,...d};typeof(h==null?void 0:h.default)=="function"&&(h.default=h.default()),h!=null&&h.isRequired&&(h==null?void 0:h.default)===void 0&&delete h.default,e.push({type:o.name,name:u,attribute:h})})}),e}function Lt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function Tt(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([s,i])=>{if(!r[s]){r[s]=i;return}if(s==="class"){const a=i?i.split(" "):[],l=r[s]?r[s].split(" "):[],c=a.filter(u=>!l.includes(u));r[s]=[...l,...c].join(" ")}else s==="style"?r[s]=[r[s],i].join("; "):r[s]=i}),r},{})}function cy(t,e){return e.filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Tt(n,r),{})}function ME(t){return typeof t=="function"}function Ee(t,e=void 0,...n){return ME(t)?e?t.bind(e)(...n):t(...n):t}function D5(t={}){return Object.keys(t).length===0&&t.constructor===Object}function L5(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function Ob(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const s=e.reduce((i,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(n):L5(n.getAttribute(o.name));return a==null?i:{...i,[o.name]:a}},{});return{...r,...s}}}}function jb(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&D5(n)?!1:n!=null))}function F5(t,e){var n;const r=jE(t),{nodeExtensions:s,markExtensions:i}=Hh(t),o=(n=s.find(c=>ne(c,"topNode")))===null||n===void 0?void 0:n.name,a=Object.fromEntries(s.map(c=>{const u=r.filter(v=>v.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},h=t.reduce((v,g)=>{const b=ne(g,"extendNodeSchema",d);return{...v,...b?b(c):{}}},{}),p=jb({...h,content:Ee(ne(c,"content",d)),marks:Ee(ne(c,"marks",d)),group:Ee(ne(c,"group",d)),inline:Ee(ne(c,"inline",d)),atom:Ee(ne(c,"atom",d)),selectable:Ee(ne(c,"selectable",d)),draggable:Ee(ne(c,"draggable",d)),code:Ee(ne(c,"code",d)),whitespace:Ee(ne(c,"whitespace",d)),defining:Ee(ne(c,"defining",d)),isolating:Ee(ne(c,"isolating",d)),attrs:Object.fromEntries(u.map(v=>{var g;return[v.name,{default:(g=v==null?void 0:v.attribute)===null||g===void 0?void 0:g.default}]}))}),m=Ee(ne(c,"parseHTML",d));m&&(p.parseDOM=m.map(v=>Ob(v,u)));const y=ne(c,"renderHTML",d);y&&(p.toDOM=v=>y({node:v,HTMLAttributes:cy(v,u)}));const x=ne(c,"renderText",d);return x&&(p.toText=x),[c.name,p]})),l=Object.fromEntries(i.map(c=>{const u=r.filter(x=>x.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},h=t.reduce((x,v)=>{const g=ne(v,"extendMarkSchema",d);return{...x,...g?g(c):{}}},{}),p=jb({...h,inclusive:Ee(ne(c,"inclusive",d)),excludes:Ee(ne(c,"excludes",d)),group:Ee(ne(c,"group",d)),spanning:Ee(ne(c,"spanning",d)),code:Ee(ne(c,"code",d)),attrs:Object.fromEntries(u.map(x=>{var v;return[x.name,{default:(v=x==null?void 0:x.attribute)===null||v===void 0?void 0:v.default}]}))}),m=Ee(ne(c,"parseHTML",d));m&&(p.parseDOM=m.map(x=>Ob(x,u)));const y=ne(c,"renderHTML",d);return y&&(p.toDOM=x=>y({mark:x,HTMLAttributes:cy(x,u)})),[c.name,p]}));return new EC({topNode:o,nodes:a,marks:l})}function lm(t,e){return e.nodes[t]||e.marks[t]||null}function Mb(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}const z5=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(s,i,o,a)=>{var l,c;const u=((c=(l=s.type.spec).toText)===null||c===void 0?void 0:c.call(l,{node:s,pos:i,parent:o,index:a}))||s.textContent||"%leaf%";n+=s.isAtom&&!s.isText?u:u.slice(0,Math.max(0,r-i))}),n};function ev(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class qh{constructor(e){this.find=e.find,this.handler=e.handler}}const $5=(t,e)=>{if(ev(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Cd(t){var e;const{editor:n,from:r,to:s,text:i,rules:o,plugin:a}=t,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(h=>h.type.spec.code))return!1;let u=!1;const d=z5(c)+i;return o.forEach(h=>{if(u)return;const p=$5(d,h.find);if(!p)return;const m=l.state.tr,y=Vh({state:l.state,transaction:m}),x={from:r-(p[0].length-i.length),to:s},{commands:v,chain:g,can:b}=new Uh({editor:n,state:y});h.handler({state:y,range:x,match:p,commands:v,chain:g,can:b})===null||!m.steps.length||(m.setMeta(a,{transform:m,from:r,to:s,text:i}),l.dispatch(m),u=!0)}),u}function B5(t){const{editor:e,rules:n}=t,r=new lr({state:{init(){return null},apply(s,i){const o=s.getMeta(r);if(o)return o;const a=s.getMeta("applyInputRules");return!!a&&setTimeout(()=>{const{from:c,text:u}=a,d=c+u.length;Cd({editor:e,from:c,to:d,text:u,rules:n,plugin:r})}),s.selectionSet||s.docChanged?null:i}},props:{handleTextInput(s,i,o,a){return Cd({editor:e,from:i,to:o,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:i}=s.state.selection;i&&Cd({editor:e,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(s,i){if(i.key!=="Enter")return!1;const{$cursor:o}=s.state.selection;return o?Cd({editor:e,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function V5(t){return typeof t=="number"}class U5{constructor(e){this.find=e.find,this.handler=e.handler}}const H5=(t,e,n)=>{if(ev(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(s=>{const i=[s.text];return i.index=s.index,i.input=t,i.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(s.replaceWith)),i}):[]};function q5(t){const{editor:e,state:n,from:r,to:s,rule:i,pasteEvent:o,dropEvent:a}=t,{commands:l,chain:c,can:u}=new Uh({editor:e,state:n}),d=[];return n.doc.nodesBetween(r,s,(p,m)=>{if(!p.isTextblock||p.type.spec.code)return;const y=Math.max(r,m),x=Math.min(s,m+p.content.size),v=p.textBetween(y-m,x-m,void 0,"￼");H5(v,i.find,o).forEach(b=>{if(b.index===void 0)return;const k=y+b.index+1,O=k+b[0].length,T={from:n.tr.mapping.map(k),to:n.tr.mapping.map(O)},j=i.handler({state:n,range:T,match:b,commands:l,chain:c,can:u,pasteEvent:o,dropEvent:a});d.push(j)})}),d.every(p=>p!==null)}const W5=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function K5(t){const{editor:e,rules:n}=t;let r=null,s=!1,i=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a=typeof DragEvent<"u"?new DragEvent("drop"):null;const l=({state:u,from:d,to:h,rule:p,pasteEvt:m})=>{const y=u.tr,x=Vh({state:u,transaction:y});if(!(!q5({editor:e,state:x,from:Math.max(d-1,0),to:h.b-1,rule:p,pasteEvent:m,dropEvent:a})||!y.steps.length))return a=typeof DragEvent<"u"?new DragEvent("drop"):null,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,y};return n.map(u=>new lr({view(d){const h=p=>{var m;r=!((m=d.dom.parentElement)===null||m===void 0)&&m.contains(p.target)?d.dom.parentElement:null};return window.addEventListener("dragstart",h),{destroy(){window.removeEventListener("dragstart",h)}}},props:{handleDOMEvents:{drop:(d,h)=>(i=r===d.dom.parentElement,a=h,!1),paste:(d,h)=>{var p;const m=(p=h.clipboardData)===null||p===void 0?void 0:p.getData("text/html");return o=h,s=!!(m!=null&&m.includes("data-pm-slice")),!1}}},appendTransaction:(d,h,p)=>{const m=d[0],y=m.getMeta("uiEvent")==="paste"&&!s,x=m.getMeta("uiEvent")==="drop"&&!i,v=m.getMeta("applyPasteRules"),g=!!v;if(!y&&!x&&!g)return;if(g){const{from:O,text:T}=v,j=O+T.length,w=W5(T);return l({rule:u,state:p,from:O,to:{b:j},pasteEvt:w})}const b=h.doc.content.findDiffStart(p.doc.content),k=h.doc.content.findDiffEnd(p.doc.content);if(!(!V5(b)||!k||b===k.b))return l({rule:u,state:p,from:b,to:k,pasteEvt:o})}}))}function J5(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}class wa{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=wa.resolve(e),this.schema=F5(this.extensions,n),this.setupExtensions()}static resolve(e){const n=wa.sort(wa.flatten(e)),r=J5(n.map(s=>s.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},s=ne(n,"addExtensions",r);return s?[n,...this.flatten(s())]:n}).flat(10)}static sort(e){return e.sort((r,s)=>{const i=ne(r,"priority")||100,o=ne(s,"priority")||100;return i>o?-1:i<o?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:lm(n.name,this.schema)},s=ne(n,"addCommands",r);return s?{...e,...s()}:e},{})}get plugins(){const{editor:e}=this,n=wa.sort([...this.extensions].reverse()),r=[],s=[],i=n.map(o=>{const a={name:o.name,options:o.options,storage:o.storage,editor:e,type:lm(o.name,this.schema)},l=[],c=ne(o,"addKeyboardShortcuts",a);let u={};if(o.type==="mark"&&ne(o,"exitable",a)&&(u.ArrowRight=()=>Zr.handleExit({editor:e,mark:o})),c){const y=Object.fromEntries(Object.entries(c()).map(([x,v])=>[x,()=>v({editor:e})]));u={...u,...y}}const d=c5(u);l.push(d);const h=ne(o,"addInputRules",a);Mb(o,e.options.enableInputRules)&&h&&r.push(...h());const p=ne(o,"addPasteRules",a);Mb(o,e.options.enablePasteRules)&&p&&s.push(...p());const m=ne(o,"addProseMirrorPlugins",a);if(m){const y=m();l.push(...y)}return l}).flat();return[B5({editor:e,rules:r}),...K5({editor:e,rules:s}),...i]}get attributes(){return jE(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=Hh(this.extensions);return Object.fromEntries(n.filter(r=>!!ne(r,"addNodeView")).map(r=>{const s=this.attributes.filter(l=>l.type===r.name),i={name:r.name,options:r.options,storage:r.storage,editor:e,type:Lt(r.name,this.schema)},o=ne(r,"addNodeView",i);if(!o)return[];const a=(l,c,u,d)=>{const h=cy(l,s);return o()({editor:e,node:l,getPos:u,decorations:d,HTMLAttributes:h,extension:r})};return[r.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:lm(e.name,this.schema)};e.type==="mark"&&(!((n=Ee(ne(e,"keepOnSplit",r)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const s=ne(e,"onBeforeCreate",r),i=ne(e,"onCreate",r),o=ne(e,"onUpdate",r),a=ne(e,"onSelectionUpdate",r),l=ne(e,"onTransaction",r),c=ne(e,"onFocus",r),u=ne(e,"onBlur",r),d=ne(e,"onDestroy",r);s&&this.editor.on("beforeCreate",s),i&&this.editor.on("create",i),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),d&&this.editor.on("destroy",d)})}}function Q5(t){return Object.prototype.toString.call(t).slice(8,-1)}function Ed(t){return Q5(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Wh(t,e){const n={...t};return Ed(t)&&Ed(e)&&Object.keys(e).forEach(r=>{Ed(e[r])&&Ed(t[r])?n[r]=Wh(t[r],e[r]):n[r]=e[r]}),n}class Bn{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ee(ne(this,"addOptions",{name:this.name}))),this.storage=Ee(ne(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Bn(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Wh(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Bn({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Ee(ne(n,"addOptions",{name:n.name})),n.storage=Ee(ne(n,"addStorage",{name:n.name,options:n.options})),n}}function PE(t,e,n){const{from:r,to:s}=e,{blockSeparator:i=`

`,textSerializers:o={}}=n||{};let a="";return t.nodesBetween(r,s,(l,c,u,d)=>{var h;l.isBlock&&c>r&&(a+=i);const p=o==null?void 0:o[l.type.name];if(p)return u&&(a+=p({node:l,pos:c,parent:u,index:d,range:e})),!1;l.isText&&(a+=(h=l==null?void 0:l.text)===null||h===void 0?void 0:h.slice(Math.max(r,c)-c,s-c))}),a}function AE(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const Z5=Bn.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new lr({key:new Fi("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:s}=e,{ranges:i}=s,o=Math.min(...i.map(u=>u.$from.pos)),a=Math.max(...i.map(u=>u.$to.pos)),l=AE(n);return PE(r,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),G5=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),Y5=(t=!1)=>({commands:e})=>e.setContent("",t),X5=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:s}=r;return n&&s.forEach(({$from:i,$to:o})=>{t.doc.nodesBetween(i.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=e,d=c.resolve(u.map(l)),h=c.resolve(u.map(l+a.nodeSize)),p=d.blockRange(h);if(!p)return;const m=_l(p);if(a.type.isTextblock){const{defaultType:y}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(p.start,y)}(m||m===0)&&e.lift(p,m)})}),!0},e6=t=>e=>t(e),t6=()=>({state:t,dispatch:e})=>k5(t,e),n6=(t,e)=>({editor:n,tr:r})=>{const{state:s}=n,i=s.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const o=r.mapping.map(e);return r.insert(o,i.content),r.setSelection(new xe(r.doc.resolve(o-1))),!0},r6=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const s=t.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===r.type){if(e){const a=s.before(i),l=s.after(i);t.delete(a,l).scrollIntoView()}return!0}return!1},s6=t=>({tr:e,state:n,dispatch:r})=>{const s=Lt(t,n.schema),i=e.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===s){if(r){const l=i.before(o),c=i.after(o);e.delete(l,c).scrollIntoView()}return!0}return!1},i6=t=>({tr:e,dispatch:n})=>{const{from:r,to:s}=t;return n&&e.delete(r,s),!0},o6=()=>({state:t,dispatch:e})=>u5(t,e),a6=()=>({commands:t})=>t.keyboardShortcut("Enter"),l6=()=>({state:t,dispatch:e})=>w5(t,e);function nh(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(s=>n.strict?e[s]===t[s]:ev(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function uy(t,e,n={}){return t.find(r=>r.type===e&&nh(r.attrs,n))}function c6(t,e,n={}){return!!uy(t,e,n)}function tv(t,e,n={}){if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if(t.parentOffset===r.offset&&r.offset!==0&&(r=t.parent.childBefore(t.parentOffset)),!r.node)return;const s=uy([...r.node.marks],e,n);if(!s)return;let i=r.index,o=t.start()+r.offset,a=i+1,l=o+r.node.nodeSize;for(uy([...r.node.marks],e,n);i>0&&s.isInSet(t.parent.child(i-1).marks);)i-=1,o-=t.parent.child(i).nodeSize;for(;a<t.parent.childCount&&c6([...t.parent.child(a).marks],e,n);)l+=t.parent.child(a).nodeSize,a+=1;return{from:o,to:l}}function $i(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const u6=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const i=$i(t,r.schema),{doc:o,selection:a}=n,{$from:l,from:c,to:u}=a;if(s){const d=tv(l,i,e);if(d&&d.from<=c&&d.to>=u){const h=xe.create(o,d.from,d.to);n.setSelection(h)}}return!0},d6=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function RE(t){return t instanceof xe}function ro(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function IE(t,e=null){if(!e)return null;const n=we.atStart(t),r=we.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const s=n.from,i=r.to;return e==="all"?xe.create(t,ro(0,s,i),ro(t.content.size,s,i)):xe.create(t,ro(e,s,i),ro(e,s,i))}function nv(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const f6=(t=null,e={})=>({editor:n,view:r,tr:s,dispatch:i})=>{e={scrollIntoView:!0,...e};const o=()=>{nv()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!RE(n.state.selection))return o(),!0;const a=IE(s.doc,t)||n.state.selection,l=n.state.selection.eq(a);return i&&(l||s.setSelection(a),l&&s.storedMarks&&s.setStoredMarks(s.storedMarks),o()),!0},h6=(t,e)=>n=>t.every((r,s)=>e(r,{...n,index:s})),p6=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),DE=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&DE(r)}return t};function Nd(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return DE(n)}function rh(t,e,n){n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,s=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return L.fromArray(t.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(t);return n.errorOnInvalidContent&&o.check(),o}catch(i){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),rh("",e,n)}if(s){if(n.errorOnInvalidContent){let o=!1,a="";const l=new EC({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(o=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?wi.fromSchema(l).parseSlice(Nd(t),n.parseOptions):wi.fromSchema(l).parse(Nd(t),n.parseOptions),n.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const i=wi.fromSchema(e);return n.slice?i.parseSlice(Nd(t),n.parseOptions).content:i.parse(Nd(t),n.parseOptions)}return rh("",e,n)}function m6(t,e,n){const r=t.steps.length-1;if(r<e)return;const s=t.steps[r];if(!(s instanceof At||s instanceof It))return;const i=t.mapping.maps[r];let o=0;i.forEach((a,l,c,u)=>{o===0&&(o=u)}),t.setSelection(we.near(t.doc.resolve(o),n))}const g6=t=>!("type"in t),y6=(t,e,n)=>({tr:r,dispatch:s,editor:i})=>{var o;if(s){n={parseOptions:{},updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;try{a=rh(e,i.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(o=n.errorOnInvalidContent)!==null&&o!==void 0?o:i.options.enableContentCheck})}catch(m){return i.emit("contentError",{editor:i,error:m,disableCollaboration:()=>{console.error("[tiptap error]: Unable to disable collaboration at this point in time")}}),!1}let{from:l,to:c}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},u=!0,d=!0;if((g6(a)?a:[a]).forEach(m=>{m.check(),u=u?m.isText&&m.marks.length===0:!1,d=d?m.isBlock:!1}),l===c&&d){const{parent:m}=r.doc.resolve(l);m.isTextblock&&!m.type.spec.code&&!m.childCount&&(l-=1,c+=1)}let p;u?(Array.isArray(e)?p=e.map(m=>m.text||"").join(""):typeof e=="object"&&e&&e.text?p=e.text:p=e,r.insertText(p,l,c)):(p=a,r.replaceWith(l,c,p)),n.updateSelection&&m6(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:l,text:p}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:l,text:p})}return!0},v6=()=>({state:t,dispatch:e})=>y5(t,e),x6=()=>({state:t,dispatch:e})=>v5(t,e),b6=()=>({state:t,dispatch:e})=>d5(t,e),w6=()=>({state:t,dispatch:e})=>m5(t,e),k6=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Dh(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},S6=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Dh(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},_6=()=>({state:t,dispatch:e})=>f5(t,e),C6=()=>({state:t,dispatch:e})=>h5(t,e);function LE(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function E6(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,s,i,o;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))s=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))nv()||LE()?o=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}const N6=t=>({editor:e,view:n,tr:r,dispatch:s})=>{const i=E6(t).split(/-(?!$)/),o=i.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,a))});return l==null||l.steps.forEach(c=>{const u=c.map(r.mapping);u&&s&&r.maybeStep(u)}),!0};function fu(t,e,n={}){const{from:r,to:s,empty:i}=t.selection,o=e?Lt(e,t.schema):null,a=[];t.doc.nodesBetween(r,s,(d,h)=>{if(d.isText)return;const p=Math.max(r,h),m=Math.min(s,h+d.nodeSize);a.push({node:d,from:p,to:m})});const l=s-r,c=a.filter(d=>o?o.name===d.node.type.name:!0).filter(d=>nh(d.node.attrs,n,{strict:!1}));return i?!!c.length:c.reduce((d,h)=>d+h.to-h.from,0)>=l}const T6=(t,e={})=>({state:n,dispatch:r})=>{const s=Lt(t,n.schema);return fu(n,s,e)?x5(n,r):!1},O6=()=>({state:t,dispatch:e})=>S5(t,e),j6=t=>({state:e,dispatch:n})=>{const r=Lt(t,e.schema);return M5(r)(e,n)},M6=()=>({state:t,dispatch:e})=>b5(t,e);function Kh(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Pb(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,s)=>(n.includes(s)||(r[s]=t[s]),r),{})}const P6=(t,e)=>({tr:n,state:r,dispatch:s})=>{let i=null,o=null;const a=Kh(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(i=Lt(t,r.schema)),a==="mark"&&(o=$i(t,r.schema)),s&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{i&&i===c.type&&n.setNodeMarkup(u,void 0,Pb(c.attrs,e)),o&&c.marks.length&&c.marks.forEach(d=>{o===d.type&&n.addMark(u,u+c.nodeSize,o.create(Pb(d.attrs,e)))})})}),!0):!1},A6=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),R6=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),I6=()=>({state:t,dispatch:e})=>p5(t,e),D6=()=>({state:t,dispatch:e})=>g5(t,e),L6=()=>({state:t,dispatch:e})=>_5(t,e),F6=()=>({state:t,dispatch:e})=>N5(t,e),z6=()=>({state:t,dispatch:e})=>E5(t,e);function dy(t,e,n={},r={}){return rh(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}const $6=(t,e=!1,n={},r={})=>({editor:s,tr:i,dispatch:o,commands:a})=>{var l,c;const{doc:u}=i;if(n.preserveWhitespace!=="full"){const d=dy(t,s.schema,n,{errorOnInvalidContent:(l=r.errorOnInvalidContent)!==null&&l!==void 0?l:s.options.enableContentCheck});return o&&i.replaceWith(0,u.content.size,d).setMeta("preventUpdate",!e),!0}return o&&i.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:u.content.size},t,{parseOptions:n,errorOnInvalidContent:(c=r.errorOnInvalidContent)!==null&&c!==void 0?c:s.options.enableContentCheck})};function Jh(t,e){const n=$i(e,t.schema),{from:r,to:s,empty:i}=t.selection,o=[];i?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,s,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function B6(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function V6(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function rv(t){return e=>V6(e.$from,t)}function U6(t,e){const n=Ho.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(n),s.innerHTML}function H6(t,e){const n={from:0,to:t.content.size};return PE(t,n,e)}function q6(t,e){const n=Lt(e,t.schema),{from:r,to:s}=t.selection,i=[];t.doc.nodesBetween(r,s,a=>{i.push(a)});const o=i.reverse().find(a=>a.type.name===n.name);return o?{...o.attrs}:{}}function W6(t,e){const n=Kh(typeof e=="string"?e:e.name,t.schema);return n==="node"?q6(t,e):n==="mark"?Jh(t,e):{}}function FE(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(s=>{const i=n.resolve(t),o=tv(i,s.type);o&&r.push({mark:s,...o})}):n.nodesBetween(t,e,(s,i)=>{!s||(s==null?void 0:s.nodeSize)===void 0||r.push(...s.marks.map(o=>({from:i,to:i+s.nodeSize,mark:o})))}),r}function Zd(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const s=t.find(i=>i.type===e&&i.name===r);return s?s.attribute.keepOnSplit:!1}))}function fy(t,e,n={}){const{empty:r,ranges:s}=t.selection,i=e?$i(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(d=>i?i.name===d.type.name:!0).find(d=>nh(d.attrs,n,{strict:!1}));let o=0;const a=[];if(s.forEach(({$from:d,$to:h})=>{const p=d.pos,m=h.pos;t.doc.nodesBetween(p,m,(y,x)=>{if(!y.isText&&!y.marks.length)return;const v=Math.max(p,x),g=Math.min(m,x+y.nodeSize),b=g-v;o+=b,a.push(...y.marks.map(k=>({mark:k,from:v,to:g})))})}),o===0)return!1;const l=a.filter(d=>i?i.name===d.mark.type.name:!0).filter(d=>nh(d.mark.attrs,n,{strict:!1})).reduce((d,h)=>d+h.to-h.from,0),c=a.filter(d=>i?d.mark.type!==i&&d.mark.type.excludes(i):!0).reduce((d,h)=>d+h.to-h.from,0);return(l>0?l+c:l)>=o}function K6(t,e,n={}){if(!e)return fu(t,null,n)||fy(t,null,n);const r=Kh(e,t.schema);return r==="node"?fu(t,e,n):r==="mark"?fy(t,e,n):!1}function Ab(t,e){const{nodeExtensions:n}=Hh(e),r=n.find(o=>o.name===t);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},i=Ee(ne(r,"group",s));return typeof i!="string"?!1:i.split(" ").includes("list")}function zE(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!==null&&r!==void 0?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let s=!0;return t.content.forEach(i=>{s!==!1&&(zE(i,{ignoreWhitespace:n,checkChildren:e})||(s=!1))}),s}return!1}function J6(t){return t instanceof de}function Q6(t,e,n){var r;const{selection:s}=e;let i=null;if(RE(s)&&(i=s.$cursor),i){const a=(r=t.storedMarks)!==null&&r!==void 0?r:i.marks();return!!n.isInSet(a)||!a.some(l=>l.type.excludes(n))}const{ranges:o}=s;return o.some(({$from:a,$to:l})=>{let c=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,l.pos,(u,d,h)=>{if(c)return!1;if(u.isInline){const p=!h||h.type.allowsMarkType(n),m=!!n.isInSet(u.marks)||!u.marks.some(y=>y.type.excludes(n));c=p&&m}return!c}),c})}const Z6=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const{selection:i}=n,{empty:o,ranges:a}=i,l=$i(t,r.schema);if(s)if(o){const c=Jh(r,l);n.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(h,p)=>{const m=Math.max(p,u),y=Math.min(p+h.nodeSize,d);h.marks.find(v=>v.type===l)?h.marks.forEach(v=>{l===v.type&&n.addMark(m,y,l.create({...v.attrs,...e}))}):n.addMark(m,y,l.create(e))})});return Q6(r,n,l)},G6=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),Y6=(t,e={})=>({state:n,dispatch:r,chain:s})=>{const i=Lt(t,n.schema);return i.isTextblock?s().command(({commands:o})=>Tb(i,e)(n)?!0:o.clearNodes()).command(({state:o})=>Tb(i,e)(o,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},X6=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,s=ro(t,0,r.content.size),i=de.create(r,s);e.setSelection(i)}return!0},eF=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:s,to:i}=typeof t=="number"?{from:t,to:t}:t,o=xe.atStart(r).from,a=xe.atEnd(r).to,l=ro(s,o,a),c=ro(i,o,a),u=xe.create(r,l,c);e.setSelection(u)}return!0},tF=t=>({state:e,dispatch:n})=>{const r=Lt(t,e.schema);return R5(r)(e,n)};function Rb(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(s=>e==null?void 0:e.includes(s.type.name));t.tr.ensureMarks(r)}}const nF=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:s})=>{const{selection:i,doc:o}=e,{$from:a,$to:l}=i,c=s.extensionManager.attributes,u=Zd(c,a.node().type.name,a.node().attrs);if(i instanceof de&&i.node.isBlock)return!a.parentOffset||!Aa(o,a.pos)?!1:(r&&(t&&Rb(n,s.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,h=a.depth===0?void 0:B6(a.node(-1).contentMatchAt(a.indexAfter(-1)));let p=d&&h?[{type:h,attrs:u}]:void 0,m=Aa(e.doc,e.mapping.map(a.pos),1,p);if(!p&&!m&&Aa(e.doc,e.mapping.map(a.pos),1,h?[{type:h}]:void 0)&&(m=!0,p=h?[{type:h,attrs:u}]:void 0),r){if(m&&(i instanceof xe&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,p),h&&!d&&!a.parentOffset&&a.parent.type!==h)){const y=e.mapping.map(a.before()),x=e.doc.resolve(y);a.node(-1).canReplaceWith(x.index(),x.index()+1,h)&&e.setNodeMarkup(e.mapping.map(a.before()),h)}t&&Rb(n,s.extensionManager.splittableMarks),e.scrollIntoView()}return m},rF=(t,e={})=>({tr:n,state:r,dispatch:s,editor:i})=>{var o;const a=Lt(t,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==a)return!1;const h=i.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(s){let v=L.empty;const g=l.index(-1)?1:l.index(-2)?2:3;for(let w=l.depth-g;w>=l.depth-3;w-=1)v=L.from(l.node(w).copy(v));const b=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,k={...Zd(h,l.node().type.name,l.node().attrs),...e},O=((o=a.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(k))||void 0;v=v.append(L.from(a.createAndFill(null,O)||void 0));const T=l.before(l.depth-(g-1));n.replace(T,l.after(-b),new J(v,4-g,0));let j=-1;n.doc.nodesBetween(T,n.doc.content.size,(w,A)=>{if(j>-1)return!1;w.isTextblock&&w.content.size===0&&(j=A+1)}),j>-1&&n.setSelection(xe.near(n.doc.resolve(j))),n.scrollIntoView()}return!0}const p=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,m={...Zd(h,d.type.name,d.attrs),...e},y={...Zd(h,l.node().type.name,l.node().attrs),...e};n.delete(l.pos,c.pos);const x=p?[{type:a,attrs:m},{type:p,attrs:y}]:[{type:a,attrs:m}];if(!Aa(n.doc,l.pos,2))return!1;if(s){const{selection:v,storedMarks:g}=r,{splittableMarks:b}=i.extensionManager,k=g||v.$to.parentOffset&&v.$from.marks();if(n.split(l.pos,2,x).scrollIntoView(),!k||!s)return!0;const O=k.filter(T=>b.includes(T.type.name));n.ensureMarks(O)}return!0},cm=(t,e)=>{const n=rv(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===(s==null?void 0:s.type)&&Li(t.doc,n.pos)&&t.join(n.pos),!0},um=(t,e)=>{const n=rv(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===(s==null?void 0:s.type)&&Li(t.doc,r)&&t.join(r),!0},sF=(t,e,n,r={})=>({editor:s,tr:i,state:o,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:h}=s.extensionManager,p=Lt(t,o.schema),m=Lt(e,o.schema),{selection:y,storedMarks:x}=o,{$from:v,$to:g}=y,b=v.blockRange(g),k=x||y.$to.parentOffset&&y.$from.marks();if(!b)return!1;const O=rv(T=>Ab(T.type.name,d))(y);if(b.depth>=1&&O&&b.depth-O.depth<=1){if(O.node.type===p)return c.liftListItem(m);if(Ab(O.node.type.name,d)&&p.validContent(O.node.content)&&a)return l().command(()=>(i.setNodeMarkup(O.pos,p),!0)).command(()=>cm(i,p)).command(()=>um(i,p)).run()}return!n||!k||!a?l().command(()=>u().wrapInList(p,r)?!0:c.clearNodes()).wrapInList(p,r).command(()=>cm(i,p)).command(()=>um(i,p)).run():l().command(()=>{const T=u().wrapInList(p,r),j=k.filter(w=>h.includes(w.type.name));return i.ensureMarks(j),T?!0:c.clearNodes()}).wrapInList(p,r).command(()=>cm(i,p)).command(()=>um(i,p)).run()},iF=(t,e={},n={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:i=!1}=n,o=$i(t,r.schema);return fy(r,o,e)?s.unsetMark(o,{extendEmptyMarkRange:i}):s.setMark(o,e)},oF=(t,e,n={})=>({state:r,commands:s})=>{const i=Lt(t,r.schema),o=Lt(e,r.schema);return fu(r,i,n)?s.setNode(o):s.setNode(i,n)},aF=(t,e={})=>({state:n,commands:r})=>{const s=Lt(t,n.schema);return fu(n,s,e)?r.lift(s):r.wrapIn(s,e)},lF=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const s=n[r];let i;if(s.spec.isInputRules&&(i=s.getState(t))){if(e){const o=t.tr,a=i.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(i.text){const l=o.doc.resolve(i.from).marks();o.replaceWith(i.from,i.to,t.schema.text(i.text,l))}else o.delete(i.from,i.to)}return!0}}return!1},cF=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:s}=n;return r||e&&s.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},uF=(t,e={})=>({tr:n,state:r,dispatch:s})=>{var i;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=n,l=$i(t,r.schema),{$from:c,empty:u,ranges:d}=a;if(!s)return!0;if(u&&o){let{from:h,to:p}=a;const m=(i=c.marks().find(x=>x.type===l))===null||i===void 0?void 0:i.attrs,y=tv(c,l,m);y&&(h=y.from,p=y.to),n.removeMark(h,p,l)}else d.forEach(h=>{n.removeMark(h.$from.pos,h.$to.pos,l)});return n.removeStoredMark(l),!0},dF=(t,e={})=>({tr:n,state:r,dispatch:s})=>{let i=null,o=null;const a=Kh(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(i=Lt(t,r.schema)),a==="mark"&&(o=$i(t,r.schema)),s&&n.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;r.doc.nodesBetween(c,u,(d,h)=>{i&&i===d.type&&n.setNodeMarkup(h,void 0,{...d.attrs,...e}),o&&d.marks.length&&d.marks.forEach(p=>{if(o===p.type){const m=Math.max(h,c),y=Math.min(h+d.nodeSize,u);n.addMark(m,y,o.create({...p.attrs,...e}))}})})}),!0):!1},fF=(t,e={})=>({state:n,dispatch:r})=>{const s=Lt(t,n.schema);return T5(s,e)(n,r)},hF=(t,e={})=>({state:n,dispatch:r})=>{const s=Lt(t,n.schema);return O5(s,e)(n,r)};var pF=Object.freeze({__proto__:null,blur:G5,clearContent:Y5,clearNodes:X5,command:e6,createParagraphNear:t6,cut:n6,deleteCurrentNode:r6,deleteNode:s6,deleteRange:i6,deleteSelection:o6,enter:a6,exitCode:l6,extendMarkRange:u6,first:d6,focus:f6,forEach:h6,insertContent:p6,insertContentAt:y6,joinBackward:b6,joinDown:x6,joinForward:w6,joinItemBackward:k6,joinItemForward:S6,joinTextblockBackward:_6,joinTextblockForward:C6,joinUp:v6,keyboardShortcut:N6,lift:T6,liftEmptyBlock:O6,liftListItem:j6,newlineInCode:M6,resetAttributes:P6,scrollIntoView:A6,selectAll:R6,selectNodeBackward:I6,selectNodeForward:D6,selectParentNode:L6,selectTextblockEnd:F6,selectTextblockStart:z6,setContent:$6,setMark:Z6,setMeta:G6,setNode:Y6,setNodeSelection:X6,setTextSelection:eF,sinkListItem:tF,splitBlock:nF,splitListItem:rF,toggleList:sF,toggleMark:iF,toggleNode:oF,toggleWrap:aF,undoInputRule:lF,unsetAllMarks:cF,unsetMark:uF,updateAttributes:dF,wrapIn:fF,wrapInList:hF});const mF=Bn.create({name:"commands",addCommands(){return{...pF}}}),gF=Bn.create({name:"editable",addProseMirrorPlugins(){return[new lr({key:new Fi("editable"),props:{editable:()=>this.editor.options.editable}})]}}),yF=Bn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new lr({key:new Fi("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),vF=Bn.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:d}=l,{pos:h,parent:p}=d,m=d.parent.isTextblock&&h>0?a.doc.resolve(h-1):d,y=m.parent.type.spec.isolating,x=d.pos-d.parentOffset,v=y&&m.parent.childCount===1?x===d.pos:we.atStart(c).from===h;return!u||!p.type.isTextblock||p.textContent.length||!v||v&&d.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},i={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return nv()||LE()?i:s},addProseMirrorPlugins(){return[new lr({key:new Fi("clearDocument"),appendTransaction:(t,e,n)=>{if(!(t.some(m=>m.docChanged)&&!e.doc.eq(n.doc)))return;const{empty:s,from:i,to:o}=e.selection,a=we.atStart(e.doc).from,l=we.atEnd(e.doc).to;if(s||!(i===a&&o===l)||!(n.doc.textBetween(0,n.doc.content.size," "," ").length===0))return;const d=n.tr,h=Vh({state:n,transaction:d}),{commands:p}=new Uh({editor:this.editor,state:h});if(p.clearNodes(),!!d.steps.length)return d}})]}}),xF=Bn.create({name:"tabindex",addProseMirrorPlugins(){return[new lr({key:new Fi("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Qi{get name(){return this.node.type.name}constructor(e,n,r=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=s}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Qi(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Qi(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Qi(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const s=n.isBlock&&!n.isTextblock,i=this.pos+r+1,o=this.resolvedPos.doc.resolve(i);if(!s&&o.depth<=this.depth)return;const a=new Qi(o,this.editor,s,s?n:null);s&&(a.actualDepth=this.depth+1),e.push(new Qi(o,this.editor,s,s?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,s=this.parent;for(;s&&!r;){if(s.node.type.name===e)if(Object.keys(n).length>0){const i=s.node.attrs,o=Object.keys(n);for(let a=0;a<o.length;a+=1){const l=o[a];if(i[l]!==n[l])break}}else r=s;s=s.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let s=[];if(!this.children||this.children.length===0)return s;const i=Object.keys(n);return this.children.forEach(o=>{r&&s.length>0||(o.node.type.name===e&&i.every(l=>n[l]===o.node.attrs[l])&&s.push(o),!(r&&s.length>0)&&(s=s.concat(o.querySelectorAll(e,n,r))))}),s}setAttribute(e){const n=this.editor.state.selection;this.editor.chain().setTextSelection(this.from).updateAttributes(this.node.type.name,e).setTextSelection(n.from).run()}}const bF=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function wF(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}let kF=class extends I5{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n}},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=wF(bF,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=ME(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],s=this.state.reconfigure({plugins:r});this.view.updateState(s)}unregisterPlugin(e){if(this.isDestroyed)return;const n=typeof e=="string"?`${e}$`:e.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(s=>!s.key.startsWith(n))});this.view.updateState(r)}createExtensionManager(){var e,n;const s=[...this.options.enableCoreExtensions?[gF,Z5.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),mF,yF,vF,xF]:[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new wa(s,this)}createCommandManager(){this.commandManager=new Uh({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){let e;try{e=dy(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(i){if(!(i instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(i.message))throw i;this.emit("contentError",{editor:this,error:i,disableCollaboration:()=>{this.options.extensions=this.options.extensions.filter(o=>o.name!=="collaboration"),this.createExtensionManager()}}),e=dy(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const n=IE(e,this.options.autofocus);this.view=new e5(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:ba.create({doc:e,selection:n||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(o)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const s=e.getMeta("focus"),i=e.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:e}),i&&this.emit("blur",{editor:this,event:i.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return W6(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,s=typeof e=="string"?n:e;return K6(this.state,r,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return U6(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return H6(this.state.doc,{blockSeparator:n,textSerializers:{...AE(this.schema),...r}})}get isEmpty(){return zE(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,n))||null}$nodes(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new Qi(n,this)}get $doc(){return this.$pos(0)}};function gl(t){return new qh({find:t.find,handler:({state:e,range:n,match:r})=>{const s=Ee(t.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:i}=e,o=r[r.length-1],a=r[0];if(o){const l=a.search(/\S/),c=n.from+a.indexOf(o),u=c+o.length;if(FE(n.from,n.to,e.doc).filter(p=>p.mark.type.excluded.find(y=>y===t.type&&y!==p.mark.type)).filter(p=>p.to>c).length)return null;u<n.to&&i.delete(u,n.to),c>n.from&&i.delete(n.from+l,c);const h=n.from+l+o.length;i.addMark(n.from+l,h,t.type.create(s||{})),i.removeStoredMark(t.type)}}})}function SF(t){return new qh({find:t.find,handler:({state:e,range:n,match:r})=>{const s=Ee(t.getAttributes,void 0,r)||{},{tr:i}=e,o=n.from;let a=n.to;const l=t.type.create(s);if(r[1]){const c=r[0].lastIndexOf(r[1]);let u=o+c;u>a?u=a:a=u+r[1].length;const d=r[0][r[0].length-1];i.insertText(d,o+r[0].length-1),i.replaceWith(u,a,l)}else if(r[0]){const c=t.type.isInline?o:o-1;i.insert(c,t.type.create(s)).delete(i.mapping.map(o),i.mapping.map(a))}i.scrollIntoView()}})}function hy(t){return new qh({find:t.find,handler:({state:e,range:n,match:r})=>{const s=e.doc.resolve(n.from),i=Ee(t.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,i)}})}function hu(t){return new qh({find:t.find,handler:({state:e,range:n,match:r,chain:s})=>{const i=Ee(t.getAttributes,void 0,r)||{},o=e.tr.delete(n.from,n.to),l=o.doc.resolve(n.from).blockRange(),c=l&&V0(l,t.type,i);if(!c)return null;if(o.wrap(l,c),t.keepMarks&&t.editor){const{selection:d,storedMarks:h}=e,{splittableMarks:p}=t.editor.extensionManager,m=h||d.$to.parentOffset&&d.$from.marks();if(m){const y=m.filter(x=>p.includes(x.type.name));o.ensureMarks(y)}}if(t.keepAttributes){const d=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(d,i).run()}const u=o.doc.resolve(n.from-1).nodeBefore;u&&u.type===t.type&&Li(o.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,u))&&o.join(n.from-1)}})}class Zr{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ee(ne(this,"addOptions",{name:this.name}))),this.storage=Ee(ne(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Zr(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Wh(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Zr(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Ee(ne(n,"addOptions",{name:n.name})),n.storage=Ee(ne(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const o=s.marks();if(!!!o.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;const l=o.find(c=>(c==null?void 0:c.type.name)===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",s.pos),e.view.dispatch(r),!0}return!1}}class nn{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ee(ne(this,"addOptions",{name:this.name}))),this.storage=Ee(ne(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new nn(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Wh(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new nn(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Ee(ne(n,"addOptions",{name:n.name})),n.storage=Ee(ne(n,"addStorage",{name:n.name,options:n.options})),n}}function yl(t){return new U5({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:s})=>{const i=Ee(t.getAttributes,void 0,r,s);if(i===!1||i===null)return null;const{tr:o}=e,a=r[r.length-1],l=r[0];let c=n.to;if(a){const u=l.search(/\S/),d=n.from+l.indexOf(a),h=d+a.length;if(FE(n.from,n.to,e.doc).filter(m=>m.mark.type.excluded.find(x=>x===t.type&&x!==m.mark.type)).filter(m=>m.to>d).length)return null;h<n.to&&o.delete(h,n.to),d>n.from&&o.delete(n.from+u,d),c=n.from+u+a.length,o.addMark(n.from+u,c,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}var $E={exports:{}},dm={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ib;function _F(){if(Ib)return dm;Ib=1;var t=ce;function e(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,i=t.useLayoutEffect,o=t.useDebugValue;function a(d,h){var p=h(),m=r({inst:{value:p,getSnapshot:h}}),y=m[0].inst,x=m[1];return i(function(){y.value=p,y.getSnapshot=h,l(y)&&x({inst:y})},[d,p,h]),s(function(){return l(y)&&x({inst:y}),d(function(){l(y)&&x({inst:y})})},[d]),o(p),p}function l(d){var h=d.getSnapshot;d=d.value;try{var p=h();return!n(d,p)}catch{return!0}}function c(d,h){return h()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return dm.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:u,dm}$E.exports=_F();var sv=$E.exports;const CF=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},EF=({contentComponent:t})=>{const e=sv.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return ce.createElement(ce.Fragment,null,Object.values(e))};function NF(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:mS.createPortal(r.reactElement,r.element,n)},t.forEach(s=>s())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(s=>s())}}}class TF extends ce.Component{constructor(e){var n;super(e),this.editorContentRef=ce.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((n=e.editor)===null||n===void 0)&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=NF(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,innerRef:n,...r}=this.props;return ce.createElement(ce.Fragment,null,ce.createElement("div",{ref:CF(n,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&ce.createElement(EF,{contentComponent:e.contentComponent}))}}const OF=E.forwardRef((t,e)=>{const n=ce.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return ce.createElement(TF,{key:n,innerRef:e,...t})}),BE=ce.memo(OF);var VE={exports:{}},fm={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Db;function jF(){if(Db)return fm;Db=1;var t=ce,e=sv;function n(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,i=t.useRef,o=t.useEffect,a=t.useMemo,l=t.useDebugValue;return fm.useSyncExternalStoreWithSelector=function(c,u,d,h,p){var m=i(null);if(m.current===null){var y={hasValue:!1,value:null};m.current=y}else y=m.current;m=a(function(){function v(T){if(!g){if(g=!0,b=T,T=h(T),p!==void 0&&y.hasValue){var j=y.value;if(p(j,T))return k=j}return k=T}if(j=k,r(b,T))return j;var w=h(T);return p!==void 0&&p(j,w)?j:(b=T,k=w)}var g=!1,b,k,O=d===void 0?null:d;return[function(){return v(u())},O===null?void 0:function(){return v(O())}]},[u,d,h,p]);var x=s(c,m[0],m[1]);return o(function(){y.hasValue=!0,y.value=x},[x]),l(x),x},fm}VE.exports=jF();var MF=VE.exports;class PF{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const n=()=>{this.transactionNumber+=1,this.subscribers.forEach(s=>s())},r=this.editor;return r.on("transaction",n),()=>{r.off("transaction",n)}}}}function AF(t){const[e]=E.useState(()=>new PF(t.editor)),n=MF.useSyncExternalStoreWithSelector(e.subscribe,e.getSnapshot,e.getServerSnapshot,t.selector,t.equalityFn);return E.useEffect(()=>e.watch(t.editor),[t.editor,e]),E.useDebugValue(n),n}const RF=!1,py=typeof window>"u",IF=py||!!(typeof window<"u"&&window.next);class DF{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){if(this.options.current.immediatelyRender===void 0)return py||IF?null:this.createEditor();if(this.options.current.immediatelyRender&&py&&RF)throw new Error("Tiptap Error: SSR has been detected, and `immediatelyRender` has been set to `true` this is an unsupported configuration that may result in errors, explicitly set `immediatelyRender` to `false` to avoid hydration mismatches.");return this.options.current.immediatelyRender?this.createEditor():null}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var s,i;return(i=(s=this.options.current).onBeforeCreate)===null||i===void 0?void 0:i.call(s,...r)},onBlur:(...r)=>{var s,i;return(i=(s=this.options.current).onBlur)===null||i===void 0?void 0:i.call(s,...r)},onCreate:(...r)=>{var s,i;return(i=(s=this.options.current).onCreate)===null||i===void 0?void 0:i.call(s,...r)},onDestroy:(...r)=>{var s,i;return(i=(s=this.options.current).onDestroy)===null||i===void 0?void 0:i.call(s,...r)},onFocus:(...r)=>{var s,i;return(i=(s=this.options.current).onFocus)===null||i===void 0?void 0:i.call(s,...r)},onSelectionUpdate:(...r)=>{var s,i;return(i=(s=this.options.current).onSelectionUpdate)===null||i===void 0?void 0:i.call(s,...r)},onTransaction:(...r)=>{var s,i;return(i=(s=this.options.current).onTransaction)===null||i===void 0?void 0:i.call(s,...r)},onUpdate:(...r)=>{var s,i;return(i=(s=this.options.current).onUpdate)===null||i===void 0?void 0:i.call(s,...r)},onContentError:(...r)=>{var s,i;return(i=(s=this.options.current).onContentError)===null||i===void 0?void 0:i.call(s,...r)}};return new kF(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?this.editor.setOptions(this.options.current):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,s)=>r===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function UE(t={},e=[]){const n=E.useRef(t);n.current=t;const[r]=E.useState(()=>new DF(n)),s=sv.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return E.useDebugValue(s),E.useEffect(r.onRender(e)),AF({editor:s,selector:({transactionNumber:i})=>t.shouldRerenderOnTransaction===!1?null:t.immediatelyRender&&i===0?0:i+1}),s}const LF=E.createContext({editor:null});LF.Consumer;const FF=E.createContext({onDragStart:void 0}),zF=()=>E.useContext(FF);ce.forwardRef((t,e)=>{const{onDragStart:n}=zF(),r=t.as||"div";return ce.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});const $F=/^\s*>\s$/,BF=nn.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",Tt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[hu({find:$F,type:this.type})]}}),VF=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,UF=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,HF=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,qF=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,WF=Zr.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",Tt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[gl({find:VF,type:this.type}),gl({find:HF,type:this.type})]},addPasteRules(){return[yl({find:UF,type:this.type}),yl({find:qF,type:this.type})]}}),KF=nn.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Tt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Lb=Zr.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",Tt(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=Jh(t,this.type);return Object.entries(n).some(([,s])=>!!s)?!0:e.unsetMark(this.name)}}}}),Fb=/^\s*([-+*])\s$/,JF=nn.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Tt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(KF.name,this.editor.getAttributes(Lb.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=hu({find:Fb,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=hu({find:Fb,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Lb.name),editor:this.editor})),[t]}}),QF=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))$/,ZF=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))/g,GF=Zr.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Tt(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[gl({find:QF,type:this.type})]},addPasteRules(){return[yl({find:ZF,type:this.type})]}}),YF=/^```([a-z]+)?[\s\n]$/,XF=/^~~~([a-z]+)?[\s\n]$/,ez=nn.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,i=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Tt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type)return!1;const i=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!i||!o?!1:t.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:s,empty:i}=n;if(!i||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const a=s.after();return a===void 0?!1:r.nodeAt(a)?t.commands.command(({tr:c})=>(c.setSelection(we.near(r.resolve(a))),!0)):t.commands.exitCode()}}},addInputRules(){return[hy({find:YF,type:this.type,getAttributes:t=>({language:t[1]})}),hy({find:XF,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new lr({key:new Fi("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,i=s==null?void 0:s.mode;if(!n||!i)return!1;const{tr:o,schema:a}=t.state,l=a.text(n.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:i},l)),o.selection.$from.parent.type!==this.type&&o.setSelection(xe.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),tz=nn.create({name:"doc",topNode:!0,content:"block+"});function nz(t={}){return new lr({view(e){return new rz(e,t)}})}class rz{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let i=o=>{this[s](o)};return e.dom.addEventListener(s,i),{name:s,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let a=e.nodeBefore,l=e.nodeAfter;if(a||l){let c=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(c){let u=c.getBoundingClientRect(),d=a?u.bottom:u.top;a&&l&&(d=(d+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:u.left,right:u.right,top:d-this.width/2,bottom:d+this.width/2}}}}if(!r){let a=this.editorView.coordsAtPos(this.cursorPos);r={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let s=this.editorView.dom.offsetParent;this.element||(this.element=s.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let i,o;if(!s||s==document.body&&getComputedStyle(s).position=="static")i=-pageXOffset,o=-pageYOffset;else{let a=s.getBoundingClientRect();i=a.left-s.scrollLeft,o=a.top-s.scrollTop}this.element.style.left=r.left-i+"px",this.element.style.top=r.top-o+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=r&&r.type.spec.disableDropCursor,i=typeof s=="function"?s(this.editorView,n,e):s;if(n&&!i){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=DC(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const sz=Bn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[nz(this.options)]}});class ht extends we{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return ht.valid(r)?new ht(r):we.near(r)}content(){return J.empty}eq(e){return e instanceof ht&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new ht(e.resolve(n.pos))}getBookmark(){return new iv(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!iz(e)||!oz(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let s=n.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&ht.valid(e))return e;let s=e.pos,i=null;for(let o=e.depth;;o--){let a=e.node(o);if(n>0?e.indexAfter(o)<a.childCount:e.index(o)>0){i=a.child(n>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;s+=n;let l=e.doc.resolve(s);if(ht.valid(l))return l}for(;;){let o=n>0?i.firstChild:i.lastChild;if(!o){if(i.isAtom&&!i.isText&&!de.isSelectable(i)){e=e.doc.resolve(s+i.nodeSize*n),r=!1;continue e}break}i=o,s+=n;let a=e.doc.resolve(s);if(ht.valid(a))return a}return null}}}ht.prototype.visible=!1;ht.findFrom=ht.findGapCursorFrom;we.jsonID("gapcursor",ht);class iv{constructor(e){this.pos=e}map(e){return new iv(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return ht.valid(n)?new ht(n):we.near(n)}}function iz(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function oz(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function az(){return new lr({props:{decorations:dz,createSelectionBetween(t,e,n){return e.pos==n.pos&&ht.valid(n)?new ht(n):null},handleClick:cz,handleKeyDown:lz,handleDOMEvents:{beforeinput:uz}}})}const lz=SE({ArrowLeft:Td("horiz",-1),ArrowRight:Td("horiz",1),ArrowUp:Td("vert",-1),ArrowDown:Td("vert",1)});function Td(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,s,i){let o=r.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof xe){if(!i.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let c=ht.findGapCursorFrom(a,e,l);return c?(s&&s(r.tr.setSelection(new ht(c))),!0):!1}}function cz(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!ht.valid(r))return!1;let s=t.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&de.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new ht(r))),!0)}function uz(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof ht))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let s=L.empty;for(let o=r.length-1;o>=0;o--)s=L.from(r[o].createAndFill(null,s));let i=t.state.tr.replace(n.pos,n.pos,new J(s,0,0));return i.setSelection(xe.near(i.doc.resolve(n.pos+1))),t.dispatch(i),!1}function dz(t){if(!(t.selection instanceof ht))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Ct.create(t.doc,[nr.widget(t.selection.head,e,{key:"gapcursor"})])}const fz=Bn.create({name:"gapCursor",addProseMirrorPlugins(){return[az()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Ee(ne(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),hz=nn.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Tt(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:i}=n;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=r.extensionManager,l=i||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&o){const d=l.filter(h=>a.includes(h.type.name));c.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),pz=nn.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Tt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>hy({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var sh=200,Dt=function(){};Dt.prototype.append=function(e){return e.length?(e=Dt.from(e),!this.length&&e||e.length<sh&&this.leafAppend(e)||this.length<sh&&e.leafPrepend(this)||this.appendInner(e)):this};Dt.prototype.prepend=function(e){return e.length?Dt.from(e).append(this):this};Dt.prototype.appendInner=function(e){return new mz(this,e)};Dt.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Dt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Dt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Dt.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Dt.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(i,o){return s.push(e(i,o))},n,r),s};Dt.from=function(e){return e instanceof Dt?e:e&&e.length?new HE(e):Dt.empty};var HE=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,i){return s==0&&i==this.length?this:new e(this.values.slice(s,i))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,i,o,a){for(var l=i;l<o;l++)if(s(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(s,i,o,a){for(var l=i-1;l>=o;l--)if(s(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=sh)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=sh)return new e(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Dt);Dt.empty=new HE([]);var mz=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,s,i,o){var a=this.left.length;if(s<a&&this.left.forEachInner(r,s,Math.min(i,a),o)===!1||i>a&&this.right.forEachInner(r,Math.max(s-a,0),Math.min(this.length,i)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,i,o){var a=this.left.length;if(s>a&&this.right.forEachInvertedInner(r,s-a,Math.max(i,a)-a,o+a)===!1||i<a&&this.left.forEachInvertedInner(r,Math.min(s,a),i,o)===!1)return!1},e.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var i=this.left.length;return s<=i?this.left.slice(r,s):r>=i?this.right.slice(r-i,s-i):this.left.slice(r,i).append(this.right.slice(0,s-i))},e.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new e(s,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Dt);const gz=500;class wr{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,i;n&&(s=this.remapping(r,this.items.length),i=s.maps.length);let o=e.tr,a,l,c=[],u=[];return this.items.forEach((d,h)=>{if(!d.step){s||(s=this.remapping(r,h+1),i=s.maps.length),i--,u.push(d);return}if(s){u.push(new Ar(d.map));let p=d.step.map(s.slice(i)),m;p&&o.maybeStep(p).doc&&(m=o.mapping.maps[o.mapping.maps.length-1],c.push(new Ar(m,void 0,void 0,c.length+u.length))),i--,m&&s.appendMap(m,i)}else o.maybeStep(d.step);if(d.selection)return a=s?d.selection.map(s.slice(i)):d.selection,l=new wr(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,n,r,s){let i=[],o=this.eventCount,a=this.items,l=!s&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let d=e.steps[u].invert(e.docs[u]),h=new Ar(e.mapping.maps[u],d,n),p;(p=l&&l.merge(h))&&(h=p,u?i.pop():a=a.slice(0,a.length-1)),i.push(h),n&&(o++,n=void 0),s||(l=h)}let c=o-r.depth;return c>vz&&(a=yz(a,c),o-=c),new wr(a.append(i),o)}remapping(e,n){let r=new Pa;return this.items.forEach((s,i)=>{let o=s.mirrorOffset!=null&&i-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,o)},e,n),r}addMaps(e){return this.eventCount==0?this:new wr(this.items.append(e.map(n=>new Ar(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-n),i=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(h=>{h.selection&&a--},s);let l=n;this.items.forEach(h=>{let p=i.getMirror(--l);if(p==null)return;o=Math.min(o,p);let m=i.maps[p];if(h.step){let y=e.steps[p].invert(e.docs[p]),x=h.selection&&h.selection.map(i.slice(l+1,p));x&&a++,r.push(new Ar(m,y,x))}else r.push(new Ar(m))},s);let c=[];for(let h=n;h<o;h++)c.push(new Ar(i.maps[h]));let u=this.items.slice(0,s).append(c).append(r),d=new wr(u,a);return d.emptyItemCount()>gz&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,s=[],i=0;return this.items.forEach((o,a)=>{if(a>=e)s.push(o),o.selection&&i++;else if(o.step){let l=o.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let u=o.selection&&o.selection.map(n.slice(r));u&&i++;let d=new Ar(c.invert(),l,u),h,p=s.length-1;(h=s.length&&s[p].merge(d))?s[p]=h:s.push(d)}}else o.map&&r--},this.items.length,0),new wr(Dt.from(s.reverse()),i)}}wr.empty=new wr(Dt.empty,0);function yz(t,e){let n;return t.forEach((r,s)=>{if(r.selection&&e--==0)return n=s,!1}),t.slice(n)}class Ar{constructor(e,n,r,s){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Ar(n.getMap().invert(),n,this.selection)}}}class qs{constructor(e,n,r,s,i){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=s,this.prevComposition=i}}const vz=20;function xz(t,e,n,r){let s=n.getMeta(ko),i;if(s)return s.historyState;n.getMeta(kz)&&(t=new qs(t.done,t.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(o&&o.getMeta(ko))return o.getMeta(ko).redo?new qs(t.done.addTransform(n,void 0,r,Gd(e)),t.undone,zb(n.mapping.maps),t.prevTime,t.prevComposition):new qs(t.done,t.undone.addTransform(n,void 0,r,Gd(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=t.prevTime==0||!o&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!bz(n,t.prevRanges)),c=o?hm(t.prevRanges,n.mapping):zb(n.mapping.maps);return new qs(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,Gd(e)),wr.empty,c,n.time,a??t.prevComposition)}else return(i=n.getMeta("rebased"))?new qs(t.done.rebased(n,i),t.undone.rebased(n,i),hm(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new qs(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),hm(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function bz(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,s)=>{for(let i=0;i<e.length;i+=2)r<=e[i+1]&&s>=e[i]&&(n=!0)}),n}function zb(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,s,i,o)=>e.push(i,o));return e}function hm(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let s=e.map(t[r],1),i=e.map(t[r+1],-1);s<=i&&n.push(s,i)}return n}function wz(t,e,n){let r=Gd(e),s=ko.get(e).spec.config,i=(n?t.undone:t.done).popEvent(e,r);if(!i)return null;let o=i.selection.resolve(i.transform.doc),a=(n?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),s,r),l=new qs(n?a:i.remaining,n?i.remaining:a,null,0,-1);return i.transform.setSelection(o).setMeta(ko,{redo:n,historyState:l})}let pm=!1,$b=null;function Gd(t){let e=t.plugins;if($b!=e){pm=!1,$b=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){pm=!0;break}}return pm}const ko=new Fi("history"),kz=new Fi("closeHistory");function Sz(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new lr({key:ko,state:{init(){return new qs(wr.empty,wr.empty,null,0,-1)},apply(e,n,r){return xz(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,s=r=="historyUndo"?WE:r=="historyRedo"?KE:null;return s?(n.preventDefault(),s(e.state,e.dispatch)):!1}}}})}function qE(t,e){return(n,r)=>{let s=ko.getState(n);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(r){let i=wz(s,n,t);i&&r(e?i.scrollIntoView():i)}return!0}}const WE=qE(!1,!0),KE=qE(!0,!0),_z=Bn.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>WE(t,e),redo:()=>({state:t,dispatch:e})=>KE(t,e)}},addProseMirrorPlugins(){return[Sz(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),Cz=nn.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Tt(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{selection:n}=e,{$from:r,$to:s}=n,i=t();return r.parentOffset===0?i.insertContentAt({from:Math.max(r.pos-1,0),to:s.pos},{type:this.name}):J6(n)?i.insertContentAt(s.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({tr:o,dispatch:a})=>{var l;if(a){const{$to:c}=o.selection,u=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?o.setSelection(xe.create(o.doc,c.pos+1)):c.nodeAfter.isBlock?o.setSelection(de.create(o.doc,c.pos)):o.setSelection(xe.create(o.doc,c.pos));else{const d=(l=c.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();d&&(o.insert(u,d),o.setSelection(xe.create(o.doc,u+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[SF({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),Ez=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Nz=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Tz=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Oz=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,jz=Zr.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Tt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[gl({find:Ez,type:this.type}),gl({find:Tz,type:this.type})]},addPasteRules(){return[yl({find:Nz,type:this.type}),yl({find:Oz,type:this.type})]}}),Mz=nn.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Tt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Pz=nn.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Tt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Bb=Zr.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",Tt(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=Jh(t,this.type);return Object.entries(n).some(([,s])=>!!s)?!0:e.unsetMark(this.name)}}}}),Vb=/^(\d+)\.\s$/,Az=nn.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Tt(this.options.HTMLAttributes,n),0]:["ol",Tt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Pz.name,this.editor.getAttributes(Bb.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=hu({find:Vb,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=hu({find:Vb,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Bb.name)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),Rz=nn.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Tt(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Iz=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Dz=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Lz=Zr.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Tt(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[gl({find:Iz,type:this.type})]},addPasteRules(){return[yl({find:Dz,type:this.type})]}}),Fz=nn.create({name:"text",group:"inline"}),JE=Bn.create({name:"starterKit",addExtensions(){var t,e,n,r,s,i,o,a,l,c,u,d,h,p,m,y,x,v;const g=[];return this.options.bold!==!1&&g.push(WF.configure((t=this.options)===null||t===void 0?void 0:t.bold)),this.options.blockquote!==!1&&g.push(BF.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bulletList!==!1&&g.push(JF.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&g.push(GF.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&g.push(ez.configure((s=this.options)===null||s===void 0?void 0:s.codeBlock)),this.options.document!==!1&&g.push(tz.configure((i=this.options)===null||i===void 0?void 0:i.document)),this.options.dropcursor!==!1&&g.push(sz.configure((o=this.options)===null||o===void 0?void 0:o.dropcursor)),this.options.gapcursor!==!1&&g.push(fz.configure((a=this.options)===null||a===void 0?void 0:a.gapcursor)),this.options.hardBreak!==!1&&g.push(hz.configure((l=this.options)===null||l===void 0?void 0:l.hardBreak)),this.options.heading!==!1&&g.push(pz.configure((c=this.options)===null||c===void 0?void 0:c.heading)),this.options.history!==!1&&g.push(_z.configure((u=this.options)===null||u===void 0?void 0:u.history)),this.options.horizontalRule!==!1&&g.push(Cz.configure((d=this.options)===null||d===void 0?void 0:d.horizontalRule)),this.options.italic!==!1&&g.push(jz.configure((h=this.options)===null||h===void 0?void 0:h.italic)),this.options.listItem!==!1&&g.push(Mz.configure((p=this.options)===null||p===void 0?void 0:p.listItem)),this.options.orderedList!==!1&&g.push(Az.configure((m=this.options)===null||m===void 0?void 0:m.orderedList)),this.options.paragraph!==!1&&g.push(Rz.configure((y=this.options)===null||y===void 0?void 0:y.paragraph)),this.options.strike!==!1&&g.push(Lz.configure((x=this.options)===null||x===void 0?void 0:x.strike)),this.options.text!==!1&&g.push(Fz.configure((v=this.options)===null||v===void 0?void 0:v.text)),g}}),zz=({editor:t})=>{const e=n=>`w-8 h-7 grid place-items-center  border text-sm rounded transition-all ${n?"border-blue-500 bg-blue-100 text-blue-700":"border-gray-300 bg-white text-gray-600 hover:bg-gray-100"}`;return t?f.jsxs("div",{className:"flex flex-wrap gap-3",children:[f.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),className:e(t.isActive("heading",{level:1})),type:"button",children:"H1"}),f.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:e(t.isActive("heading",{level:2})),type:"button",children:"H2"}),f.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),className:e(t.isActive("heading",{level:3})),type:"button",children:"H3"}),f.jsx("button",{onClick:()=>t.chain().focus().toggleBold().run(),className:e(t.isActive("bold")),type:"button",children:"N"}),f.jsx("button",{onClick:()=>t.chain().focus().toggleItalic().run(),className:e(t.isActive("italic")),type:"button",children:"K"}),f.jsx("button",{onClick:()=>t.chain().focus().toggleStrike().run(),className:e(t.isActive("strike")),type:"button",children:"S"})]}):null},$z=({setValue:t,errors:e,initialContent:n})=>{const r=UE({extensions:[JE],content:n||"",onUpdate:({editor:s})=>{const i=s.getJSON();t("description",i,{shouldValidate:!0})},editorProps:{attributes:{class:"focus:outline-none min-h-[150px] prose prose-sm sm:prose-base"}}});return E.useEffect(()=>{n&&r&&r.commands.setContent(n)},[n,r]),f.jsxs("div",{className:"space-y-3",children:[f.jsx(zz,{editor:r}),f.jsx(BE,{editor:r}),e.description&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:e.description.message||"Debe escribir una descripción"})]})},QE=({titleForm:t})=>{const{register:e,handleSubmit:n,formState:{errors:r},setValue:s,watch:i,control:o}=F0({resolver:z0(k4)}),{slug:a}=Eu(),{product:l,isLoading:c}=L_(a||""),{mutate:u,isPending:d}=uI(),{mutate:h,isPending:p}=fI((l==null?void 0:l.id)||""),m=Ft();E.useEffect(()=>{l&&!c&&(s("name",l.name),s("slug",l.slug),s("brand",l.brand),s("description",l.description),s("images",l.images),s("variants",l.variants.map(v=>({id:v.id,stock:v.stock,price:v.price,type:v.type,target:v.target,kg:v.kg}))))},[l,c,s]);const y=n(v=>{a?h({name:Jo(v.name),brand:Jo(v.brand),slug:Jo(v.slug),variants:v.variants,images:v.images,description:v.description}):u({name:Jo(v.name),brand:Jo(v.brand),slug:Jo(v.slug),variants:v.variants,images:v.images,description:v.description})}),x=i("name");return E.useEffect(()=>{if(!x)return;const v=KM(x);s("slug",v,{shouldValidate:!0})},[x,s]),d||p||c?f.jsx(qn,{}):f.jsxs("div",{className:"flex flex-col gap-6 relative",children:[f.jsx("div",{className:"flex justify-between items-center",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{className:"bg-white p-1.5 rounded-md shadow-sm border border-slate-200 transition-all group hover:scale-105",onClick:()=>m(-1),children:f.jsx(NI,{size:18,className:"transition-all group-hover:scale-125"})}),f.jsx("h2",{className:"font-bold tracking-tight text-2xl capitalize",children:t})]})}),f.jsxs("form",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 auto-rows-max flex-1",onSubmit:y,children:[f.jsx(Jl,{titleSection:"Detalles del Producto",className:"lg:col-span-2 lg:row-span-2",children:f.jsx(Kp,{type:"text",label:"nombre",name:"name",register:e,errors:r,required:!0})}),f.jsxs(Jl,{children:[f.jsx(Kp,{type:"text",label:"Slug",name:"slug",register:e,errors:r}),f.jsx(Kp,{type:"text",label:"Marca",name:"brand",register:e,errors:r,required:!0})]}),f.jsx(Jl,{titleSection:"Variantes del Producto",className:"lg:col-span-2 h-fit",children:f.jsx(_4,{control:o,errors:r,register:e})}),f.jsx(Jl,{titleSection:"Imágenes del producto",children:f.jsx(C4,{errors:r,setValue:s,watch:i})}),f.jsx(Jl,{titleSection:"Descripción del producto",className:"col-span-full",children:f.jsx($z,{setValue:s,errors:r,initialContent:l==null?void 0:l.description})}),f.jsxs("div",{className:"flex gap-3 absolute top-0 right-0",children:[f.jsx("button",{className:"btn-secondary bg-black rounded-md text-white hover:bg-red-500",type:"button",onClick:()=>m(-1),children:"Cancelar"}),f.jsx("button",{className:"btn-primary hover:bg-cyan-600",type:"submit",children:"Guardar Producto"})]})]})]})},Bz=()=>{const t=Ft(),{isLoading:e,session:n}=Uo(),[r,s]=E.useState(!0);return E.useEffect(()=>{(async()=>{var l;s(!0);const o=await M_();o||t("/login"),await P_((l=o.session)==null?void 0:l.user.id)!=="admin"&&t("/",{replace:!0}),s(!1)})(),ue.auth.onAuthStateChange(async(o,a)=>{(o==="SIGNED_OUT"||!a)&&t("/login",{replace:!0})})},[t]),e||!n||r?f.jsx(qn,{}):f.jsxs("div",{className:"flex bg-gray-100 min-h-screen font-montserrat",children:[f.jsx($I,{}),f.jsx("main",{className:"container m-5 mt-7 flex-1 text-slate-800 ml-[140px] lg:ml-[270px]",children:f.jsx(g0,{})})]})},Vz=[{image:"/img/brands/HPM-logo.png",alt:"HPM"},{image:"/img/brands/RoyalCanin-logo.png",alt:"RoyalCanin"},{image:"/img/brands/Proplan-logo.png",alt:"Proplan"},{image:"/img/brands/Hills-logo.png",alt:"Hills"},{image:"/img/brands/Excellent-logo.png",alt:"Excellent"}],Uz=()=>f.jsxs("div",{className:"w-full flex flex-col items-center justify-between gap-1 pt-10 pb-10 bg-gray-950 rounded-lg",children:[f.jsx("h2",{className:"font-bold text-2xl text-white gap-3",children:"Marcas disponibles"}),f.jsx("p",{className:"w-2/3 text-center text-sm md:text-base justify-between text-white",children:"Tenemos lo mejor en productos para el cuidado de tus mascotas."}),f.jsx("div",{className:"grid grid-cols-2 gap-3 mt-4 items-center md:grid-cols-2 bg-gray-950 p-1 rounded-lg",children:Vz.map((t,e)=>f.jsx("div",{children:f.jsx("img",{src:t.image,alt:t.alt})},e))})]});function Hz(t){return De({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M0.949988 4.48455C0.949988 5.34059 1.64395 6.03455 2.49999 6.03455C3.35603 6.03455 4.04999 5.34059 4.04999 4.48455C4.04999 3.6285 3.35603 2.93455 2.49999 2.93455C1.64395 2.93455 0.949988 3.6285 0.949988 4.48455ZM2.49999 6.93455C1.14689 6.93455 0.0499878 5.83764 0.0499878 4.48455C0.0499878 3.13145 1.14689 2.03455 2.49999 2.03455C3.85309 2.03455 4.94999 3.13145 4.94999 4.48455C4.94999 4.80813 4.88726 5.11707 4.77329 5.39985L5.73655 6.04413C5.72943 6.06656 5.72269 6.08914 5.71635 6.11188L5.56288 6.66186L5.21005 6.89773L4.21554 6.23366C3.77357 6.6672 3.168 6.93455 2.49999 6.93455ZM0.949991 10.5C0.949991 9.64394 1.64395 8.94998 2.49999 8.94998C3.35603 8.94998 4.04999 9.64394 4.04999 10.5C4.04999 11.356 3.35603 12.05 2.49999 12.05C1.64395 12.05 0.949991 11.356 0.949991 10.5ZM2.49999 8.04998C1.14689 8.04998 0.0499908 9.14688 0.0499908 10.5C0.0499908 11.8531 1.14689 12.95 2.49999 12.95C3.85309 12.95 4.94999 11.8531 4.94999 10.5C4.94999 10.1803 4.88877 9.87497 4.77743 9.595L15 2.75737L14.0486 2.85737C12.7077 2.9983 11.4091 3.40895 10.231 4.06461L7.15646 5.77564C6.92307 5.90553 6.75134 6.12339 6.67955 6.38066L6.42653 7.28737L4.22437 8.75957C3.78166 8.32091 3.17246 8.04998 2.49999 8.04998ZM7.14435 9.2149L7.15646 9.22176L10.231 10.9328C11.4091 11.5884 12.7077 11.9991 14.0486 12.14L15 12.24L8.81072 8.1003L7.14435 9.2149Z",fill:"currentColor"},child:[]}]})(t)}function qz(t){return De({tag:"svg",attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M14.33 8l-1.876-4.377-3.438 9.783-4.015-13.11-2.37 7.704h-2.631v1h3.369l1.63-5.296 3.95 12.903 3.597-10.23 1.124 2.623h3.33v-1z"},child:[]}]})(t)}function Wz(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7 13c1.66 0 3-1.34 3-3S8.66 7 7 7s-3 1.34-3 3 1.34 3 3 3zm12-6h-8v7H3V5H1v15h2v-3h18v3h2v-9c0-2.21-1.79-4-4-4z"},child:[]}]})(t)}function Kz(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4zM6 18.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm13.5-9 1.96 2.5H17V9.5h2.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"},child:[]}]})(t)}const Jz=()=>{const[t,e]=E.useState(!1),n=()=>e(!0),r=()=>e(!1),[s,i]=E.useState(!1),o=()=>i(!0),a=()=>i(!1),[l,c]=E.useState(!1),u=()=>c(!0),d=()=>c(!1),[h,p]=E.useState(!1),m=()=>p(!0),y=()=>p(!1),[x,v]=E.useState(!1),g=()=>v(!0),b=()=>v(!1);return f.jsxs("div",{className:"grid grid-cols-2 gap-8 mt-6 mb-16 lg:grid-cols-5 lg:gap-5",children:[f.jsxs("div",{className:"flex relative group overflow-hidden items-center gap-6",children:[f.jsx(Kz,{className:"text-slate-600",size:40}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("p",{className:"font-semibold",children:"Servicio de transporte"}),f.jsx("p",{className:"text-sm",children:"Envío de productos y recolección y entrega de mascotas."})]}),f.jsx("button",{className:"bg-white border border-slate-200 absolute w-full bottom-0 py-3 rounded-3xl flex items-center justify-center gap-1 text-sm font-medium hover:bg-stone-100 translate-y-[100%] transition-all duration-300 group-hover:translate-y-0",onClick:n,children:"Más información"}),f.jsx(ta,{isOpen:t,closeModal:r,children:f.jsx(w9,{})})]}),f.jsxs("div",{className:"flex relative group overflow-hidden items-center gap-6",children:[f.jsx(qz,{className:"text-slate-600",size:40}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("p",{className:"font-semibold",children:"Servicio médico"}),f.jsx("p",{className:"text-sm",children:"Consulta, medicina preventiva, cirugía y hospitalización."})]}),f.jsx("button",{className:"bg-white border border-slate-200 absolute w-full bottom-0 py-3 rounded-3xl flex items-center justify-center gap-1 text-sm font-medium hover:bg-stone-100 translate-y-[100%] transition-all duration-300 group-hover:translate-y-0",onClick:o,children:"Más información"}),f.jsx(ta,{isOpen:s,closeModal:a,children:f.jsx(k9,{})})]}),f.jsxs("div",{className:"flex relative group overflow-hidden items-center gap-6",children:[f.jsx(LI,{className:"text-slate-600",size:40}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("p",{className:"font-semibold",children:"Laboratorio"}),f.jsx("p",{className:"text-sm",children:"Análisis clínicos, pruebas de laboratorio, ultrasonido y rayos x."})]}),f.jsx("button",{className:"bg-white border border-slate-200 absolute w-full bottom-0 py-3 rounded-3xl flex items-center justify-center gap-1 text-sm font-medium hover:bg-stone-100 translate-y-[100%] transition-all duration-300 group-hover:translate-y-0",onClick:u,children:"Más información"}),f.jsx(ta,{isOpen:l,closeModal:d,children:f.jsx(S9,{})})]}),f.jsxs("div",{className:"flex relative group overflow-hidden items-center gap-6",children:[f.jsx(Hz,{className:"text-slate-600",size:40}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("p",{className:"font-semibold",children:"Estética"}),f.jsx("p",{className:"text-sm",children:"Baño, corte de pelo, corte de uñas."})]}),f.jsx("button",{className:"bg-white border border-slate-200 absolute w-full bottom-0 py-3 rounded-3xl flex items-center justify-center gap-1 text-sm font-medium hover:bg-stone-100 translate-y-[100%] transition-all duration-300 group-hover:translate-y-0",onClick:m,children:"Más información"}),f.jsx(ta,{isOpen:h,closeModal:y,children:f.jsx(_9,{})})]}),f.jsxs("div",{className:"flex relative group overflow-hidden items-center gap-6",children:[f.jsx(Wz,{className:"text-slate-600",size:40}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("p",{className:"font-semibold",children:"Pensión"}),f.jsx("p",{className:"text-sm",children:"Resguardo por noche, con ventilador o aire acondicionado."})]}),f.jsx("button",{className:"bg-white border border-slate-200 absolute w-full bottom-0 py-3 rounded-3xl flex items-center justify-center gap-1 text-sm font-medium hover:bg-stone-100 translate-y-[100%] transition-all duration-300 group-hover:translate-y-0",onClick:g,children:"Más información"}),f.jsx(ta,{isOpen:x,closeModal:b,children:f.jsx(C9,{})})]})]})},Qz=()=>f.jsx("div",{className:"bg-gray-950 rounded-sm",children:f.jsx("iframe",{src:"https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2Fbaalak.cv&tabs=timeline&width=340&height=500&small_header=false&adapt_container_width=true&hide_cover=false&show_facepile=true&appId",width:"380",height:"500",style:{border:"none",overflow:"hidden"},allowFullScreen:!0,allow:"autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"})}),ZE=({img:t,name:e,slug:n})=>f.jsxs("div",{className:"flex flex-col gap-6 relative",children:[f.jsx(mt,{to:`/products/${n}`,className:"flex relative group overflow-hidden ",children:f.jsx("div",{className:"flex h-[350px] w-full items-center justify-center py-2 lg:h-[250px]",children:f.jsx("img",{src:t,alt:e,className:"object-contain h-full w-full"})})}),f.jsx("div",{className:"flex flex-col gap-1 items-center",children:f.jsx("p",{className:"text-[15px] font-medium",children:e})})]}),Ub=({title:t,products:e})=>f.jsxs("div",{className:"my-32",children:[f.jsx("h2",{className:"text-3xl font-semibold text-center mb-8 md:text-4xl lg:text-5xl",children:t}),f.jsx("div",{className:"grid grid-cols-1 gap-2 gap-y-3 sm:grid-cols-2 lg:grid-cols-4",children:e.map(n=>f.jsx(ZE,{name:n.name,img:n.images[0],slug:n.slug},n.id))})]}),Hb=({numberOfProducts:t})=>f.jsx("div",{className:"my-20",children:f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 gap-y-8 animate-pulse",children:Array.from({length:t}).map((e,n)=>f.jsx("div",{className:"bg-gray-200 h-[250px]"},n))})}),Zz=()=>{const{recentProducts:t,popularProducts:e,isLoading:n}=xR(),r=Og(t),s=Og(e);return f.jsxs("div",{children:[f.jsx(Jz,{}),f.jsxs("div",{className:"flex flex-col lg:flex-row gap-1 my-2",children:[f.jsxs("div",{className:"lg:w-8/12 xl:w-9/12 mx-auto flex flex-col gap-5",children:[n?f.jsx(Hb,{numberOfProducts:4}):f.jsx(Ub,{title:"Nuevos Productos",products:r}),n?f.jsx(Hb,{numberOfProducts:4}):f.jsx(Ub,{title:"Productos Destacados",products:s})]}),f.jsxs("div",{className:"items-center lg:w-4/12 xl:w-4/12 mx-auto flex flex-col gap-5 p-4 bg-gray-950 rounded-lg",children:[f.jsx(Qz,{}),f.jsx(Uz,{})]})]})]})},GE=({className:t})=>f.jsx("div",{className:`bg-slate-200 h-px my-5 ${t}`}),Gz=["HPM","Royal Canin","Proplan","Hills","Excellent"],Yz=({selectedBrands:t,setSelectedBrands:e})=>{const n=r=>{t.includes(r)?e(t.filter(s=>s!==r)):e([...t,r])};return f.jsxs("div",{className:"p-5 border border-slate-200 rounded-lg h-fit col-span-2 lg:col-span-1",children:[f.jsx("h3",{className:"font-semibold text-xl mb-4",children:"Filtros"}),f.jsx(GE,{}),f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsx("h3",{className:"text-lg font-medium text-black",children:"Marcas"}),f.jsx("div",{className:"flex flex-col gap-2",children:Gz.map(r=>f.jsxs("label",{className:"inline-flex items-center",children:[f.jsx("input",{type:"checkbox",className:"text-black border-black focus:ring-black accent-black",checked:t.includes(r),onChange:()=>n(r)}),f.jsx("span",{className:"ml-2 text-black text-sm cursor-pointer",children:r})]},r))})]})]})},Xz=()=>{const[t,e]=E.useState(1),[n,r]=E.useState([]),{data:s=[],isLoading:i,totalProducts:o}=vR({page:t,brands:n}),a=Og(s);return f.jsxs(f.Fragment,{children:[f.jsx("h1",{className:"text-5xl font-semibold text-center mb-12",children:"Productos"}),f.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5",children:[f.jsx(Yz,{setSelectedBrands:r,selectedBrands:n}),i?f.jsx("div",{className:"col-span-2 flex items-center justify-center h-[500px]",children:f.jsx("p",{className:"text-2x1",children:"Cargando..."})}):f.jsxs("div",{className:"col-span-2 lg:col-span-2 xl:col-span-4 flex flex-col gap-12",children:[f.jsx("div",{className:"grid grid-cols-2 gap-3 gap-y-10 xl:grid-cols-4",children:a.map(l=>f.jsx(ZE,{name:l.name,img:l.images[0],slug:l.slug},l.id))}),f.jsx(U_,{totalItems:o,page:t,setPage:e})]})]})]})},e9=()=>f.jsxs("div",{className:"space-y-5",children:[f.jsx("h1",{className:"text-center text-4xl font-semibold tracking-tight mb-5",children:"Nuestra empresa"}),f.jsx("h2",{className:"text-2xl font-semibold tracking-tighh mt-8 mb-4",children:"¿Por qué Baalak'?"}),f.jsx("p",{children:"B de Bienestar del idioma español, cultura actual"}),f.jsx("p",{children:`aalak' del idioma y cultura Maya, significa "animal doméstico"`}),f.jsx("h2",{className:"text-2xl font-semibold tracking-tighh mt-8 mb-4",children:"Dos culturas, dos idiomas, una sola conciencia y un solo compromiso con el Bienestar animal."}),f.jsx("img",{src:"/img/background-about.png",alt:"background-about",className:"h-[600px] w-full object-cover"}),f.jsxs("div",{className:"flex flex-col gap-4 tracking-tighter leading-7 text-sm font-medium text-slate-800",children:[f.jsx("p",{className:"text-3xl font-semibold tracking-tighh mt-8 mb-4",children:"Contáctenos en"}),f.jsx("p",{className:"text-cyan-600 font-bold",children:"Avenida Central #33, Barrio de Santa Ana, 24050, San Francisco de Campeche, Campeche, México."}),f.jsx("p",{className:"text-cyan-600 font-bold",children:"baalak.cv@gmail.com	o llamado al 981 206 2582"})]})]});function t9(t){return De({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H4.414A2 2 0 0 0 3 11.586l-2 2V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12.793a.5.5 0 0 0 .854.353l2.853-2.853A1 1 0 0 1 4.414 12H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"},child:[]},{tag:"path",attr:{d:"M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5M3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6m0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5"},child:[]}]})(t)}const n9=({content:t})=>{const e=UE({extensions:[JE],content:t,editable:!1,editorProps:{attributes:{class:"prose prose-sm sm:prose-base max-w-none"}}});return f.jsxs("div",{className:"mt-12",children:[f.jsx("h2",{className:"text-2xl font-bold text-center mb-8 underline",children:"Descripción"}),f.jsx(BE,{editor:e})]})},r9=({images:t})=>{const[e,n]=E.useState(t[0]),r=s=>{n(s)};return f.jsxs("div",{className:"flex-1 flex flex-col gap-3 relative",children:[f.jsx("div",{className:"bg-[#f2f2f2] h-[500px] p-4",children:f.jsx("img",{src:e,alt:"Imagen de Producto",className:"h-full w-full object-contain"})}),f.jsx("div",{className:"flex mt-4 gap-2",children:t.map((s,i)=>f.jsx("button",{onClick:()=>r(s),className:`w-16 h-16 p-1 border ${e===s?"border-black":"border-transparent"} rounded-lg hover:border-black focus:outline-none`,children:f.jsx("img",{src:s,alt:`Thumbnail ${i+1}`,className:"w-full h-full object-cover rounded-lg"})},i))})]})},s9=t=>{const e=t.toLowerCase();return e==="nuevo"?"bg-blue-500":e==="agotado"?"bg-black":"bg-gray-500"},i9=({contentTag:t})=>f.jsx("div",{className:`text-white w-fit px-2 ${s9(t)}`,children:f.jsxs("p",{className:"uppercase text-xs font-medium",children:[" ",t]})}),o9=t=>({count:1,increment:()=>{t(e=>({count:e.count+1}))},decrement:()=>{t(e=>({count:Math.max(1,e.count-1)}))}}),mm=v0()(x0(o9)),a9=()=>{const{slug:t}=Eu(),[e,n]=E.useState(t),{product:r,isLoading:s,isError:i}=L_(e||""),[o,a]=E.useState(null),[l,c]=E.useState(null),[u,d]=E.useState(null),[h,p]=E.useState(null),[m,y]=E.useState(null),[x,v]=E.useState(null),g=mm(D=>D.count),b=mm(D=>D.increment),k=mm(D=>D.decrement),O=Fn(D=>D.addItem),T=Ft(),j=E.useMemo(()=>(r==null?void 0:r.variants.reduce((D,Q)=>{const{target:re,type:pe,kg:Ve}=Q;return D.find(We=>We.target===re)||D.push({target:re,types:[]}),D.find(We=>{We.target===re&&!We.types.find(V=>V.type===pe)&&We.types.push({type:pe,kgs:[]}),We.types.find(V=>{V.type===pe&&!V.kgs.includes(Ve)&&V.kgs.push(Ve)})}),D},[]))||[],[r==null?void 0:r.variants]);E.useEffect(()=>{var D;!o&&j.length>0&&(a(j[0].target),(D=document.getElementById(j[0].target))==null||D.click())},[o,j]),E.useEffect(()=>{if(o&&u&&m){const D=r==null?void 0:r.variants.find(Q=>Q.target===o&&Q.type===u&&Q.kg===m);v(D)}},[o,u,m,r==null?void 0:r.variants]);const w=(x==null?void 0:x.stock)===0,A=()=>{x&&(O({variantId:x.id,productId:(r==null?void 0:r.id)||"",name:(r==null?void 0:r.name)||"",image:(r==null?void 0:r.images[0])||"",target:x.target,type:x.type,kg:x.kg,price:x.price,quantity:g}),qr.success("Producto añadido al carrito",{position:"bottom-right"}))},F=()=>{x&&(O({variantId:x.id,productId:(r==null?void 0:r.id)||"",name:(r==null?void 0:r.name)||"",image:(r==null?void 0:r.images[0])||"",target:x.target,type:x.type,kg:x.kg,price:x.price,quantity:g}),T("/checkout"))};return E.useEffect(()=>{n(t),a(null),d(null),y(null),v(null)},[t]),s?f.jsx(qn,{}):!r||i?f.jsx("div",{className:"flex justify-center items-center h-[80vh]",children:f.jsx("p",{children:"Producto no encontrado"})}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"h-fit flex flex-col md:flex-row gap-16 mt-8",children:[f.jsx(r9,{images:[r.images[0]]}),f.jsxs("div",{className:"flex-1 space-y-5",children:[f.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:r.name}),f.jsxs("div",{className:"flex gap-5 items-center",children:[f.jsx("span",{className:"tracking-wide text-lg font-semibold",children:Nt((x==null?void 0:x.price)||r.variants[0].price)}),f.jsx("div",{className:"relative",children:w&&f.jsx(i9,{contentTag:"agotado"})})]}),f.jsx(GE,{}),f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsx("p",{className:"text-xs font-medium",children:"Objetivos disponibles"}),f.jsx("div",{className:"flex gap-3",children:j.map(D=>f.jsx("button",{id:D.target,className:`rounded-full flex justify-center items-center ${o===D.target?"border border-slate-800 bg-[#f3f3f3] uppercase font-semibold":""}`,onClick:()=>{a(D.target),c(D.types),d(D.types[0].type),p(D.types[0].kgs),y(D.types[0].kgs[0])},children:D.target},D.target))})]}),f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsx("p",{className:"text-xs font-medium",children:"Tipos disponibles"}),l&&f.jsx("div",{className:"flex gap-3",children:f.jsx("select",{className:"border border-gray-300 rounded-lg px-3 py-1",value:u||"",onChange:D=>{d(D.target.value),l.find(Q=>{Q.type===D.target.value&&(p(Q.kgs),y(Q.kgs[0]))})},children:l.map(D=>f.jsx("option",{value:D.type,children:D.type},D.type))})})]}),f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsx("p",{className:"text-xs font-medium",children:"Pesos disponibles"}),h&&f.jsx("div",{className:"flex gap-3",children:f.jsx("select",{className:"border border-gray-300 rounded-lg px-3 py-1",value:m||"",onChange:D=>y(parseInt(D.target.value)),children:h.map(D=>f.jsxs("option",{value:D,children:[D," kg."]},D))})})]}),w?f.jsx("button",{className:"bg-[#f3f3f3] uppercase font-semibold tracking-widest text-xs py-4 rounded-full transition-all duration-300 hover:bg-[#e2e2e2] w-full",disabled:!0,children:"Agotado"}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"space-y-3",children:[f.jsx("p",{className:"text-sm font-medium",children:"Cantidad:"}),f.jsxs("div",{className:"flex gap-8 px-5 py-3 border border-slate-200 w-fit rounded-full",children:[f.jsx("button",{onClick:k,disabled:g===1,children:f.jsx(z_,{size:15})}),f.jsx("span",{className:"text-slate-500 text-sm",children:g}),f.jsx("button",{onClick:b,children:f.jsx($_,{size:15})})]})]}),f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsx("button",{className:"bg-[#f3f3f3] uppercase font-semibold tracking-widest text-xs py-4 rounded-full transition-all duration-300 hover:bg-[#e2e2e2]",onClick:A,children:"Agregar al carro"}),f.jsx("button",{className:"bg-black text-white uppercase font-semibold tracking-widest text-xs py-4 rounded-full",onClick:F,children:"Comprar ahora"})]})]}),f.jsx("div",{className:"flex pt-2",children:f.jsxs(mt,{to:"#",className:"flex flex-col gap-1 flex-1 items-center justify-center",children:[f.jsx(t9,{size:30}),f.jsxs("p",{className:"flex flex-col items-center text-xs",children:[f.jsx("span",{className:"font-semibold",children:"¿Necesitas ayuda?"}),"Contáctanos aquí",f.jsx("span",{className:"text-cyan-600 font-semibold",children:"9812062582"})]})]})})]})]}),f.jsx(n9,{content:r.description})]})},l9=()=>{const[t,e]=E.useState(""),[n,r]=E.useState(""),{mutate:s,isPending:i}=hI(),{session:o,isLoading:a}=Uo(),l=c=>{c.preventDefault(),s({email:t,password:n})};return a?f.jsx(qn,{}):o?f.jsx(Nf,{to:"/"}):f.jsxs("div",{className:"h-full flex flex-col items-center mt-12 gap-5",children:[f.jsx("h1",{className:"text-4xl font-bold capitalize",children:"Iniciar sesión"}),f.jsx("p",{className:"text-sm font-medium",children:"¡Que bueno tenerte de vuelta!"}),i?f.jsx("div",{className:"w-full h-full flex justify-center mt-20",children:f.jsx(M0,{className:"animate-spin",size:60})}):f.jsxs(f.Fragment,{children:[f.jsxs("form",{className:"flex flex-col items-center gap-4 w-full mt-10 sm:w-[400px] lg:w-[500px]",onSubmit:l,children:[f.jsx("input",{type:"email",placeholder:"Ingresa tu correo electrónico",className:"border border-slate-200 text-black px-5 py-4 placeholder:text-black text-sm rounded-full w-full",value:t,onChange:c=>e(c.target.value)}),f.jsx("input",{type:"password",placeholder:"Ingresa tu contraseña",className:"border border-slate-200 text-black px-5 py-4 placeholder:text-black text-sm rounded-full w-full",value:n,onChange:c=>r(c.target.value)}),f.jsx("button",{className:"bg-black text-white uppercase font-semibold tracking-widest text-xs py-4 rounded-full mt-5 w-full",children:"Iniciar sesión"})]}),f.jsxs("p",{className:"text-sm text-stone-800",children:["¿No tienes una cuenta?",f.jsx(mt,{to:"/registro",className:"underline ml-2",children:"Regístrate"})]})]})]})},c9=()=>{const{register:t,handleSubmit:e,formState:{errors:n}}=F0({defaultValues:{fullName:"",email:"",password:"",phone:""},resolver:z0(x4)}),{mutate:r,isPending:s}=pI(),{session:i,isLoading:o}=Uo(),a=e(l=>{const{email:c,password:u,fullName:d,phone:h}=l;r({email:c,password:u,fullName:d,phone:h})});return o?f.jsx(qn,{}):i?f.jsx(Nf,{to:"/"}):f.jsxs("div",{className:"h-full flex flex-col items-center mt-12 gap-5",children:[f.jsx("h1",{className:"text-4xl font-bold capitalize",children:"Regístrate"}),f.jsx("p",{className:"text-sm font-medium",children:"Por favor, rellene los siguientes campos:"}),s?f.jsx("div",{className:"w-full h-full flex justify-center mt-20",children:f.jsx(M0,{className:"animate-spin",size:60})}):f.jsxs(f.Fragment,{children:[f.jsxs("form",{className:"flex flex-col items-center gap-4 w-full mt-10 sm:w-[400px] lg:w-[500px]",onSubmit:a,children:[f.jsx("input",{type:"text",placeholder:"Nombre Completo",className:"border border-slate-200 text-black px-5 py-4 placeholder:text-black text-sm rounded-full w-full",...t("fullName")}),n.fullName&&f.jsx("p",{className:"text-red-500",children:n.fullName.message}),f.jsx("input",{type:"text",placeholder:"Teléfono",className:"border border-slate-200 text-black px-5 py-4 placeholder:text-black text-sm rounded-full w-full",...t("phone")}),n.phone&&f.jsx("p",{className:"text-red-500",children:n.phone.message}),f.jsx("input",{type:"email",placeholder:"Ingresa tu correo electrónico",className:"border border-slate-200 text-black px-5 py-4 placeholder:text-black text-sm rounded-full w-full",...t("email")}),n.email&&f.jsx("p",{className:"text-red-500",children:n.email.message}),f.jsx("input",{type:"password",placeholder:"Ingresa tu contraseña",className:"border border-slate-200 text-black px-5 py-4 placeholder:text-black text-sm rounded-full w-full",...t("password")}),n.password&&f.jsx("p",{className:"text-red-500",children:n.password.message}),f.jsx("button",{className:"bg-black text-white uppercase font-semibold tracking-widest text-xs py-4 rounded-full mt-5 w-full",children:"Registrarme"})]}),f.jsxs("p",{className:"text-sm text-stone-800",children:["¿Ya tienes una cuenta?",f.jsx(mt,{to:"/login",className:"underline ml-2",children:"Inicia sesión"})]})]})]})},u9=["ID","Fecha","Estado","Total"],d9=({orders:t})=>{const e=Ft();return f.jsx("div",{className:"relative w-full h-full",children:f.jsxs("table",{className:"text-sm w-full caption-bottom overflow-auto",children:[f.jsx("thead",{className:"border-b border-gray-200 pb-3",children:f.jsx("tr",{className:"text-sm font-bold",children:u9.map((n,r)=>f.jsx("th",{className:"h-12 px-4 text-left",children:n},r))})}),f.jsx("tbody",{className:"[&_tr:last-child]:border-0",children:t.map(n=>f.jsxs("tr",{className:"cursor-pointer hover:bg-gray-100 transition-colors duration-200",onClick:()=>e(`/account/pedidos/${n.id}`),children:[f.jsx("td",{className:"p-4 font-medium tracking-tighter",children:n.id}),f.jsx("td",{className:"p-4 font-medium tracking-tighter",children:Eh(n.created_at)}),f.jsx("td",{className:"p-4 font-medium tracking-tighter",children:WM(n.status??"")}),f.jsx("td",{className:"p-4 font-medium tracking-tighter",children:Nt(n.total_amount)})]},n.id))})]})})},f9=()=>{const{data:t,isLoading:e}=vI();return e||!t?f.jsx(qn,{}):f.jsxs("div",{className:"flex flex-col gap-6 items-center",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsx("h1",{className:"text-3xl font-bold",children:"Pedidos"}),f.jsx("span",{className:"w-5 h-5 rounded-full bg-black text-white text-[11px] flex justify-center items-center mt-1",children:t.length})]}),t.length===0?f.jsxs(f.Fragment,{children:[f.jsx("p",{className:"text-slate-600 text-[13px]",children:"Todavía no has hecho ningún pedido"}),f.jsx(mt,{to:"/products",className:"bg-black text-white uppercase font-semibold tracking-widest text-xs py-4 rounded-full px-8",children:"Empezar a comprar"})]}):f.jsx(d9,{orders:t})]})},Zl=({register:t,errors:e,name:n,className:r,placeholder:s})=>f.jsxs(f.Fragment,{children:[f.jsx("div",{className:`border border-slate-200 rounded-md overflow-hidden py-2 ${e[n]&&"border-red-500"} ${r}`,children:f.jsx("input",{type:"text",className:"w-full px-3 py-1 text-sm focus:outline-none",placeholder:s,...t(n)})}),e[n]&&f.jsx("p",{className:"text-red-500 text-xs",children:e[n].message})]}),YE=()=>{const t=Fn(n=>n.items),e=Fn(n=>n.totalAmount);return f.jsxs("div",{children:[f.jsx("ul",{className:"space-y-5",children:t.map(n=>f.jsxs("li",{className:"flex justify-between items-center gap-5",children:[f.jsxs("div",{className:"flex relative border border-stone-300 bg-stone-200 rounded-md",children:[f.jsx("img",{src:n.image,alt:n.name,className:"w-20 h-20 object-contain"}),f.jsx("span",{className:"w-5 h-5 rounded-full bg-gray-500 text-white flex items-center justify-center text-xs absolute -right-1 -top-2 font-medium",children:n.quantity})]}),f.jsxs("div",{className:"flex-1 space-y-3",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("p",{className:"font-semibold",children:n.name}),f.jsx("p",{className:"text-sm font-medium text-gray-600 mt-1",children:Nt(n.price)})]}),f.jsx("div",{className:"flex gap-3",children:f.jsxs("p",{className:"text-[13px] text-gray-600",children:[n.target," / ",n.type," / ",n.kg," kg."]})})]})]},n.variantId))}),f.jsx("div",{className:"mt-4 p-7 space-y-5",children:f.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[f.jsx("p",{children:"Total:"}),f.jsx("p",{children:Nt(e)})]})})]})},h9=()=>{const{register:t,formState:{errors:e},handleSubmit:n}=F0({resolver:z0(b4)}),{mutate:r,isPending:s}=yI(),i=Fn(c=>c.cleanCart),o=Fn(c=>c.items),a=Fn(c=>c.totalAmount),l=n(c=>{const u={address:c,cartItems:o.map(d=>({variantId:d.variantId,quantity:d.quantity,price:d.price})),totalAmount:a};r(u,{onSuccess:()=>{i()}})});return s?f.jsxs("div",{className:"flex flex-col gap-3 h-screen items-center justify-center",children:[f.jsx(II,{className:"animate-spin h-10 w-10"}),f.jsx("p",{className:"text-sm font-medium",children:"Estamos procesando tu pedido"})]}):f.jsx("div",{children:f.jsxs("form",{className:"flex flex-col gap-6",onSubmit:l,children:[f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsx("h3",{className:"text-lg font-semibold tracking-normal",children:"Entrega"}),f.jsx(Zl,{register:t,errors:e,name:"addressLine1",placeholder:"Dirección principal"}),f.jsx(Zl,{register:t,errors:e,name:"addressLine2",placeholder:"Dirección adicional (Opcional)"}),f.jsx(Zl,{register:t,errors:e,name:"state",placeholder:"Estado / Provincia"}),f.jsx(Zl,{register:t,errors:e,name:"city",placeholder:"Ciudad"}),f.jsx(Zl,{register:t,errors:e,name:"postalCode",placeholder:"Código Postal"})]}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("div",{className:"flex justify-between items-center text-sm border border-slate-600 bg-stone-100 py-4 rounded-ss-md rounded-se-md px-6",children:f.jsx("span",{children:"Compra a traves de transferencia"})}),f.jsxs("div",{className:"bg-stone-100 text-[13px] p-5 space-y-0.5 border border-gray-200 rounded-es-md rounded-ee-md",children:[f.jsx("p",{children:"Banco Santander"}),f.jsx("p",{children:"Razón Social: Francisco Julián Gómez Cancino"}),f.jsx("p",{children:"RFC: GOCF630405PW0"}),f.jsx("p",{children:"Tipo de cuenta: Corriente"}),f.jsx("p",{children:"Número de cuenta: 014050605919441515"}),f.jsx("p",{children:"La información será compartida nuevamente una vez que se	haya finalizado la compra"})]})]}),f.jsxs("div",{className:"flex flex-col gap-6",children:[f.jsx("h3",{className:"font-semibold text-3xl",children:"Resumen del pedido"}),f.jsx(YE,{})]}),f.jsx("button",{type:"submit",className:"bg-black text-white py-3.5 font-bold tracking-wide rounded-md mt-2",children:"Finalizar Pedido"})]})})},p9=()=>{const t=Fn(r=>r.totalItemsInCart),{isLoading:e}=Uo(),n=Ft();return E.useEffect(()=>{ue.auth.onAuthStateChange(async(r,s)=>{(r==="SIGNED_OUT"||!s)&&n("/login")})},[n]),e?f.jsx(qn,{}):f.jsxs("div",{style:{minHeight:"calc(100vh - 100px"},children:[f.jsx("header",{className:"h-[100px] bg-white text-black flex items-center justify-center flex-col px-10 border-b border-slate-200",children:f.jsx(mt,{to:"/",className:"text-4xl font-bold self-center tracking-tighter transition-all md:text-5xl md:self-start",children:f.jsx("p",{children:f.jsx("img",{src:"/img/Baalak-logo-banner.png",alt:"Baalak"})})})}),f.jsx("main",{className:"w-full h-full flex relative",children:t===0?f.jsxs("div",{className:"flex flex-col items-center justify-center gap-5 w-full",style:{height:"calc(100vh - 100px)"},children:[f.jsx("p",{className:"text-sm font-medium tracking-tight",children:"Su carro esta vacío"}),f.jsx(mt,{to:"/products",className:"py-4 bg-black rounded-full text-white px-7 text-xs uppercase tracking-widest font-semibold",children:"Empezar a comprar"})]}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-full md:w-[50%] p-10",children:f.jsx(h9,{})}),f.jsx("div",{className:"bg-stone-100 w-[50%] sticky top-0 right-0 p-10 hidden md:block",style:{minHeight:"calc(100vh - 100px)"},children:f.jsx(YE,{})})]})})]})};function m9(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Circle_Check"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M15.81,10.4a.5.5,0,0,0-.71-.71l-3.56,3.56L9.81,11.52a.5.5,0,0,0-.71.71l2.08,2.08a.513.513,0,0,0,.71,0Z"},child:[]},{tag:"path",attr:{d:"M12,21.934A9.934,9.934,0,1,1,21.933,12,9.945,9.945,0,0,1,12,21.934ZM12,3.067A8.934,8.934,0,1,0,20.933,12,8.944,8.944,0,0,0,12,3.067Z"},child:[]}]}]}]})(t)}const g9=()=>{const{id:t}=Eu(),{data:e,isLoading:n,isError:r}=F_(Number(t)),{isLoading:s}=Uo(),i=Ft();return E.useEffect(()=>{ue.auth.onAuthStateChange(async(o,a)=>{(o==="SIGNED_OUT"||!a)&&i("/login")})},[i]),r?f.jsx("div",{children:"Error al cargar la orden"}):n||!e||s?f.jsx(qn,{}):f.jsxs("div",{className:"flex flex-col h-screen",children:[f.jsx("header",{className:"text-black flex items-center justify-center flex-col px-10 py-12",children:f.jsx(mt,{to:"/",className:"text-4xl font-bold self-center tracking-tighter transition-all md:text-5xl",children:f.jsx("p",{children:f.jsx("img",{src:"/img/Baalak-logo-banner.png",alt:"Baalak"})})})}),f.jsxs("main",{className:"container flex-1 flex flex-col items-center gap-10",children:[f.jsxs("div",{className:"flex gap-3 items-center",children:[f.jsx(m9,{size:40}),f.jsxs("p",{className:"text-4xl",children:["¡Gracias, ",e.customer.full_name,"!"]})]}),f.jsxs("div",{className:"border border-slate-200 w-full md:w-[600px] p-5 rounded-md space-y-3",children:[f.jsx("h3",{className:"font-medium",children:"Tu pedido está confirmado"}),f.jsx("p",{className:"text-sm",children:"Gracias por realizar tu compra en Baalak'."}),f.jsx("p",{className:"text-sm",children:"Para realizar la transferencia te compartimos los siguientes	datos"}),f.jsxs("div",{className:"space-y-0.5 text-sm",children:[f.jsx("p",{children:"Banco Santander"}),f.jsx("p",{children:"Razón Social: Francisco Julián Gómez Cancino"}),f.jsx("p",{children:"RFC: GOCF630405PW0"}),f.jsx("p",{children:"Tipo de cuenta: Corriente"}),f.jsx("p",{children:"Número de cuenta: 014050605919441515"})]}),f.jsx("p",{className:"text-sm",children:"Una vez realizada la transferencia, comparte tu comprobante con tu número de pedido por WhatsApp al 9812062582 para procesarla y hacerte la entrega de tu producto a domicilio."})]}),f.jsxs("div",{className:"border border-slate-200 w-full p-5 rounded-md space-y-3 md:w-[600px]",children:[f.jsx("h3",{className:"font-medium",children:"Detalles del pedido"}),f.jsxs("div",{className:"flex flex-col gap-5",children:["Pedido #",t,f.jsx("ul",{className:"space-y-3",children:e.orderItems.map((o,a)=>f.jsxs("li",{className:"flex justify-between items-center gap-3",children:[f.jsx("div",{className:"flex",children:f.jsx("img",{src:o.productImage,alt:o.productName,className:"w-16 h-16 object-contain"})}),f.jsxs("div",{className:"flex-1 space-y-2",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("p",{className:"font-semibold",children:o.productName}),f.jsx("p",{className:"text-sm font-medium text-gray-600 mt-1",children:Nt(o.price)})]}),f.jsx("div",{className:"flex gap-3",children:f.jsxs("p",{className:"text-[13px] text-gray-600",children:[o.target," / ",o.type," / ",o.kg," kg."]})})]})]},a))}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"font-semibold",children:"Total:"}),f.jsx("span",{className:"font-semibold",children:Nt(e.totalAmount)})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[f.jsxs("div",{className:"flex flex-col text-sm",children:[f.jsx("p",{className:"font-semibold",children:"Información de contacto:"}),f.jsx("p",{children:e.customer.email})]}),f.jsxs("div",{className:"flex flex-col text-sm",children:[f.jsx("p",{className:"font-semibold",children:"Métodos de pago:"}),f.jsxs("p",{children:["Transferencia - ",Nt(e.totalAmount)]})]}),f.jsxs("div",{className:"flex flex-col text-sm",children:[f.jsx("p",{className:"font-semibold",children:"Dirección de envío"}),f.jsx("p",{children:e.address.addressLine1}),f.jsx("p",{children:e.address.addressLine2&&e.address.addressLine2}),f.jsx("p",{children:e.address.city}),f.jsx("p",{children:e.address.state}),f.jsx("p",{children:e.address.postalCode})]}),f.jsxs("div",{className:"flex flex-col text-sm",children:[f.jsx("p",{className:"font-semibold",children:"Método de envío"}),f.jsx("p",{children:"Standard"})]})]})]}),f.jsxs("div",{className:"flex flex-col justify-between items-center w-full mb-5 gap-3 sm:flex-row md:w-[600px] md:gap-0",children:[f.jsx("p",{className:"text-sm",children:"¿Necesitas ayuda? Ponte en contacto con nosotros"}),f.jsx(mt,{to:"/products",className:"text-white bg-black py-4 text-sm rounded-md px-5 tracking-tight font-semibold",children:"Seguir comprando"})]})]})]})},y9=["Producto","Cantidad","Total"],v9=()=>{const{id:t}=Eu(),{data:e,isLoading:n}=F_(Number(t)),r=Ft();return n||!e?f.jsx(qn,{}):f.jsxs("div",{children:[f.jsxs("div",{className:"flex flex-col justify-between items-center gap-5 md:flex-row md:gap-0",children:[f.jsxs("button",{className:"border rounded-full py-2 border-slate-200 px-5 flex items-center justify-center gap-2 text-xs font-medium uppercase tracking-widest hover:bg-stone-100 transition-all",onClick:()=>r(-1),children:[f.jsx(A0,{size:16}),"Volver"]}),f.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[f.jsxs("h1",{className:"text-3xl font-bold",children:["Pedido #",t]}),f.jsx("p",{className:"text-sm",children:Eh(e.created_at)})]}),f.jsx("div",{}),f.jsx("div",{})]}),f.jsxs("div",{className:"flex flex-col mt-10 mb-5 gap-10",children:[f.jsxs("table",{className:"text-sm w-full caption-bottom overflow-auto",children:[f.jsx("thead",{children:f.jsx("tr",{children:y9.map((s,i)=>f.jsx("th",{className:"h-12 text-center uppercase tracking-wide text-stone-600 font-medium",children:s},i))})}),f.jsx("tbody",{children:e.orderItems.map((s,i)=>f.jsxs("tr",{className:"border-b border-gray-200",children:[f.jsxs("td",{className:"p-4 font-medium tracking-tighter flex gap-3 items-center",children:[f.jsx("img",{src:s.productImage,alt:s.productName,className:"h-20 w-20 object-contain rounded-lg"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("h3",{children:s.productName}),f.jsxs("p",{className:"text-xs",children:[s.target," / ",s.type," / ",s.kg," kg."]}),f.jsx("p",{className:"text-sm",children:Nt(s.price)})]})]}),f.jsx("td",{className:"p-4 font-medium tracking-tighter text-center",children:s.quantity}),f.jsx("td",{className:"p-4 font-medium tracking-tighter text-center",children:Nt(s.price*s.quantity)})]},i))})]}),f.jsxs("div",{className:"flex flex-col gap-3 text-slate-600 text-sm self-end w-1/2",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("p",{children:"Subtotal"}),f.jsx("p",{children:Nt(e.totalAmount)})]}),f.jsxs("div",{className:"flex justify-between text-black font-semibold",children:[f.jsx("p",{children:"Total"}),f.jsx("p",{children:Nt(e.totalAmount)})]})]}),f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsx("h2",{className:"text-lg font-bold",children:"Dirección"}),f.jsxs("div",{className:"border border-stone-300 p-5 flex flex-col gap-5",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsx("h3",{className:"font-medium",children:"Cliente:"}),f.jsx("p",{children:e.customer.full_name})]}),f.jsxs("div",{className:"flex flex-col gap-1 text-sm",children:[f.jsx("h3",{className:"font-medium text-base",children:"Envío:"}),f.jsx("p",{children:e.address.addressLine1}),f.jsx("p",{children:e.address.addressLine2&&e.address.addressLine2}),f.jsx("p",{children:e.address.city}),f.jsx("p",{children:e.address.state}),f.jsx("p",{children:e.address.postalCode})]})]})]})]})]})},x9=()=>f.jsxs("div",{className:"container mx-auto",children:[f.jsx("h1",{className:"text-3xl font-bold text-center my-4",children:"Aviso de privacidad"}),f.jsxs("div",{className:"p-5",children:[f.jsxs("p",{className:"text-base leading-loose text-gray-800",children:[f.jsx("strong",{children:"Última actualización:"})," 15 de mayo de 2025"]}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:f.jsx("span",{className:"text-base leading-normal mb-2",children:"EL PROVEEDOR del presente aviso manifiesta ser el propietario de este establecimiento con domicilio y denominación descrita en este documento, señala como domicilios para oír y recibir notificaciones en el domicilio antes citado, así como manifiesta ser EL RESPONSABLE DEL USO, PROTECCIÓN y MANEJO DEL TRATAMIENTO DE SUS DATOS PERSONALES, al respecto le informo que sus datos personales que recabamos de Usted referente a su EDAD, NOMBRE COMPLETO, SU CLAVE DEL RFC Y CURP, DOMICILIO FISCAL Y PERSONAL ACTUAL COMPLETO, CÓDIGO POSTAL, TELÉFONO DE CASA, TRABAJO, CELULAR, CORREO ELECTRÓNICO,  FACEBOOK, E INSTAGRAM, así como  LOS CONTENIDOS EN EL MATERIAL FOTOGRÁFICO, AUDIO Y VIDEO, DIAGRAMAS, GRÁFICOS, DIBUJOS O REPRESENTACIONES GRÁFICAS QUE TOMAMOS EN NUESTRAS INSTALACIONES DE LAS IMÁGENES de las personas y animales que ingresan y transitan por nuestras instalaciones, serán protegidos de conformidad a lo dispuesto por la Ley General de Protección de Datos Personales en Posesión de Sujetos Obligados, así como todos aquellos ordenamientos que resulten aplicables, y los utilizaremos para uno o más de los siguientes conceptos:"})}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:f.jsx("span",{className:"text-base leading-normal mb-2",children:"1.- Complementar los datos del propietario o poseedor en los contratos, convenios y formatos que usamos para prestar nuestros servicios que le brindamos y en el expediente de nuestros servicios para su animal."})}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:f.jsx("span",{className:"text-base leading-normal mb-2",children:"2.- Expedir sus notas y facturas por nuestros servicios. "})}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:f.jsx("span",{className:"text-base leading-normal mb-2",children:"3.- Para localizarlo de forma oportuna ante alguna emergencia que requiera de su presencia y autorización para la realizar estudio, aprobación de gastos e insumos para atender a su animal, uso de anestesia e intervenciones quirúrgicas en su ser vivo antes citado en caso de ser necesario para salvaguardar su vida."})}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:f.jsx("span",{className:"text-base leading-normal mb-2",children:" 4.- Informarle de forma oportuna el estado que guarda su orden de servicio que nos solicitó."})}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:f.jsx("span",{className:"text-base leading-normal mb-2",children:" 5.- Para usar el MATERIAL FOTOGRÁFICO, AUDIO Y VIDEO en la VIDEO SEGURIDAD de nuestro establecimiento, así como EN LA UTILIZACIÓN DE NUESTRA PUBLICIDAD por cualquier medio respecto a la prestación de nuestros servicios hacia Usted y su animal. "})}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:f.jsx("span",{className:"text-base leading-normal mb-2",children:"6.- Cualquier finalidad análoga o compatible con las anteriores."})}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:f.jsx("span",{className:"text-base leading-normal mb-2",children:"Le manifestamos que la información de sus datos personales que nos proporcione es necesaria para el servicio solicitado, la cual nos permite brindarle una mejor atención y seguridad, por lo que NO requerimos más datos personales adicionales de Usted. La negativa para el uso de sus datos personales para estas finalidades o la negativa a usar el MATERIAL FOTOGRÁFICO, AUDIO Y VIDEO en la VIDEO SEGURIDAD de nuestro establecimiento, así como EN LA UTILIZACIÓN DE NUESTRA PUBLICIDAD, NO es motivo para negarle nuestros los servicios y productos que solicita o contrata con nosotros, salvo las requeridas por la ley al respecto. La autorización para utilizar del MATERIAL FOTOGRÁFICO, AUDIO Y VIDEO en la VIDEO SEGURIDAD de nuestro establecimiento, así como EN LA UTILIZACIÓN DE NUESTRA PUBLICIDAD por cualquier medio respecto a la prestación de nuestros servicios hacia Usted y su animal, estará vigente hasta en tanto no presente por escrito solicitud de negativa a la captación, difusión y utilización de la imagen y voz antes referidas, la cual deberá ser presentada en nuestro domicilio. Para conocer más información de los términos y condiciones en que serán tratados sus datos personales, como los terceros con quienes compartimos su información personal y la forma en que podrá ejercer sus derechos ARCO, puede consultarnos en nuestro domicilio referido al final del presente aviso. Por todo lo antes explicado significa que ha leído, entendido y está de acuerdo con los términos antes expuestos, por lo que otorgo mi consentimiento para que mis datos personales sean tratados conforme a lo señalado en el presente aviso de privacidad y consiento la transmisión de mis datos personales en términos del presente aviso. Otorgando además al escrito de este aviso, autorización expresa para el Uso y difusión  promoción y publicidad de sus servicios en diversos medios de comunicación de mi Imagen y mi animal, para que sean utilizadas y difundidas, indefinidamente, sin restricción, ni contraprestación de ningún tipo, a título gratuito a favor del suscrito de este aviso, por cualquier medio impreso, fílmico e internet, tendiente a la difusión de nuestras actividades, programas y campañas, ya que la autorización antes citada, no me causa daños ni perjuicios morales, ni económicos, con la aparición y utilización de mi nombre o la de mi animal, nuestra imagen en video y/o fotografía y/o voz de mi persona o la de mi animal ya que  NO se lesiona en ningún momento nuestra imagen, fama, reputación o integridad."})}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:f.jsx("span",{className:"text-base leading-normal mb-2",children:"Al leer y no ejercer su posición por escrito a lo antes citado, bien entrar a nuestras instalaciones es sinónimo de haber aceptado a lo antes expresado y lo consideraremos como aceptado el presente Aviso de Privacidad y otorgada su autorización para todos los efectos señalados."})}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:f.jsx("span",{className:"text-base leading-normal mb-2",children:"De igual forma le informamos que no damos consentimiento alguno para que usted grabe de forma alguna ni voz, ni video en nuestras instalaciones de persona alguna o animales en atención a los derechos de personalidad de las personas y sus animales que se encuentren en nuestras instalaciones.    "})}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:f.jsx("strong",{children:f.jsx("span",{className:"text-base leading-normal mb-2",children:"ATENTAMENTE."})})}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:f.jsx("strong",{children:f.jsx("span",{className:"text-base leading-normal mb-2",children:"EL PROVEEDOR Propietario del Establecimiento."})})}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:f.jsx("strong",{children:f.jsx("span",{className:"text-base leading-normal mb-2",children:"M.V.Z. Francisco Julián Gómez Cancino."})})}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:f.jsx("strong",{children:f.jsx("span",{className:"text-base leading-normal mb-2",children:"Domicilio:"})})}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:f.jsx("strong",{children:f.jsx("span",{className:"text-base leading-normal mb-2",children:"Animalia-Baja California No. 402 Col. Petrolera, C.P. 96500. Coatzacoalcos, Ver."})})}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:f.jsx("strong",{children:f.jsx("span",{className:"text-base leading-normal mb-2",children:"Baalak- Av. Central No.33 Col Santa Ana, C.P. 24050. San Fco. De Campeche, Campeche."})})}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:f.jsx("span",{className:"text-base leading-normal mb-2",children:"*El presente aviso se expide y publica con fundamento en los Artículos 6o. y 16 de la Constitución Política de los Estados Unidos Mexicanos, Artículo 12 de la Declaración Universal de los Derechos Humanos, Artículo 17 del Pacto Internacional de Derechos Civiles y Políticos, Artículo 11 de la Convención Americana sobre Derechos Humanos “Pacto de San José”, Artículos 68 y 69 de la Ley General de Transparencia y Acceso a la Información Pública. 16, 113 y 117 de la Ley Federal de Transparencia y Acceso a la Información Pública, Artículos 3, fracciones II, III, X, XXXVII, XXXIII, 7, 18, 19, 20, 21, 22, 23, 26, 27, 28, 43, 47, 65 y demás de la Ley General de Protección de Datos Personales en Posesión de Sujetos Obligados, y demás disposiciones legales aplicables vigentes y demás artículos del Código Civil de la Entidad, así como en términos del artículo 87 de la Ley Federal del Derecho de Autor."})})]})]}),b9=()=>f.jsxs("div",{className:"container mx-auto",children:[f.jsx("h1",{className:"text-3xl font-bold text-center my-4",children:"Términos y condiciones"}),f.jsxs("div",{className:"p-5",children:[f.jsxs("p",{className:"text-base leading-loose text-gray-800",children:[f.jsx("strong",{children:"Última actualización:"})," 15 de mayo de 2025"]}),f.jsxs("p",{className:"text-base leading-loose text-gray-800",children:["Bienvenido a ",f.jsx("strong",{children:"Baalak'"}),". Al acceder y utilizar nuestro sitio web, aceptas los siguientes Términos y Condiciones. Te recomendamos leerlos cuidadosamente antes de utilizar nuestros servicios."]}),f.jsx("h2",{className:"text-2xl mt-5",children:"1. Información General"}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:"Baalak' es una tienda en línea ubicada en Campeche, México, dedicada a la venta de alimentos y productos relacionados para perros y gatos. Al utilizar nuestro sitio, aceptas cumplir con estos términos conforme a las leyes aplicables en México."}),f.jsx("h2",{className:"text-2xl mt-5",children:"2. Cuentas de Usuario"}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:"Para realizar compras o acceder a ciertos servicios, puedes crear una cuenta. Es tu responsabilidad mantener la confidencialidad de tu información de acceso. No compartas tu contraseña con terceros."}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:"Nos reservamos el derecho de suspender o eliminar cuentas que infrinjan estos términos, o que sean utilizadas de manera fraudulenta."}),f.jsx("h2",{className:"text-2xl mt-5",children:"3. Productos y Descripciones"}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:"Hacemos todo lo posible por mostrar descripciones, imágenes y precios precisos. Sin embargo, no garantizamos que toda la información esté libre de errores. Nos reservamos el derecho de modificar o descontinuar productos sin previo aviso."}),f.jsx("h2",{className:"text-2xl mt-5",children:"4. Pagos"}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:"Actualmente, Baalak' no cobra suscripciones ni pagos recurrentes. Los precios están expresados en pesos mexicanos e incluyen impuestos, a menos que se indique lo contrario."}),f.jsx("h2",{className:"text-2xl mt-5",children:"5. Envíos y Entregas"}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:"Ofrecemos entregas dentro de Campeche. Los tiempos de envío y tarifas se informarán al momento de la compra. No nos hacemos responsables por retrasos causados por terceros (paqueterías, clima, etc.)."}),f.jsx("h2",{className:"text-2xl mt-5",children:"6. Devoluciones y Cancelaciones"}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:"Por tratarse de productos alimenticios para mascotas, no se aceptan devoluciones por cambio de opinión. Solo se aceptarán devoluciones si el producto está dañado, defectuoso o mal empacado. Para solicitar una devolución, contáctanos dentro de las primeras 48 horas después de la entrega."}),f.jsx("h2",{className:"text-2xl mt-5",children:"7. Uso del Sitio"}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:"El usuario se compromete a utilizar este sitio únicamente con fines lícitos y de manera que no infrinja los derechos de terceros ni las leyes mexicanas."}),f.jsx("h2",{className:"text-2xl mt-5",children:"8. Propiedad Intelectual"}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:"Todo el contenido de este sitio (textos, imágenes, logotipos, etc.) es propiedad de Baalak' o se utiliza con permiso. Queda prohibido su uso sin autorización previa por escrito."}),f.jsx("h2",{className:"text-2xl mt-5",children:"9. Modificaciones"}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:"Nos reservamos el derecho de modificar estos Términos y Condiciones en cualquier momento. Cualquier cambio será publicado en esta página con su fecha de entrada en vigor."}),f.jsx("h2",{className:"text-2xl mt-5",children:"10. Contacto"}),f.jsx("p",{className:"text-base leading-loose text-gray-800",children:"Si tienes dudas sobre estos Términos y Condiciones, puedes contactarnos en:"}),f.jsxs("ul",{className:"list-disc ml-5",children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Correo electrónico:"})," [baalak.atencionaclientes@gmail.com]"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Teléfono:"})," [9812062582]"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Dirección:"})," Av. Central #33, San Francisco de Campeche, Campeche, México"]})]})]})]}),w9=()=>f.jsxs("div",{className:"relative bg-gray-900 text-white items-center",children:[f.jsx("div",{className:"absolute inset-0 bg-cover opacity-50 h-full",style:{backgroundImage:"url(/img/services/transport.png)"}}),f.jsx("div",{className:"absolute inset-0 bg-black opacity-50"}),f.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center py-20 px-4 text-center lg:py-20 lg:px-8",children:[f.jsx("h1",{className:"text-4xl font-bold mb-4 lg:text-4xl",children:"Servicio de transporte"}),f.jsx("p",{className:"text-lg mb-8 lg:text-2xl",children:f.jsx("strong",{children:"¿No puedes traerlo? Llámanos"})}),f.jsx("p",{className:"text-lg mb-8 lg:text-2xl",children:"Con nosotros tu mascota viajará cómoda y segura, vamos por ella a tu casa y te la regresamos feliz."})]}),f.jsx("div",{className:"relative z-10 flex flex-col items-center justify-center py-1 px-2 text-center lg:py-1 lg:px-4",children:f.jsx("button",{className:"rounded-full bg-[#2980b9] uppercase font-semibold p-1",children:f.jsx("a",{href:kl[2].href,target:"_blank",rel:"noreferrer",className:"text-slate-200 py-2 flex items-center justify-center transition-all hover:text-black",children:"Reserva tu cita"})})})]}),k9=()=>f.jsxs("div",{className:"relative bg-gray-900 text-white items-center",children:[f.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-50 h-full",style:{backgroundImage:"url(/img/services/medical.png)"}}),f.jsx("div",{className:"absolute inset-0 bg-black opacity-50"}),f.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center py-5 px-4 text-center lg:py-5 lg:px-8",children:[f.jsx("h1",{className:"text-4xl font-bold mb-4 lg:text-4xl",children:"Servico médico"}),f.jsx("h1",{className:"text-1xl font-bold mb-4 lg:text-2xl",children:"Consultas"}),f.jsx("p",{className:"text-lg mb-8 lg:text-2xl",children:"Nuestro sistema de medicina basada en evidencias, asegura un mayor éxito en los diagnósticos y tratamientos de los problema de salud de su mascota, logrando su recuperación en menor tiempo y con menos estrés."}),f.jsx("h1",{className:"text-1xl font-bold mb-4 lg:text-2xl",children:"Medicina preventiva"}),f.jsx("p",{className:"text-lg mb-8 lg:text-2xl",children:"Como eres un dueño atento y deseas lo mejor para tu mascota. Te animamos a programar un examen de bienestar para mascotas, así prevenimos los problemas antes de que surjan, asegurando una mayor salud y felicidad para su pequeñ@."}),f.jsx("h1",{className:"text-1xl font-bold mb-4 lg:text-2xl",children:"Cirugía y Hospitalización"}),f.jsx("p",{className:"text-lg mb-8 lg:text-2xl",children:"Cuando requieren cuidados médicos especializados o cirugías para recuperar su salud, nosotros nos encargamos de darle la mejor atención con el respeto y cariño que ellos requieren."})]}),f.jsx("div",{className:"relative z-10 flex flex-col items-center justify-center py-1 px-2 text-center lg:py-1 lg:px-4",children:f.jsx("button",{className:"rounded-full bg-[#2980b9] uppercase font-semibold p-1",children:f.jsx("a",{href:kl[2].href,target:"_blank",rel:"noreferrer",className:"text-slate-200 py-2 flex items-center justify-center transition-all hover:text-black",children:"Reserva tu cita"})})})]}),S9=()=>f.jsxs("div",{className:"relative bg-gray-900 text-white items-center",children:[f.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-50 h-full",style:{backgroundImage:"url(/img/services/lab.png)"}}),f.jsx("div",{className:"absolute inset-0 bg-black opacity-50"}),f.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center py-3 px-4 text-center lg:py-3 lg:px-8",children:[f.jsx("h1",{className:"text-4xl font-bold mb-4 lg:text-4xl",children:"Laboratorio"}),f.jsx("h1",{className:"text-1xl font-bold mb-4 lg:text-2xl",children:"Laboratorios de análisis clínicos"}),f.jsx("p",{className:"text-lg mb-8 lg:text-2xl",children:"Es importante realizar análisis clínicos con equipos de alta calidad para obtener resultados confiables que nos ayuden a dar el diagnóstico más preciso."}),f.jsxs("p",{className:"text-lg mb-8 lg:text-2xl",children:["Contamos con equipos de vanguardia, respaldados por laboratorios IDEXX.",f.jsx("a",{href:"https://al.idexx.com/es-xl/",target:"_blank",rel:"noreferrer",className:"text-slate-200 py-3.5 flex items-center justify-center transition-all hover:text-blue-500",children:"https://al.idexx.com/es-xl/"})]}),f.jsx("h1",{className:"text-1xl font-bold mb-4 lg:text-2xl",children:"Radiografia Digital"}),f.jsx("p",{className:"text-lg mb-8 lg:text-2xl",children:"La calidad en las radiografías es un factor determinante para obtener diagnósticos acertados, en Baalak´ contamos con un equipo digital que logra imágenes de alta calidad, de manera instantánea, con menos radiación y sin generar residuos tóxicos o contaminantes."}),f.jsx("h1",{className:"text-1xl font-bold mb-4 lg:text-2xl",children:"Terapia Láser"}),f.jsx("p",{className:"text-lg mb-8 lg:text-2xl",children:"El láser terapéutico ayuda a aliviar dolores, a recuperarse mas rápido de heridas, cirugías, infecciones, etc. Es una herramienta muy efectiva de rehabilitación, amigable y placentera para los pacientes."})]}),f.jsx("div",{className:"relative z-10 flex flex-col items-center justify-center py-1 px-2 text-center lg:py-1 lg:px-4",children:f.jsx("button",{className:"rounded-full bg-[#2980b9] uppercase font-semibold p-1",children:f.jsx("a",{href:kl[2].href,target:"_blank",rel:"noreferrer",className:"text-slate-200 py-2 flex items-center justify-center transition-all hover:text-black",children:"Reserva tu cita"})})})]}),_9=()=>f.jsxs("div",{className:"relative bg-gray-900 text-white items-center",children:[f.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-50 h-full",style:{backgroundImage:"url(/img/services/aesthetics.png)"}}),f.jsx("div",{className:"absolute inset-0 bg-black opacity-50"}),f.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center py-20 px-4 text-center lg:py-20 lg:px-8",children:[f.jsx("h1",{className:"text-4xl font-bold mb-4 lg:text-4xl",children:"Estética"}),f.jsx("h1",{className:"text-1xl font-bold mb-4 lg:text-2xl",children:"¡Tus pequeños limpios, guapos y sanos!"}),f.jsx("p",{className:"text-lg mb-8 lg:text-2xl",children:"Contamos con servicio de baño y corte de pelo para el cuidado higiénico y la presentación de tus pequeños."})]}),f.jsx("div",{className:"relative z-10 flex flex-col items-center justify-center py-1 px-2 text-center lg:py-1 lg:px-4",children:f.jsx("button",{className:"rounded-full bg-[#2980b9] uppercase font-semibold p-1",children:f.jsx("a",{href:kl[2].href,target:"_blank",rel:"noreferrer",className:"text-slate-200 py-2 flex items-center justify-center transition-all hover:text-black",children:"Reserva tu cita"})})})]}),C9=()=>f.jsxs("div",{className:"relative bg-gray-900 text-white items-center",children:[f.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-50 h-full",style:{backgroundImage:"url(/img/services/daycare.png)"}}),f.jsx("div",{className:"absolute inset-0 bg-black opacity-50"}),f.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center py-20 px-4 text-center lg:py-20 lg:px-8",children:[f.jsx("h1",{className:"text-4xl font-bold mb-4 lg:text-4xl",children:"Pensión"}),f.jsx("h1",{className:"text-1xl font-bold mb-4 lg:text-2xl",children:"Se queda en buenas manos"}),f.jsx("p",{className:"text-lg mb-8 lg:text-2xl",children:"Amplios alojamientos, programa de recreos durante el día, alimentación y cuidados personalizados según tus indicaciones, reportes diarios y todo lo que nos pidas para tu mejor amigo cuando tienes que salir de viaje o requieras que lo cuidemos."})]}),f.jsx("div",{className:"relative z-10 flex flex-col items-center justify-center py-1 px-2 text-center lg:py-1 lg:px-4",children:f.jsx("button",{className:"rounded-full bg-[#2980b9] uppercase font-semibold p-1",children:f.jsx("a",{href:kl[2].href,target:"_blank",rel:"noreferrer",className:"text-slate-200 py-2 flex items-center justify-center transition-all hover:text-black",children:"Reserva tu cita"})})})]}),E9=()=>f.jsxs("div",{className:"h-full flex flex-col gap-2",children:[f.jsxs(mt,{to:"/dashboard/productos/new",className:"bg-black text-white flex items-center self-end py-[6px] px-2 rounded-md text-sm gap-1 font-semibold hover:bg-cyan-600",children:[f.jsx(FI,{className:"inline-block"}),"Nuevo Producto"]}),f.jsx(qI,{})]}),N9=()=>f.jsx("div",{children:f.jsx(QE,{titleForm:"Agregar Producto"})}),T9=()=>f.jsx("div",{children:f.jsx(QE,{titleForm:"Editar Producto"})}),O9=()=>{const{data:t,isLoading:e}=xI();return e||!t?f.jsx(qn,{}):f.jsxs("div",{className:"space-y-5",children:[f.jsx("h1",{className:"text-2xl font-bold",children:"Órdenes"}),f.jsx(UI,{orders:t})]})},j9=["Producto","Cantidad","Total"],M9=()=>{const t=Ft(),{id:e}=Eu(),{data:n,isLoading:r}=wI(Number(e));return r||!n?f.jsx(qn,{}):f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("button",{className:"border rounded-full py-2 border-slate-200 px-5 flex items-center justify-center gap-2 text-xs font-medium uppercase tracking-widest hover:bg-stone-100 transition-all",onClick:()=>t(-1),children:[f.jsx(A0,{size:16}),"Volver"]}),f.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[f.jsxs("h1",{className:"text-3xl font-bold",children:["Pedido #",e]}),f.jsx("p",{className:"text-sm",children:Eh(n.created_at)})]}),f.jsx("div",{}),f.jsx("div",{})]}),f.jsxs("div",{className:"flex flex-col mt-10 mb-5 gap-10",children:[f.jsxs("table",{className:"text-sm w-full caption-bottom overflow-auto",children:[f.jsx("thead",{className:"border-b border-gray-200 pb-3",children:f.jsx("tr",{className:"text-sm font-bold",children:j9.map((s,i)=>f.jsx("th",{className:"h-12 px-4 text-left",children:s},i))})}),f.jsx("tbody",{className:"[&_tr:last-child]:border-0",children:n.orderItems.map((s,i)=>f.jsxs("tr",{className:"border-b border-gray-200",children:[f.jsxs("td",{className:"p-4 font-medium tracking-tighter flex gap-3 items-center",children:[f.jsx("img",{src:s.productImage,alt:s.productName,className:"h-20 w-20 object-contain rounded-lg"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("h3",{children:s.productName}),f.jsxs("p",{className:"text-xs",children:[s.target," / ",s.type," / ",s.kg," kg."]}),f.jsx("p",{className:"text-sm",children:Nt(s.price)})]})]}),f.jsx("td",{className:"p-4 font-medium tracking-tighter text-center",children:s.quantity}),f.jsx("td",{className:"p-4 font-medium tracking-tighter text-center",children:Nt(s.price*s.quantity)})]},i))})]}),f.jsxs("div",{className:"flex flex-col gap-3 text-slate-600 text-sm self-end w-1/2",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("p",{children:"Subtotal"}),f.jsx("p",{children:Nt(n.totalAmount)})]}),f.jsxs("div",{className:"flex justify-between text-black font-semibold",children:[f.jsx("p",{children:"Total"}),f.jsx("p",{children:Nt(n.totalAmount)})]})]}),f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsx("h2",{className:"text-lg font-bold",children:"Dirección"}),f.jsxs("div",{className:"border border-stone-300 p-5 flex flex-col gap-5",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsx("h3",{className:"font-medium",children:"Cliente:"}),f.jsx("p",{children:n.customer.full_name})]}),f.jsxs("div",{className:"flex flex-col gap-1 text-sm",children:[f.jsx("h3",{className:"font-medium text-base",children:"Envío:"}),f.jsx("p",{children:n.address.addressLine1}),f.jsx("p",{children:n.address.addressLine2&&n.address.addressLine2}),f.jsx("p",{children:n.address.city}),f.jsx("p",{children:n.address.state}),f.jsx("p",{children:n.address.postalCode})]})]})]})]})]})},P9=tj([{path:"/",element:f.jsx(RI,{}),children:[{index:!0,element:f.jsx(Zz,{})},{path:"products",element:f.jsx(Xz,{})},{path:"products/:slug",element:f.jsx(a9,{})},{path:"nosotros",element:f.jsx(e9,{})},{path:"aviso_de_privacidad",element:f.jsx(x9,{})},{path:"terminos_y_condiciones",element:f.jsx(b9,{})},{path:"login",element:f.jsx(l9,{})},{path:"registro",element:f.jsx(c9,{})},{path:"account",element:f.jsx(zI,{}),children:[{path:"",element:f.jsx(Nf,{to:"/account/pedidos"})},{path:"pedidos",element:f.jsx(f9,{})},{path:"pedidos/:id",element:f.jsx(v9,{})}]}]},{path:"/checkout",element:f.jsx(p9,{})},{path:"/checkout/:id/thank-you",element:f.jsx(g9,{})},{path:"/dashboard",element:f.jsx(Bz,{}),children:[{index:!0,element:f.jsx(Nf,{to:"/dashboard/productos"})},{path:"productos",element:f.jsx(E9,{})},{path:"productos/new",element:f.jsx(N9,{})},{path:"productos/editar/:slug",element:f.jsx(T9,{})},{path:"ordenes",element:f.jsx(O9,{})},{path:"ordenes/:id",element:f.jsx(M9,{})}]}]),A9=new PM;gS(document.getElementById("root")).render(f.jsx(E.StrictMode,{children:f.jsxs(FM,{client:A9,children:[f.jsx(cj,{router:P9}),f.jsx(cI,{})]})}));export{my as g};
